var Ext=Ext||{};
Ext.Boot=function(a){function b(a){if(a.$isRequest)return a;a=a.url?a:{url:a};var b=a.url,b=b.charAt?[b]:b,c=a.boot||p,d=a.charset||c.config.charset,e=("cache"in a?!a.cache:c.config.disableCaching)&&c.config.disableCachingParam+"\x3d"+(new Date).getTime();n(a,{urls:b,boot:c,charset:d,buster:e});n(this,a)}function c(a){if(a.$isEntry)return a;var b=a.boot||p,c=a.charset||b.config.charset,d=a.buster||("cache"in a?!a.cache:b.config.disableCaching)&&b.config.disableCachingParam+"\x3d"+(new Date).getTime();
n(a,{boot:b,charset:c,buster:d,requests:[]});n(this,a)}var d=document,e=function(a,b,c){c&&e(a,c);if(a&&b&&"object"==typeof b)for(var d in b)a[d]=b[d];return a},g={disableCaching:/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(d.cookie)?!1:!0,disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:void 0},h=/\.css(?:\?|$)/i,j=d.createElement("a"),k="undefined"!==typeof window,l={browser:k,node:!k&&"function"===typeof require,
phantom:"undefined"!==typeof phantom&&phantom.fs},m={},n=function(a,b,c){c&&n(a,c);if(a&&b&&"object"===typeof b)for(var d in b)a[d]=b[d];return a},p={loading:0,loaded:0,env:l,config:g,scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,debug:function(){},listeners:[],Request:b,Entry:c,platformTags:m,detectPlatformTags:function(){var a=navigator.userAgent,b=m.isMobile=/Mobile(\/|\s)/.test(a),c,d,g,h;c=document.createElement("div");d="iPhone;iPod;Android;Silk;Android 2;BlackBerry;BB;iPad;RIM Tablet OS;MSIE 10;Trident;Chrome;Tizen;Firefox;Safari;Windows Phone".split(";");
var j={};g=d.length;var k;for(k=0;k<g;k++)h=d[k],j[h]=RegExp(h).test(a);b=j.iPhone||j.iPod||!j.Silk&&j.Android&&(j["Android 2"]||b)||(j.BlackBerry||j.BB)&&j.isMobile||j["Windows Phone"];a=!m.isPhone&&(j.iPad||j.Android||j.Silk||j["RIM Tablet OS"]||j["MSIE 10"]&&/; Touch/.test(a));d="ontouchend"in c;!d&&(c.setAttribute&&c.removeAttribute)&&(c.setAttribute("ontouchend",""),d="function"===typeof c.ontouchend,"undefined"!==typeof c.ontouchend&&(c.ontouchend=void 0),c.removeAttribute("ontouchend"));d=
d||navigator.maxTouchPoints||navigator.msMaxTouchPoints;c=!b&&!a;g=j["MSIE 10"];h=j.Blackberry||j.BB;e(m,p.loadPlatformsParam(),{phone:b,tablet:a,desktop:c,touch:d,ios:j.iPad||j.iPhone||j.iPod,android:j.Android||j.Silk,blackberry:h,safari:j.Safari&&h,chrome:j.Chrome,ie10:g,windows:g||j.Trident,tizen:j.Tizen,firefox:j.Firefox})},loadPlatformsParam:function(){var a=window.location.search.substr(1).split("\x26"),b={},c,d,e;for(c=0;c<a.length;c++)d=a[c].split("\x3d"),b[d[0]]=d[1];if(b.platformTags){d=
b.platform.split(/\W/);a=d.length;for(c=0;c<a;c++)e=d[c].split(":")}return e},getPlatformTags:function(){return p.platformTags},filterPlatform:function(a){a=[].concat(a);var b=p.getPlatformTags(),c,d,e;c=a.length;for(d=0;d<c;d++)if(e=a[d],b.hasOwnProperty(e))return!!b[e];return!1},init:function(){var a=d.getElementsByTagName("script"),b=a.length,e=/\/ext(\-[a-z\-]+)?\.js$/,g,h,j,k,l,m;for(m=0;m<b;m++)if(h=(g=a[m]).src)j=g.readyState||null,!k&&e.test(h)&&(this.hasReadyState="readyState"in g,this.hasAsync=
"async"in g||!this.hasReadyState,k=h),this.scripts[l=this.canonicalUrl(h)]||new c({key:l,url:h,done:null===j||"loaded"===j||"complete"===j,el:g,prop:"src"});k||(g=a[a.length-1],k=g.src,this.hasReadyState="readyState"in g,this.hasAsync="async"in g||!this.hasReadyState);this.baseUrl=k.substring(0,k.lastIndexOf("/")+1);this.origin=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");this.detectPlatformTags();Ext.filterPlatform=
this.filterPlatform},canonicalUrl:function(a){j.href=a;a=j.href;var b=g.disableCachingParam,b=b?a.indexOf(b+"\x3d"):-1,c,d;if(0<b&&("?"===(c=a.charAt(b-1))||"\x26"===c)){d=a.indexOf("\x26",b);if((d=0>d?"":a.substring(d))&&"?"===c)++b,d=d.substring(1);a=a.substring(0,b-1)+d}return a},getConfig:function(a){return a?this.config[a]:this.config},setConfig:function(a,b){if("string"===typeof a)this.config[a]=b;else for(var c in a)this.setConfig(c,a[c]);return this},getHead:function(){return this.docHead||
(this.docHead=d.head||d.getElementsByTagName("head")[0])},create:function(a,b,d){d=d||{};d.url=a;d.key=b;return this.scripts[b]=new c(d)},getEntry:function(a,b){var c=this.canonicalUrl(a),d=this.scripts[c];d||(d=this.create(a,c,b));return d},processRequest:function(a,b){a.loadEntries(b)},load:function(a){a=new b(a);if(a.sync||this.syncMode)return this.loadSync(a);this.currentRequest?(a.getEntries(),this.suspendedQueue.push(a)):(this.currentRequest=a,this.processRequest(a,!1));return this},loadSync:function(a){a=
new b(a);this.syncMode++;this.processRequest(a,!0);this.syncMode--;return this},loadBasePrefix:function(a){a=new b(a);a.prependBaseUrl=!0;return this.load(a)},loadSyncBasePrefix:function(a){a=new b(a);a.prependBaseUrl=!0;return this.loadSync(a)},requestComplete:function(a){if(this.currentRequest===a)for(this.currentRequest=null;0<this.suspendedQueue.length;)if(a=this.suspendedQueue.shift(),!a.done){this.load(a);break}!this.currentRequest&&0==this.suspendedQueue.length&&this.fireListeners()},isLoading:function(){return!this.currentRequest&&
0==this.suspendedQueue.length},fireListeners:function(){for(var a;this.isLoading()&&(a=this.listeners.shift());)a()},onBootReady:function(a){this.isLoading()?this.listeners.push(a):a()},getPathsFromIndexes:function(a,c){return b.prototype.getPathsFromIndexes(a,c)},createLoadOrderMap:function(a){return b.prototype.createLoadOrderMap(a)},fetchSync:function(a){var b,c;b=!1;c=new XMLHttpRequest;try{c.open("GET",a,!1),c.send(null)}catch(d){b=!0}return{content:c.responseText,exception:b,status:1223===c.status?
204:0===c.status&&("file:"===(self.location||{}).protocol||"ionp:"===(self.location||{}).protocol)?200:c.status}},notifyAll:function(a){a.notifyRequests()}};b.prototype={$isRequest:!0,createLoadOrderMap:function(a){var b=a.length,c={},d,e;for(d=0;d<b;d++)e=a[d],c[e.path]=e;return c},getLoadIndexes:function(a,b,c,d,e){var g=c[a],h,j,k,l,m;if(b[a])return b;b[a]=!0;for(a=!1;!a;){k=!1;for(l in b)if(b.hasOwnProperty(l)&&(g=c[l]))if(j=this.prepareUrl(g.path),j=p.getEntry(j),!e||!j||!j.done){j=g.requires;
d&&g.uses&&(j=j.concat(g.uses));g=j.length;for(h=0;h<g;h++)m=j[h],b[m]||(k=b[m]=!0)}k||(a=!0)}return b},getPathsFromIndexes:function(a,b){var c=[],d=[],e,g;for(e in a)a.hasOwnProperty(e)&&a[e]&&c.push(e);c.sort(function(a,b){return a-b});e=c.length;for(g=0;g<e;g++)d.push(b[c[g]].path);return d},expandUrl:function(a,b,c,d){"string"==typeof a&&(a=[a]);var e=this.loadOrder,g=this.loadOrderMap;if(e){this.loadOrderMap=g=g||this.createLoadOrderMap(e);b=b||{};var h=a.length,j=[],k,l;for(k=0;k<h;k++)(l=g[a[k]])?
this.getLoadIndexes(l.idx,b,e,c,d):j.push(a[k]);return this.getPathsFromIndexes(b,e).concat(j)}return a},expandUrls:function(a,b){"string"==typeof a&&(a=[a]);var c=[],d={},e,g=a.length,h,j,k,l;for(h=0;h<g;h++){e=this.expandUrl(a[h],{},b,!0);j=0;for(k=e.length;j<k;j++)l=e[j],d[l]||(d[l]=!0,c.push(l))}0==c.length&&(c=a);return c},expandLoadOrder:function(){var a=this.urls,b;this.expanded?b=a:(b=this.expandUrls(a),this.expanded=!0);this.urls=b;a.length!=b.length&&(this.sequential=!0);return this},getUrls:function(){this.expandLoadOrder();
return this.urls},prepareUrl:function(a){return this.prependBaseUrl?p.baseUrl+a:a},getEntries:function(){var a=this.entries,b,c,d;if(!a){a=[];d=this.getUrls();for(b=0;b<d.length;b++)c=this.prepareUrl(d[b]),c=p.getEntry(c,{buster:this.buster,charset:this.charset}),c.requests.push(this),a.push(c);this.entries=a}return a},loadEntries:function(a){var b=this,c=b.getEntries(),d=c.length,e=b.loadStart||0,g,h;void 0!==a&&(b.sync=a);b.loaded=b.loaded||0;b.loading=b.loading||d;for(h=e;h<d;h++)if(g=c[h],e=g.loaded?
!0:c[h].load(b.sync),!e){b.loadStart=h;g.onDone(function(){b.loadEntries(a)});break}b.processLoadedEntries()},processLoadedEntries:function(){var a=this.getEntries(),b=a.length,c=this.startIndex||0,d;if(!this.done){for(;c<b;c++){d=a[c];if(!d.loaded){this.startIndex=c;return}d.evaluated||d.evaluate();d.error&&(this.error=!0)}this.notify()}},notify:function(){var a=this;if(!a.done){var b=a.error,c=a[b?"failure":"success"],b="delay"in a?a.delay:b?1:p.config.chainDelay,d=a.scope||a;a.done=!0;c&&(0===
b||0<b?setTimeout(function(){c.call(d,a)},b):c.call(d,a));a.fireListeners();p.requestComplete(a)}},onDone:function(a){var b=this.listeners||(this.listeners=[]);this.done?a(this):b.push(a)},fireListeners:function(){var a=this.listeners,b;if(a)for(;b=a.shift();)b(this)}};c.prototype={$isEntry:!0,done:!1,evaluated:!1,loaded:!1,isCrossDomain:function(){void 0===this.crossDomain&&(this.getLoadUrl(),this.crossDomain=0!==this.getLoadUrl().indexOf(p.origin));return this.crossDomain},isCss:function(){void 0===
this.css&&(this.css=this.url&&h.test(this.url));return this.css},getElement:function(a){var b=this.el;b||(this.isCss()?(a=a||"link",b=d.createElement(a),"link"==a?(b.rel="stylesheet",this.prop="href"):this.prop="textContent",b.type="text/css"):(b=d.createElement(a||"script"),b.type="text/javascript",this.prop="src",p.hasAsync&&(b.async=!1)),this.el=b);return b},getLoadUrl:function(){var a=p.canonicalUrl(this.url);this.loadUrl||(this.loadUrl=this.buster?a+(-1===a.indexOf("?")?"?":"\x26")+this.buster:
a);return this.loadUrl},fetch:function(a){var b=this.getLoadUrl(),c=!!a.async,d=new XMLHttpRequest,e=a.complete,g,h,j=!1;a=function(){d&&4==d.readyState&&(e&&(g=1223===d.status?204:0===d.status&&("file:"===(self.location||{}).protocol||"ionp:"===(self.location||{}).protocol)?200:d.status,h=d.responseText,e({content:h,status:g,exception:j})),d=null)};if(c=!!c)d.onreadystatechange=a;try{d.open("GET",b,c),d.send(null)}catch(k){j=k,a()}c||a()},onContentLoaded:function(a){var b=a.status,c=a.content;a=
a.exception;var d=this.getLoadUrl();this.loaded=!0;(a||0===b)&&!l.phantom?(this.error="Failed loading synchronously via XHR: '"+d+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||!0,this.evaluated=!0):200<=b&&300>b||304===b||l.phantom||0===b&&0<c.length?this.content=c:(this.error="Failed loading synchronously via XHR: '"+d+"'. Please verify that the file exists. XHR status code: "+
b||!0,this.evaluated=!0)},createLoadElement:function(a){var b=this,c=b.getElement();b.preserve=!0;c.onerror=function(){b.error=!0;a&&a()};p.hasReadyState?c.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&a&&a()}:c.onload=a;c[b.prop]=b.getLoadUrl()},onLoadElementReady:function(){p.getHead().appendChild(this.getElement());this.evaluated=!0},inject:function(a){var b=p.getHead(),c=this.url,e=this.key,g,h;this.isCss()?(this.preserve=!0,h=e.substring(0,e.lastIndexOf("/")+
1),g=d.createElement("base"),g.href=h,b.firstChild?b.insertBefore(g,b.firstChild):b.appendChild(g),g.href=g.href,c&&(a+="\n/*# sourceURL\x3d"+e+" */"),c=this.getElement("style"),e="styleSheet"in c,b.appendChild(g),e?(b.appendChild(c),c.styleSheet.cssText=a):(c.textContent=a,b.appendChild(c)),b.removeChild(g)):(c&&(a+="\n//# sourceURL\x3d"+e),Ext.globalEval(a));return this},loadCrossDomain:function(){var a=this,b=function(){a.loaded=a.evaluated=a.done=!0;a.notifyRequests()};if(a.isCss())a.createLoadElement(),
a.evaluateLoadElement(),b();else return a.createLoadElement(function(){b()}),a.evaluateLoadElement(),!1;return!0},loadSync:function(){var a=this;a.fetch({async:!1,complete:function(b){a.onContentLoaded(b)}});a.evaluate();a.notifyRequests()},load:function(a){var b=this;if(!b.loaded){if(b.loading)return!1;b.loading=!0;if(a)b.loadSync();else{if(b.isCrossDomain())return b.loadCrossDomain();!b.isCss()&&p.hasReadyState?b.createLoadElement(function(){b.loaded=!0;b.notifyRequests()}):b.fetch({async:!a,complete:function(a){b.onContentLoaded(a);
b.notifyRequests()}})}}return!0},evaluateContent:function(){this.inject(this.content);this.content=null},evaluateLoadElement:function(){p.getHead().appendChild(this.getElement())},evaluate:function(){!this.evaluated&&!this.evaluating&&(this.evaluating=!0,void 0!==this.content?this.evaluateContent():this.error||this.evaluateLoadElement(),this.evaluated=this.done=!0,this.cleanup())},cleanup:function(){var b=this.el,c;if(b){if(!this.preserve)for(c in this.el=null,b.parentNode.removeChild(b),b)try{c!==
this.prop&&(b[c]=null),delete b[c]}catch(d){}b.onload=b.onerror=b.onreadystatechange=a}},notifyRequests:function(){var a=this.requests,b=a.length,c,d;for(c=0;c<b;c++)d=a[c],d.processLoadedEntries();this.done&&this.fireListeners()},onDone:function(a){var b=this.listeners||(this.listeners=[]);this.done?a(this):b.push(a)},fireListeners:function(){var a=this.listeners,b;if(a&&0<a.length)for(;b=a.shift();)b(this)}};Ext.disableCacheBuster=function(a,b){var c=new Date;c.setTime(c.getTime()+864E5*(a?3650:
-1));c=c.toGMTString();d.cookie="ext-cache\x3d1; expires\x3d"+c+"; path\x3d"+(b||"/")};l.node&&(p.prototype.load=p.prototype.loadSync=function(){require(filePath);onLoad.call(scope)},p.prototype.init=a);p.init();return p}(function(){});Ext.globalEval=Ext.globalEval||(this.execScript?function(a){execScript(a)}:function(a){eval.call(window,a)});
Function.prototype.bind||function(){var a=Array.prototype.slice,b=function(b){var d=a.call(arguments,1),e=this;if(d.length)return function(){var g=arguments;return e.apply(b,g.length?d.concat(a.call(g)):d)};d=null;return function(){return e.apply(b,arguments)}};Function.prototype.bind=b;b.$extjs=!0}();Ext=Ext||{};Ext._startTime=Date.now?Date.now():+new Date;
(function(){var a=this,b=Object.prototype.toString,c=["valueOf","toLocaleString","toString","constructor"],d=function(){},e=function(){},g=function(a){return a},h=function(){var a=h.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},j=Ext.manifest||{},k,l=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,m=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=a;d.$nullFn=g.$nullFn=d.$emptyFn=g.$identityFn=e.$nullFn=!0;e.$privacy="framework";
Ext.suspendLayouts=Ext.resumeLayouts=d;for(k in{toString:1})c=null;Ext.enumerables=c;Ext.apply=function(a,b,d){d&&Ext.apply(a,d);if(a&&b&&"object"===typeof b){for(var e in b)a[e]=b[e];if(c)for(d=c.length;d--;)e=c[d],b.hasOwnProperty(e)&&(a[e]=b[e])}return a};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",
privateFn:e,emptyFn:d,identityFn:g,frameStartTime:+new Date,manifest:j,debugConfig:Ext.debugConfig||j.debug||{hooks:{"*":!0}},validIdRe:/^[a-z_][a-z0-9\-_]*$/i,makeIdSelector:function(a){Ext.validIdRe.test(a)||Ext.Error.raise('Invalid id selector: "'+a+'"');return"#"+a},id:function(a,b){if(a&&a.id)return a.id;var c=(b||Ext.idPrefix)+ ++Ext.idSeed;a&&(a.id=c);return c},returnId:function(a){return a.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,
$eventNameMap:{},applyIf:function(a,b){var c;if(a)for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},now:a.performance&&a.performance.now?function(){return performance.now()}:Date.now||(Date.now=function(){return+new Date}),destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++)(c=arguments[b])&&(Ext.isArray(c)?this.destroy.apply(this,c):Ext.isFunction(c.destroy)&&c.destroy());return null},destroyMembers:function(a){for(var b,c,d=1,e=arguments,g=e.length;d<g;d++)b=a[c=e[d]],null!=b&&(a[c]=Ext.destroy(b))},
override:function(a,b){if(a.$isClass)a.override(b);else if("function"==typeof a)Ext.apply(a.prototype,b);else{var c=a.self,d,e;if(c&&c.$isClass)for(d in b)b.hasOwnProperty(d)&&(e=b[d],"function"===typeof e&&(c.$className&&(e.displayName=c.$className+"#"+d),e.$name=d,e.$owner=c,e.$previous=a.hasOwnProperty(d)?a[d]:h),a[d]=e);else Ext.apply(a,b)}return a},valueFrom:function(a,b,c){return Ext.isEmpty(a,c)?b:a},isEmpty:function(a,b){return null==a||(!b?""===a:!1)||Ext.isArray(a)&&0===a.length},isArray:"isArray"in
Array?Array.isArray:function(a){return"[object Array]"===b.call(a)},isDate:function(a){return"[object Date]"===b.call(a)},isMSDate:function(a){return!Ext.isString(a)?!1:m.test(a)},isObject:"[object Object]"===b.call(null)?function(a){return null!==a&&void 0!==a&&"[object Object]"===b.call(a)&&void 0===a.ownerDocument}:function(a){return"[object Object]"===b.call(a)},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){a=typeof a;return"string"===a||
"number"===a||"boolean"===a},isFunction:"undefined"!==typeof document&&"function"===typeof document.getElementsByTagName("body")?function(a){return!!a&&"[object Function]"===b.call(a)}:function(a){return!!a&&"function"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return"string"===typeof a},isBoolean:function(a){return"boolean"===typeof a},isElement:function(a){return a?1===a.nodeType:!1},
isTextNode:function(a){return a?"#text"===a.nodeName:!1},isDefined:function(a){return"undefined"!==typeof a},isIterable:function(a){return!a||"number"!==typeof a.length||"string"===typeof a||Ext.isFunction(a)?!1:!a.propertyIsEnumerable?!!a.item:a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")?!0:l.test(b.call(a))},isDebugEnabled:function(a,b){var c=Ext.debugConfig.hooks;if(c.hasOwnProperty(a))return c[a];var d=c["*"],e=0;void 0!==b&&(d=b);if(!a)return d;for(var g in c){var h=c[g];"."===
a.charAt(g.length)&&(a.substring(0,g.length)===g&&e<g.length)&&(e=g.length,d=h)}return d}||d,clone:function(a){if(null===a||void 0===a)return a;if(a.nodeType&&a.cloneNode)return a.cloneNode(!0);var d=b.call(a),e,g;if("[object Date]"===d)return new Date(a.getTime());if("[object Array]"===d){d=a.length;for(g=[];d--;)g[d]=Ext.clone(a[d])}else if("[object Object]"===d&&a.constructor===Object){g={};for(e in a)g[e]=Ext.clone(a[e]);if(c)for(d=c.length;d--;)e=c[d],a.hasOwnProperty(e)&&(g[e]=a[e])}return g||
a},getUniqueGlobalNamespace:function(){var b=this.uniqueGlobalNamespace,c;if(void 0===b){c=0;do b="ExtBox"+ ++c;while(void 0!==a[b]);a[b]=Ext;this.uniqueGlobalNamespace=b}return b},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=Array.prototype.slice.call(arguments),b=this.functionFactoryCache,c,d;Ext.isSandboxed&&(c=a.length,0<c&&(c--,a[c]="var Ext\x3dwindow."+Ext.name+";"+a[c]));c=a.join("");d=b[c];d||(d=Function.prototype.constructor.apply(Function.prototype,a),b[c]=d);return d},
functionFactory:function(){var a=Array.prototype.slice.call(arguments),b;Ext.isSandboxed&&(b=a.length,0<b&&(b--,a[b]="var Ext\x3dwindow."+Ext.name+";"+a[b]));return Function.prototype.constructor.apply(Function.prototype,a)},Logger:{log:function(b,c){if(b&&a.console){if(!c||!(c in a.console))c="log";b="["+c.toUpperCase()+"] "+b;a.console[c](b)}},verbose:function(a){this.log(a,"verbose")},info:function(a){this.log(a,"info")},warn:function(a){this.log(a,"warn")},error:function(a){throw Error(a);},deprecate:function(a){this.log(a,
"warn")}},getElementById:function(a){return document.getElementById(a)},splitAndUnescape:function(){var a={};return function(b,c){if(b){if(!c)return[b]}else return[];var d=a[c]||(a[c]=RegExp("\\\\"+c,"g")),e=[],g,h;for(g=b.split(c);void 0!==(h=g.shift());){for(;"\\"===h.charAt(h.length-1)&&0<g.length;)h=h+c+g.shift();h=h.replace(d,c);e.push(h)}return e}}()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0})();
(function(){function a(){var a=this.sourceClass,c=this.sourceMethod,d=this.msg;c&&(c=d?c+"(): "+d:c+"()");a&&(c=c?a+"."+c:a);return c||d||""}Ext.Error=function(b){Ext.isString(b)&&(b={msg:b});var c=Error();Ext.apply(c,b);c.message=c.message||c.msg;c.toString=a;return c};Ext.apply(Ext.Error,{ignore:!1,raise:function(b){b=b||{};Ext.isString(b)&&(b={msg:b});var c=this.raise.caller,d;if(c){if(!b.sourceMethod&&(d=c.$name))b.sourceMethod=d;if(!b.sourceClass&&(d=c.$owner)&&(d=d.$className))b.sourceClass=
d}if(!0!==this.handle(b))throw c=a.call(b),Ext.log({msg:c,level:"error",dump:b,stack:!0}),new Ext.Error(b);},handle:function(){return this.ignore}})})();Ext.deprecated=function(a){function b(){Ext.Error.raise('The method "'+b.$owner.$className+"."+b.$name+'" has been removed. '+a)}a||(a="");return b};
(function(){if("undefined"!==typeof window){var a=0;setInterval(function(){var b=Ext.log&&Ext.log.counters,c=b&&b.error+b.warn+b.info+b.log,d;c&&a!==c&&(d=[],b.error&&d.push("Errors: "+b.error),b.warn&&d.push("Warnings: "+b.warn),b.info&&d.push("Info: "+b.info),b.log&&d.push("Log: "+b.log),window.status="*** "+d.join(" -- "),a=c)},1E3)}})();
Ext.Array=new function(){var a=Array.prototype,b=a.slice,c;var d=[],e;e=20;if(d.splice){for(;e--;)d.push("A");d.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");e=d.length;d.splice(13,0,"XXX");c=e+1!==d.length?!1:!0}else c=!1;var d="indexOf"in a,g=!0;try{"undefined"!==typeof document&&b.call(document.getElementsByTagName("body"))}catch(h){g=!1}var j=function(a,b){return 0>b?Math.max(0,a.length+b):Math.min(a.length,b)},k=function(a,b,c,d){var e=d?d.length:
0,g=a.length;b=j(a,b);if(b===g)e&&a.push.apply(a,d);else{var h=Math.min(c,g-b);c=b+h;var k=c+e-h,l=g-c,g=g-h;if(k<c)for(h=0;h<l;++h)a[k+h]=a[c+h];else if(k>c)for(h=l;h--;)a[k+h]=a[c+h];if(e&&b===g)a.length=g,a.push.apply(a,d);else{a.length=g+e;for(h=0;h<e;++h)a[b+h]=d[h]}}return a},l=function(a,b,c,d){d&&d.length?0===b&&!c?a.unshift.apply(a,d):b<a.length?a.splice.apply(a,[b,c].concat(d)):a.push.apply(a,d):a.splice(b,c);return a},m=function(a,b,c){return k(a,b,c)},n=function(a,b,c){a.splice(b,c);return a};
e=function(a,c,d){var e=j(a,c),g=a.slice(c,j(a,e+d));4>arguments.length?k(a,e,d):k(a,e,d,b.call(arguments,3));return g};var p=function(a){return a.splice.apply(a,b.call(arguments,1))},q=c?n:m,r=c?l:k;c=c?p:e;var s={binarySearch:function(a,b,c,d,e){var g=a.length,h;c instanceof Function?(e=c,c=0,d=g):d instanceof Function?(e=d,d=g):(void 0===c&&(c=0),void 0===d&&(d=g),e=e||s.lexicalCompare);for(--d;c<=d;)g=c+d>>1,h=e(b,a[g]),0<=h?c=g+1:0>h&&(d=g-1);return c},defaultCompare:function(a,b){return a<b?
-1:a>b?1:0},lexicalCompare:function(a,b){a=String(a);b=String(b);return a<b?-1:a>b?1:0},each:function(a,b,c,d){a=s.from(a);var e=a.length;if(!0!==d)for(d=0;d<e;d++){if(!1===b.call(c||a[d],a[d],d,a))return d}else for(d=e-1;-1<d;d--)if(!1===b.call(c||a[d],a[d],d,a))return d;return!0},forEach:"forEach"in a?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a)},indexOf:d?function(b,c,d){return a.indexOf.call(b,c,d)}:function(a,b,c){var d=a.length;for(c=
0>c?Math.max(0,d+c):c||0;c<d;c++)if(a[c]===b)return c;return-1},contains:d?function(b,c){return-1!==a.indexOf.call(b,c)}:function(a,b){var c,d;c=0;for(d=a.length;c<d;c++)if(a[c]===b)return!0;return!1},toArray:function(a,c,d){if(!a||!a.length)return[];"string"===typeof a&&(a=a.split(""));if(g)return b.call(a,c||0,d||a.length);var e=[];d=d?0>d?a.length+d:d:a.length;for(c=c||0;c<d;c++)e.push(a[c]);return e},pluck:function(a,b){var c=[],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],c.push(g[b]);return c},map:"map"in
a?function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.map must have a callback function passed as second argument.");return a.map(b,c)}:function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.map must have a callback function passed as second argument.");for(var d=[],e=0,g=a.length;e<g;e++)d[e]=b.call(c,a[e],e,a);return d},every:"every"in a?function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.every must have a callback function passed as second argument.");return a.every(b,c)}:function(a,b,c){Ext.Assert.isFunction(b,
"Ext.Array.every must have a callback function passed as second argument.");for(var d=0,e=a.length;d<e;++d)if(!b.call(c,a[d],d,a))return!1;return!0},some:"some"in a?function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.some must have a callback function passed as second argument.");return a.some(b,c)}:function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.some must have a callback function passed as second argument.");for(var d=0,e=a.length;d<e;++d)if(b.call(c,a[d],d,a))return!0;return!1},equals:function(a,
b){var c=a.length,d;if(a===b)return!0;if(c!==b.length)return!1;for(d=0;d<c;++d)if(a[d]!==b[d])return!1;return!0},clean:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],Ext.isEmpty(e)||b.push(e);return b},unique:function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)e=a[c],-1===s.indexOf(b,e)&&b.push(e);return b},filter:"filter"in a?function(a,b,c){Ext.Assert.isFunction(b,"Ext.Array.filter must have a filter function passed as second argument.");return a.filter(b,c)}:function(a,b,c){Ext.Assert.isFunction(b,
"Ext.Array.filter must have a filter function passed as second argument.");for(var d=[],e=0,g=a.length;e<g;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d},findBy:function(a,b,c){for(var d=0,e=a.length;d<e;d++)if(b.call(c||a,a[d],d))return a[d];return null},from:function(a,c){if(void 0===a||null===a)return[];if(Ext.isArray(a))return c?b.call(a):a;var d=typeof a;return a&&void 0!==a.length&&"string"!==d&&("function"!==d||!a.apply)?s.toArray(a):[a]},remove:function(a,b){var c=s.indexOf(a,b);-1!==c&&q(a,
c,1);return a},include:function(a,b){s.contains(a,b)||a.push(b)},clone:function(a){return b.call(a)},merge:function(){var a=b.call(arguments),c=[],d,e;d=0;for(e=a.length;d<e;d++)c=c.concat(a[d]);return s.unique(c)},intersect:function(){var a=[],c=b.call(arguments),d,e,g,h,j,k,l,m,n,p,r;if(!c.length)return a;d=c.length;for(n=e=0;n<d;n++)if(g=c[n],!h||g.length<h.length)h=g,e=n;h=s.unique(h);q(c,e,1);j=h.length;d=c.length;for(n=0;n<j;n++){k=h[n];for(p=m=0;p<d;p++){e=c[p];g=e.length;for(r=0;r<g;r++)if(l=
e[r],k===l){m++;break}}m===d&&a.push(k)}return a},difference:function(a,c){var d=b.call(a),e=d.length,g,h,j;g=0;for(j=c.length;g<j;g++)for(h=0;h<e;h++)d[h]===c[g]&&(q(d,h,1),h--,e--);return d},slice:[1,2].slice(1,void 0).length?function(a,c,d){return b.call(a,c,d)}:function(a,c,d){return"undefined"===typeof c?b.call(a):"undefined"===typeof d?b.call(a,c):b.call(a,c,d)},sort:function(a,b){var c=b||s.lexicalCompare,d=a.length,e=Array(d),g=Array(d),h;for(h=0;h<d;h++)e[h]=h;e.sort(function(b,d){return c(a[b],
a[d])||b-d});for(h=0;h<d;h++)g[h]=a[e[h]];for(h=0;h<d;h++)a[h]=g[h];return a},flatten:function(a){function b(a){var d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],Ext.isArray(g)?b(g):c.push(g);return c}var c=[];return b(a)},min:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],b?1===b(c,g)&&(c=g):g<c&&(c=g);return c},max:function(a,b){var c=a[0],d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d],b?-1===b(c,g)&&(c=g):g>c&&(c=g);return c},mean:function(a){return 0<a.length?s.sum(a)/a.length:void 0},sum:function(a){var b=
0,c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],b+=e;return b},toMap:function(a,b,c){var d={},e=a.length;if(b)if("string"===typeof b)for(;e--;)d[a[e][b]]=e+1;else for(;e--;)d[b.call(c,a[e])]=e+1;else for(;e--;)d[a[e]]=e+1;return d},toValueMap:function(a,b,c,d){var e={},g=a.length,h,j,k,l,m;if(b){if(!(k="string"!==typeof b))d=c;h=1===d;for(d=2===d;g--;)m=a[g],l=k?b.call(c,m):m[b],h?l in e?e[l].push(m):e[l]=[m]:d&&l in e?(j=e[l])instanceof Array?j.push(m):e[l]=[j,m]:e[l]=m}else for(;g--;)m=a[g],e[m]=m;return e},
_replaceSim:k,_spliceSim:e,erase:q,insert:function(a,b,c){return r(a,b,0,c)},replace:r,splice:c,push:function(a){var b=arguments.length,c=1,d;for(void 0===a?a=[]:Ext.isArray(a)||(a=[a]);c<b;c++)d=arguments[c],Array.prototype.push[Ext.isIterable(d)?"apply":"call"](a,d);return a},numericSortFn:function(a,b){return a-b}};Ext.each=s.each;s.union=s.merge;Ext.min=s.min;Ext.max=s.max;Ext.sum=s.sum;Ext.mean=s.mean;Ext.flatten=s.flatten;Ext.clean=s.clean;Ext.unique=s.unique;Ext.pluck=s.pluck;Ext.toArray=function(){return s.toArray.apply(s,
arguments)};return s};
Ext.Assert={falsey:function(a,b){a&&Ext.Error.raise(b||"Expected a falsey value but was "+a)},falseyProp:function(a,b){Ext.Assert.truthy(a);var c=a[b];c&&(a.$className&&(b=a.$className+"#"+b),Ext.Error.raise("Expected a falsey value for "+b+" but was "+c))},truthy:function(a,b){a||Ext.Error.raise(b||"Expected a truthy value but was "+typeof a)},truthyProp:function(a,b){Ext.Assert.truthy(a);var c=a[b];c||(a.$className&&(b=a.$className+"#"+b),Ext.Error.raise("Expected a truthy value for "+b+" but was "+
typeof c))}};
(function(){function a(a,b){var c=Ext[a],d;return function(a,e){c(a)||Ext.Error.raise(e||d||(d="Expected value to be "+b))}}function b(a,b){var c=Ext[a],d;return function(a,e){Ext.Assert.truthy(a);c(a[e])||Ext.Error.raise(d||(d="Expected "+(a.$className?a.$className+"#":"")+e+" to be "+b))}}function c(a,b){var c=Ext[a],d;return function(a,e){c(a)&&Ext.Error.raise(e||d||(d="Expected value to NOT be "+b))}}function d(a,b){var c=Ext[a],d;return function(a,e){Ext.Assert.truthy(a);c(a[e])&&Ext.Error.raise(d||
(d="Expected "+(a.$className?a.$className+"#":"")+e+" to NOT be "+b))}}for(var e in Ext)if("is"==e.substring(0,2)&&Ext.isFunction(Ext[e])){var g=e.substring(2);Ext.Assert[e]=a(e,g);Ext.Assert[e+"Prop"]=b(e,g);Ext.Assert["isNot"+g]=c(e,g);Ext.Assert["isNot"+g+"Prop"]=d(e,g)}})();
Ext.String=function(){var a=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,b=/('|\\)/g,c=/([-.*+?\^${}()|\[\]\/\\])/g,d=/^\s+|\s+$/g,e=/\s+/,g=/(^[^a-z]*|[^\w])/gi,h,j,k,l,m=function(a,b){return h[b]},n=function(a,b){return b in j?j[b]:String.fromCharCode(parseInt(b.substr(2),
10))},p=function(a,b){return null===a||void 0===a||null===b||void 0===b?!1:b.length<=a.length},q;return q={insert:function(a,b,c){if(!a)return b;if(!b)return a;var d=a.length;!c&&0!==c&&(c=d);0>c&&(c*=-1,c=c>=d?0:d-c);return a=0===c?b+a:c>=a.length?a+b:a.substr(0,c)+b+a.substr(c)},startsWith:function(a,b,c){var d=p(a,b);d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=0===a.lastIndexOf(b,0));return d},endsWith:function(a,b,c){var d=p(a,b);d&&(c&&(a=a.toLowerCase(),b=b.toLowerCase()),d=-1!==a.indexOf(b,
a.length-b.length));return d},createVarName:function(a){return a.replace(g,"")},htmlEncode:function(a){return!a?a:String(a).replace(k,m)},htmlDecode:function(a){return!a?a:String(a).replace(l,n)},hasHtmlCharacters:function(a){return k.test(a)},addCharacterEntities:function(a){var b=[],c=[],d,e;for(d in a)e=a[d],j[d]=e,h[e]=d,b.push(e),c.push(d);k=RegExp("("+b.join("|")+")","g");l=RegExp("("+c.join("|")+"|\x26#[0-9]{1,5};)","g")},resetCharacterEntities:function(){h={};j={};this.addCharacterEntities({"\x26amp;":"\x26",
"\x26gt;":"\x3e","\x26lt;":"\x3c","\x26quot;":'"',"\x26#39;":"'"})},urlAppend:function(a,b){return!Ext.isEmpty(b)?a+(-1===a.indexOf("?")?"?":"\x26")+b:a},trim:function(b){b&&(b=b.replace(a,""));return b||""},capitalize:function(a){a&&(a=a.charAt(0).toUpperCase()+a.substr(1));return a||""},uncapitalize:function(a){a&&(a=a.charAt(0).toLowerCase()+a.substr(1));return a||""},ellipsis:function(a,b,c){if(a&&a.length>b){if(c){c=a.substr(0,b-2);var d=Math.max(c.lastIndexOf(" "),c.lastIndexOf("."),c.lastIndexOf("!"),
c.lastIndexOf("?"));if(-1!==d&&d>=b-15)return c.substr(0,d)+"..."}return a.substr(0,b-3)+"..."}return a},escapeRegex:function(a){return a.replace(c,"\\$1")},createRegex:function(a,b,c,d){var e=a;null!=a&&!a.exec&&(e=q.escapeRegex(String(a)),!1!==b&&(e="^"+e),!1!==c&&(e+="$"),e=RegExp(e,!1!==d?"i":""));return e},escape:function(a){return a.replace(b,"\\$1")},toggle:function(a,b,c){return a===b?c:b},leftPad:function(a,b,c){a=String(a);for(c=c||" ";a.length<b;)a=c+a;return a},repeat:function(a,b,c){1>
b&&(b=0);for(var d=[];b--;)d.push(a);return d.join(c||"")},splitWords:function(a){return a&&"string"==typeof a?a.replace(d,"").split(e):a||[]}}}();Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;
Ext.Date=function(){function a(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(h,function(a,c){return b[c]})}var b,c=/(\\.)/g,d=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,g=/\\/gi,h=/\{(\d+)\}/g,j=/\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\//,k=[31,28,31,30,31,30,31,31,30,31,30,31];return b={now:Date.now,toString:function(a){a||(a=new Date);var b=Ext.String.leftPad;return a.getFullYear()+"-"+b(a.getMonth()+1,2,"0")+"-"+b(a.getDate(),2,"0")+"T"+b(a.getHours(),2,"0")+":"+b(a.getMinutes(),
2,"0")+":"+b(a.getSeconds(),2,"0")},getElapsed:function(a,c){return Math.abs(a-(c||b.now()))},useStrict:!1,formatCodeToRegex:function(c,d){var e=b.parseCodes[c];e&&(e="function"==typeof e?e():e,b.parseCodes[c]=e);return e?Ext.applyIf({c:e.c?a(e.c,d||"{0}"):e.c},e):{g:0,c:null,s:Ext.String.escapeRegex(c)}},parseFunctions:{MS:function(a){return(a=(a||"").match(j))?new Date(1*((a[1]||"")+a[2])):null},time:function(a){return(a=parseInt(a,10))||0===a?new Date(a):null},timestamp:function(a){return(a=parseInt(a,
10))||0===a?new Date(1E3*a):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return b.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"January February March April May June July August September October November December".split(" "),
monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return Ext.Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Ext.Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Ext.Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return d.test(a.replace(c,
""))},formatContainsDateInfo:function(a){return e.test(a.replace(c,""))},unescapeFormat:function(a){return a.replace(g,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",
m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) \x3d\x3d 1 \x26\x26 this.getMonth() \x3e 0 ? +1 : (Ext.Date.getWeekOfYear(this) \x3e\x3d 52 \x26\x26 this.getMonth() \x3c 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() \x3c 12 ? 'am' : 'pm')",
A:"(this.getHours() \x3c 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",
Z:"(this.getTimezoneOffset() * -60)",c:function(){var a,c,d;a=[];for(c=0;12>c;++c)d="Y-m-dTH:i:sP".charAt(c),a.push("T"==d?"'T'":b.getFormatCode(d));return a.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(a,c,d,e,g,h,j){e=e||0;g=g||0;h=h||0;j=j||0;var k=b.add(new Date(100>a?100:a,c-1,d,e,g,h,j),b.YEAR,100>a?a-100:0);return a==k.getFullYear()&&c==k.getMonth()+1&&d==k.getDate()&&e==k.getHours()&&g==k.getMinutes()&&h==k.getSeconds()&&j==k.getMilliseconds()},parse:function(a,c,d){var e=
b.parseFunctions;null==e[c]&&b.createParser(c);return e[c].call(b,a,Ext.isDefined(d)?d:b.useStrict)},parseDate:function(a,c,d){return b.parse(a,c,d)},getFormatCode:function(a){var c=b.formatCodes[a];c&&(c="function"==typeof c?c():c,b.formatCodes[a]=c);return c||"'"+Ext.String.escape(a)+"'"},createFormat:function(a){var c=[],d=!1,e="",g;for(g=0;g<a.length;++g)e=a.charAt(g),!d&&"\\"==e?d=!0:d?(d=!1,c.push("'"+Ext.String.escape(e)+"'")):"\n"==e?c.push("'\\n'"):c.push(b.getFormatCode(e));b.formatFunctions[a]=
Ext.functionFactory("return "+c.join("+"))},createParser:function(c){for(var d=b.parseRegexes.length,e=1,g=[],h=[],j=!1,k="",t=0,u=c.length,v=[];t<u;++t)k=c.charAt(t),!j&&"\\"==k?j=!0:j?(j=!1,h.push(Ext.String.escape(k))):(k=b.formatCodeToRegex(k,e),e+=k.g,h.push(k.s),k.g&&k.c&&(k.calcAtEnd?v.push(k.c):g.push(k.c)));g=g.concat(v);b.parseRegexes[d]=RegExp("^"+h.join("")+"$","i");b.parseFunctions[c]=Ext.functionFactory("input","strict",a("var me \x3d this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,\ndef \x3d me.defaults,\nfrom \x3d Ext.Number.from,\nresults \x3d String(input).match(me.parseRegexes[{0}]);\nif(results){\n{1}\nif(u !\x3d null){\nv \x3d new Date(u * 1000);\n}else{\ndt \x3d me.clearTime(new Date);\ny \x3d from(y, from(def.y, dt.getFullYear()));\nm \x3d from(m, from(def.m - 1, dt.getMonth()));\ndayMatched \x3d d !\x3d\x3d undefined;\nd \x3d from(d, from(def.d, dt.getDate()));\nif (!dayMatched) {\ndt.setDate(1);\ndt.setMonth(m);\ndt.setFullYear(y);\ndaysInMonth \x3d me.getDaysInMonth(dt);\nif (d \x3e daysInMonth) {\nd \x3d daysInMonth;\n}\n}\nh  \x3d from(h, from(def.h, dt.getHours()));\ni  \x3d from(i, from(def.i, dt.getMinutes()));\ns  \x3d from(s, from(def.s, dt.getSeconds()));\nms \x3d from(ms, from(def.ms, dt.getMilliseconds()));\nif(z \x3e\x3d 0 \x26\x26 y \x3e\x3d 0){\nv \x3d me.add(new Date(y \x3c 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y \x3c 100 ? y - 100 : 0);\nv \x3d !strict? v : (strict \x3d\x3d\x3d true \x26\x26 (z \x3c\x3d 364 || (me.isLeapYear(v) \x26\x26 z \x3c\x3d 365))? me.add(v, me.DAY, z) : null);\n}else if(strict \x3d\x3d\x3d true \x26\x26 !me.isValid(y, m + 1, d, h, i, s, ms)){\nv \x3d null;\n}else{\nif (W) {\nyear \x3d y || (new Date()).getFullYear();\njan4 \x3d new Date(year, 0, 4, 0, 0, 0);\nd \x3d jan4.getDay();\nweek1monday \x3d new Date(jan4.getTime() - ((d \x3d\x3d\x3d 0 ? 6 : d - 1) * 86400000));\nv \x3d Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));\n} else {\nv \x3d me.add(new Date(y \x3c 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y \x3c 100 ? y - 100 : 0);\n}\n}\n}\n}\nif(v){\nif(zz !\x3d null){\nv \x3d me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);\n}else if(o){\nv \x3d me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn \x3d\x3d '+'? -1 : 1) * (hr * 60 + mn));\n}\n}\nreturn v;",
d,g.join("")))},parseCodes:{d:{g:1,c:"d \x3d parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d \x3d parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var a=[],c=0;7>c;a.push(b.getShortDayName(c)),++c);return{g:0,c:null,s:"(?:"+a.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+b.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z \x3d parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},
W:{g:1,c:"W \x3d parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m \x3d parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+b.monthNames.join("|")+")"}},M:function(){for(var a=[],c=0;12>c;a.push(b.getShortMonthName(c)),++c);return Ext.applyIf({s:"("+a.join("|")+")"},b.formatCodeToRegex("F"))},m:{g:1,c:"m \x3d parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m \x3d parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,
c:null,s:"(?:1|0)"},o:{g:1,c:"y \x3d parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y \x3d parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty \x3d parseInt(results[{0}], 10);\ny \x3d ty \x3e me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h \x3d\x3d 12) { h \x3d 0; }\n} else { if (!h || h \x3c 12) { h \x3d (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h \x3d\x3d 12) { h \x3d 0; }\n} else { if (!h || h \x3c 12) { h \x3d (h || 0) + 12; }}",
s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h \x3d parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h \x3d parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h \x3d parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h \x3d parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i \x3d parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s \x3d parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms \x3d results[{0}]; ms \x3d parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",
s:"(\\d+)"},O:{g:1,c:"o \x3d results[{0}];\nvar sn \x3d o.substring(0,1),\nhr \x3d o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),\nmn \x3d o.substring(3,5) % 60;\no \x3d ((-12 \x3c\x3d (hr*60 + mn)/60) \x26\x26 ((hr*60 + mn)/60 \x3c\x3d 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",s:"([+-]\\d{4})"},P:{g:1,c:"o \x3d results[{0}];\nvar sn \x3d o.substring(0,1),\nhr \x3d o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),\nmn \x3d o.substring(4,6) % 60;\no \x3d ((-12 \x3c\x3d (hr*60 + mn)/60) \x26\x26 ((hr*60 + mn)/60 \x3c\x3d 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n",
s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz \x3d results[{0}] * 1;\nzz \x3d (-43200 \x3c\x3d zz \x26\x26 zz \x3c\x3d 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var a=[],c=[b.formatCodeToRegex("Y",1),b.formatCodeToRegex("m",2),b.formatCodeToRegex("d",3),b.formatCodeToRegex("H",4),b.formatCodeToRegex("i",5),b.formatCodeToRegex("s",6),{c:"ms \x3d results[7] || '0'; ms \x3d parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {\nif(results[8] \x3d\x3d 'Z'){\nzz \x3d 0;\n}else if (results[8].indexOf(':') \x3e -1){",
b.formatCodeToRegex("P",8).c,"}else{",b.formatCodeToRegex("O",8).c,"}\n}"].join("\n")}],d,e;d=0;for(e=c.length;d<e;++d)a.push(c[d].c);return{g:1,c:a.join(""),s:[c[0].s,"(?:-",c[1].s,"(?:-",c[2].s,"(?:(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?(?:(?:\\.|,)(\\d+))?(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?)?)?)?"].join("")}},U:{g:1,c:"u \x3d parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(a,c){return b.format(a,c)},isEqual:function(a,b){return a&&b?a.getTime()===b.getTime():!(a||b)},format:function(a,
c){var d=b.formatFunctions;if(!Ext.isDate(a))return"";null==d[c]&&b.createFormat(c);return d[c].call(a)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a,b){var c=a.getTimezoneOffset();return(0<c?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(c)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(c%60),2,"0")},getDayOfYear:function(a){var c=0,d=Ext.Date.clone(a),e=a.getMonth(),
g;g=0;d.setDate(1);for(d.setMonth(0);g<e;d.setMonth(++g))c+=b.getDaysInMonth(d);return c+a.getDate()-1},getWeekOfYear:function(a){a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate()+3)/864E5;a=Math.floor(a/7);var b=(new Date(6048E5*a)).getUTCFullYear();return a-Math.floor(Date.UTC(b,0,7)/6048E5)+1},isLeapYear:function(a){a=a.getFullYear();return!!(0==(a&3)&&(a%100||0==a%400&&a))},getFirstDayOfMonth:function(a){a=(a.getDay()-(a.getDate()-1))%7;return 0>a?a+7:a},getLastDayOfMonth:function(a){return b.getLastDateOfMonth(a).getDay()},
getFirstDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new Date(a.getFullYear(),a.getMonth(),b.getDaysInMonth(a))},getDaysInMonth:function(a){var c=a.getMonth();return 1==c&&b.isLeapYear(a)?29:k[c]},getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new Date(a.getTime())},isDST:function(a){return(new Date(a.getFullYear(),
0,1)).getTimezoneOffset()!=a.getTimezoneOffset()},clearTime:function(a,c){if(c)return Ext.Date.clearTime(Ext.Date.clone(a));var d=a.getDate(),e,g;a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);if(a.getDate()!=d){e=1;for(g=b.add(a,Ext.Date.HOUR,e);g.getDate()!=d;e++,g=b.add(a,Ext.Date.HOUR,e));a.setDate(d);a.setHours(g.getHours())}return a},add:function(a,c,d){var e=Ext.Date.clone(a),g,h,j=0;if(!c||0===d)return e;h=d-parseInt(d,10);if(d=parseInt(d,10))switch(c.toLowerCase()){case Ext.Date.MILLI:e.setTime(e.getTime()+
d);break;case Ext.Date.SECOND:e.setTime(e.getTime()+1E3*d);break;case Ext.Date.MINUTE:e.setTime(e.getTime()+6E4*d);break;case Ext.Date.HOUR:e.setTime(e.getTime()+36E5*d);break;case Ext.Date.DAY:e.setDate(e.getDate()+d);break;case Ext.Date.MONTH:g=a.getDate();28<g&&(g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),Ext.Date.MONTH,d)).getDate()));e.setDate(g);e.setMonth(a.getMonth()+d);break;case Ext.Date.YEAR:g=a.getDate(),28<g&&(g=Math.min(g,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(a),
Ext.Date.YEAR,d)).getDate())),e.setDate(g),e.setFullYear(a.getFullYear()+d)}if(h){switch(c.toLowerCase()){case Ext.Date.MILLI:j=1;break;case Ext.Date.SECOND:j=1E3;break;case Ext.Date.MINUTE:j=6E4;break;case Ext.Date.HOUR:j=36E5;break;case Ext.Date.DAY:j=864E5;break;case Ext.Date.MONTH:g=b.getDaysInMonth(e);j=864E5*g;break;case Ext.Date.YEAR:g=b.isLeapYear(e)?366:365,j=864E5*g}j&&e.setTime(e.getTime()+j*h)}return e},subtract:function(a,c,d){return b.add(a,c,-d)},between:function(a,b,c){a=a.getTime();
return b.getTime()<=a&&a<=c.getTime()},compat:function(){var a=window.Date,c;c="useStrict formatCodeToRegex parseFunctions parseRegexes formatFunctions y2kYear MILLI SECOND MINUTE HOUR DAY MONTH YEAR defaults dayNames monthNames monthNumbers getShortMonthName getShortDayName getMonthNumber formatCodes isValid parseDate getFormatCode createFormat createParser parseCodes".split(" ");var d="dateFormat format getTimezone getGMTOffset getDayOfYear getWeekOfYear isLeapYear getFirstDayOfMonth getLastDayOfMonth getDaysInMonth getSuffix clone isDST clearTime add between".split(" "),
e=c.length,g=d.length,h,j,k;for(k=0;k<e;k++)h=c[k],a[h]=b[h];for(c=0;c<g;c++)j=d[c],a.prototype[j]=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this);return b[j].apply(b,a)}},diff:function(a,b,c){var d=Ext.Date,e=+b-a;switch(c){case d.MILLI:return e;case d.SECOND:return Math.floor(e/1E3);case d.MINUTE:return Math.floor(e/6E4);case d.HOUR:return Math.floor(e/36E5);case d.DAY:return Math.floor(e/864E5);case "w":return Math.floor(e/6048E5);case d.MONTH:return d=12*b.getFullYear()+
b.getMonth()-(12*a.getFullYear()+a.getMonth()),Ext.Date.add(a,c,d)>b?d-1:d;case d.YEAR:return d=b.getFullYear()-a.getFullYear(),Ext.Date.add(a,c,d)>b?d-1:d}},align:function(a,b,c){var d=new Date(+a);switch(b.toLowerCase()){case Ext.Date.MILLI:return d;case Ext.Date.SECOND:return d.setUTCSeconds(d.getUTCSeconds()-d.getUTCSeconds()%c),d.setUTCMilliseconds(0),d;case Ext.Date.MINUTE:return d.setUTCMinutes(d.getUTCMinutes()-d.getUTCMinutes()%c),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d;case Ext.Date.HOUR:return d.setUTCHours(d.getUTCHours()-
d.getUTCHours()%c),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d;case Ext.Date.DAY:return(7==c||14==c)&&d.setUTCDate(d.getUTCDate()-d.getUTCDay()+1),d.setUTCHours(0),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d;case Ext.Date.MONTH:return d.setUTCMonth(d.getUTCMonth()-(d.getUTCMonth()-1)%c,1),d.setUTCHours(0),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d;case Ext.Date.YEAR:return d.setUTCFullYear(d.getUTCFullYear()-d.getUTCFullYear()%c,1,1),d.setUTCHours(0),
d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),a}}}}();
Ext.Function=function(){var a=0,b,c=[],d=[],e=0,g={},h=window,j=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(b){var c=Ext.now(),d=Math.max(0,16-(c-a)),e=h.setTimeout(function(){b(c+d)},d);a=c+d;return e},k=function(){var a=c.length,e,h,j;b=null;for(h=0;h<a;h++)j=c[h],e=j[3],g[e]&&(j[0].apply(j[1]||Ext.global,j[2]||d),delete g[e]);c=c.slice(a)},l=function(){Ext.elevateFunction(k)},m={flexSetter:function(a){return function(b,
c){var d,e;if(null!==b)if("string"!==typeof b){for(d in b)b.hasOwnProperty(d)&&a.call(this,d,b[d]);if(Ext.enumerables)for(e=Ext.enumerables.length;e--;)d=Ext.enumerables[e],b.hasOwnProperty(d)&&a.call(this,d,b[d])}else a.call(this,b,c);return this}},bind:function(a,b,c,d){if(2===arguments.length)return function(){return a.apply(b,arguments)};var e=Array.prototype.slice;return function(){var g=c||arguments;!0===d?(g=e.call(arguments,0),g=g.concat(c)):"number"==typeof d&&(g=e.call(arguments,0),Ext.Array.insert(g,
d,c));return a.apply(b||Ext.global,g)}},bindCallback:function(a,b,c,d,e){return function(){var g=Ext.Array.slice(arguments);return Ext.callback(a,b,c?c.concat(g):g,d,e)}},pass:function(a,b,c){Ext.isArray(b)||(b=Ext.isIterable(b)?Ext.Array.clone(b):void 0!==b?[b]:[]);return function(){var d=b.slice();d.push.apply(d,arguments);return a.apply(c||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,
b,c,d){return Ext.isFunction(b)?(d=Ext.isDefined(d)?d:null,function(){var e=arguments;b.target=this;b.method=a;return!1!==b.apply(c||this||Ext.global,e)?a.apply(this||Ext.global,e):d}):a},createDelayed:function(a,b,c,d,e){if(c||d)a=Ext.Function.bind(a,c,d,e);return function(){var c=this,d=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(a,c,d):a.apply(c,d)},b)}},defer:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);if(0<b)return setTimeout(function(){Ext.elevateFunction?
Ext.elevateFunction(a):a()},b);a();return 0},interval:function(a,b,c,d,e){a=Ext.Function.bind(a,c,d,e);return setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(a):a()},b)},createSequence:function(a,b,c){return b?function(){var d=a.apply(this,arguments);b.apply(c||this,arguments);return d}:a},createBuffered:function(a,b,c,d){var e;return function(){var g=d||Array.prototype.slice.call(arguments,0),h=c||this;e&&clearTimeout(e);e=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(a,
h,g):a.apply(h,g)},b)}},createAnimationFrame:function(a,b,c,d){var e;d=d||3;return function(){var g=c||Array.prototype.slice.call(arguments,0);b=b||this;3===d&&e&&m.cancelAnimationFrame(e);if(d&1||!e)e=m.requestAnimationFrame(function(){e=null;a.apply(b,g)})}},requestAnimationFrame:function(a,d,h){var m=++e,s=Array.prototype.slice.call(arguments,0);s[3]=m;g[m]=1;c.push(s);b||(b=j(Ext.elevateFunction?l:k));return m},cancelAnimationFrame:function(a){delete g[a]},createThrottled:function(a,b,c){var d=
0,e,g,h,j=function(){Ext.elevateFunction?Ext.elevateFunction(a,c,g):a.apply(c,g);d=Ext.now();h=null};return function(){c||(c=this);e=Ext.now()-d;g=arguments;e>=b?(clearTimeout(h),j()):h||(h=Ext.defer(j,b-e))}},createBarrier:function(a,b,c){return function(){--a||b.apply(c,arguments)}},interceptBefore:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=function(){var a=c.apply(d||this,arguments);e.apply(this,arguments);return a}},interceptAfter:function(a,b,c,d){var e=a[b]||Ext.emptyFn;return a[b]=
function(){e.apply(this,arguments);return c.apply(d||this,arguments)}},makeCallback:function(a,b){b[a]||(b.$className&&Ext.Error.raise('No method "'+a+'" on '+b.$className),Ext.Error.raise('No method "'+a+'"'));return function(){return b[a].apply(b,arguments)}}};Ext.defer=m.defer;Ext.interval=m.interval;Ext.pass=m.pass;Ext.bind=m.bind;Ext.deferCallback=m.requestAnimationFrame;return m}();
Ext.Number=new function(){var a=this,b="1"!==(0.9).toFixed(),c=Math,d={count:!1,inclusive:!1,wrap:!0};Ext.apply(a,{Clip:{DEFAULT:d,COUNT:Ext.applyIf({count:!0},d),INCLUSIVE:Ext.applyIf({inclusive:!0},d),NOWRAP:Ext.applyIf({wrap:!1},d)},clipIndices:function(a,b,c){c=c||d;var j=0,k=c.wrap,l,m,n;b=b||[];for(n=0;2>n;++n)l=m,m=b[n],null==m?m=j:n&&c.count?(m+=l,m=m>a?a:m):(k&&(m=0>m?a+m:m),n&&c.inclusive&&++m,m=0>m?0:m>a?a:m),j=a;b[0]=l;b[1]=m<l?l:m;return b},constrain:function(a,b,c){var d=parseFloat(a);
null===b&&(b=a);null===c&&(c=a);return d<b?b:d>c?c:d},snap:function(b,c,d,j){var k;if(void 0===b||b<d)return d||0;c&&(k=b%c,0!==k&&(b-=k,2*k>=c?b+=c:2*k<-c&&(b-=c)));return a.constrain(b,d,j)},snapInRange:function(b,c,d,j){var k;d=d||0;if(void 0===b||b<d)return d;if(c&&(k=(b-d)%c))b-=k,2*k>=c&&(b+=c);if(void 0!==j&&b>(j=a.snapInRange(j,c,d)))b=j;return b},toFixed:b?function(a,b){b=b||0;var d=c.pow(10,b);return(c.round(a*d)/d).toFixed(b)}:function(a,b){return a.toFixed(b)},from:function(a,b){isFinite(a)&&
(a=parseFloat(a));return!isNaN(a)?a:b},randomInt:function(a,b){return c.floor(c.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return a.from.apply(this,arguments)}};
(function(){var a=function(){},b=function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]!==b[c])return!1;return!0},c=Ext.Object={chain:Object.create||function(b){a.prototype=b;b=new a;a.prototype=null;return b},clear:function(a){for(var b in a)delete a[b];return a},freeze:Object.freeze?function(a,b){if(a&&("object"===typeof a&&!Object.isFrozen(a))&&(Object.freeze(a),b))for(var g in a)c.freeze(a[g],b);return a}:Ext.identityFn,toQueryObjects:function(a,b,g){var h=c.toQueryObjects,j=[],k,l;if(Ext.isArray(b)){k=
0;for(l=b.length;k<l;k++)g?j=j.concat(h(a+"["+k+"]",b[k],!0)):j.push({name:a,value:b[k]})}else if(Ext.isObject(b))for(k in b)b.hasOwnProperty(k)&&(g?j=j.concat(h(a+"["+k+"]",b[k],!0)):j.push({name:a,value:b[k]}));else j.push({name:a,value:b});return j},toQueryString:function(a,b){var g=[],h=[],j,k,l,m;for(j in a)a.hasOwnProperty(j)&&(g=g.concat(c.toQueryObjects(j,a[j],b)));j=0;for(k=g.length;j<k;j++)l=g[j],m=l.value,Ext.isEmpty(m)?m="":Ext.isDate(m)&&(m=Ext.Date.toString(m)),h.push(encodeURIComponent(l.name)+
"\x3d"+encodeURIComponent(String(m)));return h.join("\x26")},fromQueryString:function(a,b){var c=a.replace(/^\?/,"").split("\x26"),h={},j,k,l,m,n,p,q,r,s;l=0;for(m=c.length;l<m;l++)if(n=c[l],0<n.length)if(k=n.split("\x3d"),j=decodeURIComponent(k[0]),k=void 0!==k[1]?decodeURIComponent(k[1]):"",b){q=j.match(/(\[):?([^\]]*)\]/g);j=j.match(/^([^\[]+)/);if(!j)throw Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+n+'"');j=j[0];r=[];if(null===q)h[j]=k;else{n=
0;for(p=q.length;n<p;n++)s=q[n],s=2===s.length?"":s.substring(1,s.length-1),r.push(s);r.unshift(j);j=h;n=0;for(p=r.length;n<p;n++)if(s=r[n],n===p-1)Ext.isArray(j)&&""===s?j.push(k):j[s]=k;else{if(void 0===j[s]||"string"===typeof j[s])q=r[n+1],j[s]=Ext.isNumeric(q)||""===q?[]:{};j=j[s]}}}else h.hasOwnProperty(j)?(Ext.isArray(h[j])||(h[j]=[h[j]]),h[j].push(k)):h[j]=k;return h},each:function(a,b,c){var h=Ext.enumerables,j,k;c=c||a;for(k in a)if(a.hasOwnProperty(k)&&!1===b.call(c,k,a[k],a))return;if(h)for(j=
h.length;j--&&!(a.hasOwnProperty(k=h[j])&&!1===b.call(c,k,a[k],a)););},eachValue:function(a,b,c){var h=Ext.enumerables,j,k;c=c||a;for(k in a)if(a.hasOwnProperty(k)&&!1===b.call(c,a[k]))return;if(h)for(j=h.length;j--&&!(a.hasOwnProperty(k=h[j])&&!1===b.call(c,a[k])););},merge:function(a){for(var b=1,g=arguments.length,h=c.merge,j=Ext.clone,k,l,m,n;b<g;b++)for(l in k=arguments[b],k)(m=k[l])&&m.constructor===Object?(n=a[l])&&n.constructor===Object?h(n,m):a[l]=j(m):a[l]=m;return a},mergeIf:function(a){for(var b=
1,c=arguments.length,h=Ext.clone,j,k,l;b<c;b++)for(k in j=arguments[b],j)k in a||(l=j[k],a[k]=l&&l.constructor===Object?h(l):l);return a},getKey:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null},getValues:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},getKeys:"function"==typeof Object.keys?function(a){return!a?[]:Object.keys(a)}:function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},getSize:function(a){var b=0,c;
for(c in a)a.hasOwnProperty(c)&&b++;return b},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},equals:function(a,c){return a===c?!0:a&&c?b(a,c)&&b(c,a):!a&&!c?a===c:!1},fork:function(a){var b,g,h;if(a&&a.constructor===Object)for(g in b=c.chain(a),a)(h=a[g])&&(h.constructor===Object?b[g]=c.fork(h):h instanceof Array&&(b[g]=Ext.Array.clone(h)));else b=a;return b},defineProperty:"defineProperty"in Object?Object.defineProperty:function(a,b,c){Object.prototype.__defineGetter__&&
(c.get&&a.__defineGetter__(b,c.get),c.set&&a.__defineSetter__(b,c.set))},classify:function(a){var b=[],g={},h=function(){for(var a=0,c=b.length,d;a<c;a++)d=b[a],this[d]=new g[d]},j,k;for(j in a)if(a.hasOwnProperty(j)&&(k=a[j])&&k.constructor===Object)b.push(j),g[j]=c.classify(k);h.prototype=a;return h}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf})();
Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){var a=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,b=/([\W]{1})/g,c=/^(\d)/g,d=function(a,b){return"\\"+b},e=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(g){return a.test(g)?g:g.replace(b,d).replace(c,e)}}(),callback:function(a,b,c,d,e,g){if(a){var h=b in Ext._namedScopes;if(a.charAt){if((!b||h)&&e)b=e.resolveListenerScope(h?b:
g);(!b||!Ext.isObject(b))&&Ext.Error.raise('Named method "'+a+'" requires a scope object');Ext.isFunction(b[a])||Ext.Error.raise('No method named "'+a+'" on '+(b.$className||"scope object"));a=b[a]}else h?b=g||e:b||(b=e);var j;a&&Ext.isFunction(a)&&(b=b||Ext.global,d?Ext.defer(a,d,b,c):j=c?a.apply(b,c):a.call(b));return j}},coerce:function(a,b){var c=Ext.typeOf(a),d=Ext.typeOf(b),e="string"===typeof a;if(c!==d)switch(d){case "string":return String(a);case "number":return Number(a);case "boolean":return e&&
(!a||"false"===a)?!1:Boolean(a);case "null":return e&&(!a||"null"===a)?null:a;case "undefined":return e&&(!a||"undefined"===a)?void 0:a;case "date":return e&&isNaN(a)?Ext.Date.parse(a,Ext.Date.defaultFormat):Date(Number(a))}return a},copyTo:function(a,b,c,d){"string"==typeof c&&(c=c.split(/[,;\s]/));var e,g=c?c.length:0,h;for(e=0;e<g;e++)if(h=c[e],d||b.hasOwnProperty(h))a[h]=b[h];return a},extend:function(){var a=Object.prototype.constructor,b=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=
a[b])};return function(c,d,e){Ext.isObject(d)&&(e=d,d=c,c=e.constructor!==a?e.constructor:function(){d.apply(this,arguments)});d||Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var g=function(){},h=d.prototype;g.prototype=h;g=c.prototype=new g;g.constructor=c;c.superclass=h;h.constructor===a&&(h.constructor=d);c.override=function(a){Ext.override(c,a)};g.override=b;g.proto=g;c.override(e);c.extend=function(a){return Ext.extend(c,
a)};return c}}(),iterate:function(a,b,c){Ext.isEmpty(a)||(void 0===c&&(c=a),Ext.isIterable(a)?Ext.Array.each.call(Ext.Array,a,b,c):Ext.Object.each.call(Ext.Object,a,b,c))},urlEncode:function(){var a=Ext.Array.from(arguments),b="";Ext.isString(a[1])&&(b=a[1]+"\x26",a[1]=!1);return b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(a){Ext.isDomReady||Ext.Error.raise("getScrollbarSize called before DomReady");
var b=Ext._scrollbarSize;if(a||!b){a=document.body;var c=document.createElement("div");c.style.width=c.style.height="100px";c.style.overflow="scroll";c.style.position="absolute";a.appendChild(c);Ext._scrollbarSize=b={width:c.offsetWidth-c.clientWidth,height:c.offsetHeight-c.clientHeight};a.removeChild(c)}return b},typeOf:function(){var a=/\S/,b=Object.prototype.toString,c={number:1,string:1,"boolean":1,undefined:1},d={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number",
"[object RegExp]":"regexp"};return function(e){if(null===e)return"null";var g=typeof e,h,j;if(c[g])return g;if(h=d[j=b.call(e)])return h;if("function"===g)return"function";if("object"===g)return void 0!==e.nodeType?3===e.nodeType?a.test(e.nodeValue)?"textnode":"whitespace":"element":"object";Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+e+'".'});return j}}(),factory:function(a,b,c,d){var e=Ext.ClassManager,g;if(!a||a.isInstance)return c&&c!==a&&c.destroy(),
a;if(d){if("string"==typeof a)return e.instantiateByAlias(d+"."+a);if(Ext.isObject(a)&&"type"in a)return e.instantiateByAlias(d+"."+a.type,a)}if(!0===a)return c||Ext.create(b);Ext.isObject(a)||Ext.Logger.error("Invalid config, must be a valid config object");"xtype"in a?g=e.instantiateByAlias("widget."+a.xtype,a):"xclass"in a&&(g=Ext.create(a.xclass,a));return g?(c&&c.destroy(),g):c?c.setConfig(a):Ext.create(b,a)},log:function(){function a(a,b,c,j){var k,l,m,n,p,q=[];Ext.isArray(a)?(n="[",p="]"):
Ext.isObject(a)&&(n="{",p="}");c||(c=3);if(b>c)return n+"..."+p;b=b||1;var r=Array(b).join("    ");for(m in a)if(a.hasOwnProperty(m)){l=a[m];k=typeof l;if("function"==k){if(!j)continue}else k="undefined"==k?k:null===l||d.test(k)||Ext.isDate(l)?Ext.encode(l):Ext.isArray(l)?this.dumpObject(l,b+1,c,j):Ext.isObject(l)?this.dumpObject(l,b+1,c,j):k;q.push(r+m+": "+k)}return q.length?n+"\n    "+q.join(",\n    ")+"\n"+r+p:n+p}function b(c){var d,h,j=Ext.global.console,k="log",l=b.indent||0,m;b.indent=l;if("string"!=
typeof c&&(d=c,c=d.msg||"",k=d.level||k,h=d.dump,m=d.stack,d.indent?++b.indent:d.outdent&&(b.indent=l=Math.max(l-1,0)),h&&(!j||!j.dir)))c+=a(h),h=null;1<arguments.length&&(c+=Array.prototype.slice.call(arguments,1).join(""));c=l?Ext.String.repeat(" ",b.indentSize*l)+c:c;"log"!=k&&(c="["+k.charAt(0).toUpperCase()+"] "+c);if(j){if(j[k])j[k](c);else j.log(c);h&&j.dir(h);m&&j.trace&&(!j.firebug||"error"!=k)&&j.trace()}else Ext.isOpera?opera.postError(c):(d=b.out,h=b.max,d.length>=h&&Ext.Array.erase(d,
0,d.length-3*Math.floor(h/4)),d.push(c));++b.count;++b.counters[k]}function c(a,c){"string"==typeof c[0]&&c.unshift({});c[0].level=a;b.apply(this,c)}var d=/string|number|boolean/;b.error=function(){c("error",Array.prototype.slice.call(arguments))};b.info=function(){c("info",Array.prototype.slice.call(arguments))};b.warn=function(){c("warn",Array.prototype.slice.call(arguments))};b.count=0;b.counters={error:0,warn:0,info:0,log:0};b.indentSize=2;b.out=[];b.max=750;return b}()||function(){var a=function(){};
a.info=a.warn=a.error=Ext.emptyFn;return a}()});
(function(){var a=[""],b=/([^\d\.])/,c=/[^\d]/g,d=/[\-+]/g,e=/\s/g,g=/_/g,h;Ext.Version=h=function(a,e){var l=this.padModes,m,n,p;a.isVersion&&(a=a.version);this.version=p=String(a).toLowerCase().replace(g,".").replace(d,"");m=p.charAt(0);m in l?(p=p.substring(1),l=l[m]):l=e?l[e]:0;this.pad=l;m=p.search(b);this.shortVersion=p;-1!==m&&(this.release=n=p.substr(m,a.length),this.shortVersion=p.substr(0,m),n=h.releaseValueMap[n]||n);this.releaseValue=n||l;this.shortVersion=this.shortVersion.replace(c,
"");this.parts=p=p.split(".");for(n=p.length;n--;)p[n]=parseInt(p[n],10);Infinity===l&&p.push(l);this.major=p[0]||l;this.minor=p[1]||l;this.patch=p[2]||l;this.build=p[3]||l;return this};h.prototype={isVersion:!0,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(a){var b=this.pad,c=this.parts,d=c.length;a=a.isVersion?a:new h(a);var e=a.pad,g=a.parts,q=g.length,r=Math.max(d,q),s,t,u;for(s=0;s<r;s++){t=s<d?c[s]:b;u=s<q?g[s]:e;if(t<u)return-1;if(t>u)return 1}t=this.releaseValue;u=a.releaseValue;
return t<u?-1:t>u?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(a){return 0<this.compareTo(a)},isGreaterThanOrEqual:function(a){return 0<=this.compareTo(a)},isLessThan:function(a){return 0>
this.compareTo(a)},isLessThanOrEqual:function(a){return 0>=this.compareTo(a)},equals:function(a){return 0===this.compareTo(a)},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){return[this.getMajor(),this.getMinor(),this.getPatch(),this.getBuild(),this.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(a){return 0<this.compareTo(a)},lt:function(a){return 0>this.compareTo(a)},gtEq:function(a){return 0<=this.compareTo(a)},ltEq:function(a){return 0>=
this.compareTo(a)}};Ext.apply(h,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return!a?0:isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10)},compare:function(a,b){return(a.isVersion?a:new h(a)).compareTo(b)},set:function(a,b,c){var d=h.aliases.to[b];c=c.isVersion?c:new h(c);a[b]=c;if(d)for(b=d.length;0<b--;)a[d[b]]=c;return c}});Ext.apply(Ext,{compatVersions:{},
versions:{},lastRegisteredVersion:null,getCompatVersion:function(a){var b=Ext.compatVersions;return(a?b[h.aliases.from[a]||a]:b.ext||b.touch||b.core)||Ext.getVersion(a)},setCompatVersion:function(a,b){h.set(Ext.compatVersions,a,b)},setVersion:function(a,b){Ext.lastRegisteredVersion=h.set(Ext.versions,a,b);return this},getVersion:function(a){var b=Ext.versions;return!a?b.ext||b.touch||b.core:b[h.aliases.from[a]||a]},checkVersion:function(b,c){var d=Ext.isArray(b),g=h.aliases.from,n=d?b:a,p=n.length,
q=Ext.versions,r=q.ext||q.touch,s,t,u,v;d||(a[0]=b);for(d=0;d<p;++d){if(Ext.isString(t=n[d])){0<=t.indexOf(" ")&&(t=t.replace(e,""));s=t.indexOf("@");if(0>s)u=t,v=r;else{v=t.substring(0,s);if(!(v=q[g[v]||v])){if(c)return!1;continue}u=t.substring(s+1)}s=u.indexOf("-");0>s?"+"===u.charAt(s=u.length-1)?(t=u.substring(0,s),u=null):t=u:(t=0<s?u.substring(0,s):null,u=u.substring(s+1));s=!0;t&&(t=new h(t,"~"),s=t.ltEq(v));s&&u&&(u=new h(u,"~"),s=u.gtEq(v))}else s=Ext.checkVersion(t.and||t.or,!t.or),t.not&&
(s=!s);if(s){if(!c)return!0}else if(c)return!1}return!!c},deprecate:function(a,b,c,d){1>h.compare(Ext.getVersion(a),b)&&c.call(d)}})})();(function(a){var b=a&&a.packages||{};a=a&&a.compatibility;var c,d;for(c in b)d=b[c],Ext.setVersion(c,d.version);if(a)if(Ext.isString(a))Ext.setCompatVersion("core",a);else for(c in a)Ext.setCompatVersion(c,a[c]);!b.ext&&!b.touch&&Ext.setVersion("ext","5")})(Ext.manifest);
Ext.Config=function(a){var b=a.charAt(0).toUpperCase()+a.substr(1);this.name=a;this.names={internal:"_"+a,initializing:"is"+b+"Initializing",apply:"apply"+b,update:"update"+b,get:"get"+b,set:"set"+b,initGet:"initGet"+b,doSet:"doSet"+b,changeEvent:a.toLowerCase()+"change"};this.root=this};Ext.Config.map={};Ext.Config.get=function(a){var b=Ext.Config.map;return b[a]||(b[a]=new Ext.Config(a))};
Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},mergeNew:function(a,b,c,d){var e;if(b){if(a)for(e in b=Ext.Object.chain(b),a)if(!d||!(e in b))b[e]=a[e]}else b=a;return b},
mergeSets:function(a,b,c){b=b?Ext.Object.chain(b):{};var d,e;if(a instanceof Array)for(d=a.length;d--;){if(e=a[d],!c||!(e in b))b[e]=!0}else if(a)if(a.constructor===Object)for(d in a){if(e=a[d],!c||!(d in b))b[d]=e}else if(!c||!(a in b))b[a]=!0;return b},makeGetter:function(){var a=this.name,b=this.names.internal;return function(){return this[this.$configPrefixed?b:a]}},makeInitGetter:function(){var a=this.name,b=this.names,c=b.set,d=b.get,e=b.initializing;return function(){this[e]=!0;delete this[d];
this[c](this.config[a]);delete this[e];return this[d].apply(this,arguments)}},makeSetter:function(){var a=this.name,b=this.names,c=b.internal,d=b.get,e=b.apply,g=b.update,b=function(b){var j=this.$configPrefixed?c:a,k=this[j];delete this[d];if(!this[e]||void 0!==(b=this[e](b,k)))if(b!==(k=this[j]))if(this[j]=b,this[g])this[g](b,k);return this};b.$isDefault=!0;return b}};
(function(){var a=Ext.Config,b=a.map,c=Ext.Object;Ext.Configurator=function(a){var b=a.prototype,g=a.superclass?a.superclass.self.$config:null;this.cls=a;g?(this.configs=c.chain(g.configs),this.cachedConfigs=c.chain(g.cachedConfigs),this.initMap=c.chain(g.initMap),this.values=c.chain(g.values)):(this.configs={},this.cachedConfigs={},this.initMap={},this.values={});b.config=b.defaultConfig=this.values;a.$config=this};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(b,e){var g=
this.cls,h=this.configs,j=this.cachedConfigs,k=this.initMap,l=g.prototype,m=e&&e.$config.configs,n=this.values,p,q,r,s,t,u,v,w;for(v in b){if(q=(p=(w=b[v])&&w.constructor===Object)&&"$value"in w?w:null)r=!!q.cached,w=q.$value;s=q&&q.merge;if(t=h[v]){if(e){s=t.merge;if(!s)continue;q=null}else s=s||t.merge;!e&&(r&&!j[v])&&Ext.Error.raise("Redefining config as cached: "+v+" in class: "+g.$className);u=n[v];s?w=s.call(t,w,u,g,e):p&&u&&u.constructor===Object&&(w=c.merge({},u,w))}else{m?(t=m[v],q=null):
t=a.get(v);h[v]=t;if(t.cached||r)j[v]=!0;p=t.names;if(!l[s=p.get])l[s]=t.getGetter();if(!l[s=p.set])l[s]=t.getSetter()}q&&(t.owner!==g&&(h[v]=t=Ext.Object.chain(t),t.owner=g),Ext.apply(t,q),delete t.$value);null!==w?k[v]=!0:(l.$configPrefixed?l[h[v].names.internal]=null:l[h[v].name]=null,v in k&&(k[v]=!1));n[v]=w}},configure:function(a,b){var g=this.configs,h=this.initMap,j=this.initListMap,k=this.initList,l=this.cls.prototype,m=c.fork(this.values),n=!a.$configStrict,p=0,q=!k,r,s,t,u,v,w;if(q)for(w in this.initList=
k=[],this.initListMap=j={},a.isFirstInstance=!0,h)u=h[w],s=g[w],t=s.cached,u?(u=s.names,v=m[w],!l[u.set].$isDefault||l[u.apply]||l[u.update]||"object"===typeof v?(t?(r||(r=[])).push(s):(k.push(s),j[w]=!0),a[u.get]=s.initGetter||s.getInitGetter()):l[s.getInternalName(l)]=v):t&&(l[s.getInternalName(l)]=void 0);if(h=r&&r.length){for(v=0;v<h;++v)s=r[v].getInternalName(l),a[s]=null;for(v=0;v<h;++v)u=(s=r[v]).names,t=u.get,a.hasOwnProperty(t)&&(a[u.set](m[s.name]),delete a[t]);for(v=0;v<h;++v)s=r[v].getInternalName(l),
l[s]=a[s],delete a[s]}q&&a.afterCachedConfig&&!a.afterCachedConfig.$nullFn&&a.afterCachedConfig(b);a.isConfiguring=!0;a.config=m;v=0;for(h=k.length;v<h;++v)s=k[v],a[s.names.get]=s.initGetter||s.getInitGetter();a.transformInstanceConfig&&(b=a.transformInstanceConfig(b));if(b)for(w in b)v=b[w],(s=g[w])?(s.lazy||++p,j[w]||(a[s.names.get]=s.initGetter||s.getInitGetter()),(l=s.merge)?v=l.call(s,v,m[w],a):v&&v.constructor===Object&&(v=(l=m[w])&&l.constructor===Object?c.merge(m[w],v):Ext.clone(v))):n&&(a[w]=
v),m[w]=v;if(!(a.beforeInitConfig&&!a.beforeInitConfig.$nullFn&&!1===a.beforeInitConfig(b))){if(b)for(w in b){if(!p)break;if((s=g[w])&&!s.lazy)--p,u=s.names,t=u.get,a.hasOwnProperty(t)&&(a[u.set](m[w]),delete a[u.get])}v=0;for(h=k.length;v<h;++v)s=k[v],u=s.names,t=u.get,!s.lazy&&a.hasOwnProperty(t)&&(a[u.set](m[s.name]),delete a[t]);delete a.isConfiguring}},getCurrentConfig:function(a){var c=a.defaultConfig,g={},h;for(h in c)g[h]=a[b[h].names.get]();return g},merge:function(a,b,c){var h=this.configs,
j,k,l,m;for(j in c){k=c[j];if(l=h[j])(m=l.merge)?k=m.call(l,k,b[j],a):k&&k.constructor===Object&&(k=(l=b[j])&&l.constructor===Object?Ext.Object.merge(l,k):Ext.clone(k));b[j]=k}return b},reconfigure:function(a,c,g){var h=a.config,j=[],k=a.$configStrict,l=this.configs,m=g&&g.defaults;g=g&&!1===g.strict;var n,p,q;for(p in c)if(!m||!a.hasOwnProperty(p)){h[p]=c[p];if(n=l[p])a[n.names.get]=n.initGetter||n.getInitGetter();else if(k){"type"!==p&&Ext.log.error('No such config "'+p+'" for class '+a.$className);
continue}j.push(p)}h=0;for(m=j.length;h<m;h++)if(p=j[h],n=l[p])q=n.names,n=q.get,a.hasOwnProperty(n)&&(a[q.set](c[p]),delete a[n]);else if(!k)if(n=b[p]||Ext.Config.get(p),q=n.names,a[q.set])a[q.set](c[p]);else g?a[p]=c[p]:"type"!==p&&Ext.Error.raise('Config "'+p+'" has no setter on class '+a.$className)}}})();
Ext.Base=function(a){var b=[],c,d=[],e=function(a,b,c){var d='"'+a+'" is deprecated.';c?d+=" "+c:b&&(d+=' Please use "'+b+'" instead.');return function(){Ext.Error.raise(d)}},g=function(a,b,c,d){d||(d='"'+b+'" is deprecated.');c&&(d+=' Please use "'+c+'" instead.');d&&Ext.Object.defineProperty(a,b,{get:function(){Ext.Error.raise(d)},set:function(){Ext.Error.raise(d)},configurable:!0})},h=function(a){return function(){return this[a].apply(this,arguments)}},j=Ext.Version,k=/^\d/,l={},m={},n=function(){},
p=n.prototype;Ext.apply(n,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(a){var b=[],c=Ext.getCompatVersion(a.name),d=(this.$className||"")+"#",l,m,n,p,A,z,B,y,C,E;for(m in a)k.test(m)&&(p=new Ext.Version(m),p.deprecations=a[m],b.push(p));b.sort(j.compare);for(a=b.length;a--;){l=(p=b[a]).deprecations;m=this.prototype;E=l.statics;if((p=c&&c.lt(p))&&!p)break;for(;l;){if(B=l.methods)for(y in B){C=
B[y];z=null;if(C)if(Ext.isString(C))Ext.Assert.isNotDefinedProp(m,y),Ext.Assert.isDefinedProp(m,C),z=p?h(C):e(d+y,C);else{n="";if(C.message||C.fn)n=C.message,C=C.fn;A=m.hasOwnProperty(y)&&m[y];p&&C?(C.$owner=this,C.$name=y,C.displayName=d+y,A&&(C.$previous=A),z=C):A||(z=e(d+y,null,n))}else Ext.Assert.isNotDefinedProp(m,y),z=e(d+y);z&&(m[y]=z)}if((B=l.properties)&&!p)for(y in B)l=B[y],Ext.isString(l)?g(m,d+y,l):l&&l.message?g(m,d+y,null,l.message):g(m,d+y);l=E;E=null;m=this}}},extend:function(a){var b=
a.prototype,c,d,e;c=this.prototype=Ext.Object.chain(b);c.self=this;this.superclass=c.superclass=b;if(!a.$isClass)for(d in p)d in c&&(c[d]=p[d]);if(e=b.$inheritableStatics){d=0;for(b=e.length;d<b;d++)c=e[d],this.hasOwnProperty(c)||(this[c]=a[c])}a.$onExtended&&(this.$onExtended=a.$onExtended.slice());this.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var a=this.$onExtended,b=a.length,c,d;if(0<b)for(c=
0;c<b;c++)d=a[c],d.fn.apply(d.scope||this,arguments)},onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addStatics:function(a){this.addMembers(a,!0);return this},addInheritableStatics:function(a){var b,c,d=this.prototype,e;b=d.$inheritableStatics;c=d.$hasInheritableStatics;b||(b=d.$inheritableStatics=[],c=d.$hasInheritableStatics={});var g=Ext.getClassName(this)+".";for(e in a)a.hasOwnProperty(e)&&(d=a[e],"function"==typeof d&&(d.displayName=g+e),this[e]=d,c[e]||(c[e]=!0,
b.push(e)));return this},addMembers:function(a,b,c){var d=Ext.Function.clone,e=b?this:this.prototype,g=!b&&e.defaultConfig,h=Ext.enumerables,j=a.privates,k,l,m,n,p=(this.$className||"")+"#";j&&(delete a.privates,b||(n=j.statics,delete j.statics),m=j.privacy||c||"framework",this.addMembers(j,b,m),n&&this.addMembers(n,!0,m));for(l in a)if(a.hasOwnProperty(l)){(j=a[l])&&(j.$nullFn&&c!==j.$privacy)&&Ext.Error.raise("Cannot use stock function for private method "+(this.$className?this.$className+"#":"")+
l);if("function"===typeof j&&!j.$isClass&&!j.$nullFn)j.$owner&&(j=d(j)),e.hasOwnProperty(l)&&(j.$previous=e[l]),j.$owner=this,j.$name=l,j.displayName=p+l,m=e[l],c?(!0===c&&(c="framework"),j.$privacy=c,m&&(m.$privacy&&m.$privacy!==c)&&Ext.privacyViolation(this,m,j,b)):m&&m.$privacy&&Ext.privacyViolation(this,m,j,b);else if(g&&l in g&&!e.config.hasOwnProperty(l)){(k||(k={}))[l]=j;continue}e[l]=j}k&&this.addConfig(k);if(h){b=0;for(c=h.length;b<c;++b)if(a.hasOwnProperty(l=h[b])){if((j=a[l])&&!j.$nullFn)j.$owner&&
(j=d(j)),j.$owner=this,j.$name=l,j.displayName=p+l,e.hasOwnProperty(l)&&(j.$previous=e[l]);e[l]=j}}return this},addMember:function(a,b){l[a]=b;this.addMembers(l);delete l[a];return this},borrow:function(a,b){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var c=a.prototype,d={},e,g,h;b=Ext.Array.from(b);e=0;for(g=b.length;e<g;e++)h=b[e],d[h]=c[h];return this.addMembers(d)},override:function(a){var b=a.statics,c=a.inheritableStatics,d=a.config,e=a.mixins,g=a.cachedConfig;
if(b||c||d)a=Ext.apply({},a);b&&(this.addMembers(b,!0),delete a.statics);c&&(this.addInheritableStatics(c),delete a.inheritableStatics);d&&(this.addConfig(d),delete a.config);g&&(this.addCachedConfig(g),delete a.cachedConfig);delete a.mixins;this.addMembers(a);e&&this.mixin(e);return this},callParent:function(a){var c;return(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},callSuper:function(a){var c;return(c=this.callSuper.caller)&&
((c=c.$owner?c:c.caller)&&c.$owner.superclass.self[c.$name]).apply(this,a||b)},mixin:function(a,b){var c,d,e,g,h,j;if("string"!==typeof a)if(a instanceof Array){g=0;for(h=a.length;g<h;g++)c=a[g],this.mixin(c.prototype.mixinId||c.$className,c)}else for(c in a)this.mixin(c,a[c]);else{c=b.prototype;d=this.prototype;c.onClassMixedIn&&c.onClassMixedIn.call(b,this);d.hasOwnProperty("mixins")||(d.mixins="mixins"in d?Ext.Object.chain(d.mixins):{});for(e in c)if(g=c[e],"mixins"===e)Ext.applyIf(d.mixins,g);
else if(!("mixinId"===e||"config"===e)&&void 0===d[e])d[e]=g;if(e=c.$inheritableStatics){g=0;for(h=e.length;g<h;g++)j=e[g],this.hasOwnProperty(j)||(this[j]=b[j])}"config"in c&&this.addConfig(c.config,b);d.mixins[a]=c;c.afterClassMixedIn&&c.afterClassMixedIn.call(b,this);return this}},addConfig:function(a,b){(this.$config||this.getConfigurator()).add(a,b)},addCachedConfig:function(a,b){var c={},d;for(d in a)c[d]={cached:!0,$value:a[d]};this.addConfig(c,b)},getConfigurator:function(){return this.$config||
new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:a(function(a,b){m[a]=function(){return this[b].apply(this,arguments)};this.override(m);delete m[a]})});for(c in n)n.hasOwnProperty(c)&&d.push(c);n.$staticMembers=d;n.getConfigurator();n.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,statics:function(){var a=this.statics.caller,b=this.self;return!a?b:a.$owner},callParent:function(a){var c,
d=(c=this.callParent.caller)&&(c.$previous||(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name]);if(!d){c=this.callParent.caller;var e;if(!c.$owner){if(!c.caller)throw Error("Attempting to call a protected method from the public scope, which is not allowed");c=c.caller}e=c.$owner.superclass;c=c.$name;if(!(c in e))throw Error("this.callParent() was called but there's no such method ("+c+") found in the parent class ("+(Ext.getClassName(e)||"Object")+")");}return d.apply(this,a||b)},callSuper:function(a){var c,
d=(c=this.callSuper.caller)&&(c=c.$owner?c:c.caller)&&c.$owner.superclass[c.$name];if(!d){c=this.callSuper.caller;var e;if(!c.$owner){if(!c.caller)throw Error("Attempting to call a protected method from the public scope, which is not allowed");c=c.caller}e=c.$owner.superclass;c=c.$name;if(!(c in e))throw Error("this.callSuper() was called but there's no such method ("+c+") found in the parent class ("+(Ext.getClassName(e)||"Object")+")");}return d.apply(this,a||b)},self:n,constructor:function(){return this},
getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(a){var b=this.getConfigurator();this.initConfig=Ext.emptyFn;this.initialConfig=a||{};b.configure(this,a);return this},beforeInitConfig:Ext.emptyFn,getConfig:function(a,b){var c;a?((c=Ext.Config.map[a])||Ext.Logger.error("Invalid property name for getter: '"+a+"' for '"+this.$className+"'."),c=c.names.get,c=b&&this.hasOwnProperty(c)?this.config[a]:this[c]()):c=this.getCurrentConfig();return c},setConfig:function(a,
b,c){var d;a&&("string"===typeof a?(d={},d[a]=b):d=a,this.getConfigurator().reconfigure(this,d,c));return this},getCurrentConfig:function(){return this.getConfigurator().getCurrentConfig(this)},hasConfig:function(a){return a in this.defaultConfig},getInitialConfig:function(a){var b=this.config;return!a?b:b[a]},$links:null,link:function(a,b){(this.$links||(this.$links={}))[a]=!0;return this[a]=b},unlink:function(a){var b,c,d,e;Ext.isArray(a)||Ext.Error.raise("Invalid argument - expected array of strings");
b=0;for(c=a.length;b<c;b++)d=a[b],(e=this[d])&&(e.isInstance&&!e.isDestroyed?e.destroy():e.parentNode&&"nodeType"in e&&e.parentNode.removeChild(e)),this[d]=null;return this},destroy:function(){var a=this.$links;this.destroy=Ext.emptyFn;this.isDestroyed=!0;a&&(this.$links=null,this.unlink(Ext.Object.getKeys(a)))}});p.callOverridden=p.callParent;Ext.privacyViolation=function(a,b,c,d){var e=c.$name,g=b.$owner&&b.$owner.$className;d=d?"static ":"";c=c.$privacy?"Private "+d+c.$privacy+' method "'+e+'"':
"Public "+d+'method "'+e+'"';a.$className&&(c=a.$className+": "+c);c=b.$privacy?c+(g?" conflicts with private "+b.$privacy+" method declared by "+g:" conflicts with inherited private "+b.$privacy+" method."):c+(g?" hides public method inherited from "+g:" hides inherited public method.");a=Ext.getCompatVersion();(b=Ext.getVersion())&&a&&a.lt(b)?Ext.log.error(c):Ext.Error.raise(c)};return n}(Ext.Function.flexSetter);
(function(){function a(a){function b(){return this.constructor.apply(this,arguments)||null}a&&(b.displayName=a);return b}var b,c=Ext.Base,d=c.$staticMembers;Ext.Class=b=function(a,c,d){"function"!=typeof a&&(d=c,c=a,a=null);c||(c={});a=b.create(a,c);b.process(a,c,d);return a};Ext.apply(b,{makeCtor:a,onBeforeCreated:function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"\x3e\x3e Ext.Class#onBeforeCreated",arguments);a.addMembers(b);c.onCreated.call(a,a);Ext.classSystemMonitor&&Ext.classSystemMonitor(a,
"\x3c\x3c Ext.Class#onBeforeCreated",arguments)},create:function(b,g){var h=d.length,j;for(b||(b=a(g.$className));h--;)j=d[h],b[j]=c[j];return b},process:function(a,c,d){var j=c.preprocessors||b.defaultPreprocessors,k=this.preprocessors,l={onBeforeCreated:this.onBeforeCreated},m=[],n,p,q,r,s,t,u;delete c.preprocessors;a._classHooks=l;q=0;for(r=j.length;q<r;q++)if(n=j[q],"string"==typeof n)if(n=k[n],p=n.properties,!0===p)m.push(n.fn);else{if(p){s=0;for(t=p.length;s<t;s++)if(u=p[s],c.hasOwnProperty(u)){m.push(n.fn);
break}}}else m.push(n);l.onCreated=d?d:Ext.emptyFn;l.preprocessors=m;this.doProcess(a,c,l)},doProcess:function(a,b,c){for(var d=c.preprocessors,k=d.shift(),l=this.doProcess;k;k=d.shift())if(!1===k.call(this,a,b,c,l))return;c.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(a,b,c,d,k){d||(d="last");c||(c=[a]);this.preprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPreprocessorPosition(a,d,k);return this},getPreprocessor:function(a){return this.preprocessors[a]},
getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(a,b,c){var d=this.defaultPreprocessors;if("string"==typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,c);-1!==c&&Ext.Array.splice(d,Math.max(0,
c+b),0,a);return this}});b.registerPreprocessor("extend",function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#extendPreProcessor",arguments);var d=Ext.Base,k=d.prototype,l=b.extend,m;delete b.extend;d=l&&l!==Object?l:d;l=d.prototype;if(!d.$isClass)for(m in k)l[m]||(l[m]=k[m]);a.extend(d);a.triggerExtended.apply(a,arguments);b.onClassExtended&&(a.onExtended(b.onClassExtended,a),delete b.onClassExtended)},!0);b.registerPreprocessor("privates",function(a,b){Ext.classSystemMonitor&&
Ext.classSystemMonitor(a,"Ext.Class#privatePreprocessor",arguments);var c=b.privates,d=c.statics,k=c.privacy||!0;delete b.privates;delete c.statics;a.addMembers(c,!1,k);d&&a.addMembers(d,!0,k)});b.registerPreprocessor("statics",function(a,b){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#staticsPreprocessor",arguments);a.addStatics(b.statics);delete b.statics});b.registerPreprocessor("inheritableStatics",function(a,b){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#inheritableStaticsPreprocessor",
arguments);a.addInheritableStatics(b.inheritableStatics);delete b.inheritableStatics});b.registerPreprocessor("platformConfig",function(a,b){var c=b.platformConfig,d=b.config||{};Ext.theme||(Ext.theme={name:"Default"});var k,l,m,n,p,q;delete b.platformConfig;Ext.filterPlatform||(Ext.filterPlatform=function(a){function b(a){var c=/Mobile(\/|\s)/.test(a);return/(iPhone|iPod)/.test(a)||!/(Silk)/.test(a)&&/(Android)/.test(a)&&(/(Android 2)/.test(a)||c)||/(BlackBerry|BB)/.test(a)&&c||/(Windows Phone)/.test(a)}
function c(a){return!b(a)&&(/iPad/.test(a)||/Android/.test(a)||/(RIM Tablet OS)/.test(a)||/MSIE 10/.test(a)&&/; Touch/.test(a))}var d=!1,e=navigator.userAgent,g,h;a=[].concat(a);g=window.location.search.substr(1).split("\x26");h={};var j;for(j=0;j<g.length;j++){var k=g[j].split("\x3d");h[k[0]]=k[1]}if(g=h.platform)return-1!=a.indexOf(g);g=0;for(h=a.length;g<h;g++){switch(a[g]){case "phone":d=b(e);break;case "tablet":d=c(e);break;case "desktop":d=!b(e)&&!c(e);break;case "ios":d=/(iPad|iPhone|iPod)/.test(e);
break;case "android":d=/(Android|Silk)/.test(e);break;case "blackberry":d=/(BlackBerry|BB)/.test(e);break;case "safari":d=/Safari/.test(e)&&!/(BlackBerry|BB)/.test(e);break;case "chrome":d=/Chrome/.test(e);break;case "ie10":d=/MSIE 10/.test(e)}if(d)return!0}return!1});n=0;for(p=c.length;n<p;n++)if(m=c[n],k=m.platform,delete m.platform,l=[].concat(m.theme),q=l.length,delete m.theme,k&&Ext.filterPlatform(k)&&Ext.merge(d,m),q)for(k=0;k<q;k++)Ext.theme.name==l[k]&&Ext.merge(d,m)});b.registerPreprocessor("config",
function(a,b){b.hasOwnProperty("$configPrefixed")&&(a.prototype.$configPrefixed=b.$configPrefixed);a.addConfig(b.config);delete b.config});b.registerPreprocessor("cachedConfig",function(a,b){b.hasOwnProperty("$configPrefixed")&&(a.prototype.$configPrefixed=b.$configPrefixed);a.addCachedConfig(b.cachedConfig);delete b.cachedConfig});b.registerPreprocessor("mixins",function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#mixinsPreprocessor",arguments);var d=b.mixins,k=c.onCreated;
delete b.mixins;c.onCreated=function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments);c.onCreated=k;a.mixin(d);return c.onCreated.apply(this,arguments)}});Ext.extend=function(a,c,d){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.Class#extend-backwards-compatible",arguments);2===arguments.length&&Ext.isObject(c)&&(d=c,c=a,a=null);var j;if(!c)throw Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");
d.extend=c;d.preprocessors="extend statics inheritableStatics mixins platformConfig config".split(" ");a?(j=new b(a,d),j.prototype.constructor=a):j=new b(d);j.prototype.override=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])};return j}})();Ext.Inventory=function(){this.names=[];this.paths={};this.alternateToName={};this.aliasToName={};this.nameToAliases={};this.nameToAlternates={}};
Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(a,b){return this.addMapping(a,b,this.aliasToName,this.nameToAliases)},addAlternate:function(a,b){return this.addMapping(a,b,this.alternateToName,this.nameToAlternates)},addMapping:function(a,b,c,d){var e=a.$className||a;a=e;var g=this._array1,h,j,k,l;Ext.isString(e)&&(a={},a[e]=b);for(j in a){b=a[j];Ext.isString(b)&&(g[0]=b,b=g);k=b.length;l=d[j]||(d[j]=[]);for(e=0;e<k;++e)if((h=b[e])&&c[h]!==j)c[h]&&
Ext.log.warn("Overriding existing mapping: '"+h+"' From '"+c[h]+"' to '"+j+"'. Is this intentional?"),c[h]=j,l.push(h)}},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAlternates[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||""},getNameByAlternate:function(a){return this.alternateToName[a]||""},getNamesByExpression:function(a,b,c){var d=this.aliasToName,e=this.alternateToName,g=this.nameToAliases,h=this.nameToAlternates;
c=c?b:{};var j=[];a=Ext.isString(a)?[a]:a;var k=a.length,l=this.wildcardRe,m,n,p,q,r,s;for(n=0;n<k;++n)if(0>(m=a[n]).indexOf("*")){if(!(r=d[m]))if(!(r=e[m]))r=m;!(r in c)&&!(b&&r in b)&&(c[r]=1,j.push(r))}else for(r in s=RegExp("^"+m.replace(l,"(.*?)")+"$"),g)if(!(r in c)&&!(b&&r in b)){if(!(p=s.test(r))){for(q=(m=g[r]).length;!p&&0<q--;)p=s.test(m[q]);if((m=h[r])&&!p)for(q=m.length;!p&&0<q--;)p=s.test(m[q])}p&&(c[r]=1,j.push(r))}return j},getPath:function(a){var b=this.paths,c="",d;if(a in b)c=b[a];
else{if(d=this.getPrefix(a))a=a.substring(d.length+1),(c=b[d])&&(c+="/");c+=a.replace(this.dotRe,"/")+".js"}return c},getPrefix:function(a){if(a in this.paths)return a;for(var b=this.getPrefixes(),c=b.length,d,e;0<c--;)if(d=(e=b[c]).length,d<a.length&&"."===a.charAt(d)&&e===a.substring(0,d))return e;return""},getPrefixes:function(){var a=this.prefixes;a||(this.prefixes=a=this.names.slice(0),a.sort(this._compareNames));return a},removeName:function(a){var b=this.aliasToName,c=this.alternateToName,
d=this.nameToAliases,e=this.nameToAlternates,g=d[a],h=e[a],j;delete d[a];delete e[a];if(g)for(d=g.length;d--;)a===(j=g[d])&&delete b[j];if(h)for(d=h.length;d--;)a===(j=h[d])&&delete c[j]},resolveName:function(a){var b;if(!(a in this.nameToAliases)&&!(b=this.aliasToName[a]))b=this.alternateToName[a];return b||a},select:function(a,b){var c=this,d={},e={excludes:d,exclude:function(){c.getNamesByExpression(arguments,d,!0);return this}},g;for(g in a)e[g]=c.selectMethod(d,a[g],b||a);return e},selectMethod:function(a,
b,c){var d=this;return function(e){var g=Ext.Array.slice(arguments,1);g.unshift(d.getNamesByExpression(e,a));return b.apply(c,g)}},setPath:Ext.Function.flexSetter(function(a,b){this.paths[a]=b;this.names.push(a);this.prefixes=null;return this}),_compareNames:function(a,b){var c=a.length-b.length;c||(c=a<b?-1:1);return c}};
Ext.ClassManager=function(a,b,c,d,e){var g=Ext.Class.makeCtor,h="undefined"===typeof window,j=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:!0,namespaceParseCache:{},instantiators:[],isCreated:function(a){var b,c,d,g,h;if("string"!==typeof a||1>a.length)throw Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");if(j.classes[a]||j.existCache[a])return!0;g=e;h=j.parseNamespace(a);
b=0;for(c=h.length;b<c;b++)if(d=h[b],"string"!==typeof d)g=d;else{if(!g||!g[d])return!1;g=g[d]}j.triggerCreated(a);return!0},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},triggerCreated:function(a){j.existCache[a]||j.triggerExists(a);j.classState[a]+=20;j.notify(a,j.createdListeners,j.nameCreatedListeners)},onCreated:function(a,b,c){j.addListener(a,b,c,j.createdListeners,j.nameCreatedListeners)},triggerExists:function(a,b){j.existCache[a]=b||1;j.classState[a]+=
20;j.notify(a,j.existsListeners,j.nameExistsListeners)},onExists:function(a,b,c){j.addListener(a,b,c,j.existsListeners,j.nameExistsListeners)},notify:function(a,b,c){var d=j.getAlternatesByName(a),e=[a],g,h,k,l,m;g=0;for(h=b.length;g<h;g++)l=b[g],l.fn.call(l.scope,a);for(;e;){g=0;for(h=e.length;g<h;g++)if(m=e[g],b=c[m]){a=0;for(k=b.length;a<k;a++)l=b[a],l.fn.call(l.scope,m);delete c[m]}e=d;d=null}},addListener:function(a,b,c,d,e){if(Ext.isArray(c)){a=Ext.Function.createBarrier(c.length,a,b);for(b=
0;b<c.length;b++)this.addListener(a,null,c[b],d,e)}else{var g={fn:a,scope:b};c?this.isCreated(c)?a.call(b,c):(e[c]||(e[c]=[]),e[c].push(g)):d.push(g)}},parseNamespace:function(a){if("string"!==typeof a)throw Error("[Ext.ClassManager] Invalid namespace, must be a string");var b=this.namespaceParseCache,c,d,g,h,j,k,l,m;if(this.enableNamespaceParseCache&&b.hasOwnProperty(a))return b[a];c=[];d=this.namespaceRewrites;g=e;h=a;l=0;for(m=d.length;l<m;l++)if(j=d[l],k=j.from,j=j.to,h===k||h.substring(0,k.length)===
k){h=h.substring(k.length);"string"!==typeof j?g=j:c=c.concat(j.split("."));break}c.push(g);c=c.concat(h.split("."));this.enableNamespaceParseCache&&(b[a]=c);return c},setNamespace:function(a,b){var c=e,d=this.parseNamespace(a),g=d.length-1,h=d[g],j,k;for(j=0;j<g;j++)k=d[j],"string"!==typeof k?c=k:(c[k]||(c[k]={}),c=c[k]);c[h]=b;return c[h]},createNamespaces:function(){var a=e,b,c,d,g,h,j;d=0;for(h=arguments.length;d<h;d++){b=this.parseNamespace(arguments[d]);g=0;for(j=b.length;g<j;g++)c=b[g],"string"!==
typeof c?a=c:(a[c]||(a[c]={}),a=a[c])}return a},set:function(a,b){var c=this.getName(b);this.classes[a]=this.setNamespace(a,b);c&&c!==a&&this.addAlternate(c,a);return this},get:function(a){var b=this.classes,c,d,g;if(b[a])return b[a];b=e;a=this.parseNamespace(a);d=0;for(g=a.length;d<g;d++)if(c=a[d],"string"!==typeof c)b=c;else{if(!b||!b[c])return null;b=b[c]}return b},addNameAliasMappings:function(a){this.addAlias(a)},addNameAlternateMappings:function(a){this.addAlternate(a)},getByAlias:function(a){return this.get(this.getNameByAlias(a))},
getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,c,d){if(null!=b&&"string"!==typeof b)throw Error("[Ext.define] Invalid class name '"+b+"' specified, must be a non-empty string");var e=g(b);"function"===typeof c&&(c=c(e));b&&(j.classes[b]&&Ext.log.warn("[Ext.define] Duplicate class name '"+b+"' specified, must be a non-empty string"),e.displayName=b);c.$className=b;return new a(e,c,function(){var a=c.postprocessors||j.defaultPostprocessors,
e=j.postprocessors,g=[],h,k,l,m,n,p,s;delete c.postprocessors;k=0;for(l=a.length;k<l;k++)if(h=a[k],"string"===typeof h)if(h=e[h],p=h.properties,!0===p)g.push(h.fn);else{if(p){m=0;for(n=p.length;m<n;m++)if(s=p[m],c.hasOwnProperty(s)){g.push(h.fn);break}}}else g.push(h);c.postprocessors=g;c.createdFn=d;j.processCreate(b,this,c)})},processCreate:function(a,b,c){var d=c.postprocessors.shift(),e=c.createdFn;d?!1!==d.call(this,a,b,c,this.processCreate)&&this.processCreate(a,b,c):(Ext.classSystemMonitor&&
Ext.classSystemMonitor(a,"Ext.ClassManager#classCreated",arguments),a&&this.set(a,b),delete b._classHooks,e&&e.call(b,b),a&&this.triggerCreated(a))},createOverride:function(a,b,c){var d=this,e=b.override,g=b.requires,h=b.uses,j=b.mixins,k,l=b.compatibility,m,n=function(){var l,p,s,H,q;if(!m){p=g?g.slice(0):[];if(j)if(k=j instanceof Array){s=0;for(q=j.length;s<q;++s)Ext.isString(l=j[s])&&p.push(l)}else for(H in j)Ext.isString(l=j[H])&&p.push(l);m=!0;if(p.length){Ext.require(p,n);return}}if(k){s=0;
for(q=j.length;s<q;++s)if(Ext.isString(l=j[s]))j[s]=Ext.ClassManager.get(l)}else if(j)for(H in j)if(Ext.isString(l=j[H]))j[H]=Ext.ClassManager.get(l);l=d.get(e);delete b.override;delete b.compatibility;delete b.requires;delete b.uses;Ext.override(l,b);d.triggerCreated(a);h&&Ext.Loader.addUsedClasses(h);c&&c.call(l,l)};d.triggerExists(a,2);if(!l||Ext.checkVersion(l))d.onCreated(n,d,e);return d},instantiateByAlias:function(){var a=arguments[0],b=c.call(arguments),d=this.getNameByAlias(a);if(!d)throw Error("[Ext.createByAlias] Unrecognized alias: "+
a);b[0]=d;return Ext.create.apply(Ext,b)},instantiate:function(){Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead.");return Ext.create.apply(Ext,arguments)},dynInstantiate:function(a,b){b=d(b,!0);b.unshift(a);return Ext.create.apply(Ext,b)},getInstantiator:function(a){var b=this.instantiators,c,d;c=b[a];if(!c){d=[];for(c=0;c<a;c++)d.push("a["+c+"]");c=b[a]=new Function("c","a","return new c("+d.join(",")+")");c.displayName="Ext.create"+a}return c},postprocessors:{},
defaultPostprocessors:[],registerPostprocessor:function(a,b,c,d,e){d||(d="last");c||(c=[a]);this.postprocessors[a]={name:a,properties:c||!1,fn:b};this.setDefaultPostprocessorPosition(a,d,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=d(a);return this},setDefaultPostprocessorPosition:function(a,b,c){var d=this.defaultPostprocessors;if("string"===typeof b){if("first"===b)return d.unshift(a),this;if("last"===b)return d.push(a),this;b="after"===b?1:-1}c=Ext.Array.indexOf(d,
c);-1!==c&&Ext.Array.splice(d,Math.max(0,c+b),0,a);return this}});j.registerPostprocessor("alias",function(a,c,d){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#aliasPostProcessor",arguments);var e=Ext.Array.from(d.alias),g,h;g=0;for(h=e.length;g<h;g++)b=e[g],this.addAlias(c,b)},["xtype","alias"]);j.registerPostprocessor("singleton",function(a,b,c,d){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#singletonPostProcessor",arguments);if(c.singleton)d.call(this,
a,new b,c);else return!0;return!1});j.registerPostprocessor("alternateClassName",function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var d=c.alternateClassName,e,g,h;d instanceof Array||(d=[d]);e=0;for(g=d.length;e<g;e++){h=d[e];if("string"!==typeof h)throw Error("[Ext.define] Invalid alternate of: '"+h+"' for class: '"+a+"'; must be a valid string");this.set(h,b)}});j.registerPostprocessor("debugHooks",function(a,b,c){Ext.classSystemMonitor&&
Ext.classSystemMonitor(b,"Ext.Class#debugHooks",arguments);Ext.isDebugEnabled(b.$className,c.debugHooks.$enabled)&&(delete c.debugHooks.$enabled,Ext.override(b,c.debugHooks));delete (b.isInstance?b.self:b).prototype.debugHooks});j.registerPostprocessor("deprecated",function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(b,"Ext.Class#deprecated",arguments);var d=b.isInstance?b.self:b;d.addDeprecations(c.deprecated);delete d.prototype.deprecated});Ext.apply(Ext,{create:function(){var a=arguments[0],
b=typeof a,d=c.call(arguments,1);if("function"===b)b=a;else{if("string"!==b&&0===d.length&&(d=[a],!(a=a.xclass)))(a=d[0].xtype)&&(a="widget."+a);if("string"!==typeof a||1>a.length)throw Error("[Ext.create] Invalid class name or alias '"+a+"' specified, must be a non-empty string");a=j.resolveName(a);b=j.get(a)}b||(!h&&Ext.log.warn("[Ext.Loader] Synchronously loading '"+a+"'; consider adding Ext.require('"+a+"') above Ext.onReady"),Ext.syncRequire(a),b=j.get(a));if(!b)throw Error("[Ext.create] Unrecognized class name / alias: "+
a);if("function"!==typeof b)throw Error("[Ext.create] Singleton '"+a+"' cannot be instantiated.");return j.getInstantiator(d.length)(b,d)},widget:function(a,b){var c=a,d,e,g;"string"!==typeof c?(b=a,c=b.xtype,e=b.xclass):b=b||{};if(b.isComponent)return b;e||(d="widget."+c,e=j.getNameByAlias(d));e&&(g=j.get(e));return!g?Ext.create(e||d,b):new g(b)},createByAlias:b(j,"instantiateByAlias"),define:function(a,b,c){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"ClassManager#define",arguments);if(b.override)return j.classState[a]=
20,j.createOverride.apply(j,arguments);j.classState[a]=10;return j.create.apply(j,arguments)},undefine:function(a){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#undefine",arguments);var b=j.classes,c,d,e;delete j.namespaceParseCache[a];delete b[a];delete j.existCache[a];delete j.classState[a];j.removeName(a);b=j.parseNamespace(a);c=b.length-1;d=b[0];for(e=1;e<c;e++)if(d=d[b[e]],!d)return;try{delete d[b[c]]}catch(g){d[b[c]]=void 0}},getClassName:b(j,"getName"),getDisplayName:function(a){if(a){if(a.displayName)return a.displayName;
if(a.$name&&a.$class)return Ext.getClassName(a.$class)+"#"+a.$name;if(a.$className)return a.$className}return"Anonymous"},getClass:b(j,"getClass"),namespace:b(j,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;a.registerPreprocessor("className",function(a,b){"$className"in b&&(a.$className=b.$className,a.displayName=a.$className);Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#classNamePreprocessor",arguments)},!0,"first");a.registerPreprocessor("alias",function(a,
b){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#aliasPreprocessor",arguments);var c=a.prototype,e=d(b.xtype),g=d(b.alias),h=Array.prototype.slice.call(c.xtypesChain||[]),j=Ext.merge({},c.xtypesMap||{}),k,l,m,n;k=0;for(l=g.length;k<l;k++){m=g[k];if("string"!==typeof m||1>m.length)throw Error("[Ext.define] Invalid alias of: '"+m+"' for class: '"+r+"'; must be a valid string");"widget."===m.substring(0,7)&&(n=m.substring(7),Ext.Array.include(e,n))}a.xtype=b.xtype=e[0];b.xtypes=
e;k=0;for(l=e.length;k<l;k++)n=e[k],j[n]||(j[n]=!0,h.push(n));b.xtypesChain=h;b.xtypesMap=j;Ext.Function.interceptAfter(b,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(a,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var b=c.mixins,d,g;for(d in b)if(b.hasOwnProperty(d)&&(g=b[d],e=g.xtypes)){k=0;for(l=e.length;k<l;k++)n=e[k],j[n]||(j[n]=!0,h.push(n))}});k=0;for(l=e.length;k<l;k++){n=e[k];if("string"!==typeof n||1>n.length)throw Error("[Ext.define] Invalid xtype of: '"+
n+"' for class: '"+r+"'; must be a valid non-empty string");Ext.Array.include(g,"widget."+n)}b.alias=g},["xtype","alias"]);if(Ext.manifest){var k=Ext.manifest,l=k.classes,m=k.paths,n={},p={},q,r,s;if(m){if(k.bootRelative)for(s in k=Ext.Boot.baseUrl,m)m.hasOwnProperty(s)&&(m[s]=k+m[s]);j.setPath(m)}if(l)for(q in l)p[q]=[],n[q]=[],m=l[q],m.alias&&(n[q]=m.alias),m.alternates&&(p[q]=m.alternates);j.addAlias(n);j.addAlternate(p)}return j}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,
Ext.global);Ext.env||(Ext.env={});
Ext.env.Browser=function(a,b){var c=this.browserPrefixes,d=this.enginePrefixes,e=a.match(RegExp("((?:"+Ext.Object.getValues(c).join(")|(?:")+"))([\\w\\._]+)")),g=a.match(RegExp("((?:"+Ext.Object.getValues(d).join(")|(?:")+"))([\\w\\._]+)")),h=this.browserNames,j=h.other,k=this.engineNames,l=k.other,m="",n="",p="",q=!1,r,s;this.userAgent=a;e&&(j=h[Ext.Object.getKey(c,e[1])],"Safari"===j&&/^Opera/.test(a)&&(j="Opera"),m=new Ext.Version(e[2]));g&&(l=k[Ext.Object.getKey(d,g[1])],n=new Ext.Version(g[2]));
if("Trident"==l&&"IE"!=j&&(j="IE",(c=a.match(/.*rv:(\d+.\d+)/))&&c.length))c=c[1],m=new Ext.Version(c);a.match(/FB/)&&"Other"==j&&(j=h.safari,l=k.webkit);a.match(/Android.*Chrome/g)&&(j="ChromeMobile");a.match(/OPR/)&&(j="Opera",e=a.match(/OPR\/(\d+.\d+)/),m=new Ext.Version(e[1]));Ext.apply(this,{engineName:l,engineVersion:n,name:j,version:m});this.setFlag(j,!0,b);if(m){p=m.getMajor()||"";if(this.is.IE){p=parseInt(p,10);r=document.documentMode;if(7==r||7==p&&8!=r&&9!=r&&10!=r)p=7;else if(8==r||8==
p&&8!=r&&9!=r&&10!=r)p=8;else if(9==r||9==p&&7!=r&&8!=r&&10!=r)p=9;else if(10==r||10==p&&7!=r&&8!=r&&9!=r)p=10;else if(11==r||11==p&&7!=r&&8!=r&&9!=r&&10!=r)p=11;d=Math.max(p,11);for(r=7;r<=d;++r)c="isIE"+r,p<=r&&(Ext[c+"m"]=!0),p===r&&(Ext[c]=!0),p>=r&&(Ext[c+"p"]=!0)}this.is.Opera&&12>=parseInt(p,10)&&(Ext.isOpera12m=!0);Ext.chromeVersion=Ext.isChrome?p:0;Ext.firefoxVersion=Ext.isFirefox?p:0;Ext.ieVersion=Ext.isIE?p:0;Ext.operaVersion=Ext.isOpera?p:0;Ext.safariVersion=Ext.isSafari?p:0;Ext.webKitVersion=
Ext.isWebKit?p:0;this.setFlag(j+p,!0,b);this.setFlag(j+m.getShortVersion())}for(r in h)h.hasOwnProperty(r)&&(s=h[r],this.setFlag(s,j===s));this.setFlag(s);n&&(this.setFlag(l+(n.getMajor()||"")),this.setFlag(l+n.getShortVersion()));for(r in k)k.hasOwnProperty(r)&&(s=k[r],this.setFlag(s,l===s,b));this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);"undefined"!=
typeof window.PhoneGap||"undefined"!=typeof window.Cordova||"undefined"!=typeof window.cordova?(q=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")):window.isNK&&(q=!0,this.setFlag("Sencha"));/(Glass)/i.test(a)&&this.setFlag("GoogleGlass");/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(a)&&(q=!0);this.setFlag("WebView",q);this.isStrict=Ext.isStrict="CSS1Compat"==document.compatMode;this.isSecure=/^https/i.test(window.location.protocol);this.identity=j+p+(this.isStrict?"Strict":"Quirks")};
Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",
safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(a){return!!this.is[a]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(a,b,c){"undefined"==
typeof b&&(b=!0);this.is[a]=b;this.is[a.toLowerCase()]=b;c&&(Ext["is"+a]=b);return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(a){var b=this.propertyPrefixes[this.engineName];return 0<b.length?b+Ext.String.capitalize(a):a},getPreferredTranslationMethod:function(a){return"object"==typeof a&&"translationMethod"in a&&"auto"!==a.translationMethod?a.translationMethod:
this.is.AndroidStock2||this.is.IE?"scrollposition":"csstransform"}};(function(a){Ext.browser=new Ext.env.Browser(a,!0);Ext.userAgent=a.toLowerCase()})(Ext.global.navigator.userAgent);
Ext.env.OS=function(a,b,c){var d=this.names,e=this.prefixes,g,h="",j=this.is,k,l;c=c||Ext.browser;for(k in e)if(e.hasOwnProperty(k)&&(l=e[k],l=a.match(RegExp("(?:"+l+")([^\\s;]+)")))){g=d[k];h=(e=l[1])&&"HTC_"==e?new Ext.Version("2.3"):e&&"Silk/"==e?new Ext.Version("2.3"):new Ext.Version(l[l.length-1]);break}g||(g=d[(a.toLowerCase().match(/mac|win|linux/)||["other"])[0]],h=new Ext.Version(""));this.name=g;this.version=h;b&&this.setFlag(b.replace(/ simulator$/i,""));this.setFlag(g);h&&(this.setFlag(g+
(h.getMajor()||"")),this.setFlag(g+h.getShortVersion()));for(k in d)d.hasOwnProperty(k)&&(a=d[k],j.hasOwnProperty(g)||this.setFlag(a,g===a));"iOS"==this.name&&568==window.screen.height&&this.setFlag("iPhone5");if(c.is.Safari||c.is.Silk){if(this.is.Android2||this.is.Android3||501==c.version.shortVersion)c.setFlag("AndroidStock"),c.setFlag("AndroidStock2");this.is.Android4&&(c.setFlag("AndroidStock"),c.setFlag("AndroidStock4"))}};
Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",
bada:"Bada/",chrome:"CrOS "},is:function(a){return!!this[a]},name:null,version:null,setFlag:function(a,b){"undefined"==typeof b&&(b=!0);this.flags&&(this.flags[a]=b);this.is[a]=b;this.is[a.toLowerCase()]=b;return this}};
(function(){var a=Ext.global.navigator,b=a.userAgent,c=Ext.env.OS,d=Ext.is||(Ext.is={}),e;c.prototype.flags=d;Ext.os=a=new c(b,a.platform);e=a.name;Ext["is"+e]=!0;Ext.isMac=d.Mac=d.MacOS;var d=window.location.search.match(/deviceType=(Tablet|Phone)/),g=window.deviceType;d&&d[1]?b=d[1]:"iPhone"===g?b="Phone":"iPad"===g?b="Tablet":!a.is.Android&&!a.is.iOS&&!a.is.WindowsPhone&&/Windows|Linux|MacOS/.test(e)?(b="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple):b=a.is.iPad||a.is.RIMTablet||a.is.Android3||
Ext.browser.is.Silk||a.is.Android4&&-1==b.search(/mobile/i)?"Tablet":"Phone";a.setFlag(b,!0);a.deviceType=b;delete c.prototype.flags})();
Ext.feature={has:function(a){return!!this.has[a]},testElements:{},getTestElement:function(a,b){if(void 0===a)a="div";else if("string"!==typeof a)return a;if(b)return document.createElement(a);this.testElements[a]||(this.testElements[a]=document.createElement(a));return this.testElements[a]},isStyleSupported:function(a,b){var c=this.getTestElement(b).style,d=Ext.String.capitalize(a);return"undefined"!==typeof c[a]||"undefined"!==typeof c[Ext.browser.getStylePrefix(a)+d]?!0:!1},isStyleSupportedWithoutPrefix:function(a,
b){return"undefined"!==typeof this.getTestElement(b).style[a]?!0:!1},isEventSupported:function(a,b){void 0===b&&(b=window);var c=this.getTestElement(b),d="on"+a.toLowerCase(),e=d in c;!e&&(c.setAttribute&&c.removeAttribute)&&(c.setAttribute(d,""),e="function"===typeof c[d],"undefined"!==typeof c[d]&&(c[d]=void 0),c.removeAttribute(d));return e},getStyle:function(a,b){var c=a.ownerDocument.defaultView;return((c?c.getComputedStyle(a,null):a.currentStyle)||a.style)[b]},getSupportedPropertyName:function(a,
b){var c=Ext.browser.getVendorProperyName(b);return c in a?c:b in a?b:null},detect:function(a){var b=document,c=this.toRun||this.tests,d=c.length,e=b.createElement("div"),g=[],h=Ext.supports,j=this.has,k,l,m,n;Ext.theme||(Ext.theme={name:"Default"});Ext.theme.is={};Ext.theme.is[Ext.theme.name]=!0;e.innerHTML='\x3cdiv style\x3d"height:30px;width:50px;"\x3e\x3cdiv style\x3d"height:20px;width:20px;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"width: 200px; height: 200px; position: relative; padding: 5px;"\x3e\x3cdiv style\x3d"position: absolute; top: 0; left: 0; width: 100%; height: 100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"position: absolute; left: 10%; top: 10%;"\x3e\x3c/div\x3e\x3cdiv style\x3d"float:left; background-color:transparent;"\x3e\x3c/div\x3e';
a&&b.body.appendChild(e);for(m=this.preDetected[Ext.browser.identity]||[];d--;){l=c[d];n=m[d];k=l.name;if(void 0===n){if(!a&&l.ready){g.push(l);continue}n=l.fn.call(this,b,e)}h[k]=j[k]=n}a&&b.body.removeChild(e);this.toRun=g},report:function(){var a=[],b=this.tests.length,c;for(c=0;c<b;++c)a.push(this.has[this.tests[c].name]?1:0);Ext.log(Ext.browser.identity+": ["+a.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(a){return"pointerEvents"in a.documentElement.style}},{name:"CSS3BoxShadow",
fn:function(a){return"boxShadow"in a.documentElement.style||"WebkitBoxShadow"in a.documentElement.style||"MozBoxShadow"in a.documentElement.style}},{name:"ClassList",fn:function(a){return!!a.documentElement.classList}},{name:"Canvas",fn:function(){var a=this.getTestElement("canvas");return!(!a||!a.getContext||!a.getContext("2d"))}},{name:"Svg",fn:function(a){return!(!a.createElementNS||!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var a=this.getTestElement(),
b=!1;a.innerHTML="\x3c!--[if vml]\x3e\x3cbr\x3e\x3c![endif]--\x3e";b=1===a.childNodes.length;a.innerHTML="";return b}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"Touch",fn:function(){var a=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return this.isEventSupported("touchend")&&1!==a||1<a}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",
fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},
{name:"CreateContextualFragment",fn:function(){var a=document.createRange?document.createRange():!1;return a&&!!a.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&
!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test",
"test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(a){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var a=new XMLHttpRequest;return a&&"upload"in a&&"onprogress"in a.upload}return!1}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&2>Ext.os.version.getMinor())}},
{name:"ProperHBoxStretching",ready:!0,fn:function(){var a=document.createElement("div"),b=a.appendChild(document.createElement("div")),c=b.appendChild(document.createElement("div"));a.setAttribute("style","width: 100px; height: 100px; position: relative;");b.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;");
c.setAttribute("style","width: 200px; height: 50px;");document.body.appendChild(a);b=b.offsetWidth;document.body.removeChild(a);return 100<b}},{name:"matchesSelector",fn:function(){var a=document.documentElement;return a.matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":null}},{name:"RightMargin",ready:!0,fn:function(a,b){var c=a.defaultView;return!(c&&"0px"!=c.getComputedStyle(b.firstChild.firstChild,
null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&533>a}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&534.24>a}},{name:"TransparentColor",ready:!0,fn:function(a,b,c){c=a.defaultView;return!(c&&"transparent"!=c.getComputedStyle(b.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(a,b,c){return(c=a.defaultView)&&c.getComputedStyle}},{name:"Float",fn:function(a){return"cssFloat"in
a.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(a){var b="borderRadius BorderRadius MozBorderRadius WebkitBorderRadius OBorderRadius KhtmlBorderRadius".split(" "),c=!1,d;for(d=0;d<b.length;d++)void 0!==a.documentElement.style[b[d]]&&(c=!0);return c&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(a,b){b.style.cssText="background-image:-webkit-gradient(linear, left top, right bottom, from(black), to(white));background-image:linear-gradient(left top, black, white);background-image:-moz-linear-gradient(left top, black, white);background-image:-ms-linear-gradient(left top, black, white);background-image:-o-linear-gradient(left top, black, white)";
return-1!==(""+b.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(a){return"onmouseenter"in a.documentElement&&"onmouseleave"in a.documentElement}},{name:"MouseWheel",fn:function(a){return"onmousewheel"in a.documentElement}},{name:"Opacity",fn:function(a,b){if(Ext.isIE8)return!1;b.firstChild.style.cssText="opacity:0.73";return"0.73"==b.firstChild.style.opacity}},{name:"Placeholder",fn:function(a){return"placeholder"in a.createElement("input")}},{name:"Direct2DBug",
fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(a){return"getBoundingClientRect"in a.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(a){a=a.body;var b=!1,c=this.getTestElement(),d=c.style;c.getBoundingClientRect&&(d.WebkitTransform=d.MozTransform=d.msTransform=d.OTransform=d.transform="rotate(90deg)",d.width="100px",d.height="30px",a.appendChild(c),b=100!==c.getBoundingClientRect().height,a.removeChild(c));
return b}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(a,b){return 210==b.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(a){return"maxlength"in a.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(a,b){return"10%"==Ext.feature.getStyle(b.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,
fn:function(a){var b=!1,c,d;Ext.getScrollbarSize().height&&(d=this.getTestElement(),c=d.style,c.height="50px",c.width="50px",c.overflow="auto",c.position="absolute",d.innerHTML='\x3cdiv style\x3d"display:table;height:100%;"\x3e\x3cdiv style\x3d"width:51px;"\x3e\x3c/div\x3e\x3c/div\x3e',a.body.appendChild(d),50===d.firstChild.offsetHeight&&(b=!0),a.body.removeChild(d));return b}},{name:"xOriginBug",ready:!0,fn:function(a,b){b.innerHTML='\x3cdiv id\x3d"b1" style\x3d"height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"\x3e\x3cdiv id\x3d"b2" style\x3d"position:relative;width:100%;height:20px;"\x3e\x3c/div\x3e\x3cdiv id\x3d"b3" style\x3d"position:absolute;width:20px;height:20px;top:0px;right:0px"\x3e\x3c/div\x3e\x3c/div\x3e';
var c=document.getElementById("b1").getBoundingClientRect(),d=document.getElementById("b2").getBoundingClientRect(),e=document.getElementById("b3").getBoundingClientRect();return d.left!==c.left&&e.right!==c.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(a){var b=!1,c,d;d=a.createElement("div");c=d.style;c.height="50px";c.width="50px";c.padding="10px";c.overflow="hidden";c.position="absolute";d.innerHTML='\x3cspan style\x3d"display:inline-block;zoom:1;height:60px;width:60px;"\x3e\x3c/span\x3e';
a.body.appendChild(d);70===d.scrollWidth&&(b=!0);a.body.removeChild(d);return b}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(a,b){b.innerHTML='\x3cdiv style\x3d"height:100px;width:100px;direction:rtl;overflow:scroll"\x3e\x3cdiv style\x3d"width:20px;height:200px;"\x3e\x3c/div\x3e\x3c/div\x3e';var c=b.firstChild,d=c.firstChild;return d.offsetLeft+d.offsetWidth!==c.offsetLeft+c.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(a,b){b.innerHTML='\x3cdiv style\x3d"height:100px;width:100px;direction:rtl;overflow:auto"\x3e\x3cdiv style\x3d"width:95px;height:200px;"\x3e\x3c/div\x3e\x3c/div\x3e';
var c=b.firstChild;return c.clientHeight===c.offsetHeight}},{identity:"defineProperty",fn:function(){return Ext.isIE8m?(Ext.Object.defineProperty=Ext.emptyFn,!1):!0}},{identify:"nativeXhr",fn:function(){if("undefined"!==typeof XMLHttpRequest)return!0;XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return null}};return!1}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(Ext.isGecko&&
!Ext.isWindows||Ext.isOpera&&12>Ext.operaVersion)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var a=document.documentMode;return"onhashchange"in window&&(void 0===a||7<a)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var a=document.createElement("div"),b=document.createElement("div");a.setAttribute("style","display:table;table-layout:fixed;");b.setAttribute("style","display:table-cell;min-width:50px;");a.appendChild(b);
document.body.appendChild(a);a.offsetWidth;a.style.width="25px";b=a.offsetWidth;document.body.removeChild(a);return 50===b}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}}]};Ext.supports={};Ext.feature.detect();
Ext.env.Ready={blocks:0<(location.search||"").indexOf("ext-pauseReadyFire")?1:0,bound:0,delay:1,events:[],firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;if(!a.bound)if("complete"==b.readyState)a.onReadyEvent({type:b.readyState||"body"});else a.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(a.bound=2,b.addEventListener("deviceready",a.onReadyEvent,!1)),b.addEventListener("DOMContentLoaded",a.onReadyEvent,!1),window.addEventListener("load",
a.onReadyEvent,!1)},block:function(){++this.blocks;Ext.isReady=!1},fireReady:function(){var a=Ext.env.Ready;a.state||(Ext._readyTime=Ext.now(),Ext.isDomReady=!0,a.state=1,Ext.feature.detect(!0),a.delay?navigator.standalone?a.timer=Ext.defer(function(){a.timer=null;a.handleReadySoon()},1):a.handleReadySoon():a.handleReady())},handleReady:function(){1===this.state&&(this.state=2,Ext._beforeReadyTime=Ext.now(),this.invokeAll(),Ext._afterReadytime=Ext.now())},handleReadySoon:function(a){var b=this;b.timer||
(b.timer=Ext.defer(function(){b.timer=null;b.handleReady()},a||b.delay))},invoke:function(a){var b=a.delay;b?Ext.defer(function(){a.fn.call(a.scope)},b):a.fn.call(a.scope)},invokeAll:function(){var a=this.listeners,b;this.blocks||(Ext.isReady=!0);for(this.firing=!0;a.length;){this.sortGeneration!==this.generation&&(this.sortGeneration=this.generation,a.sort(this.sortFn));b=a.pop();if(this.blocks&&!b.dom){a.push(b);break}this.invoke(b)}this.firing=!1},makeListener:function(a,b,c){a={fn:a,id:++this.nextId,
scope:b,dom:!1,priority:0};c&&Ext.apply(a,c);a.phase=a.dom?0:1;return a},on:function(a,b,c){var d=Ext.env.Ready;a=d.makeListener(a,b,c);2===d.state&&!d.firing&&(a.dom||!d.blocks)?d.invoke(a):(d.listeners.push(a),++d.generation,d.bound||d.bind())},onReadyEvent:function(a){var b=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(b.doReadyEvent,b,arguments):b.doReadyEvent(a)},doReadyEvent:function(a){a&&a.type&&this.events.push(a);0<this.bound&&(this.unbind(),this.bound=-1);this.state||this.fireReady()},
sortFn:function(a,b){return-(a.phase-b.phase||b.priority-a.priority||a.id-b.id)},unblock:function(){this.blocks&&(--this.blocks||2===this.state&&!this.firing&&this.invokeAll())},unbind:function(){var a=document;1<this.bound&&a.removeEventListener("deviceready",this.onReadyEvent,!1);a.removeEventListener("DOMContentLoaded",this.onReadyEvent,!1);window.removeEventListener("load",this.onReadyEvent,!1)}};
(function(){var a=Ext.env.Ready;Ext.isIE9m&&Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=!0;try{document.documentElement.doScroll("left")}catch(c){b=!1}if(b&&document.body)a.onReadyEvent({type:"doScroll"});else a.scrollTimer=Ext.defer(a.pollScroll,20);return b},bind:function(){if(!a.bound){var b=document,c;try{c=void 0===window.frameElement}catch(d){}if(!c||!b.documentElement.doScroll)a.pollScroll=Ext.emptyFn;else if(a.pollScroll())return;if("complete"==b.readyState)a.onReadyEvent({type:"already "+
(b.readyState||"body")});else b.attachEvent("onreadystatechange",a.onReadyStateChange),window.attachEvent("onload",a.onReadyEvent),a.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",a.onReadyStateChange);window.detachEvent("onload",a.onReadyEvent);Ext.isNumber(a.scrollTimer)&&(clearTimeout(a.scrollTimer),a.scrollTimer=null)},onReadyStateChange:function(){var b=document.readyState;if(a.readyStatesRe.test(b))a.onReadyEvent({type:b})}});Ext.onDocumentReady=function(b,c,d){var e=
{dom:!0};d&&Ext.apply(e,d);a.on(b,c,e)};Ext.onReady=function(b,c,d){a.on(b,c,d)};a.bind()})();
Ext.Loader=new function(){var a=this,b=Ext.ClassManager,c=Ext.Boot,d=Ext.Class,e=Ext.env.Ready,g=Ext.Function.alias,h=["extend","mixins","requires"],j={},k=[],l=[],m=[],n={},p={},q={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:b.paths,preserveScripts:!0,scriptCharset:void 0},r={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(a,{isInHistory:j,isLoading:!1,history:k,config:q,readyListeners:l,optionalRequires:m,requiresMap:n,
hasFileLoadError:!1,scriptsLoading:0,classesLoading:[],syncModeEnabled:!1,missingQueue:p,init:function(){var c=document.getElementsByTagName("script"),d=c[c.length-1].src,g=d.substring(0,d.lastIndexOf("/")+1),h=Ext._classPathMetadata,c=Ext.Microloader,j=Ext.manifest,k;-1!==d.indexOf("packages/sencha-core/src/")?g+="../../":-1!==d.indexOf("/core/src/class/")&&(g+="../../../");b.getPath("Ext")||b.setPath("Ext",g+"src");h&&(Ext._classPathMetadata=null,a.addClassPathMappings(h));if(j&&(d=j.loadOrder,
g=Ext.Boot.baseUrl,d&&j.bootRelative)){j=d.length;for(h=0;h<j;h++)k=d[h],k.path=g+k.path}c&&(e.block(),c.onMicroloaderReady(function(){e.unblock()}))},setConfig:Ext.Function.flexSetter(function(b,d){if("paths"===b)a.setPath(d);else{q[b]=d;var e=r[b];e&&c.setConfig(!0===e?b:e,d)}return a}),getConfig:function(a){return a?q[a]:q},setPath:function(){b.setPath.apply(b,arguments);return a},addClassPathMappings:function(c){b.setPath(c);return a},addBaseUrlClassPathMappings:function(a){for(var b in a)a[b]=
c.baseUrl+a[b];Ext.Loader.addClassPathMappings(a)},getPath:function(a){return b.getPath(a)},require:function(c,d,e,g){if(g)return a.exclude(g).require(c,d,e);c=b.getNamesByExpression(c);return a.load(c,d,e)},syncRequire:function(){var b=a.syncModeEnabled;a.syncModeEnabled=!0;var c=a.require.apply(a,arguments);a.syncModeEnabled=b;return c},exclude:function(c){var d=b.select({require:function(b,c,d){return a.load(b,c,d)},syncRequire:function(b,c,d){var e=a.syncModeEnabled;a.syncModeEnabled=!0;b=a.load(b,
c,d);a.syncModeEnabled=e;return b}});d.exclude(c);return d},load:function(c,d,e){d&&(d.length&&(d=a.makeLoadCallback(c,d)),d=d.bind(e||Ext.global));var g=[],h=c.length,j,k,l=[],m=b.classState;for(k=0;k<h;++k)j=b.resolveName(c[k]),b.isCreated(j)||(g.push(j),p[j]=a.getPath(j),m[j]||l.push(p[j]));(j=g.length)?(a.missingCount+=j,Ext.Array.push(a.classesLoading,g),b.onExists(function(){Ext.Array.remove(a.classesLoading,g);Ext.each(g,function(b){Ext.Array.remove(a.classesLoading,b)});d&&Ext.callback(d,
e,arguments);a.checkReady()},a,g),q.enabled||Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<g.length?"es":"")+": "+g.join(", ")),l.length?a.loadScripts({url:l,_classNames:g}):a.checkReady()):(d&&d.call(e),a.checkReady());return a.syncModeEnabled&&1===h?b.get(c[0]):a},makeLoadCallback:function(a,c){return function(){for(var d=[],e=a.length;0<e--;)d[e]=b.get(a[e]);return c.apply(this,d)}},onLoadFailure:function(){var b=this.onError;
a.hasFileLoadError=!0;--a.scriptsLoading;b?b.call(this.userScope,this):Ext.log.error("[Ext.Loader] Some requested files failed to load.");a.checkReady()},onLoadSuccess:function(){var b=this.onLoad;--a.scriptsLoading;b&&b.call(this.userScope,this);a.checkReady()},reportMissingClasses:function(){if(!a.syncModeEnabled&&!a.scriptsLoading&&a.isLoading&&!a.hasFileLoadError){var b=[],c=[],d;for(d in p)b.push(d),c.push(p[d]);if(b.length)throw Error("The following classes are not declared even if their files have been loaded: '"+
b.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+c.join("', '"));}},onReady:function(b,c,d,g){if(d)e.on(b,c,g);else b=e.makeListener(b,c,g),a.isLoading?l.push(b):e.invoke(b)},addUsedClasses:function(b){var c,d,e;if(b){b="string"===typeof b?[b]:b;d=0;for(e=b.length;d<e;d++)c=b[d],"string"===typeof c&&!Ext.Array.contains(m,c)&&m.push(c)}return a},triggerReady:function(){var b;b=m;if(a.isLoading&&b.length)m=[],a.require(b);else{a.isLoading=!1;for(l.sort(e.sortFn);l.length&&
!a.isLoading;)b=l.pop(),e.invoke(b);e.unblock()}},historyPush:function(b){b&&!j[b]&&(j[b]=!0,k.push(b));return a},loadScripts:function(b){var d=Ext.manifest,e=d&&d.loadOrder,g=d&&d.loadOrderMap;++a.scriptsLoading;e&&!g&&(d.loadOrderMap=g=c.createLoadOrderMap(e));a.checkReady();b=Ext.apply({loadOrder:e,loadOrderMap:g,charset:q.scriptCharset,success:a.onLoadSuccess,failure:a.onLoadFailure,sync:a.syncModeEnabled,_classNames:[]},b);b.userScope=b.scope;b.scope=b;c.load(b)},loadScriptsSync:function(b){var c=
a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:b});a.syncModeEnabled=c},loadScriptsSyncBasePrefix:function(b){var c=a.syncModeEnabled;a.syncModeEnabled=!0;a.loadScripts({url:b,prependBaseUrl:!0});a.syncModeEnabled=c},loadScript:function(b){var c=!(b instanceof Array)&&"string"!==typeof b;a.loadScripts({url:c?b.url:b,scope:c&&b.scope,onLoad:c&&b.onLoad,onError:c&&b.onError,_classNames:[]})},flushMissingQueue:function(){var a,c=0,d=0;for(a in p)c++,b.isCreated(a)?delete p[a]:2===b.existCache[a]?
delete p[a]:++d;this.missingCount=d},checkReady:function(){var b=a.isLoading,c;a.flushMissingQueue();(c=a.missingCount+a.scriptsLoading)&&!b?(e.block(),a.isLoading=!!c):!c&&b&&a.triggerReady()}});Ext.require=g(a,"require");Ext.syncRequire=g(a,"syncRequire");Ext.exclude=g(a,"exclude");d.registerPreprocessor("loader",function(c,d,e,g){Ext.classSystemMonitor&&Ext.classSystemMonitor(c,"Ext.Loader#loaderPreprocessor",arguments);var j=this,k=[],l,m=b.getName(c),p,q,C,r,D,F,G,I;p=0;for(C=h.length;p<C;p++)if(F=
h[p],d.hasOwnProperty(F))if(G=d[F],"string"==typeof G)k.push(G);else if(G instanceof Array){q=0;for(r=G.length;q<r;q++)D=G[q],"string"==typeof D&&k.push(D)}else if("function"!=typeof G)for(q in G)G.hasOwnProperty(q)&&(D=G[q],"string"==typeof D&&k.push(D));if(0!==k.length){m&&(n[m]=k);var H=[],J;if(m){I=a.requiredByMap||(a.requiredByMap={});p=0;for(C=k.length;p<C;p++)l=k[p],(I[l]||(I[l]=[])).push(m);J=function(a){H.push(a);if(n[a]){Ext.Array.contains(n[a],m)&&Ext.Error.raise("Circular requirement detected! '"+
m+"' and '"+H[1]+"' mutually require each other. Path: "+H.join(" -\x3e ")+" -\x3e "+H[0]);p=0;for(C=n[a].length;p<C;p++)J(n[a][p])}};J(m)}(m?a.exclude(m):a).require(k,function(){p=0;for(C=h.length;p<C;p++)if(F=h[p],d.hasOwnProperty(F))if(G=d[F],"string"==typeof G)d[F]=b.get(G);else if(G instanceof Array){q=0;for(r=G.length;q<r;q++)D=G[q],"string"==typeof D&&(d[F][q]=b.get(D))}else if("function"!=typeof G)for(var a in G)G.hasOwnProperty(a)&&(D=G[a],"string"==typeof D&&(d[F][a]=b.get(D)));g.call(j,
c,d,e)});return!1}},!0,"after","className");b.registerPostprocessor("uses",function(b,c,d){Ext.classSystemMonitor&&Ext.classSystemMonitor(c,"Ext.Loader#usesPostprocessor",arguments);var e=Ext.manifest,g=e&&e.loadOrder,e=e&&e.classes,h,j,k;if(g&&(e=e[b])&&!isNaN(h=e.idx)){h=g[h];e=h.uses;k={};j=e.length;for(h=0;h<j;h++)k[e[h]]=!0;e=Ext.Boot.getPathsFromIndexes(k,g,!0);0<e.length&&a.loadScripts({url:e,sequential:!0})}d.uses&&(e=d.uses,a.addUsedClasses(e))});b.onCreated(a.historyPush);a.init()};
Ext._endTime=(new Date).getTime();Ext._beforereadyhandler&&Ext._beforereadyhandler();
Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(a,b,c,d,e){var g=this.lateBindingMap,h=this.getAll(d),j=h.length,k="string"===typeof a,l;if(k&&b&&b.isIdentifiable){l=b.getId();if(j=g[l]){if(j[a])return!1}else g[l]=j={};j[a]=!0}else if(0<j)for(;j--;)if(g=h[j],g.fn===a&&g.scope===b)return g.options=c,!1;k||((g=Ext._namedScopes[b])&&g.isController&&Ext.Error.raise("Cannot resolve scope 'controller' for '"+
c.type+"' listener declared on Observable: '"+e.id+"'"),b=b&&!g?b:e);g=this.create(a,b,c,d,e);if(k&&(!b||b in Ext._namedScopes))g.boundFn=this.bindDynamicScope(e,a,b),g.isLateBinding=!1;c&&c.prepend?(delete c.prepend,h.unshift(g)):h.push(g);this.length++;return!0},bindDynamicScope:function(a,b,c){return function(){var d=a.resolveListenerScope(c);"function"!==typeof d[b]&&Ext.Error.raise("No such method "+b+" on "+d.$className);return d[b].apply(d,arguments)}},getAt:function(a,b){return this.getAll(b)[a]},
getAll:function(a){return this.listeners[a||this.currentOrder]},count:function(a){return this.getAll(a).length},create:function(a,b,c,d,e){c=c||{};return{stack:this,fn:a,firingFn:!1,boundFn:!1,isLateBinding:"string"===typeof a,scope:b,options:c,order:d,observable:e,type:c.type}},remove:function(a,b,c){var d=this.getAll(c),e=d.length;c=!1;var g=this.lateBindingMap,h;if(0<e)for(;e--;)if(h=d[e],h.fn===a&&h.scope===b){d.splice(e,1);c=!0;this.length--;b&&(b.isIdentifiable&&"string"===typeof a)&&(b=b.getId(),
g[b]&&g[b][a]&&delete g[b][a]);break}return c}});
Ext.define("Ext.event.Controller",{isFiring:!1,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.dispatcher=a;return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(a,b){var c=this.listenerStacks,d=this.firingListeners,e=this.firingArguments,g=d.push,h=c.length,j,k,l,m=!1,n=!1,p;d.length=0;b&&("after"!==b.order?m=!0:n=!0);if(1===h)c=c[0].listeners,j=c.before,
k=c.current,l=c.after,0<j.length&&g.apply(d,j),m&&g.call(d,b),0<k.length&&g.apply(d,k),n&&g.call(d,b),0<l.length&&g.apply(d,l);else{for(p=0;p<h;p++)j=c[p].listeners.before,0<j.length&&g.apply(d,j);m&&g.call(d,b);for(p=0;p<h;p++)k=c[p].listeners.current,0<k.length&&g.apply(d,k);n&&g.call(d,b);for(p=0;p<h;p++)l=c[p].listeners.after,0<l.length&&g.apply(d,l)}if(0===d.length)return this;a||(a=[]);e.length=0;e.push.apply(e,a);e.push(null,this);this.doFire();return this},doFire:function(){var a=this.firingListeners,
b=this.firingArguments,c=b[1],d=b.length-2,e=a[0].observable,g=this.info,h,j,k,l,m,n,p,q,r;e&&e.isElement&&(h=b[0])&&!h.isEvent&&(h=null);this.isPausing=this.isPaused=this.isStopped=!1;this.isFiring=!0;e=0;for(j=a.length;e<j;e++){k=a[e];l=k.options;m=k.fn;n=k.firingFn;p=k.boundFn;q=k.isLateBinding;r=k.scope;q&&(p&&p!==r[m])&&(n=p=!1);if(!p){if(q){if(p=r[m],!p)continue}else p=m;k.boundFn=p}h&&((q=k.type)&&(b[0]=h.chain({type:q})),Ext.EventObject=b[0]);n||(n=p,l.delay?n=Ext.Function.createDelayed(n,
l.delay,r):l.buffer?n=Ext.Function.createBuffered(n,l.buffer,r):l.onFrame&&(n=Ext.Function.createAnimationFrame(n,r)),k.firingFn=n);b[d]=l;p=b;l.args&&(p=l.args.concat(p));l.delegate&&"element"===this.info.targetType&&(b[1]=Ext.fly(c).findParent(g.target,c));l.single&&this.dispatcher.removeListener(g.targetType,g.target,g.eventName,m,r,l,k.order,k.observable);(k=l.beforeFn)?(k=!1!==k.apply(Ext.global,p),!1!==k&&(k=n.apply(r,p))):k=n.apply(r,p);l.delegate&&(b[1]=c);!1===k&&this.stop();if(this.isStopped)break;
if(this.isPausing){this.isPaused=!0;a.splice(0,e+1);return}h&&(b[0]=h)}this.isFiring=!1;this.listenerStacks=null;a.length=b.length=0;this.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=!1;this.isPaused&&0<this.firingListeners.length&&(this.isPaused=!1,this.doFire());a&&a.resume();return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=
!0;a&&(this.connectingController=null,a.stop());this.isFiring=!1;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=!0;a&&a.pause();return this}});
Ext.define("Ext.event.Dispatcher",{statics:{getInstance:function(){this.instance||(this.instance=new this);return this.instance},setInstance:function(a){this.instance=a;return this}},baseHasListeners:{_decr_:function(a){--this[a]||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}},hasListeners:{},config:{publishers:{}},wildcard:"*",constructor:function(a){this.listenerStacks={};this.captureListenerStacks={};this.directListenerStacks={};this.activePublishers={};this.publishersCache=
{};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(a,b,c,d){return this.doGetListenerStack(this.listenerStacks,a,b,c,d)},getCaptureListenerStack:function(a,b,c,d){return this.doGetListenerStack(this.captureListenerStacks,a,b,c,d)},getDirectListenerStack:function(a,b,c,d){return this.doGetListenerStack(this.directListenerStacks,a,b,c,d)},doGetListenerStack:function(a,b,c,d,e){var g=a[b];if(!g)if(e)a[b]=g={};else return null;g=g[c];if(!g)if(e)a[b][c]=
g={};else return null;a=g[d];if(!a)if(e)g[d]=a=new Ext.event.ListenerStack;else return null;return a},getController:function(a,b,c,d){var e=this.controller;a={targetType:a,target:b,eventName:c};e||(this.controller=e=new Ext.event.Controller(this));e.isFiring&&(e=new Ext.event.Controller(this));e.setInfo(a);d&&e!==d&&e.connect(d);return e},applyPublishers:function(a){var b,c;this.publishersCache={};for(b in a)a.hasOwnProperty(b)&&(c=a[b],this.registerPublisher(c));return a},registerPublisher:function(a){var b=
this.activePublishers,c=a.getTargetType(),d=b[c];d||(b[c]=d=[]);d.push(a);a.setDispatcher(this);return this},getCachedActivePublishers:function(a,b){var c;return(c=this.publishersCache[a])&&(c=c[b])?c:null},cacheActivePublishers:function(a,b,c){var d=this.publishersCache;d[a]||(d[a]={});return d[a][b]=c},getActivePublishers:function(a,b){var c=this.getCachedActivePublishers(a,b),d,e,g,h;if(c)return c;if(d=this.activePublishers[a]){c=[];e=0;for(g=d.length;e<g;e++)h=d[e],h.handles(b)&&c.push(h);!c.length&&
"element"===a&&(d=this.getPublisher("dom"))&&c.push(d)}else c=this.noActivePublishers;return this.cacheActivePublishers(a,b,c)},hasListener:function(a,b,c){var d=this.getListenerStack(a,b,c);b=this.getCaptureListenerStack(a,b,c);c=!1;d&&(c=0<d.count());!c&&"element"===a&&(c=0<b.count());return c},getHasListeners:function(a,b){var c=this.hasListeners,d=b&&b.hasListeners;d||(d=c[a]||(c[a]=Ext.Object.chain(this.baseHasListeners)),b&&(b.hasListeners=d=Ext.Object.chain(d)));return d},addListener:function(a,
b,c,d,e,g,h,j){g=g||{};var k=this.getActivePublishers(a,c),l=k.length;if(d=this.doAddListener(a,b,c,d,e,g,h,j))for(a=0;a<l;a++)k[a].subscribe(b,c,g,j);return d},doAddListener:function(a,b,c,d,e,g,h,j){g=g||{};var k,l;if("element"===a)if(g.capture)k=this.getCaptureListenerStack(a,b,c,!0);else if(l=this.getPublisher("dom"),!1===g.delegated||l.directEvents[c]||!l.isTargetWin&&"#ext-window"===b)k=this.getDirectListenerStack(a,b,c,!0);k||(k=this.getListenerStack(a,b,c,!0));this.getHasListeners(a,j)._incr_(c);
return k.add(d,e,g,h,j)},removeListener:function(a,b,c,d,e,g,h,j){g=g||{};var k=this.getActivePublishers(a,c),l=k.length;if(d=this.doRemoveListener(a,b,c,d,e,g,h,j))for(a=0;a<l;a++)k[a].unsubscribe(b,c,null,g,j);return d},doRemoveListener:function(a,b,c,d,e,g,h,j){g=g||{};var k,l;if("element"===a)if(g.capture)k=this.getCaptureListenerStack(a,b,c);else if(l=this.getPublisher("dom"),!1===g.delegated||l.directEvents[c]||!l.isTargetWin&&"#ext-window"===b)k=this.getDirectListenerStack(a,b,c);k||(k=this.getListenerStack(a,
b,c));return k&&k.remove(d,e,h)?(this.getHasListeners(a,j)._decr_(c),!0):!1},clearListeners:function(a,b,c){var d=this.listenerStacks[a],e=this.captureListenerStacks[a];d&&this.doClearListeners(d,a,b,{},c);e&&this.doClearListeners(e,a,b,{capture:!0},c);c&&(d=this.directListenerStacks[a])&&this.doClearListeners(d,a,b,{delegated:!1},c)},doClearListeners:function(a,b,c,d,e){var g=a[c],h=this.getHasListeners(b,e),j,k,l,m;if(g){for(j in g){m=this.getActivePublishers(b,j);k=0;for(l=m.length;k<l;k++)m[k].unsubscribe(c,
j,!0,d,e);(h[j]-=g[j].length)||delete h[j]}delete a[c]}},dispatchEvent:function(a,b,c){var d=this.getActivePublishers(a,c),e=d.length,g;if(0<e)for(g=0;g<e;g++)d[g].notify(b,c);return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,b,c,d,e,g,h){var j=h?this.getCaptureListenerStack(a,b,c):this.getListenerStack(a,b,c,h);h=this.getWildcardListenerStacks(a,b,c,h);if(!j||!j.length){if(!h.length&&!e)return}else h.push(j);a=this.getController(a,b,c,g);a.setListenerStacks(h);a.fire(d,
e);return!a.isInterrupted()},dispatchDirectEvent:function(a,b,c,d){var e=this.getDirectListenerStack(a,b,c);if(e&&e.length)return a=this.getController(a,b,c),a.setListenerStacks([e]),a.fire(d),!a.isInterrupted()},getWildcardListenerStacks:function(a,b,c,d){var e=[],g=this.wildcard,h=b!==g,j;c!==g&&(j=this.getListenerStack(a,b,g,d))&&e.push(j);h&&(j=this.getListenerStack(a,g,c,d))&&e.push(j);return e},getPublisher:function(a){return this.getPublishers()[a]},destroy:function(){var a=this.getPublishers(),
b;for(b in a)a[b].destroy()}});
Ext.define("Ext.Mixin",function(a){return{statics:{addHook:function(a,c,d,e){var g=Ext.isFunction(a),h=function(){var c=arguments,d=g?a:e[a],h=this.callParent(c);d.apply(this,c);return h},j=c.hasOwnProperty(d)&&c[d];g&&(a.$previous=Ext.emptyFn);h.$name=d;h.$owner=c.self;j?(h.$previous=j.$previous,j.$previous=h):c[d]=h}},onClassExtended:function(b,c){var d=c.mixinConfig,e=c.xhooks,g=b.superclass,h=c.onClassMixedIn,j,k,l;e&&(delete c.xhooks,(d||(c.mixinConfig=d={})).on=e);if(d){if(g=g.mixinConfig)c.mixinConfig=
d=Ext.merge({},g,d);c.mixinId=d.id;d.beforeHooks&&Ext.Error.raise('Use of "beforeHooks" is deprecated - use "before" instead');d.hooks&&Ext.Error.raise('Use of "hooks" is deprecated - use "after" instead');d.afterHooks&&Ext.Error.raise('Use of "afterHooks" is deprecated - use "after" instead');j=d.before;k=d.after;e=d.on;l=d.extended}if(j||k||e||l)c.onClassMixedIn=function(b){var c=this.prototype,d=b.prototype,g;j&&Ext.Object.each(j,function(a,d){b.addMember(a,function(){if(!1!==c[d].apply(this,arguments))return this.callParent(arguments)})});
k&&Ext.Object.each(k,function(a,d){b.addMember(a,function(){var a=this.callParent(arguments);c[d].apply(this,arguments);return a})});if(e)for(g in e)a.addHook(e[g],d,g,c);if(l)b.onExtended(function(){var a=Ext.Array.slice(arguments,0);a.unshift(b);return l.apply(this,a)},this);h&&h.apply(this,arguments)}}}});
Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var a=this.id,b,c,d,e;a||0===a||(a=this.self.prototype,b=this.defaultIdSeparator,d=Ext.mixin.Identifiable.uniqueIds,a.hasOwnProperty("identifiablePrefix")||(e=(c=this.xtype)?this.defaultIdPrefix+c.replace(this.idCleanRegex,b)+b:(e=a.$className)?e.replace(this.idCleanRegex,
b).toLowerCase()+b:this.defaultIdPrefix+"anonymous"+b,a.identifiablePrefix=e),e=this.identifiablePrefix,d.hasOwnProperty(e)||(d[e]=0),a=this.id=e+ ++d[e]);this.getUniqueId=this.getOptimizedId;return a},setId:function(a){this.id=a},getId:function(){var a=this.id;a||(a=this.getUniqueId());this.getId=this.getOptimizedId;return a}});
Ext.define("Ext.mixin.Observable",{extend:Ext.Mixin,mixins:[Ext.mixin.Identifiable],mixinConfig:{id:"observable",after:{destroy:"destroy"}},isObservable:!0,observableType:"observable",validIdRe:Ext.validIdRe,observableIdPrefix:"#",listenerOptionsRegex:/^(?:scope|order|delegate|single|delay|buffer|args|prepend|destroyable)$/,eventFiringSuspended:0,config:{listeners:{$value:null,merge:function(a,b,c){b=a;var d;if(c.isInstance)c._hasDeclaredListeners&&(b=[c.self.getDeclaredListeners(),a]);else if(c.listeners||
(c.listeners=c.getDeclaredListeners()),a){if(d=a.scope){if((d=Ext._namedScopes[d])&&d.isController)a.scope="self.controller"}else a.scope="self";c.prototype._hasDeclaredListeners=!0;c.listeners.push(a)}return b}},bubbleEvents:null},inheritableStatics:{getDeclaredListeners:function(){var a=this.superclass,b=this.listeners,c=this.prototype,d;if(!b&&(b=this.listeners=[],a.isObservable&&b.push(a.self.getDeclaredListeners()),c.hasOwnProperty("mixins")))for(d in a=c.mixins,a)c=a[d],c.isObservable&&b.push(c.self.getDeclaredListeners());
return b}},afterClassMixedIn:function(a){var b=a.prototype,c=b.listeners;c&&(delete b.listeners,a.getConfigurator().add({listeners:c}))},constructor:function(a){this.initConfig(a);this.getEventDispatcher().getHasListeners(this.observableType,this)},applyListeners:function(a){a&&(a instanceof Array?Ext.each(a,this.applyListeners,this):this.addListener(a));return a},resolveListenerScope:function(a){"controller"===a&&Ext.Error.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget');
"this"===a&&(a=null);return a||this},applyBubbleEvents:function(a){a&&this.enableBubble(a)},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){var a,b;this.observableId||(a=this.getUniqueId(),(b=this.validIdRe)&&!b.test(a)&&Ext.Error.raise('Invalid unique id "'+a+'" for object of type '+this.$className),this.observableId=this.observableIdPrefix+a,this.getObservableId=this.getOptimizedObservableId);return this.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},
createEventDispatcher:function(){var a;this.eventDispatcher=a=Ext.event.Dispatcher.getInstance();this.getEventDispatcher=this.getOptimizedEventDispatcher;this.getListeners();this.getBubbleEvents();return a},getEventDispatcher:function(){var a=this.eventDispatcher;a||(a=this.createEventDispatcher());return a},getManagedListeners:function(a,b){var c=a.getUniqueId(),d=this.managedListeners;d||(this.managedListeners=d={});d[c]||(d[c]={},a.doAddListener("destroy","clearManagedListeners",this,{single:!0,
args:[a]}));d[c][b]||(d[c][b]=[]);return d[c][b]},getUsedSelectors:function(){var a=this.usedSelectors;a||(a=this.usedSelectors=[],a.$map={});return a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireEventArgs:function(a,b){return this.doFireEvent(a,b)},fireAction:function(a,b,c,d,e,g){var h=typeof c,j;void 0===b&&(b=[]);"undefined"!==h&&(j={fn:c,isLateBinding:"string"===h,scope:d||this,options:e||{},order:g});return this.doFireEvent(a,b,j)},doFireEvent:function(a,
b,c,d){var e=this.eventQueue,g=Ext.$eventNameMap,h=this.suspendedEvents,j=!0;a=g[a]||(g[a]=a.toLowerCase());this.eventFiringSuspended||h&&h[a]?e&&e.push([a,b,c,d]):j=this.getEventDispatcher().dispatchEvent(this.observableType,this.getObservableId(),a,b,c,d);return j},doAddListener:function(a,b,c,d,e){var g=c&&c!==this&&c.isIdentifiable,h=this.getUsedSelectors(),j=h.$map,k=this.getObservableId(),l;d||(d={});d.type||(d.type=a);!c&&"function"===typeof b&&(c=this);d.delegate&&(l=d.delegate,k+=" "+l);
k in j||(j[k]=!0,h.push(k));if((d=this.addDispatcherListener(k,a,b,c,d,e))&&g)a=this.getManagedListeners(c,a),a.push({delegate:l,scope:c,fn:b,order:e});return d},addDispatcherListener:function(a,b,c,d,e,g){return this.getEventDispatcher().addListener(this.observableType,a,b,c,d,e,g,this)},doRemoveListener:function(a,b,c,d,e){var g=c&&c!==this&&c.isIdentifiable,h=this.getObservableId(),j,k;d||(d={});!c&&"function"===typeof b&&(c=this);d.delegate&&(k=d.delegate,h+=" "+k);if((d=this.removeDispatcherListener(h,
a,b,c,d,e))&&g){a=this.getManagedListeners(c,a);g=0;for(h=a.length;g<h;g++)if(j=a[g],j.fn===b&&j.scope===c&&j.delegate===k&&j.order===e){a.splice(g,1);break}}return d},removeDispatcherListener:function(a,b,c,d,e,g){return this.getEventDispatcher().removeListener(this.observableType,a,b,c,d,e,g,this)},clearManagedListeners:function(a){var b=this.managedListeners,c,d,e,g,h,j,k;if(!b)return this;if(a){c="string"!==typeof a?a.getUniqueId():a;a=b[c];for(e in a)if(a.hasOwnProperty(e)){d=a[e];g=0;for(h=
d.length;g<h;g++)j=d[g],k={},j.delegate&&(k.delegate=j.delegate),this.doRemoveListener(e,j.fn,j.scope,k,j.order)&&(g--,h--)}delete b[c];return this}for(c in b)b.hasOwnProperty(c)&&this.clearManagedListeners(c)},changeListener:function(a,b,c,d,e,g){var h=Ext.$eventNameMap,j,k,l,m,n,p,q,r;if("undefined"!==typeof c){if("string"!==typeof b){j=0;for(l=b.length;j<l;j++)q=b[j],q=h[q]||(h[q]=q.toLowerCase()),a.call(this,q,c,d,e,g);return this}b=h[b]||(h[b]=b.toLowerCase());e&&(e=Ext.Object.chain(e));a.call(this,
b,c,d,e,g)}else if(Ext.isArray(b)){c=b;j=0;for(l=c.length;j<l;j++)d=c[j],b=d.event,b=h[b]||(h[b]=b.toLowerCase()),a.call(this,b,d.fn,d.scope,d,d.order)}else if(b){j=this.listenerOptionsRegex;e=b;b=[];c=[];k={};g=e.order;d=e.scope;m=Ext._namedScopes;l=(n=d&&m[d])&&n.isSelf;for(q in e)if(r=e[q],j.test(q))k[q]=r;else if(q=h[q]||(h[q]=q.toLowerCase()),n=typeof r,"string"!==n&&"function"!==n){if((p=r.scope)&&l)(n=m[p])&&n.isController&&(p="self.controller");a.call(this,q,r.fn,p||d,r,r.order||g)}else b.push(q),
c.push(r);j=0;for(l=b.length;j<l;j++)a.call(this,b[j],c[j],d,k,g)}return this},addListener:function(a,b,c,d,e){var g,h;d?g=d.destroyable:"object"===typeof a&&(g=a.destroyable);h=this.changeListener(this.doAddListener,a,b,c,d,e);g&&(h=new Ext.mixin.Observable.$ListenerRemover(this,a,b,c,d,e));return h},toggleListener:function(a,b,c,d,e,g){return this.changeListener(a?this.doAddListener:this.doRemoveListener,b,c,d,e,g)},addBeforeListener:function(a,b,c,d){return this.addListener(a,b,c,d,"before")},
addAfterListener:function(a,b,c,d){return this.addListener(a,b,c,d,"after")},removeListener:function(a,b,c,d,e){return this.changeListener(this.doRemoveListener,a,b,c,d,e)},removeBeforeListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"before")},removeAfterListener:function(a,b,c,d){return this.removeListener(a,b,c,d,"after")},clearListeners:function(){var a=this.getUsedSelectors(),b=this.getEventDispatcher(),c,d,e;c=0;for(d=a.length;c<d;c++)e=a[c],b.clearListeners(this.observableType,
e,this)},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},isSuspended:function(a){var b=Ext.$eventNameMap,c=this.suspendedEvents;a&&(a=b[a]||(b[a]=a.toLowerCase()));return!!(this.eventFiringSuspended||c&&c[a])},suspendEvents:function(a){++this.eventFiringSuspended;a&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var a=arguments,b=this.suspendedEvents,c=Ext.$eventNameMap,d=a.length,e,g;b||(b=this.suspendedEvents={});
for(e=0;e<d;e++)g=a[e],g=c[g]||(c[g]=g.toLowerCase()),g in b||(b[g]=0),++b[g]},resumeEvents:function(a){var b=this.eventQueue||[],c=this.suspendedEvents,d,e;if(this.eventFiringSuspended&&!--this.eventFiringSuspended){if(!a){d=0;for(e=b.length;d<e;d++)a=b[d],(!c||!c[a[0]])&&this.doFireEvent.apply(this,a)}this.eventQueue=null}},resumeEvent:function(){var a=arguments,b=this.suspendedEvents,c=Ext.$eventNameMap,d=a.length,e,g;for(e=0;e<d;e++)g=a[e],g=c[g]||(c[g]=g.toLowerCase()),b&&b[g]&&--b[g];this.eventFiringSuspended||
this.resumeEvents()},relayEvents:function(a,b,c){var d=Ext.$eventNameMap,e,g,h,j;"undefined"===typeof c&&(c="");c=c.toLowerCase();"string"===typeof b&&(b=[b]);if(Ext.isArray(b)){e=0;for(g=b.length;e<g;e++)h=b[e],h=d[h]||(d[h]=h.toLowerCase()),j=c+h,a.addListener(h,this.createEventRelayer(j),this)}else for(h in b)b.hasOwnProperty(h)&&(h=d[h]||(d[h]=h.toLowerCase()),j=c+b[h],a.addListener(h,this.createEventRelayer(j),this));return this},relayEvent:function(a,b,c,d,e){var g=typeof b,h=a[a.length-1],
j=h.getInfo().eventName,k;a=Array.prototype.slice.call(a,0,-2);a[0]=this;"undefined"!==g&&(k={fn:b,scope:c||this,options:d||{},order:e,isLateBinding:"string"===g});return this.doFireEvent(j,a,k,h)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(a){var b=this.isBubblingEnabled,c=Ext.$eventNameMap,d,e,g;b||(b=this.isBubblingEnabled={});"string"===typeof a&&(a=Ext.Array.clone(arguments));d=0;for(e=a.length;d<
e;d++)g=a[d],g=c[g]||(c[g]=g.toLowerCase()),b[g]||(b[g]=!0,this.addListener(g,this.createEventBubbler(g),this))},createEventBubbler:function(a){return function c(){var d="getBubbleTarget"in this?this.getBubbleTarget():null;d&&(d!==this&&d.isObservable)&&d.fireAction(a,Array.prototype.slice.call(arguments,0,-2),c,d,null,"after")}},getBubbleTarget:function(){return!1},destroy:function(){this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())},deprecated:{"2.0":{methods:{addEvents:null,
addManagedListener:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},removeManagedListener:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))},mon:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},mun:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))}}}}},function(a){var b=function(a){if(a instanceof b)return a;this.observable=a;this.args=Array.prototype.slice.call(arguments,
1)};b.prototype.destroy=function(){var a=this.observable;a.un.apply(a,this.args)};a.$ListenerRemover=b;a.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})});
Ext.define("Ext.util.HashMap",{mixins:[Ext.mixin.Observable],generation:0,config:{keyFn:null},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.clear(!0);if(a=this.getKeyFn())this.getKey=a},getCount:function(){return this.length},getData:function(a,b){void 0===b&&(b=a,a=this.getKey(b));return[a,b]},getKey:function(a){return a.id},add:function(a,b){1===arguments.length&&(b=a,a=this.getKey(b));if(this.containsKey(a))return this.replace(a,b);this.map[a]=b;++this.length;this.generation++;
this.hasListeners.add&&this.fireEvent("add",this,a,b);return b},replace:function(a,b){var c=this.map,d;1===arguments.length&&(b=a,a=this.getKey(b));this.containsKey(a)||this.add(a,b);d=c[a];c[a]=b;this.generation++;this.hasListeners.replace&&this.fireEvent("replace",this,a,b,d);return b},remove:function(a){a=this.findKey(a);return void 0!==a?this.removeAtKey(a):!1},removeAtKey:function(a){var b;return this.containsKey(a)?(b=this.map[a],delete this.map[a],--this.length,this.generation++,this.hasListeners.remove&&
this.fireEvent("remove",this,a,b),!0):!1},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:void 0},clear:function(a){if(a||this.generation)this.map={},this.length=0,this.generation=a?0:this.generation+1;!0!==a&&this.hasListeners.clear&&this.fireEvent("clear",this);return this},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&void 0!==b[a]},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},
getArray:function(a){var b=[],c,d=this.map;for(c in d)d.hasOwnProperty(c)&&b.push(a?c:d[c]);return b},each:function(a,b){var c=Ext.apply({},this.map),d,e=this.length;b=b||this;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d],e))break;return this},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,b[c]);a.resumeEvents();return a},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b]===a)return b}});
Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.HashMap;this.types={}},get:function(a){return this.all.get(a)},register:function(a){var b=this.all.getKey(a);void 0===b&&Ext.Error.raise("Key is undefined. Please ensure the item has a key before registering the item.");this.all.containsKey(b)&&Ext.Error.raise('Registering duplicate id "'+b+'" with '+this.$className);this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(a,
b){this.types[a]=b;b[this.typeName]=a},isRegistered:function(a){return void 0!==this.types[a]},create:function(a,b){var c=a[this.typeName]||a.type||b,d=this.types[c];void 0===d&&Ext.Error.raise("The '"+c+"' type has not been registered with this manager");return new d(a)},onAvailable:function(a,b,c){var d=this.all,e,g;d.containsKey(a)?(e=d.get(a),b.call(c||e,e)):(g=function(e,j,k){j==a&&(b.call(c||k,k),d.un("add",g))},d.on("add",g))},each:function(a,b){this.all.each(a,b||this)},getCount:function(){return this.all.getCount()}});
Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(a,b,c){var d;if(d=this.liveConnections[Number(a)])d.onFlashStateChange(b,c);else Ext.warn.log("onFlashStateChange for unknown connection ID: "+
a)},registerConnection:function(a){var b=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[b]=a;return b},injectFlashPlugin:function(){var a,b;this.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",
alt:"Get Adobe Flash player"}]}]});a=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");b="/plugins/flash/FlashPlugin.swf";b=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/");Ext.flashPluginPath&&(b=Ext.flashPluginPath);Ext.Loader.loadScript({url:a,onLoad:function(){swfobject.embedSWF(b,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},{quality:"high",bgcolor:"#ffffff",allowscriptaccess:"sameDomain",
allowfullscreen:"true"},{id:"ext-flash-polyfill",name:"polyfill",align:"middle"})},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:this});Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,a);this.requestHeaders={}},abort:function(){4==this.readyState?
Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url):(this.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(this.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]):Ext.GlobalEvents.removeListener("flashready",this.onFlashReady,this))},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)});return a.join("\r\n")},getResponseHeader:function(a){var b=
this.responseHeaders;return b&&b[a]||null},open:function(a,b,c,d,e){this.method=a;this.url=b;this.async=!1!==c;this.user=d;this.password=e;this.async||Ext.Error.raise("Binary posts are only supported in async mode: "+b);"POST"!=this.method&&Ext.log.warn("Binary data can only be sent as a POST request: "+b)},overrideMimeType:function(a){this.mimeType=a},send:function(a){this.body=a;if(Ext.data.flash.BinaryXhr.flashPluginActive)this.onFlashReady();else Ext.GlobalEvents.addListener("flashready",this.onFlashReady,
this)},onFlashReady:function(){this.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(this);Ext.data.flash.BinaryXhr.flashPlugin.postBinary({method:this.method,url:this.url,user:this.user,password:this.password,mimeType:this.mimeType,requestHeaders:this.requestHeaders,body:this.body,javascriptId:this.javascriptId})},setReadyState:function(a){this.readyState!=a&&(this.readyState=a,this.onreadystatechange())},setRequestHeader:function(a,b){this.requestHeaders[a]=b},onreadystatechange:Ext.emptyFn,
parseData:function(a){this.status=a.status||0;this.responseHeaders={};this.mimeType&&(this.responseHeaders["content-type"]=this.mimeType);"complete"==a.reason?(this.responseBytes=a.data,this.responseHeaders["content-length"]=a.data.length):"error"==a.reason||"securityError"==a.reason?(this.statusText=a.text,this.responseHeaders["content-length"]=0):Ext.Error.raise("Unkown reason code in data: "+a.reason)},onFlashStateChange:function(a,b){4==a&&(this.parseData(b),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]);
this.setReadyState(a)}});
Ext.define("Ext.data.Connection",{mixins:{observable:Ext.mixin.Observable},statics:{requestId:0},config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3E4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset\x3dUTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(a){this.mixins.observable.constructor.call(this,
a);this.requests={}},request:function(a){a=a||{};var b=this,c=a.scope||window,d=a.username||b.getUsername(),e=a.password||b.getPassword()||"",g,h,j;if(!1!==b.fireEvent("beforerequest",b,a)){g=b.setOptions(a,c);if(b.isFormUpload(a))return b.upload(a.form,g.url,g.data,a),null;(a.autoAbort||b.getAutoAbort())&&b.abort();c=!1!==a.async?a.async||b.getAsync():!1;e=b.openRequest(a,g,c,d,e);(d=b.getIsXdr())||(j=b.setupHeaders(e,a,g.data,g.params));h={id:++Ext.data.Connection.requestId,xhr:e,headers:j,options:a,
async:c,binary:a.binary||b.getBinary(),timeout:Ext.defer(function(){h.timedout=!0;b.abort(h)},a.timeout||b.getTimeout())};b.requests[h.id]=h;b.latestId=h.id;c&&!d&&(e.onreadystatechange=Ext.Function.bind(b.onStateChange,b,[h]));d&&b.processXdrRequest(h,e);e.send(g.data);return!c?b.onComplete(h):h}Ext.callback(a.callback,a.scope,[a,void 0,void 0]);return null},processXdrRequest:function(a,b){delete a.headers;a.contentType=a.options.contentType||this.getDefaultXdrContentType();b.onload=Ext.Function.bind(this.onStateChange,
this,[a,!0]);b.onerror=b.ontimeout=Ext.Function.bind(this.onStateChange,this,[a,!1])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.getDefaultXdrContentType()},upload:function(a,b,c,d){a=Ext.getDom(a);d=d||{};var e=Ext.id(),g=document.createElement("iframe"),h=[],j={target:a.target,method:a.method,encoding:a.encoding,enctype:a.enctype,action:a.action},k=function(b,c){l=document.createElement("input");
Ext.fly(l).set({type:"hidden",value:c,name:b});a.appendChild(l);h.push(l)},l,m,n;Ext.fly(g).set({id:e,name:e,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(g);document.frames&&(document.frames[e].name=e);Ext.fly(a).set({target:e,method:"POST",enctype:"multipart/form-data",encoding:"multipart/form-data",action:b||j.action});if(c)for(m in b=Ext.Object.fromQueryString(c)||{},b)if(b.hasOwnProperty(m))if(c=b[m],Ext.isArray(c)){e=c.length;for(n=0;n<
e;n++)k(m,c[n])}else k(m,c);Ext.get(g).on({load:Ext.Function.bind(this.onUploadComplete,this,[g,d]),single:!Ext.isOpera});a.submit();Ext.fly(a).set(j);d=h.length;for(g=0;g<d;g++)Ext.removeNode(h[g])},onUploadComplete:function(a,b){var c={responseText:"",responseXML:null},d,e,g,h;try{if(g=a&&(a.contentWindow.document||a.contentDocument)||(window.frames[a.id]||{}).document){if(Ext.isOpera&&g.location==Ext.SSL_SECURE_URL)return;g.body&&(c.responseText=(h=g.body.firstChild)&&/pre/i.test(h.tagName)?h.textContent||
h.innerText:(h=g.getElementsByTagName("textarea")[0])?h.value:g.body.textContent||g.body.innerText);c.responseXML=g.XMLDocument||g;d=b.success;e=!0}else Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}catch(j){c.responseText='{success:false,message:"'+Ext.String.trim(j.message||j.description)+'"}',d=b.failure,e=!1}this.fireEvent(e?"requestcomplete":"requestexception",this,c,b);Ext.callback(d,b.scope,[c,b]);Ext.callback(b.callback,b.scope,[b,e,c]);Ext.defer(Ext.removeNode,
100,Ext,[a])},isFormUpload:function(a){var b=this.getForm(a);return b?a.isUpload||/multipart\/form-data/i.test(b.getAttribute("enctype")):!1},getForm:function(a){(a=a.form||null)&&(a=Ext.getDom(a));return a},setOptions:function(a,b){var c=a.params||{},d=this.getExtraParams(),e=a.urlParams,g=a.url||this.getUrl(),h=a.jsonData,j;Ext.isFunction(c)&&(c=c.call(b,a));Ext.isFunction(g)&&(g=g.call(b,a));(g=this.setupUrl(a,g))||Ext.Error.raise({options:a,msg:"No URL specified"});j=a.rawData||a.binaryData||
a.xmlData||h||null;h&&!Ext.isPrimitive(h)&&(j=Ext.encode(j));if(a.binaryData&&(Ext.isArray(a.binaryData)||Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof a.binaryData),this.nativeBinaryPostSupport()&&(j=new Uint8Array(a.binaryData),Ext.isChrome&&22>Ext.chromeVersion||Ext.isSafari||Ext.isGecko)))j=j.buffer;Ext.isObject(c)&&(c=Ext.Object.toQueryString(c));Ext.isObject(d)&&(d=Ext.Object.toQueryString(d));c+=d?(c?"\x26":"")+d:"";e=Ext.isObject(e)?Ext.Object.toQueryString(e):
e;c=this.setupParams(a,c);d=(a.method||this.getMethod()||(c||j?"POST":"GET")).toUpperCase();this.setupMethod(a,d);h=!1!==a.disableCaching?a.disableCaching||this.getDisableCaching():!1;"GET"===d&&h&&(g=Ext.urlAppend(g,(a.disableCachingParam||this.getDisableCachingParam())+"\x3d"+(new Date).getTime()));if(("GET"==d||j)&&c)g=Ext.urlAppend(g,c),c=null;e&&(g=Ext.urlAppend(g,e));return{url:g,method:d,data:j||c||null}},setupUrl:function(a,b){var c=this.getForm(a);c&&(b=b||c.action);return b},setupParams:function(a,
b){var c=this.getForm(a);c&&!this.isFormUpload(a)&&(c=Ext.Element.serializeForm(c),b=b?b+"\x26"+c:c);return b},setupMethod:function(a,b){return this.isFormUpload(a)?"POST":b},setupHeaders:function(a,b,c,d){var e=Ext.apply({},b.headers||{},this.getDefaultHeaders()||{}),g=this.getDefaultPostHeader(),h=b.jsonData,j=b.xmlData,k=Ext.isDefined(b.useDefaultXhrHeader)?b.useDefaultXhrHeader:this.getUseDefaultXhrHeader(),l,m;if(!e.hasOwnProperty("Content-Type")&&(c||d))c&&(b.rawData?g="text/plain":j&&Ext.isDefined(j)?
g="text/xml":h&&Ext.isDefined(h)&&(g="application/json")),e["Content-Type"]=g;k&&!e["X-Requested-With"]&&(e["X-Requested-With"]=this.getDefaultXhrHeader());(void 0===e["Content-Type"]||null===e["Content-Type"])&&delete e["Content-Type"];try{for(l in e)e.hasOwnProperty(l)&&(m=e[l],a.setRequestHeader(l,m))}catch(n){this.fireEvent("exception",l,m)}return e},newRequest:function(a){a.binaryData?a=this.nativeBinaryPostSupport()?this.getXhrInstance():new Ext.data.flash.BinaryXhr:(a.cors||this.getCors())&&
Ext.isIE&&9>=Ext.ieVersion?(a=this.getXdrInstance(),this.setIsXdr(!0)):a=this.getXhrInstance();return a},openRequest:function(a,b,c,d,e){var g=this.newRequest(a);d?g.open(b.method,b.url,c,d,e):this.getIsXdr()?g.open(b.method,b.url):g.open(b.method,b.url,c);if(a.binary||this.getBinary())window.Uint8Array?g.responseType="arraybuffer":g.overrideMimeType?g.overrideMimeType("text/plain; charset\x3dx-user-defined"):Ext.isIE||Ext.log.warn("Your browser does not support loading binary data using Ajax.");
if(a.withCredentials||this.getWithCredentials())g.withCredentials=!0;return g},getXdrInstance:function(){var a;8<=Ext.ieVersion?a=new XDomainRequest:Ext.Error.raise({msg:"Your browser does not support CORS"});return a},getXhrInstance:function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0,c=a.length,d;b<c;++b)try{d=a[b];
d();break}catch(e){}return d}(),isLoading:function(a){a||(a=this.getLatest());if(!a||!a.xhr)return!1;var b=a.xhr.readyState;return a.xhr instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr)&&4!=b||!(0===b||4==b)},abort:function(a){var b;a||(a=this.getLatest());if(a&&this.isLoading(a)){b=a.xhr;try{b.onreadystatechange=null}catch(c){b.onreadystatechange=Ext.emptyFn}b.abort();this.clearTimeout(a);a.timedout||(a.aborted=!0);this.onComplete(a);this.cleanup(a)}},abortAll:function(){var a=this.requests,
b;for(b in a)a.hasOwnProperty(b)&&this.abort(a[b])},getLatest:function(){var a=this.latestId,b;a&&(b=this.requests[a]);return b||null},onStateChange:function(a,b){var c=Ext.GlobalEvents;if(a.xhr&&4==a.xhr.readyState||this.isXdr)this.clearTimeout(a),this.onComplete(a,b),this.cleanup(a),c.hasListeners.idle&&c.fireEvent("idle")},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(a,b){var c=a.options,d,e;try{d=a.xhr,e=this.parseStatus(d.status),
e.success&&(e.success=4===d.readyState)}catch(g){e={success:!1,isException:!1}}(d=this.isXdr?b:e.success)?(e=this.createResponse(a),this.fireEvent("requestcomplete",this,e,c),Ext.callback(c.success,c.scope,[e,c])):(e=e.isException||a.aborted||a.timedout?this.createException(a):this.createResponse(a),this.fireEvent("requestexception",this,e,c),Ext.callback(c.failure,c.scope,[e,c]));Ext.callback(c.callback,c.scope,[c,d,e]);delete this.requests[a.id];return e},parseStatus:function(a){a=1223==a?204:a;
var b=200<=a&&300>a||304==a,c=!1;if(!b)switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:c=!0}return{success:b,isException:c}},createResponse:function(a){for(var b=a.xhr,c=this.getIsXdr(),d={},e=c?[]:b.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),g=e.length,h,j,k;g--;)h=e[g],j=h.indexOf(":"),0<=j&&(k=h.substr(0,j).toLowerCase()," "==h.charAt(j+1)&&++j,d[k]=h.substr(j+1));a.xhr=null;delete a.xhr;e={request:a,requestId:a.id,status:b.status,statusText:b.statusText,
getResponseHeader:function(a){return d[a.toLowerCase()]},getAllResponseHeaders:function(){return d}};c&&this.processXdrResponse(e,b);a.binary?e.responseBytes=this.getByteArray(b):(e.responseText=b.responseText,e.responseXML=b.responseXML);b=null;return e},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(a){var b=a.response,c=a.responseBody,
d;if(a instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))d=a.responseBytes;else if(window.Uint8Array)d=b?new Uint8Array(b):[];else if(Ext.isIE9p)try{d=(new VBArray(c)).toArray()}catch(e){d=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(a.responseBody,d=[]);else{d=[];a=a.responseText;b=a.length;for(c=0;c<b;c++)d.push(a.charCodeAt(c)&255)}return d},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text="Function getIEByteArray(byteArray, out)\nDim len, i\nlen \x3d LenB(byteArray)\nFor i \x3d 1 to len\nout.push(AscB(MidB(byteArray, i, 1)))\nNext\nEnd Function";
Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=!0},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:!0,autoAbort:!1});
Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=!1;this.isIdle=!0;this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},start:function(a,b,c){this.queue.push(arguments);this.isRunning||(this.hasOwnProperty("idleTimer")&&(clearTimeout(this.idleTimer),delete this.idleTimer),this.hasOwnProperty("idleQueueTimer")&&(clearTimeout(this.idleQueueTimer),delete this.idleQueueTimer),
this.isIdle=!1,this.isRunning=!0,this.startCountTime=Ext.now(),this.count=0,this.doStart())},watch:function(){this.isRunning&&500<=Ext.now()-this.lastRunTime&&this.run()},run:function(){if(this.isRunning){var a=this.runningQueue,b,c;this.lastRunTime=Ext.now();this.frameStartTime=Ext.now();a.push.apply(a,this.queue);b=0;for(c=a.length;b<c;b++)this.invoke(a[b]);a.length=0;a=this.frameStartTime;b=a-this.startCountTime;c=++this.count;200<=b&&(this.onFpsChanged(1E3*c/b,c,b),this.startCountTime=a,this.count=
0);this.doIterate()}},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(a,b,c){if(this.isRunning){var d=this.queue,e=d.length,g,h;for(g=0;g<e;g++)h=d[g],h[0]===a&&(h[1]===b&&h[2]===c)&&(d.splice(g,1),g--,e--);0===e&&
(this.doStop(),this.onStop(),this.isRunning=!1,this.idleTimer=Ext.defer(this.whenIdle,100,this))}},onIdle:function(a,b,c){var d=this.idleQueue,e,g,h;e=0;for(g=d.length;e<g;e++)if(h=d[e],a===h[0]&&b===h[1]&&c===h[2])return;d.push(arguments);this.isIdle&&this.processIdleQueue()},unIdle:function(a,b,c){var d=this.idleQueue,e,g,h;e=0;for(g=d.length;e<g;e++)if(h=d[e],a===h[0]&&b===h[1]&&c===h[2])return d.splice(e,1),!0;return!1},queueTask:function(a,b,c){this.taskQueue.push(arguments);this.processTaskQueue()},
dequeueTask:function(a,b,c){var d=this.taskQueue,e,g,h;e=0;for(g=d.length;e<g;e++)h=d[e],a===h[0]&&(b===h[1]&&c===h[2])&&(d.splice(e,1),e--,g--)},invoke:function(a){var b=a[0],c=a[1];a=a[2];b="string"==typeof b?c[b]:b;Ext.isArray(a)?b.apply(c,a):b.call(c,a)},whenIdle:function(){this.isIdle=!0;this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){delete this.idleQueueTimer;
if(this.isIdle){var a=this.idleQueue;0<a.length&&(a=a.shift(),this.invoke(a),this.processIdleQueue())}},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;var a=this.taskQueue;0<a.length&&(a=a.shift(),this.invoke(a),this.processTaskQueue())},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",
style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,
height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,
height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var a=Ext.getCmp("__currentFps"),b=Ext.getCmp("__averageFps"),c=Ext.getCmp("__minFps"),d=Ext.getCmp("__maxFps"),e=1E3,g=0,h=0,j=0;Ext.AnimationQueue.onFpsChanged=
function(k){h++;h%10||(e=1E3,g=0);j+=k;e=Math.min(e,k);g=Math.max(g,k);a.setHtml(Math.round(k));b.setHtml(Math.round(j/h));c.setHtml(Math.round(e));d.setHtml(Math.round(g))}}},function(){var a=window.location.search.substr(1).split("\x26");Ext.Array.contains(a,"showfps")&&Ext.AnimationQueue.showFps()});
Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(a){Ext.apply(this,a||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(a,b){return"string"==typeof a?Ext.widget(a):a.isComponent?a:"xclass"in a?Ext.create(a.xclass,a):Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var b=this.all,c=a.getId(),d=this.onAvailableCallbacks;void 0===c&&Ext.Error.raise("Component id is undefined. Please ensure the component has an id.");
c in b&&Ext.Error.raise('Registering duplicate component id "'+c+'"');b[c]=a;a.reference&&(this.references[c]=a);++this.count;(d=d&&d[c])&&d.length&&this.notifyAvailable(a)},unregister:function(a){var b=a.getId();a.reference&&delete this.references[b];delete this.all[b];this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var a=this.references,b;if(this.referencesDirty){for(b in a)a.hasOwnProperty(b)&&a[b].fixReference();this.referencesDirty=!1}},onAvailable:function(a,
b,c){var d=this.onAvailableCallbacks,e=this.all;a in e?(a=e[a],b.call(c||a,a)):a&&(Ext.isArray(d[a])||(d[a]=[]),d[a].push(function(a){b.call(c||a,a)}))},notifyAvailable:function(a){for(var b=this.onAvailableCallbacks[a&&a.getId()]||[];b.length;)b.shift()(a)},each:function(a,b){return Ext.Object.each(this.all,a,b)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});
Ext.ns("Ext.util").Operators={"\x3d":function(a,b){return a==b},"!\x3d":function(a,b){return a!=b},"^\x3d":function(a,b){return a&&a.substr(0,b.length)==b},"$\x3d":function(a,b){return a&&a.substr(a.length-b.length)==b},"*\x3d":function(a,b){return a&&-1!==a.indexOf(b)},"%\x3d":function(a,b){return 0===a%b},"|\x3d":function(a,b){return a&&(a==b||a.substr(0,b.length+1)==b+"-")},"~\x3d":function(a,b){return a&&-1!=(" "+a+" ").indexOf(" "+b+" ")}};
Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,config:{maxSize:null},add:function(a,b){var c=this.findKey(b);c?(this.unlinkEntry(c=this.map[c]),c.prev=this.last,c.next=null):c={prev:this.last,next:null,key:a,value:b};this.last?this.last.next=c:this.first=c;this.last=c;this.callParent([a,c]);this.prune();return b},insertBefore:function(a,b,c){var d,e;return(c=this.map[this.findKey(c)])?((d=this.findKey(b))?this.unlinkEntry(e=this.map[d]):e={prev:c.prev,next:c,key:a,value:b},c.prev?e.prev.next=
e:this.first=e,e.next=c,c.prev=e,this.prune(),b):this.add(a,b)},get:function(a){if(a=this.map[a])return a.next&&this.moveToEnd(a),a.value},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){a&&(a.next?a.next.prev=a.prev:this.last=a.prev,a.prev?a.prev.next=a.next:this.first=a.next,a.prev=a.next=null)},moveToEnd:function(a){this.unlinkEntry(a);(a.prev=this.last)?
this.last.next=a:this.first=a;this.last=a},getArray:function(a){for(var b=[],c=this.first;c;)b.push(a?c.key:c.value),c=c.next;return b},each:function(a,b,c){var d=c?this.last:this.first,e=this.length;for(b=b||this;d&&!1!==a.call(b,d.key,d.value,e);)d=c?d.prev:d.next;return this},findKey:function(a){var b,c=this.map;for(b in c)if(c.hasOwnProperty(b)&&c[b].value===a)return b},clone:function(){var a=new this.self(this.initialConfig),b=this.map,c;a.suspendEvents();for(c in b)b.hasOwnProperty(c)&&a.add(c,
b[c].value);a.resumeEvents();return a},prune:function(){var a=this.getMaxSize(),a=a?this.length-a:0;if(0<a)for(;this.first&&a;a--)this.removeAtKey(this.first.key)}});
Ext.define("Ext.ComponentQuery",{singleton:!0},function(){var a=this,b=Ext.util.Operators,c=/(\d*)n\+?(\d*)/,d=/\D/,e=/^(\s)+/,g=/\\(.)/g,h=new Ext.util.LruCache({maxSize:100}),j=function(a,b){return b.method.apply(this,[a].concat(b.args))},k=function(a,b){for(var c=[],d=0,e=a.length,g,h="\x3e"!==b;d<e;d++)g=a[d],g.getRefItems&&(c=c.concat(g.getRefItems(h)));return c},l=function(a){for(var b=[],c=0,d=a.length,e;c<d;c++)for(e=a[c];e=e.getRefOwner();)b.push(e);return b},m=function(a,b,c){if("*"===b)return a.slice();
for(var d=[],e=0,g=a.length,h;e<g;e++)h=a[e],h.isXType(b,c)&&d.push(h);return d},n=function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++)g=a[d],g.getItemId()===b&&c.push(g);return c},p=/^(\s?([>\^])\s?|\s|$)/,q=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,r=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:m,argTransform:function(a){var b=a[0];Ext.log.warn('"'+b+'" ComponentQuery selector style is deprecated, use "'+b.replace(/^\./,"")+'" without the leading dot instead');void 0!==a[1]&&
(a[1]=a[1].replace(g,"$1"));return a.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(a,c,d,e){var g=[],h=0,j=a.length,k,l,m,n,p,q;"@"===c.charAt(0)&&(k=!0,c=c.substr(1));"?"===c.charAt(0)&&(l=k=!0,c=c.substr(1));for(;h<j;h++)if(m=a[h],!k||m.hasOwnProperty(c))if(n=m[c],l)g.push(m);else if("~\x3d"===d){if(n){Ext.isArray(n)||(n=n.split(" "));p=0;for(q=n.length;p<q;p++)if(b[d](Ext.coerce(n[p],e),e)){g.push(m);break}}}else"/\x3d"===d?
void 0!==m[c]&&e.test(m[c])&&g.push(m):(!e?m[c]:b[d](Ext.coerce(n,e),e))&&g.push(m);return g},argTransform:function(a){var b=a[0],c=a[1],d=a[2];a=a[4];if(void 0!==a){a=a.replace(g,"$1");var e=Ext.String.format,j;(j=/^(['"]).*?[^'"]$/.exec(a))?Ext.log.warn(e("ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})",
b,j[1],"beginning")):(j=/^[^'"].*?(['"])$/.exec(a))&&Ext.log.warn(e("ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})",b,j[1],"end"))}"/\x3d"===d&&(a=(b=h.get(a))?b:h.add(a,RegExp(a)));return[c,d,a]}},{re:/^#((?:\\\.|[\w\-])+)/,
method:n},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(b,c,d){return a.pseudos[c](b,d)},argTransform:function(a){void 0!==a[2]&&(a[2]=a[2].replace(g,"$1"));return a.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:"var r \x3d [],i \x3d 0,it \x3d items,l \x3d it.length,c;for (; i \x3c l; i++) {c \x3d it[i];if (c.{0}) {r.push(c);}}return r;"}];a.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(a){var b=this.operations,c=
[],d,e,g;e=0;for(g=b.length;e<g;e++)d=b[e],c=c.concat(this._execute(a,d));return c},_execute:function(a,b){var c=0,d=b.length,e,g;a?Ext.isIterable(a)?g=a:a.isMixedCollection&&(g=a.items):g=Ext.ComponentManager.getAll();for(;c<d;c++)if(e=b[c],g="^"===e.mode?l(g||[a]):e.mode?k(g||[a],e.mode):j(g||k([a]),e),c===d-1)return g;return[]},is:function(a){var b=this.operations,c=!1,d=b.length,e;if(0===d)return!0;for(e=0;e<d;e++)if(c=b[e],c=this._is(a,c))return c;return!1},_is:function(a,b){var c=b.length,d=
[a],e,g,h,m;for(e=c-1;0<=e;--e){c=b[e];if(g=c.mode)if("^"===g)d=k(d," ");else if("\x3e"===g){h=[];g=0;for(c=d.length;g<c;++g)(m=d[g].getRefOwner())&&h.push(m);d=h}else d=l(d);else d=j(d,c);if(0===d.length)return!1}return!0},getMatches:function(a,b){var c=b.length,d;for(d=0;d<c&&!(a=j(a,b[d]),0===a.length);++d);return a},isMultiMatch:function(){return 1<this.operations.length}});Ext.apply(this,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(a,b){for(var c=Ext.ComponentQuery,d=0,e=
a.length,g=[],h=-1,j;d<e;++d)j=a[d],c.is(j,b)||(g[++h]=j);return g},first:function(a){var b=[];0<a.length&&b.push(a[0]);return b},last:function(a){var b=a.length,c=[];0<b&&c.push(a[b-1]);return c},focusable:function(a){for(var b=a.length,c=[],d=0,e;d<b;d++)e=a[d],e.isFocusable()&&c.push(e);return c},"nth-child":function(a,b){var e=[],g=c.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!d.test(b)&&"n+"+b||b),h=(g[1]||1)-0,g=g[2]-0,j,k,l;for(j=0;k=a[j];j++)l=j+1,1==h?(0==g||l==g)&&e.push(k):0==(l+g)%h&&e.push(k);
return e}},query:function(a,b){if(!a)return Ext.ComponentManager.all.getArray();var c=[],d=[],e={},g=this.cache.get(a),h,j;g||(g=this.cache.add(a,this.parse(a)));c=g.execute(b);if(g.isMultiMatch()){g=c.length;for(j=0;j<g;j++)h=c[j],e[h.id]||(d.push(h),e[h.id]=!0);c=d}return c},visitPreOrder:function(a,b,c,d,e){this._visit(!0,a,b,c,d,e)},visitPostOrder:function(a,b,c,d,e){this._visit(!1,a,b,c,d,e)},_visit:function(a,b,c,d,e,g){var h=this.cache.get(b),j=[c],k,l=0,m;h||(h=this.cache.add(b,this.parse(b)));
m=h.is(c);c.getRefItems&&(k=c.getRefItems(),l=k.length);g&&Ext.Array.push(j,g);if(a&&m&&!1===d.apply(e||c,j))return!1;for(h=0;h<l;h++)if(!1===this._visit.call(this,a,b,k[h],d,e,g))return!1;if(!a&&m&&!1===d.apply(e||c,j))return!1},is:function(a,b){if(!b)return!0;var c=this.cache.get(b);c||(c=this.cache.add(b,this.parse(b)));return c.is(a)},parse:function(b){var c=[],d,e,g;b=Ext.splitAndUnescape(b,",");e=0;for(g=b.length;e<g;e++)d=Ext.String.trim(b[e]),""===d&&Ext.Error.raise('Invalid ComponentQuery selector: ""'),
c.push(this._parse(d));return new a.Query({operations:c})},_parse:function(a){for(var b=[],c=Ext.String.trim,d=r.length,h,j,k,l,B,y;a&&h!==a;){h=a;if(j=a.match(q))l=j[1],k=c(j[2]).replace(g,"$1"),"#"===l?b.push({method:n,args:[k]}):b.push({method:m,args:[k,Boolean(j[3])]}),a=a.replace(j[0],"").replace(e,"$1");for(;!(j=a.match(p));)for(y=0;a&&y<d;y++){k=r[y];j=a.match(k.re);l=k.method;B=k.argTransform;if(j){B=B?B(j):j.slice(1);b.push({method:Ext.isString(k.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,
[l].concat(j.slice(1)))):k.method,args:B});a=a.replace(j[0],"").replace(e,"$1");break}y===d-1&&Ext.Error.raise('Invalid ComponentQuery selector: "'+a+'"')}j[1]&&(b.push({mode:j[2]||j[1]}),a=a.replace(j[0],"").replace(e,""))}return b}})});
Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:[Ext.mixin.Observable],statics:{generateSetter:function(a){var b=a.names,c=a.name,d=b.internal,e=b.apply,g=b.changeEvent,h=b.doSet;return function(a){var k=this.$configPrefixed?d:c,l=this.initialized,m;if(m=this[e])if(a=m.call(this,a,this[k]),void 0===a)return this;m=this[k];if(a!==m)if(l)this.fireAction(g,[this,a,m],this.doSet,this,{nameMap:b});else if(this[k]=a,this[h])this[h](a,m);return this}}},initialized:!1,constructor:function(a){this.mixins.observable.constructor.call(this,
a);this.initialized=!0},doSet:function(a,b,c,d){d=d.nameMap;a[d.internal]=b;a[d.doSet]&&a[d.doSet].call(this,b,c)},onClassExtended:function(a,b){if(b.hasOwnProperty("eventedConfig")){var c=b.config,d=b.eventedConfig,e;c?Ext.applyIf(c,d):a.addConfig(d);for(e in d)d.hasOwnProperty(e)&&(c=Ext.Config.get(e),b[c.names.set]=c.eventedSetter||(c.eventedSetter=this.generateSetter(c)))}}});
Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.Error.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.Error.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.Error.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.Error.raise("getLocalXY is not implemented in "+
this.$className)},getLocalY:function(){Ext.Error.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.Error.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.Error.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.Error.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.Error.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.Error.raise("setLocalXY is not implemented in "+
this.$className)},setLocalY:function(){Ext.Error.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.Error.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.Error.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.Error.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(a,b){var c=this.getConstrainVector(b,a);c&&(a[0]+=c[0],a[1]+=c[1]);return a},alignTo:function(a,b,c,d){var e=this.el;return this.setXY(this.getAlignToXY(a,
b,c),e.anim&&d?e.anim(d):!1)},calculateAnchorXY:function(a,b,c,d){var e=this.el,g=document,h=e.dom===g.body||e.dom===g,e=Math.round,j;a=(a||"tl").toLowerCase();d=d||{};g=d.width||(h?Ext.Element.getViewportWidth():this.getWidth());d=d.height||(h?Ext.Element.getViewportHeight():this.getHeight());switch(a){case "tl":j=[0,0];break;case "bl":j=[0,d];break;case "tr":j=[g,0];break;case "c":j=[e(0.5*g),e(0.5*d)];break;case "t":j=[e(0.5*g),0];break;case "l":j=[0,e(0.5*d)];break;case "r":j=[g,e(0.5*d)];break;
case "b":j=[e(0.5*g),d];break;case "tc":j=[e(0.5*g),0];break;case "bc":j=[e(0.5*g),d];break;case "br":j=[g,d]}return[j[0]+b,j[1]+c]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(a,b,c){var d,e,g,h,j,k,l;a=Ext.get(a.el||a);(!a||!a.dom)&&Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"});c=c||[0,0];b=(!b||"?"==b?"tl-bl?":!/-/.test(b)&&""!==b?"tl-"+b:b||"tl-bl").toLowerCase();b=this.convertPositionSpec(b);
(g=b.match(this._alignRe))||Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",el:a,position:b,offset:c,msg:'Attemmpted to align an element with an invalid position: "'+b+'"'});k=g[1];b=g[2];e=!!g[3];d=this.getAnchorXY(k,!0);h=this.getAnchorToXY(a,b,!1);g=h[0]-d[0]+c[0];c=h[1]-d[1]+c[1];e&&(d=this.constrainTo||this.container||this.el.parent(),d=Ext.get(d.el||d),e=d.getViewRegion(),e.right=e.left+d.el.dom.clientWidth,d=this.getWidth(),h=this.getHeight(),a=a.getRegion(),
j=k.charAt(0),k=k.charAt(k.length-1),l=b.charAt(0),b=b.charAt(b.length-1),j=g<a.right&&g+d>=a.left&&("t"==j&&"b"==l||"b"==j&&"t"==l),b=c<a.bottom&&c+h>=a.top&&("r"==k&&"l"==b||"l"==k&&"r"==b),g+d>e.right&&(b?(g=a.left-d,b=!1):g=e.right-d),g<e.left&&(g=b?a.right:e.left),c+h>e.bottom&&(j?(c=a.top-h,j=!1):c=e.bottom-h),c<e.top&&(c=j?a.bottom:e.top));return[g,c]},getAnchorXY:function(a,b,c){var d=this.getXY(),e=this.el,g=document,g=e.dom==g.body||e.dom==g,e=e.getScroll();return this.calculateAnchorXY(a,
g?e.left:b?0:d[0],g?e.top:b?0:d[1],c)},getBox:function(a,b){var c=b?this.getLocalXY():this.getXY(),d=c[0],c=c[1],e=this.getWidth(),g=this.getHeight(),h,j,k;a&&(h=this.getBorderPadding(),j=h.beforeX,k=h.beforeY,d+=j,c+=k,e-=j+h.afterX,g-=k+h.afterY);return{x:d,left:d,"0":d,y:c,top:c,1:c,width:e,height:g,right:d+e,bottom:c+g}},calculateConstrainedPosition:function(a,b,c,d){var e=this.floatParent,g=e?e.getTargetEl():null,h,j;h=!1;c&&e?(h=g.getXY(),e=g.getBorderPadding(),h[0]+=e.beforeX,h[1]+=e.beforeY,
b&&(j=[b[0]+h[0],b[1]+h[1]])):j=b;a=a||this.constrainTo||g||this.container||this.el.parent();a=this.getConstrainVector(a,j,d);h=b||this.getPosition(c);a&&(h[0]+=a[0],h[1]+=a[1]);return h},getConstrainVector:function(a,b,c){var d=this.getRegion(),e=[0,0],g=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.shadow.getShadowSize():void 0,h=!1,j,k=this.constraintInsets;a instanceof Ext.util.Region||(a=Ext.get(a.el||a),j=a.getViewSize(),a=a.getViewRegion(),a.right=a.left+j.width,a.bottom=a.top+
j.height);k&&(k=Ext.isObject(k)?k:Ext.Element.parseBox(k),a.adjust(k.top,k.right,k.bottom,k.length));b&&d.translateBy(b[0]-d.x,b[1]-d.y);c&&(d.right=d.left+c[0],d.bottom=d.top+c[1]);g&&a.adjust(g[0],-g[1],-g[2],g[3]);d.right>a.right&&(h=!0,e[0]=a.right-d.right);d.left+e[0]<a.left&&(h=!0,e[0]=a.left-d.left);d.bottom>a.bottom&&(h=!0,e[1]=a.bottom-d.bottom);d.top+e[1]<a.top&&(h=!0,e[1]=a.top-d.top);return h?e:!1},getOffsetsTo:function(a){var b=this.getXY();a=Ext.fly(a.el||a).getXY();return[b[0]-a[0],
b[1]-a[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var a=this.el,b,c,d;"BODY"===a.dom.nodeName?(b=a.getScroll(),a=b.left,b=b.top,c=Ext.Element.getViewportWidth(),d=Ext.Element.getViewportHeight()):(b=this.getBorderPadding(),c=this.getXY(),a=c[0]+b.beforeX,b=c[1]+b.beforeY,c=this.getWidth(!0),d=this.getHeight(!0));return new Ext.util.Region(b,a+c,b+d,a)},move:function(a,b,c){var d=this.getXY(),e=d[0],g=d[1],d=[e-
b,g],h=[e+b,g],j=[e,g-b];b=[e,g+b];b={l:d,left:d,r:h,right:h,t:j,top:j,up:j,b:b,bottom:b,down:b};a=a.toLowerCase();this.setXY([b[a][0],b[a][1]],c)},setBox:function(a){var b,c;a.isRegion&&(a={x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});this.constrainBox(a);b=a.x;c=a.y;this.setSize(a.width,a.height);this.setXY([b,c]);this.afterSetPosition(b,c);return this},constrainBox:function(a){var b,c;if(this.constrain||this.constrainHeader)if(b="x"in a?a.x:a.left,c="y"in a?a.y:a.top,b=this.calculateConstrainedPosition(null,
[b,c],!1,[a.width,a.height]))a.x=b[0],a.y=b[1]},translatePoints:function(a,b){var c=this.translateXY(a,b);return{left:c.x,top:c.y}},translateXY:function(a,b){var c=this.el,d=c.getStyle(this._positionTopLeft),e="relative"===d.position,g=parseFloat(d.left),d=parseFloat(d.top),h=this.getXY();Ext.isArray(a)&&(b=a[1],a=a[0]);isNaN(g)&&(g=e?0:c.dom.offsetLeft);isNaN(d)&&(d=e?0:c.dom.offsetTop);g="number"===typeof a?a-h[0]+g:void 0;d="number"===typeof b?b-h[1]+d:void 0;return{x:g,y:d}}});
Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(a,b,c,d,e,g){var h=this,j=!Ext.isEmpty(e),k=function(){h.alignTo(a,b,c,d);Ext.callback(g,h)},l=h.getAnchor();h.removeAnchor();Ext.apply(l,{fn:k,scroll:j});Ext.on("resize",k,null);if(j)Ext.getWin().on("scroll",k,null,{buffer:!isNaN(e)?e:50});k();return h},getAnchor:function(){var a=this.el,b;if(a.dom)return a=a.getData(),b=a._anchor,b||(b=a._anchor={}),b},removeAnchor:function(){var a=this.getAnchor();
if(a&&a.fn){Ext.un("resize",a.fn);if(a.scroll)Ext.getWin().on("scroll",a.fn);delete a.fn}return this},setBox:function(a,b){a.isRegion&&(a={x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top});b?(this.constrainBox(a),this.animate(Ext.applyIf({to:a,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[a.x,a.y])}},b))):this.callParent([a]);return this}});
Ext.define("Ext.dom.Element",function(a){var b=window,c=document,d=/\w/g,e=/\s+/,g=/[\s]+/,h=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,j=/table-row|table-.*-group/,k={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},l={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},m={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},n=[l.l,l.r,l.t,l.b],p=[k.l,k.r,k.t,k.b],q=/\d+$/,r=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,
s=/(-[a-z])/gi,t=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,u=/^\d+(?:\.\d*)?px$/i,v={},w=function(a,b){return b.charAt(1).toUpperCase()},x=Ext.baseCSSPrefix+"hidden-visibility",A=Ext.baseCSSPrefix+"hidden-display",z=Ext.baseCSSPrefix+"hidden-offsets",B=Ext.baseCSSPrefix+"no-touch-scroll",y,C={positionable:Ext.util.Positionable,observable:Ext.mixin.Observable},E=Ext.validIdRe,D=Ext.supports.EmulatedMouseOver?{mouseover:1}:{},F={cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:r,useDelegatedEvents:!0,
validNodeTypes:{1:1,9:1},addUnits:function(a,b){return"number"===typeof a?a+(b||"px"):""===a||"auto"===a||null==a?a||"":q.test(a)?a+(b||"px"):!r.test(a)?(Ext.Logger.warn("Warning, size detected ("+a+") not a valid property value on Element.addUnits."),a||""):a},create:function(a,b){var d,e,g,h,j,k;a||(a={});if(a.isElement)return b?a.dom:a;if("nodeType"in a)return b?a:Ext.get(a);if("string"===typeof a)return c.createTextNode(a);(d=a.tag)||(d="div");d=a.namespace?c.createElementNS(a.namespace,d):c.createElement(d);
e=d.style;a.hidden&&(g=a.className,a.className=(null==g?"":g+" ")+A,delete a.hidden);for(h in a)if("tag"!==h)switch(g=a[h],h){case "style":if("string"===typeof g)d.setAttribute(h,g);else for(j in g)g.hasOwnProperty(j)&&(e[j]=g[j]);break;case "className":case "cls":d.className=g;break;case "classList":d.className=g.join(" ");break;case "text":d.textContent=g;break;case "html":d.innerHTML=g;break;case "children":j=0;for(k=g.length;j<k;j++)d.appendChild(this.create(g[j],!0));break;default:null!=g&&d.setAttribute(h,
g)}return b?d:this.get(d)},detach:function(){var a=this.dom;a&&(a.parentNode&&"BODY"!==a.tagName)&&a.parentNode.removeChild(a);return this},fly:function(a,b){return Ext.fly(a,b)},fromPoint:function(a,b){return Ext.get(c.elementFromPoint(a,b))},get:function(d){function e(a){Ext.Error.raise("DOM element with id "+a+" in Element cache is not the same as element in the DOM. Make sure to clean up Element instances using destroy()")}var g=Ext.cache,h,j,k;if(!d)return null;d.isFly&&(d=d.dom);if("string"===
typeof d){j=d;if(g.hasOwnProperty(j)){k=g[j];if(k.skipGarbageCollection||!Ext.isGarbage(k.dom))return(h=Ext.getElementById?Ext.getElementById(j):c.getElementById(j))&&h!==k.dom&&e(j),k;k.destroy()}if("ext-window"===j)return a.get(b);if("ext-document"===j)return a.get(c);if(h=Ext.getElementById?Ext.getElementById(j):c.getElementById(j))return new a(h)}if(d===c)return this.docEl||(c.id="ext-document",this.docEl=new a(c,!0)),this.docEl;if(d==b)return this.winEl||(b.id="ext-window",this.winEl=new a(b,
!0)),this.winEl;h=d.nodeType;if(this.validNodeTypes[h]||!h&&d.window===d){j=d.id;if(g.hasOwnProperty(j)){k=g[j];if(k.skipGarbageCollection||d===k.dom||!Ext.isGarbage(k.dom))return d!==k.dom&&e(j),k;k.destroy()}return new a(d)}return d.isElement||d.isComposite?d:Ext.isIterable(d)?this.select(d):null},getActiveElement:function(){var a=c.activeElement;if(!a||!a.focus)a=c.body;return a},getDocumentHeight:function(){return Math.max(!Ext.isStrict?c.body.scrollHeight:c.documentElement.scrollHeight,this.getViewportHeight())},
getDocumentWidth:function(){return Math.max(!Ext.isStrict?c.body.scrollWidth:c.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==b.orientation?"portrait":"landscape":b.innerHeight>b.innerWidth?"portrait":"landscape"},getViewportHeight:function(){return b.innerHeight},getViewportWidth:function(){return b.innerWidth},getViewSize:function(){return{width:a.getViewportWidth(),height:a.getViewportHeight()}},normalize:function(a){return v[a]||
(v[a]=a.replace(s,w))},parseBox:function(a){a=a||0;var b=typeof a;if("number"===b)return{top:a,right:a,bottom:a,left:a};if("string"!==b)return a;a=a.split(" ");b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},parseStyles:function(a){var b={},c;if(a)for(t.lastIndex=0;c=t.exec(a);)b[c[1]]=c[2]||"";return b},select:function(a,b,d){return Ext.fly(d||c).select(a,
b)},query:function(a,b,d){return Ext.fly(d||c).query(a,b)},unitizeBox:function(a,b){a=this.parseBox(a);return this.addUnits(a.top,b)+" "+this.addUnits(a.right,b)+" "+this.addUnits(a.bottom,b)+" "+this.addUnits(a.left,b)},serializeForm:function(a){a=a.elements||(c.forms[a]||Ext.getDom(a)).elements;var b=!1,d=encodeURIComponent,e="",g=a.length,h,j,k,l,m,n,p;for(m=0;m<g;m++)if(h=a[m],j=h.name,k=h.type,l=h.options,!h.disabled&&j)if(/select-(one|multiple)/i.test(k)){n=l.length;for(k=0;k<n;k++)p=l[k],p.selected&&
(h=p.hasAttribute("value"),e+=Ext.String.format("{0}\x3d{1}\x26",d(j),d(h?p.value:p.text)))}else if(!/file|undefined|reset|button/i.test(k)&&(!/radio|checkbox/i.test(k)||h.checked)&&!("submit"==k&&b))e+=d(j)+"\x3d"+d(h.value)+"\x26",b=/submit/i.test(k);return e.substr(0,e.length-1)}},G=!Ext.browser.is.IE?function(){var a=this.dom;return Boolean(a&&a.offsetParent)}:function(){var a=this.dom;return Boolean(a&&0!==a.offsetHeight&&0!==a.offsetWidth)},I="webkitTransform"in c.createElement("div").style?
"webkitTransform":"transform";return{alternateClassName:"Ext.Element",mixins:C,requires:[],observableType:"element",isElement:!0,skipGarbageCollection:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:E,listenerOptionsRegex:/^(?:scope|order|delegate|delegated|single|delay|buffer|args|prepend|capture|destroyable|translate)$/,blockedEvents:D,longpressEvents:{longpress:1,taphold:1},constructor:function(a,b){var d;"string"===typeof a&&(a=c.getElementById(a));if(!a)return Ext.Error.raise("Invalid domNode reference or an id of an existing domNode: "+
a),null;Ext.cache[a.id]&&Ext.Error.raise("Element cache already contains an entry for id '"+a.id+"'.  Use Ext.get() to create or retrieve Element instances.");this.dom=a;(d=a.id)?this.id=d:d=a.id=this.getUniqueId();this.validIdRe.test(this.id)||Ext.Error.raise('Invalid Element "id": "'+this.id+'"');this.el=this;b||(Ext.cache[d]=this);this.mixins.observable.constructor.call(this)},inheritableStatics:F,addCls:function(a,b,c){var d,g,h,j,k,l,m;j=this.getData();if(!a)return this;j.isSynchronized||this.synchronize();
g=this.dom;h=j.classMap;j=j.classList;b=b?b+"-":"";c=c?"-"+c:"";"string"===typeof a&&(a=a.split(e));k=0;for(l=a.length;k<l;k++)m=b+a[k]+c,h[m]||(h[m]=!0,j.push(m),d=!0);d&&(g.className=j.join(" "));return this},addStyles:function(a,b){var c=0,e=(a||"").match(d),g,h=e.length,j,k=[];if(1===h)c=Math.abs(parseFloat(this.getStyle(b[e[0]]))||0);else if(h){for(g=0;g<h;g++)j=e[g],k.push(b[j]);k=this.getStyle(k);for(g=0;g<h;g++)j=e[g],c+=parseFloat(k[b[j]])||0}return c},addUnits:function(b,c){return a.addUnits(b,
c)},adjustDirect2DDimension:function(a){var b=this.dom,c=this.getStyle("display"),d=b.style.display,e=b.style.position,g="width"===a?0:1,h=b.currentStyle;"inline"===c&&(b.style.display="inline-block");b.style.position=c.match(j)?"absolute":"static";a=(parseFloat(h[a])||2*parseFloat(h.msTransformOrigin.split(" ")[g]))%1;b.style.position=e;"inline"===c&&(b.style.display=d);return a},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(a,b){var c,d,e;if(a.nodeType||a.dom||"string"===
typeof a)return a=Ext.getDom(a),this.dom.appendChild(a),!b?Ext.get(a):a;if(a.length){c=Ext.fly(document.createDocumentFragment());d=a.length;for(e=0;e<d;e++)c.appendChild(a[e],b);this.dom.appendChild(c.dom);return b?c.dom:c}return this.createChild(a,null,b)},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},applyStyles:function(b){b&&("function"===typeof b&&(b=b.call()),"string"===typeof b&&(b=a.parseStyles(b)),"object"===typeof b&&this.setStyle(b));return this},blur:function(){var a=
this.dom;if(a!==c.body){try{a.blur()}catch(b){}return this}return this.focus(void 0,a)},center:function(a){return this.alignTo(a||c,"c-c")},child:function(a,b){var c=Ext.get(this).id;return this.selectNode(Ext.makeIdSelector(c)+" \x3e "+a,!!b)},createChild:function(a,b,c){a=a||{tag:"div"};return b?Ext.DomHelper.insertBefore(b,a,!0!==c):Ext.DomHelper.append(this.dom,a,!0!==c)},createShim:function(){var a=c.createElement("iframe");a.frameBorder="0";a.className=Ext.baseCSSPrefix+"shim";a.src=Ext.SSL_SECURE_URL;
a.setAttribute("role","presentation");a.setAttribute("tabindex",-1);return Ext.get(this.dom.parentNode.insertBefore(a,this.dom))},contains:function(a){if(!a)return!1;a=Ext.getDom(a);return a===this.dom||this.isAncestor(a)},destroy:function(){var a=this.dom;this.isDestroyed?Ext.Logger.warn('Cannot destroy Element "'+this.id+'". Already destroyed.'):(a&&("BODY"===a.tagName?Ext.Error.raise("Cannot destroy body element."):a===c?Ext.Error.raise("Cannot destroy document object."):a===b&&Ext.Error.raise("Cannot destroy window object")),
this.isFly||(this.clearListeners(),delete Ext.cache[this.id],this.isDestroyed=!0),a&&(a.parentNode&&a.parentNode.removeChild(a),a._extData=this.dom=null))},detach:function(){var a=this.dom;a&&(a.parentNode&&"BODY"!==a.tagName)&&a.parentNode.removeChild(a);return this},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(a){a.preventDefault()},destroyable:!0,delegated:!1})},disableTouchScroll:function(){this.addCls(B);this.on({touchmove:function(a){a.preventDefault()},
translate:!1})},doAddListener:function(b,c,d,e){var g,h;if(!this.blockedEvents[b]){h=this.mixins.observable.doAddListener;e=e||{};this.longpressEvents[b]&&this.disableTouchContextMenu();if(this.normalizeEvent&&(g=this.normalizeEvent(b)))b=g.eventName,e.beforeFn=g.normalizeFn;!1===a.useDelegatedEvents&&(e.delegated=e.delegated||!1);if(!1!==e.translate){if(g=this.additiveEvents[b])e.type=b,b=g,h.apply(this,arguments);if(g=this.eventMap[b])e.type=e.type||b,b=g}h.apply(this,arguments);delete e.type}return this},
doRemoveListener:function(b,c,d,e){var g,h;if(!this.blockedEvents[b]){h=this.mixins.observable.doRemoveListener;e=e||{};this.longpressEvents[b]&&(g=this._contextMenuListenerRemover)&&g.destroy();if(this.normalizeEvent&&(g=this.normalizeEvent(b)))b=g.eventName;!1===a.useDelegatedEvents&&(e.delegated=e.delegated||!1);if(!1!==e.translate){if(g=this.additiveEvents[b])b=g,h.apply(this,arguments);b=this.eventMap[b]||b}h.apply(this,arguments)}return this},doReplaceWith:function(a){var b=this.dom;b.parentNode.replaceChild(Ext.getDom(a),
b)},down:function(a,b){return this.selectNode(a,!!b)},findParent:function(a,b,d){var e=this.dom,g=c.documentElement,h=0;b=b||50;isNaN(b)&&(b=Number.MAX_VALUE);for(;e&&1===e.nodeType&&h<b&&e!==g;){if(Ext.fly(e).is(a))return d?Ext.get(e):e;h++;e=e.parentNode}return null},findParentNode:function(a,b,c){var d=Ext.fly(this.dom.parentNode);return d?d.findParent(a,b,c):null},first:function(a,b){return this.matchNode("nextSibling","firstChild",a,b)},focus:function(a,b){b=b||this.dom;try{Number(a)?Ext.defer(this.focus,
a,this,[null,b]):(Ext.GlobalEvents.fireEvent("beforefocus",b),b.focus())}catch(c){}return this},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,c,d)},getAttribute:function(a,b){var c=this.dom;return b?c.getAttributeNS(b,a)||c.getAttribute(b+":"+a):c.getAttribute(a)||c[a]||null},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getById:function(a,b){var d=c.getElementById(a)||this.dom.querySelector(Ext.makeIdSelector(a));return b?d:d?Ext.get(d):null},getBorderPadding:function(){var a=
this.getStyle(n),b=this.getStyle(p);return{beforeX:(parseFloat(b[k.l])||0)+(parseFloat(a[l.l])||0),afterX:(parseFloat(b[k.r])||0)+(parseFloat(a[l.r])||0),beforeY:(parseFloat(b[k.t])||0)+(parseFloat(a[l.t])||0),afterY:(parseFloat(b[k.b])||0)+(parseFloat(a[l.b])||0)}},getBorderWidth:function(a){return this.addStyles(a,k)},getData:function(){var a=this.dom;return a._extData||(a._extData={})},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(a,b){var c,d;if(this.isStyle("display",
"none"))return 0;c=this.dom.offsetHeight;Ext.supports.Direct2DBug&&(d=this.adjustDirect2DDimension("height"),b?c+=d:0<d&&0.5>d&&c++);a&&(c-=this.getBorderWidth("tb")+this.getPadding("tb"));return 0>c?0:c},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a,b=this.getStyle("left");!b||"auto"===b?b=0:u.test(b)?b=parseFloat(b):(b=this.getX(),(a=this.dom.offsetParent)&&(b-=Ext.fly(a).getX()));return b},getLocalXY:function(){var a;
a=this.getStyle(["left","top"]);var b=a.left,c=a.top;!b||"auto"===b?b=0:u.test(b)?b=parseFloat(b):(b=this.getX(),(a=this.dom.offsetParent)&&(b-=Ext.fly(a).getX()));!c||"auto"===c?c=0:u.test(c)?c=parseFloat(c):(c=this.getY(),(a=this.dom.offsetParent)&&(c-=Ext.fly(a).getY()));return[b,c]},getLocalY:function(){var a,b=this.getStyle("top");!b||"auto"===b?b=0:u.test(b)?b=parseFloat(b):(b=this.getY(),(a=this.dom.offsetParent)&&(b-=Ext.fly(a).getY()));return b},getMargin:function(a){var b={t:"top",l:"left",
r:"right",b:"bottom"},c;if(a)return this.addStyles(a,m);a=[];for(c in m)a.push(m[c]);if((a=this.getStyle(m))&&"object"===typeof a)for(c in m)a[b[c]]=parseFloat(a[m[c]])||0;return a},getPadding:function(a){return this.addStyles(a,l)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},getStyle:function(b,c){var d=this.dom,e="string"!==typeof b,
g=this.styleHooks,h=b,j=h,k=1,l,m,n,p;if(e&&(m={},h=j[0],p=0,!(k=j.length)))return m;if(!d||d.documentElement)return m||"";l=d.style;c?n=l:(n=d.ownerDocument.defaultView.getComputedStyle(d,null),n||(c=!0,n=l));do{(l=g[h])||(g[h]=l={name:a.normalize(h)});l.get?l=l.get(d,this,c,n):(l=l.name,l=n[l]);if(!e)return l;m[h]=l;h=j[++p]}while(p<k);return m},getStyleValue:function(a){return this.dom.style.getPropertyValue(a)},getTop:function(a){return a?this.getLocalY():this.getY()},getValue:function(a){var b=
this.dom.value;return a?parseInt(b,10):b},getViewSize:function(){var b=this.dom;return b===c||b===c.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:{width:b.clientWidth,height:b.clientHeight}},getVisibilityMode:function(){var b=this.getData(),c=b.visibilityMode;void 0===c&&(b.visibilityMode=c=a.DISPLAY);return c},getWidth:function(a,b){var c=this.dom,d;if(this.isStyle("display","none"))return 0;Ext.supports.BoundingClientRect?(c=c.getBoundingClientRect(),c=this.vertical&&!Ext.supports.RotatedBoundingClientRect?
c.bottom-c.top:c.right-c.left,c=b?c:Math.ceil(c)):c=c.offsetWidth;Ext.supports.Direct2DBug&&!this.vertical&&(d=this.adjustDirect2DDimension("width"),b?c+=d:0<d&&0.5>d&&c++);a&&(c-=this.getBorderWidth("lr")+this.getPadding("lr"));return 0>c?0:c},getX:function(){return this.getXY()[0]},getXY:function(){var a=Math.round,b=this.dom,d=0,e=0,g;if(b!==c&&b!==c.body){try{g=b.getBoundingClientRect()}catch(h){g={left:0,top:0}}d=a(g.left);e=a(g.top)}return[d,e]},getY:function(){return this.getXY()[1]},hasCls:function(a){var b=
this.getData();b.isSynchronized||this.synchronize();return b.classMap.hasOwnProperty(a)},hide:function(){this.setVisible(!1);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertFirst:function(a,b){a=a||{};return a.nodeType||a.dom||"string"===typeof a?(a=Ext.getDom(a),this.dom.insertBefore(a,this.dom.firstChild),!b?Ext.get(a):a):this.createChild(a,
this.dom.firstChild,b)},insertHtml:function(a,b,c){a=Ext.DomHelper.insertHtml(a,this.dom,b);return c?Ext.get(a):a},insertSibling:function(a,b,c){var d=Ext.DomHelper;b="after"===(b||"before").toLowerCase();var e,g,h;if(Ext.isIterable(a)){g=a.length;d=Ext.fly(document.createDocumentFragment());if(Ext.isArray(a))for(h=0;h<g;h++)e=d.appendChild(a[h],c);else{for(h=0;h<g;h++)d.dom.appendChild(e=a[0]);!1===c&&(e=Ext.get(e))}this.dom.parentNode.insertBefore(d.dom,b?this.dom.nextSibling:this.dom);return e}a=
a||{};a.nodeType||a.dom?(e=this.dom.parentNode.insertBefore(Ext.getDom(a),b?this.dom.nextSibling:this.dom),c||(e=Ext.get(e))):e=b&&!this.dom.nextSibling?d.append(this.dom.parentNode,a,!c):d[b?"insertAfter":"insertBefore"](this.dom,a,!c);return e},is:function(a){var b=this.dom;return a?b.tagName?Ext.isFunction(a)?a(b):b[Ext.supports.matchesSelector](a):!1:!0},isAncestor:function(a){var b=!1,c=this.dom;a=Ext.getDom(a);if(c&&a){if(c.contains)return c.contains(a);if(c.compareDocumentPosition)return!!(c.compareDocumentPosition(a)&
16);for(;a=a.parentNode;)b=a===c||b}return b},isPainted:G,isStyle:function(a,b){return this.getStyle(a)===b},isVisible:function(a){var b=this.dom,c;if(!b)return!1;y||(y=new Ext.dom.Fly);for(c=b.ownerDocument.documentElement;b!==c;b=b.parentNode){if(!b||11===b.nodeType||y.attach(b).isStyle("visibility","hidden")||y.isStyle("display","none"))return!1;if(!a)break}return!0},last:function(a,b){return this.matchNode("previousSibling","lastChild",a,b)},matchNode:function(a,b,c,d){var e=this.dom;if(!e)return null;
for(b=e[b];b;){if(1===b.nodeType&&(!c||Ext.fly(b,"_matchNode").is(c)))return!d?Ext.get(b):b;b=b[a]}return null},next:function(a,b){return this.matchNode("nextSibling","nextSibling",a,b)},parent:function(a,b){return this.matchNode("parentNode","parentNode",a,b)},position:function(a,b,c,d){!a&&this.isStyle("position","static")?this.setStyle("position","relative"):a&&this.setStyle("position",a);b&&this.setStyle("z-index",b);if(c||d)this.setXY([c||!1,d||!1])},prev:function(a,b){return this.matchNode("previousSibling",
"previousSibling",a,b)},query:function(a,b,c){var d=this.dom,e,g,h,j,k,l;if(!d)return null;b=!1!==b;a=a.split(",");c||(e=[]);k=0;for(g=a.length;k<g;k++)if("string"===typeof a[k]){if(c)return a=d.querySelector(a[k]),b?a:Ext.get(a);j=d.querySelectorAll(a[k]);l=0;for(h=j.length;l<h;l++)e.push(b?j[l]:Ext.get(j[l]))}return e},radioCls:function(a){var b=this.dom.parentNode.childNodes,c;a=Ext.isArray(a)?a:[a];for(var d=0,e=b.length;d<e;d++)(c=b[d])&&1===c.nodeType&&Ext.fly(c).removeCls(a);return this.addCls(a)},
redraw:function(){var a=this.dom,b=a.style;b.display="none";a.offsetHeight;b.display=""},remove:function(){this.destroy()},removeChild:function(a){this.dom.removeChild(Ext.getDom(a));return this},removeCls:function(a,b,c){var d,g,h,j,k,l,m;j=this.getData();if(!a)return this;j.isSynchronized||this.synchronize();c||(c="");g=this.dom;h=j.classMap;j=j.classList;b=b?b+"-":"";c=c?"-"+c:"";"string"===typeof a&&(a=a.split(e));k=0;for(l=a.length;k<l;k++)m=b+a[k]+c,h[m]&&(delete h[m],Ext.Array.remove(j,m),
d=!0);d&&(g.className=j.join(" "));return this},repaint:function(){var a=this;a.addCls(Ext.baseCSSPrefix+"repaint");Ext.defer(function(){a.dom&&Ext.fly(a.dom).removeCls(Ext.baseCSSPrefix+"repaint")},1);return a},replace:function(a,b){a=Ext.getDom(a);var c=a.parentNode,d=a.id,e=this.dom;c||Ext.Error.raise('Cannot replace element "'+d+'". It is not attached to a parent node.');!1!==b&&d&&Ext.cache[d]?(c.insertBefore(e,a),Ext.get(a).destroy()):c.replaceChild(e,a);return this},replaceCls:function(a,b,
c,d){var g,h,j,k,l,m;j=this.getData();if(!a&&!b)return this;a=a||[];b=b||[];j.isSynchronized||this.synchronize();d||(d="");g=this.dom;h=j.classMap;j=j.classList;c=c?c+"-":"";d=d?"-"+d:"";"string"===typeof a&&(a=a.split(e));"string"===typeof b&&(b=b.split(e));k=0;for(l=a.length;k<l;k++)m=c+a[k]+d,h[m]&&(delete h[m],Ext.Array.remove(j,m));k=0;for(l=b.length;k<l;k++)m=c+b[k]+d,h[m]||(h[m]=!0,j.push(m));g.className=j.join(" ");return this},replaceWith:function(a){var b=this.dom,c=b.parentNode,d=Ext.cache;
this.clearListeners();a.nodeType||a.dom||"string"===typeof a?(a=Ext.get(a),a=c.insertBefore(a.dom,b)):a=Ext.DomHelper.insertBefore(b,a);c.removeChild(b);this.dom=a;this.isFly||(delete d[this.id],d[this.id=Ext.id(a)]=this);return this},resolveListenerScope:function(a){var b=this.component;return b?b.resolveListenerScope(a):this},select:function(a,b){var c,d;"string"===typeof a?d=this.query(a,!b):void 0===a.length?Ext.Error.raise("Invalid selector specified: "+a):(d=a,c=!0);return b?new Ext.CompositeElement(d,
!c):new Ext.CompositeElementLite(d,!0)},selectNode:function(a,b){return this.query(a,b,!0)},set:function(a,b){var c=this.dom,d,e;for(d in a)a.hasOwnProperty(d)&&(e=a[d],"style"===d?this.applyStyles(e):"cls"===d?c.className=e:!1!==b?void 0===e?c.removeAttribute(d):c.setAttribute(d,e):c[d]=e);return this},setBottom:function(b){this.dom.style.bottom=a.addUnits(b);return this},setBorder:function(a){var b=this.dom.style;a||0===a?(a=this.self.unitizeBox(!0===a?1:a),b.setProperty("border-width",a,"important")):
(b.removeProperty("border-top-width"),b.removeProperty("border-right-width"),b.removeProperty("border-bottom-width"),b.removeProperty("border-left-width"))},setCls:function(a){var b=this.getData(),c=b.classMap,d,g,h;"string"===typeof a&&(a=a.split(e));d=0;for(g=a.length;d<g;d++)h=a[d],c[h]||(c[h]=!0);b.classList=a.slice();this.dom.className=a.join(" ")},setHeight:function(b){this.dom.style.height=a.addUnits(b);return this},setHtml:function(a){this.dom&&(this.dom.innerHTML=a)},setId:function(a){var b=
this.id,c=Ext.cache;b&&delete c[b];this.id=this.dom.id=a;c[a]=this;return this},setLeft:function(b){this.dom.style.left=a.addUnits(b);return this},setLocalX:function(a){var b=this.dom.style;b.right="auto";b.left=null===a?"auto":a+"px"},setLocalXY:function(a,b){var c=this.dom.style;c.right="auto";a&&a.length&&(b=a[1],a=a[0]);null===a?c.left="auto":void 0!==a&&(c.left=a+"px");null===b?c.top="auto":void 0!==b&&(c.top=b+"px")},setLocalY:function(a){this.dom.style.top=null===a?"auto":a+"px"},setMargin:function(a){var b=
this.dom.style;a||0===a?(a=this.self.unitizeBox(!0===a?5:a),b.setProperty("margin",a,"important")):(b.removeProperty("margin-top"),b.removeProperty("margin-right"),b.removeProperty("margin-bottom"),b.removeProperty("margin-left"))},setMaxHeight:function(b){this.dom.style["max-height"]=a.addUnits(b);return this},setMaxWidth:function(b){this.dom.style["max-width"]=a.addUnits(b);return this},setMinHeight:function(b){this.dom.style["min-height"]=a.addUnits(b);return this},setMinWidth:function(b){this.dom.style["min-width"]=
a.addUnits(b);return this},setPadding:function(a){var b=this.dom.style;a||0===a?(a=this.self.unitizeBox(!0===a?5:a),b.setProperty("padding",a,"important")):(b.removeProperty("padding-top"),b.removeProperty("padding-right"),b.removeProperty("padding-bottom"),b.removeProperty("padding-left"))},setRight:function(b){this.dom.style.right=a.addUnits(b);return this},setSize:function(b,c){var d=this.dom.style;Ext.isObject(b)&&(c=b.height,b=b.width);d.width=a.addUnits(b);d.height=a.addUnits(c);return this},
setSizeState:function(a){var b=["x-sized","x-unsized","x-stretched"];a=[!0,!1,null].indexOf(a);var c;-1!==a&&(c=b[a],b.splice(a,1),this.addCls(c));this.removeCls(b);return this},setStyle:function(b,c){var d=this.dom,e=this.styleHooks,g=d.style,h=b,j;if("string"===typeof h)(j=e[h])||(e[h]=j={name:a.normalize(h)}),c=null==c?"":c,j.set?j.set(d,c,this):g[j.name]=c,j.afterSet&&j.afterSet(d,c,this);else for(h in b)b.hasOwnProperty(h)&&((j=e[h])||(e[h]=j={name:a.normalize(h)}),c=b[h],c=null==c?"":c,j.set?
j.set(d,c,this):g[j.name]=c,j.afterSet&&j.afterSet(d,c,this));return this},setText:function(a){this.dom.textContent=a},setTop:function(b){this.dom.style.top=a.addUnits(b);return this},setVisibility:function(a){var b=this.dom.style;a?b.removeProperty("visibility"):b.setProperty("visibility","hidden","important")},setVisibilityMode:function(a){1!==a&&(2!==a&&3!==a)&&Ext.Error.raise("visibilityMode must be one of the following: Ext.Element.DISPLAY, Ext.Element.VISIBILITY, or Ext.Element.OFFSETS");this.getData().visibilityMode=
a;return this},setVisible:function(b){var c=this.getVisibilityMode();b=b?"removeCls":"addCls";switch(c){case a.DISPLAY:this.removeCls([x,z]);this[b](A);break;case a.VISIBILITY:this.removeCls([A,z]);this[b](x);break;case a.OFFSETS:this.removeCls([x,A]),this[b](z)}return this},setWidth:function(b){this.dom.style.width=a.addUnits(b);return this},setX:function(a){return this.setXY([a,!1])},setXY:function(a){a=this.translatePoints(a);var b=this.dom.style,c;this.position();b.right="auto";for(c in a)isNaN(a[c])||
(b[c]=a[c]+"px");return this},setY:function(a){return this.setXY([!1,a])},show:function(){this.setVisible(!0);return this},swapCls:function(a,b,c,d){void 0===c&&(c=!0);var e=c?a:b;(a=c?b:a)&&this.removeCls(d?d+"-"+a:a);e&&this.addCls(d?d+"-"+e:e);return this},synchronize:function(){var a=this.dom,b={},c=a.className,d,e,h=this.getData();if(c&&0<c.length){a=a.className.split(g);c=0;for(d=a.length;c<d;c++)e=a[c],b[e]=!0}else a=[];h.classList=a;h.classMap=b;h.isSynchronized=!0;return this},toggleCls:function(a,
b){"boolean"!==typeof b&&(b=!this.hasCls(a));return b?this.addCls(a):this.removeCls(a)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(a,b,c){this.dom.style[I]="translate3d("+(a||0)+"px, "+(b||0)+"px, "+(c||0)+"px)"},unwrap:function(){var a=this.dom,b=a.parentNode,c;b?(c=b.parentNode,c.insertBefore(a,b),c.removeChild(b)):(c=document.createDocumentFragment(),c.appendChild(a));return this},up:function(a,b,c){return this.findParentNode(a,b,!c)},update:function(a){return this.setHtml(a)},
wrap:function(a,b,c){var d=this.dom,e=a=Ext.DomHelper.insertBefore(d,a||{tag:"div"},!0);c&&(e=a.selectNode(c));e.appendChild(d);return b?a.dom:a},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(b){var c=this.dom,d="BODY"===c.nodeName,e=d?a.getViewportWidth():c.offsetWidth,c=d?a.getViewportHeight():c.offsetHeight,g=this.getXY(),d=g[1],h=g[0]+e,j=g[1]+c,g=g[0];return b?new Ext.util.Region(d,h,j,g):{left:g,top:d,width:e,height:c,
right:h,bottom:j}},getScrollParent:null,isDescendent:null,isTransparent:function(a){return(a=this.getStyle(a))?h.test(a):!1},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(a){var b=document,c=a.prototype,d=Ext.supports,e=c.eventMap={},g=c.additiveEvents={},h=Ext.id;Ext.id=function(b,c){var d=Ext.getDom(b,!0),e,g;if(d){if(!(g=d.id))g=h(null,c||a.prototype.identifiablePrefix),Ext.isSandboxed&&(e=Ext.sandboxPrefix||(Ext.sandboxPrefix=
Ext.sandboxName.toLowerCase()+"-"),g=e+g),d.id=g}else g=h(b,c);return g};d.PointerEvents?(e.mousedown="pointerdown",e.mousemove="pointermove",e.mouseup="pointerup",e.touchstart="pointerdown",e.touchmove="pointermove",e.touchend="pointerup",e.touchcancel="pointercancel",e.click="tap",e.dblclick="doubletap",e.mouseover="pointerover",e.mouseout="pointerout",e.mouseenter="pointerenter",e.mouseleave="pointerleave"):d.MSPointerEvents?(e.pointerdown="MSPointerDown",e.pointermove="MSPointerMove",e.pointerup=
"MSPointerUp",e.pointercancel="MSPointerCancel",e.mousedown="MSPointerDown",e.mousemove="MSPointerMove",e.mouseup="MSPointerUp",e.touchstart="MSPointerDown",e.touchmove="MSPointerMove",e.touchend="MSPointerUp",e.touchcancel="MSPointerCancel",e.click="tap",e.dblclick="doubletap",e.mouseover="MSPointerOver",e.mouseout="MSPointerOut"):d.TouchEvents?(e.pointerdown="touchstart",e.pointermove="touchmove",e.pointerup="touchend",e.pointercancel="touchcancel",e.mousedown="touchstart",e.mousemove="touchmove",
e.mouseup="touchend",e.click="tap",e.dblclick="doubletap",Ext.isWebKit&&Ext.os.is.Desktop&&(e.touchstart="mousedown",e.touchmove="mousemove",e.touchend="mouseup",e.touchcancel="mouseup",g.mousedown="mousedown",g.mousemove="mousemove",g.mouseup="mouseup",g.touchstart="touchstart",g.touchmove="touchmove",g.touchend="touchend",g.touchcancel="touchcancel",g.pointerdown="mousedown",g.pointermove="mousemove",g.pointerup="mouseup",g.pointercancel="mouseup")):(e.pointerdown="mousedown",e.pointermove="mousemove",
e.pointerup="mouseup",e.pointercancel="mouseup",e.touchstart="mousedown",e.touchmove="mousemove",e.touchend="mouseup",e.touchcancel="mouseup");c.getTrueXY=c.getXY;Ext.select=a.select;Ext.query=a.query;Ext.apply(Ext,{get:function(b){return a.get(b)},getDom:function(a){return!a||!b?null:a.dom||("string"===typeof a?Ext.getElementById(a):a)},getBody:function(){if(!Ext._bodyEl){if(!b.body)throw Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(b.body)}return Ext._bodyEl},getHead:function(){Ext._headEl||
(Ext._headEl=Ext.get(b.head||b.getElementsByTagName("head")[0]));return Ext._headEl},getDoc:function(){Ext._docEl||(Ext._docEl=Ext.get(b));return Ext._docEl},getWin:function(){Ext._winEl||(Ext._winEl=Ext.get(window));return Ext._winEl},removeNode:function(a){var b=Ext.cache[a&&a.id];b?b.destroy():a&&"BODY"!==a.tagName.toUpperCase()&&(b=a.parentNode)&&b.removeChild(a)}});Ext.isGarbage=function(a){return a&&1===a.nodeType&&"BODY"!==a.tagName&&"HTML"!==a.tagName&&(!a.parentNode||!a.offsetParent&&(Ext.isIE8?
b.all[a.id]:b.getElementById(a.id))!==a&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(a)))}});
Ext.define("Ext.GlobalEvents",{extend:Ext.mixin.Observable,alternateClassName:"Ext.globalEvents",observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var a=this;a.callParent();Ext.onReady(function(){a.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var a=Ext.Element,b=a.getViewportWidth(),a=a.getViewportHeight();
if(this.curHeight!==a||this.curWidth!==b)this.curHeight=a,this.curWidth=b,this.fireEvent("resize",b,a)}},function(a){Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)}});
Ext.define("Ext.dom.Fly",{extend:Ext.dom.Element,alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(a){this.dom=a;this.el=this},attach:function(a){if(!a)return this.detach();this.dom=a;Ext.cache[a.id]||(this.getData().isSynchronized=!1);return this},detach:function(){this.dom=null},addListener:function(){Ext.Error.raise("Cannot use addListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null,
removeListener:function(){Ext.Error.raise("Cannot use removeListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null},function(a){var b={};a.cache=b;Ext.fly=function(c,d){var e=null,g=Ext.fly;d=d||g.caller&&g.caller.$name||"_global";if(c=Ext.getDom(c))if(g=c.nodeType,a.prototype.validNodeTypes[g]||!g&&c.window===c)if(e=Ext.cache[c.id],!e||e.dom!==c)e=b[d]||(b[d]=new a),e.dom=c,e.isSynchronized=!1;return e}});
Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var a=this.prototype;Ext.Object.each(Ext.dom.Element.prototype,function(b,c){"function"===typeof c&&!a[b]&&(a[b]=function(){return this.invoke(b,arguments)})})}},constructor:function(a,b){b?this.elements=a||[]:(this.elements=[],this.add(a))},getElement:function(a){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(a)},transformElement:function(a){return Ext.getDom(a)},
getCount:function(){return this.elements.length},add:function(a,b){var c=this.elements,d,e;if(!a)return this;"string"==typeof a?a=Ext.fly(b||document).query(a):a.isComposite?a=a.elements:Ext.isIterable(a)||(a=[a]);d=0;for(e=a.length;d<e;++d)c.push(this.transformElement(a[d]));return this},invoke:function(a,b){var c=this.elements,d=c.length,e,g,h;if(0!==h){e=(this.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(h=0;h<d;h++)(g=c[h])&&e[a].apply(this.getElement(g),b)}return this},item:function(a){a=
this.elements[a];var b=null;a&&(b=this.getElement(a));return b},slice:function(){return this.elements.slice.apply(this.elements,arguments)},each:function(a,b){var c=this.elements,d=c.length,e,g;for(e=0;e<d;e++)if(g=c[e])if(g=this.getElement(g),!1===a.call(b||g,g,this,e))break;return this},fill:function(a){this.elements=[];this.add(a);return this},insert:function(a,b){Ext.Array.insert(this.elements,a,b)},filter:function(a){for(var b=this.elements,c=b.length,d=[],e=0,g="function"==typeof a,h,j;e<c;e++)if(j=
b[e])j=this.getElement(j),(h=g?!1!==a.call(j,j,this,e):j.is(a))&&d.push(this.transformElement(j));this.elements=d;return this},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(a,b,c){a=!isNaN(a)?a:this.indexOf(a);-1<a&&(b=Ext.getDom(b),c&&(c=this.elements[a],c.parentNode.insertBefore(b,c),Ext.removeNode(c)),Ext.Array.splice(this.elements,a,1,b));return this},clear:function(a){var b=this.elements,c=b.length-1;if(a)for(;0<=c;c--)Ext.removeNode(b[c]);
this.elements=[]},addElements:function(a,b){if(!a)return this;"string"===typeof a&&(a=Ext.dom.Element.selectorFunction(a,b));var c=this.elements,d=a.length,e;for(e=0;e<d;e++)c.push(Ext.get(a[e]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return-1!=this.indexOf(a)},removeElement:function(a,b){a=[].concat(a);var c=this.elements,d=a.length,e,g,h;for(h=0;h<d;h++)if(e=a[h],g=c[e]||c[e=this.indexOf(e)])b&&(g.dom?g.destroy():
Ext.removeNode(g)),Ext.Array.erase(c,e,1);return this},destroy:function(){return this.invoke("destroy",arguments)}},function(a){var b=a.prototype;a.importElementMethods();b.on=b.addListener});
Ext.define("Ext.rtl.dom.Element",{override:"Ext.dom.Element",rtlXAnchors:{l:"r",r:"l"},_positionTopRight:["position","top","right"],pxRe:/^\d+(?:\.\d*)?px$/i,statics:{rtlParseBox:function(a){a=Ext.Element.parseBox(a);var b;b=a.left;a.left=a.right;a.right=b;return a},rtlUnitizeBox:function(a,b){var c=Ext.Element,d=c.addUnits,c=c.parseBox(a);return d(c.top,b)+" "+d(c.left,b)+" "+d(c.bottom,b)+" "+d(c.right,b)}},anchorAnimX:function(a){Ext.rootInheritedState.rtl&&(a=this.rtlXAnchors[a]);this.callParent(arguments)},
getPositioning:function(a){var b=Ext.rootInheritedState.rtl?"right":"left",c=this.getStyle([b,"top","position","z-index"]),d=this.dom;a&&("auto"===c[b]&&(c[b]="left"===b?d.offsetLeft+"px":d.offsetParent.offsetWidth-d.offsetLeft-d.offsetWidth),"auto"===c.top&&(c.top=d.offsetTop+"px"));return c},getXY:function(){var a=document,b=Math.round,c=this.dom,d=0,e=0,g;if(c!==a&&c!==a.body){try{g=c.getBoundingClientRect()}catch(h){g={left:0,top:0}}a=Ext.fly(a,"_internal");Ext.rootInheritedState.rtl?(a=a.rtlGetScroll(),
d=Ext.Element.getViewportWidth()-g.right+a.left):(a=a.getScroll(),d=g.left+a.left);d=b(d);e=b(g.top+a.top)}return[d,e]},rtlGetLocalX:function(){var a=this.dom.offsetParent,b=this.getStyle("right");!b||"auto"===b?b=0:this.pxRe.test(b)?b=parseFloat(b):(b=this.getX(),a&&(b-=Ext.fly(a,"_internal").getX()));return b},rtlGetLocalXY:function(){var a=this.dom.offsetParent,b=this.getStyle(["right","top"]),c=b.right,b=b.top;!c||"auto"===c?c=0:this.pxRe.test(c)?c=parseFloat(c):(c=this.getX(),a&&(c-=Ext.fly(a,
"_internal").getX()));!b||"auto"===b?b=0:this.pxRe.test(b)?b=parseFloat(b):(b=this.getY(),a&&(b-=Ext.fly(a,"_internal").getY()));return[c,b]},rtlGetScroll:function(){var a=this.dom,b=document,c=b.body,d=this.getScroll(),e=Math.abs(d.left);if((b=a===b||a===c)?3&this._rtlDocScrollFlag:1===this._rtlScrollFlag)b&&(a=c),e=a.scrollWidth-e-(b?Ext.Element.getViewportWidth():a.clientWidth);d.left=e;return d},rtlGetScrollLeft:function(){return this.rtlGetScroll().left},rtlNormalizeScrollLeft:function(a){var b=
this.dom,c=this._rtlScrollFlag;0===c?a=-a:1===c&&(a=b.scrollWidth-a-b.clientWidth);return a},rtlScrollBy:function(a,b,c){var d=this.dom;a.length?(c=b,b=a[1],a=a[0]):"number"!==typeof a&&(c=b,b=a.y,a=a.x);a&&(a=this.rtlNormalizeScrollLeft(this.constrainScrollLeft(this.rtlGetScrollLeft()+a)),this.scrollTo("left",a,c));b&&this.scrollTo("top",this.constrainScrollTop(d.scrollTop+b),c);return this},rtlScrollIntoView:function(a,b,c,d){a=Ext.getDom(a)||Ext.getBody().dom;return this.doScrollIntoView(a,b,c,
d,"rtlGetScrollLeft","rtlScrollTo")},rtlScrollTo:function(a,b,c){"left"===a&&(b=this.rtlNormalizeScrollLeft(b));return this.scrollTo(a,b,c)},rtlSetLocalX:function(a){var b=this.dom.style;b.left="auto";b.right=null===a?"auto":a+"px"},rtlSetLocalXY:function(a,b){var c=this.dom.style;c.left="auto";a&&a.length&&(b=a[1],a=a[0]);null===a?c.right="auto":void 0!==a&&(c.right=a+"px");null===b?c.top="auto":void 0!==b&&(c.top=b+"px")},rtlSetScrollLeft:function(a){this.dom.scrollLeft=this.rtlNormalizeScrollLeft(a);
return this},rtlTranslatePoints:function(a,b){var c=this.rtlTranslateXY(a,b);return{right:c.x,top:c.y}},rtlTranslateXY:function(a,b){var c=this.getStyle(this._positionTopRight),d="relative"===c.position,e=parseFloat(c.right),c=parseFloat(c.top),g=this.getXY(),h=this.dom,j,k;a&&a.length&&(b=a[1],a=a[0]);isNaN(e)&&(e=document,j=e.body,h===j?e=0:(e=(k=h.offsetParent)&&k!==j&&k!==e.documentElement?k.scrollWidth:Ext.Element.getViewportWidth(),e=e-h.offsetLeft-this.getWidth()));isNaN(c)&&(c=d?0:this.dom.offsetTop);
e="number"===typeof a?a-g[0]+e:void 0;c="number"===typeof b?b-g[1]+c:void 0;return{x:e,y:c}},translatePoints:function(a,b){return Ext.rootInheritedState.rtl?this.rtlTranslatePoints(a,b):this.callParent(arguments)},translateXY:function(a,b){return Ext.rootInheritedState.rtl?this.rtlTranslateXY(a,b):this.callParent(arguments)},wrap:function(){var a=this.parent(),b=Ext.baseCSSPrefix+"rtl",c=Ext.baseCSSPrefix+"ltr",d=this.callParent(arguments),e;a.hasCls(b)?e=b:a.hasCls(c)&&(e=c);e&&Ext.fly(d,"_internal").addCls(e);
return d}},function(){var a=this;Ext.CompositeElementLite.importElementMethods();Ext.onReady(function(){var b=document,c=b.documentElement,b=b.body,d=4,e=b.style,g=e.direction,h=Ext.getBody().createChild('\x3cdiv style\x3d"height:20000px;width:20000px;"\x3e\x3c/div\x3e'),j=h.dom,k;e.direction="ltr";k=j.getBoundingClientRect().right;e.direction="rtl";j=j.getBoundingClientRect().right;a.prototype._rtlBodyScrollbarOnRight=k===j;0<c.scrollLeft?d=1:(c.scrollLeft=-1,c.scrollLeft?d=0:(c.scrollLeft=1,c.scrollLeft&&
(d=2)));h.destroy();g||(e.direction="ltr",b.scrollWidth);e.direction=g;a.prototype._rtlDocScrollFlag=d;c=Ext.getBody().createChild({tag:"div",style:"direction:rtl;position:absolute;overflow:auto;height:100px;width:100px;",children:[{tag:"div",style:"height:30px;width:150px;"}]});b=c.dom;d=2;50===b.scrollLeft?d=1:(b.scrollLeft=-1,b.scrollLeft&&(d=0));c.destroy();a.prototype._rtlScrollFlag=d})});
Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,operator:null,root:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(a){return!a?Ext.returnTrue:function(b){var c=a.isCollection?a.items:a,d=c.length,e=!0,g,h;for(g=0;e&&g<d;g++)h=c[g],h.getDisabled()||(e=h.filter(b));return e}},isInvalid:function(a){var b=a.value;if(!a.filterFn){if(!a.property)return"A Filter requires either a property or a filterFn to be set";
if(!b&&!(0===b||!1===b||""===b&&a.exatchMatch)&&!a.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(a){var b=Ext.util.Filter.isInvalid(a);b&&Ext.log.warn(b);this.initConfig(a)},filter:function(a){return(this._filterFn||this.getFilterFn()).call(this.scope||this,a)},getId:function(){var a=this._id;a||((a=this.getProperty())||(a=Ext.id(null,"ext-filter-")),this._id=a);return a},getFilterFn:function(){var a=this._filterFn;a||(this._filterFn=
a=(a=this.getOperator())?this.operatorFns[a]:this.createRegexFilter());return a},createRegexFilter:function(){var a=this,b=!!a.getAnyMatch(),c=!!a.getExactMatch(),d=a.getValue(),e=Ext.String.createRegex(d,!b,!b&&c,!a.getCaseSensitive());return function(b){b=a.getPropertyValue(b);return e?e.test(b):null==b}},getPropertyValue:function(a){var b=this._root;return(null==b?a:a[b])[this._property]},getState:function(){var a=this.getInitialConfig(),b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);delete b.root;
b.value=this.getValue();return b},getScope:function(){return this.scope},serialize:function(){var a=this.getState();delete a.id;return a}},function(){var a=this.prototype,b=a.operatorFns={"\x3c":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),b)<b},"\x3c\x3d":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),b)<=b},"\x3d":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),b)==b},"\x3e\x3d":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),
b)>=b},"\x3e":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),b)>b},"!\x3d":function(a){var b=this._value;return Ext.coerce(this.getPropertyValue(a),b)!=b},"in":function(a){var b=this._value;return Ext.Array.contains(b,Ext.coerce(this.getPropertyValue(a),b))},like:function(a){var b=this._value;return b&&-1<Ext.coerce(this.getPropertyValue(a),b).toLowerCase().indexOf(b.toLowerCase())}},c=function(){this._filterFn=null},d=["updateOperator","updateValue"];b["\x3d\x3d"]=b["\x3d"];
b.gt=b["\x3e"];b.ge=b["\x3e\x3d"];b.lt=b["\x3c"];b.le=b["\x3c\x3d"];b.eq=b["\x3d"];b.ne=b["!\x3d"];for(b=d.length;0<b--;)a[d[b]]=c});Ext.util=Ext.util||{};
Ext.util.DelayedTask=function(a,b,c,d,e){var g=this,h,j=function(){var d=Ext.GlobalEvents;clearInterval(g.id);g.id=null;a.apply(b,c||[]);!1!==e&&d.hasListeners.idle&&d.fireEvent("idle")};d="boolean"===typeof d?d:!0;g.id=null;g.delay=function(e,l,m,n){d&&g.cancel();"number"===typeof e&&(h=e);a=l||a;b=m||b;c=n||c;g.id||(g.id=Ext.interval(j,h))};g.cancel=function(){g.id&&(clearInterval(g.id),g.id=null)}};
Ext.define("Ext.util.Event",function(){var a=Array.prototype.slice,b=Ext.Array.insert,c=Ext.Array.toArray,d={};return{isEvent:!0,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(a,c,d,j){var k,l,m,n,p;"string"!==typeof a&&(c=c||this.observable);a||Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"});if(!this.isListening(a,c)){k=this.createListener(a,
c,d,j);this.firing&&(this.listeners=this.listeners.slice(0));a=this.listeners;j=c=a.length;d=d&&d.priority;m=this._highestNegativePriorityIndex;n=void 0!==m;if(d)if(l=0>d,!l||n)for(n=l?m:0;n<c;n++){if(p=a[n].o?a[n].o.priority||0:0,p<d){j=n;break}}else this._highestNegativePriorityIndex=j;else n&&(j=m);!l&&j<=m&&this._highestNegativePriorityIndex++;j===c?this.listeners[c]=k:b(this.listeners,j,[k])}return k},createListener:function(a,b,c,d){var k=b in Ext._namedScopes;d={fn:a,scope:b,ev:this,caller:d,
namedScope:k,defaultScope:k?b:void 0,lateBound:"string"===typeof a&&(!b||k)};k=!0;c&&(d.o=c,c.single&&(a=this.createSingle(a,d,c,b),k=!1),c.target&&(a=this.createTargeted(a,d,c,b,k),k=!1),c.delay&&(a=this.createDelayed(a,d,c,b,k),k=!1),c.buffer&&(a=this.createBuffered(a,d,c,b,k),k=!1));d.fireFn=a;d.allowLookup=k;return d},findListener:function(a,b){for(var c=this.listeners,d=c.length,k,l,m;d--;)if(k=c[d])if(l=k.scope,m=k.lateBound&&!k.namedScope?void 0:b||this.observable,k.fn==a&&l==m)return d;return-1},
isListening:function(a,b){return-1!==this.findListener(a,b)},removeListener:function(a,b){var c,d,k,l;c=a.fireFn?Ext.Array.indexOf(listeners,a):this.findListener(a,b);if(-1!=c){d=this.listeners[c];k=this._highestNegativePriorityIndex;this.firing&&(this.listeners=this.listeners.slice(0));d.task&&(d.task.cancel(),delete d.task);if(l=d.tasks&&d.tasks.length){for(;l--;)d.tasks[l].cancel();delete d.tasks}this.listeners.splice(c,1);k&&(c<k?this._highestNegativePriorityIndex--:c===k&&c===this.listeners.length&&
delete this._highestNegativePriorityIndex);return!0}return!1},clearListeners:function(){for(var a=this.listeners,b=a.length;b--;)this.removeListener(a[b].fn,a[b].scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return 0<this.suspended},fire:function(){var b=this.listeners,c=b.length,d,j,k,l;if(!this.suspended&&0<c){this.firing=!0;k=arguments.length?a.call(arguments,0):[];l=k.length;for(j=0;j<c;j++)if(d=b[j],d.o&&(k[l]=d.o),d&&
(d=this.getFireInfo(d),!1===d.fn.apply(d.scope,k)))return this.firing=!1}this.firing=!1;return!0},getFireInfo:function(a,b){var c=this.observable,j=b?a.fn:a.fireFn,k=a.scope,l=a.caller,m,n=j;(b||a.allowLookup)&&a.lateBound?(k=(l||c).resolveListenerScope(a.defaultScope),j=k[j]):(a.allowLookup&&(m=Ext._namedScopes[k])&&m.isController&&Ext.Error.raise("Cannot resolve scope 'controller' for '"+a.ev.name+"' listener declared on Observable: '"+c.id+"'"),k=k&&!m?k:c);d.fn=j;d.scope=k;j||Ext.Error.raise('Unable to dynamically resolve method "'+
n+'"');return d},createTargeted:function(a,b,c,d,k){return function(){if(c.target===arguments[0]){var l;k&&(l=b.ev.getFireInfo(b,!0),a=l.fn,d=l.scope);a.apply(d,arguments)}}},createBuffered:function(a,b,d,j,k){b.task=new Ext.util.DelayedTask;return function(){var l;k&&(l=b.ev.getFireInfo(b,!0),a=l.fn,j=l.scope);b.task.delay(d.buffer,a,j,c(arguments))}},createDelayed:function(a,b,d,j,k){return function(){var l=new Ext.util.DelayedTask,m;k&&(m=b.ev.getFireInfo(b,!0),a=m.fn,j=m.scope);b.tasks||(b.tasks=
[]);b.tasks.push(l);l.delay(d.delay||10,a,j,c(arguments))}},createSingle:function(a,b,c,d){return function(){var a=b.ev,c=a.getFireInfo(b,!0);a.removeListener(b.fn,d)&&a.observable&&a.observable.hasListeners[a.name]--;c.fn.apply(c.scope,arguments)}}}});
Ext.define("Ext.util.Observable",function(a){var b=Ext.emptyFn,c=[],d=Array.prototype.slice,e=Ext.$eventNameMap,g=function(a){if(a instanceof g)return a;this.observable=a;arguments[1].isObservable&&(this.managedListeners=!0);this.args=d.call(arguments,1)};g.prototype.destroy=function(){var a=this.observable;a[this.managedListeners?"mun":"un"].apply(a,this.args)};return{mixinId:"observable",statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,b,c){this.captureArgs(a,
function(a,d){return b.apply(c,[a].concat(d))},c)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(a,b){if(a&&(a.isObservable||(Ext.applyIf(a,new this),this.captureArgs(a.prototype,a.fireEventArgs,a)),Ext.isObject(b)))a.on(b);return a},prepareClass:function(b,c,d){var e=b.listeners=[];d=d||b.prototype;var g=d.listeners,n=c?c.listeners:b.superclass.self.listeners;n&&e.push(n);if(g){if(n=g.scope){if((n=Ext._namedScopes[n])&&n.isController)g.scope=
"self.controller"}else g.scope="self";e.push(g);d.listeners=null}b.HasListeners||(e=function(){},c=b.superclass.HasListeners||c&&c.HasListeners||a.HasListeners,b.prototype.HasListeners=b.HasListeners=e,e.prototype=b.hasListeners=new c)}},isObservable:!0,isUtilObservable:!0,eventsSuspended:0,constructor:function(a){var b=this.self;a&&Ext.apply(this,a);this.hasListeners=new this.HasListeners;this.events=this.events||{};if((a=b.listeners)&&!this._addDeclaredListeners(a))b.listeners=null;this.listeners&&
(this.on(this.listeners),this.listeners=null);this.bubbleEvents&&this.enableBubble(this.bubbleEvents)},onClassExtended:function(b){b.HasListeners||a.prepareClass(b)},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|priority)$/,_addDeclaredListeners:function(a){a instanceof Array?Ext.each(a,this._addDeclaredListeners,this):(this._addedDeclaredListeners=!0,this.addListener(a));return this._addedDeclaredListeners},
addManagedListener:function(a,c,d,e,m,n){var p=this.managedListeners=this.managedListeners||[],q;if("string"!==typeof c){q=4<arguments.length?m:c;m=c;for(c in m)m.hasOwnProperty(c)&&(p=m[c],this.eventOptionsRe.test(c)||this.addManagedListener(a,c,p.fn||p,p.scope||m.scope||e,p.fn?p:q,!0));if(m&&m.destroyable)return new g(this,a,m)}else if(d!==b){p.push({item:a,ename:c,fn:d,scope:e,options:m});if(a.isUtilObservable)a.on(c,d,e,m,this);else a.on(c,d,e,m);if(!n&&m&&m.destroyable)return new g(this,a,c,
d,e)}},removeManagedListener:function(a,b,c,d){var e,g,p;if("string"!==typeof b)for(b in c=b,c)c.hasOwnProperty(b)&&(e=c[b],this.eventOptionsRe.test(b)||this.removeManagedListener(a,b,e.fn||e,e.scope||c.scope||d));else{e=this.managedListeners?this.managedListeners.slice():[];"string"===typeof c&&(d&&"this"!==d&&"controller"!==d&&!e.length)&&this.resolveMethod(c,d);p=0;for(g=e.length;p<g;p++)this.removeManagedListenerItem(!1,e[p],a,b,c,d)}},fireEvent:function(a){return this.fireEventArgs(a,d.call(arguments,
1))},resolveListenerScope:function(a){"controller"===a&&Ext.Error.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget');"this"===a&&(a=null);return a||this},fireEventArgs:function(a,b){a=e[a]||(e[a]=a.toLowerCase());var d=this.events,d=d&&d[a],g=!0;this.hasListeners[a]&&(g=this.doFireEvent(a,b||c,d?d.bubble:!1));return g},doFireEvent:function(a,b,c){var d=this,e,g,p=!0;do if(d.eventsSuspended){(e=d.eventQueue)&&e.push([a,b]);break}else if((g=d.events&&
d.events[a])&&!0!==g&&!1===(p=g.fire.apply(g,b)))break;while(c&&(d=d.getBubbleParent()));return p},getBubbleParent:function(){var a=this.getBubbleTarget&&this.getBubbleTarget();return a&&a.isObservable?a:null},addListener:function(a,c,d,l,m){var n=0,p=Ext._namedScopes,q,r;if("string"!==typeof a){l=a;n=(q=(d=l.scope)&&p[d])&&q.isSelf;for(a in l)if(c=l[a],!this.eventOptionsRe.test(a)){if((r=c.scope)&&n)(q=p[r])&&q.isController&&(r="self.controller");this.addListener(a,c.fn||c,r||d,c.fn?c:l,m)}if(l&&
l.destroyable)return new g(this,l)}else if(q=p[d],a=e[a]||(e[a]=a.toLowerCase()),(p=(this.events||(this.events={}))[a])&&p.isEvent?n=p.listeners.length:this.events[a]=p=new Ext.util.Event(this,a),"string"===typeof c&&d&&!q?c=this.resolveMethod(c,d):"string"===typeof c&&(!d||q)||Ext.Assert.isFunction(c,"No function passed for event "+this.$className+"."+a),c!==b&&(p.addListener(c,d,l,m),p.listeners.length!==n&&this.hasListeners._incr_(a),l&&l.destroyable))return new g(this,a,c,d,l)},removeListener:function(a,
b,c){var d=this.events;if("string"!==typeof a)for(a in c=a,c)c.hasOwnProperty(a)&&(b=c[a],this.eventOptionsRe.test(a)||this.removeListener(a,b.fn||b,b.scope||c.scope));else if(a=e[a]||(e[a]=a.toLowerCase()),(d=d&&d[a])&&d.isEvent)"string"===typeof b&&(c&&"this"!==c&&"controller"!==c)&&(b=this.resolveMethod(b,c)),d.removeListener(b,c)&&this.hasListeners._decr_(a)},clearListeners:function(){var a=this.events,b=this.hasListeners,c,d;if(a)for(d in a)a.hasOwnProperty(d)&&(c=a[d],c.isEvent&&(delete b[d],
c.clearListeners()));this.clearManagedListeners()},purgeListeners:function(){Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.");return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var a=this.managedListeners||[],b=0,c=a.length;b<c;b++)this.removeManagedListenerItem(!0,a[b]);this.managedListeners=[]},removeManagedListenerItem:function(a,b,c,d,e,g){if(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&
(!g||b.scope===g))b.item.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(this.managedListeners,b)},purgeManagedListeners:function(){Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.");return this.clearManagedListeners.apply(this,arguments)},resolveMethod:function(a,b){a||Ext.Error.raise("No function specified");(!b||!Ext.isObject(b))&&Ext.Error.raise('Named method "'+a+'" requires a scope object');Ext.isFunction(b[a])||
Ext.Error.raise('No method named "'+a+'" on '+(b.$className||"scope object"));return b[a]},hasListener:function(a){a=e[a]||(e[a]=a.toLowerCase());return!!this.hasListeners[a]},isSuspended:function(a){var b=0<this.eventsSuspended,c=this.events;return!b&&a&&c&&(a=c[a])&&a.isEvent?a.isSuspended():b},suspendEvents:function(a){++this.eventsSuspended;a&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){var a=this.events||(this.events={}),b=arguments.length,c,d,g;for(c=0;c<b;c++){g=arguments[c];
g=e[g]||(e[g]=g.toLowerCase());d=a[g];if(!d||!d.isEvent)a[g]=d=new Ext.util.Event(this,g);d.suspend()}},resumeEvent:function(){var a=this.events||0,b=a&&arguments.length,c,d;for(c=0;c<b;c++)(d=a[arguments[c]])&&d.resume&&d.resume()},resumeEvents:function(a){var b=this.eventQueue,c;if(this.eventsSuspended&&!--this.eventsSuspended&&(delete this.eventQueue,!a&&b)){a=b.length;for(c=0;c<a;c++)this.fireEventArgs.apply(this,b[c])}},relayEvents:function(a,b,c){for(var d=b.length,e=0,n,p={};e<d;e++)n=b[e],
p[n]=this.createRelayer(c?c+n:n);this.mon(a,p,null,null,void 0);return new g(this,a,p)},createRelayer:function(a,b){var c=this;return function(){return c.fireEventArgs.call(c,a,b?d.apply(arguments,b):arguments)}},enableBubble:function(a){if(a){var b="string"==typeof a?arguments:a,c=this.events||(this.events={}),d=c&&b.length,g,n,p;for(p=0;p<d;++p){g=b[p];g=e[g]||(e[g]=g.toLowerCase());n=c[g];if(!n||!n.isEvent)c[g]=n=new Ext.util.Event(this,g);this.hasListeners._incr_(g);n.bubble=!0}}},deprecated:{"5.0":{methods:{addEvents:null}}}}},
function(){function a(a){var b=(this.methodEvents=this.methodEvents||{})[a],c,d,e,m=this,n;b||(this.methodEvents[a]=b={},b.originalFn=this[a],b.methodName=a,b.before=[],b.after=[],n=function(a,b,g){if(void 0!==(d=a.apply(b||m,g)))"object"==typeof d?(c=void 0!==d.returnValue?d.returnValue:d,e=!!d.cancel):!1===d?e=!0:c=d},this[a]=function(){var a=Array.prototype.slice.call(arguments,0),g,r,s;c=d=void 0;e=!1;r=0;for(s=b.before.length;r<s;r++)if(g=b.before[r],n(g.fn,g.scope,a),e)return c;if(void 0!==
(d=b.originalFn.apply(m,a)))c=d;r=0;for(s=b.after.length;r<s&&!(g=b.after[r],n(g.fn,g.scope,a),e);r++);return c});return b}var b=this,c=b.prototype,d=function(){},e=function(a){if(!a.HasListeners){var c=a.prototype;b.prepareClass(a,this);a.onExtended(function(a,c){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);b.prepareClass(a,null,c)});c.onClassMixedIn?Ext.override(a,{onClassMixedIn:function(a){e.call(this,a);this.callParent(arguments)}}):c.onClassMixedIn=function(a){e.call(this,
a)}}};d.prototype={_decr_:function(a){--this[a]||delete this[a]},_incr_:function(a){this.hasOwnProperty(a)?++this[a]:this[a]=1}};c.HasListeners=b.HasListeners=d;b.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});b.observeClass=b.observe;Ext.apply(c,{onClassMixedIn:e,beforeMethod:function(b,c,d){a.call(this,b).before.push({fn:c,scope:d})},afterMethod:function(b,c,d){a.call(this,b).after.push({fn:c,scope:d})},removeMethodListener:function(a,b,
c){a=this.getMethodEvent(a);var d,e;d=0;for(e=a.before.length;d<e;d++)if(a.before[d].fn==b&&a.before[d].scope==c){Ext.Array.erase(a.before,d,1);return}d=0;for(e=a.after.length;d<e;d++)if(a.after[d].fn==b&&a.after[d].scope==c){Ext.Array.erase(a.after,d,1);break}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(a){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(a,arguments)})}})});
Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(a,b){1===arguments.length&&Ext.isObject(a)?(this.initialConfig=a,Ext.apply(this,a)):(this.allowFunctions=!0===a,b&&(this.getKey=b),this.initialConfig={allowFunctions:this.allowFunctions,getKey:this.getKey});this.items=[];this.map={};this.keys=[];this.indexMap={};this.length=0;this.mixins.observable.constructor.call(this)},allowFunctions:!1,
add:function(a,b){var c=this.length;return 1===arguments.length?this.insert(c,a):this.insert(c,a,b)},getKey:function(a){return a.id},replace:function(a,b){var c,d;1==arguments.length&&(b=arguments[0],a=this.getKey(b));c=this.map[a];if("undefined"==typeof a||null===a||"undefined"==typeof c)return this.add(a,b);this.generation++;d=this.indexOfKey(a);this.items[d]=b;this.map[a]=b;this.hasListeners.replace&&this.fireEvent("replace",a,c,b);return b},updateKey:function(a,b){var c=this.map,d=this.indexOfKey(a),
e=this.indexMap,g;-1<d&&(g=c[a],delete c[a],delete e[a],c[b]=g,e[b]=d,this.keys[d]=b,this.indexGeneration=++this.generation)},addAll:function(a){var b;if(1<arguments.length||Ext.isArray(a))this.insert(this.length,1<arguments.length?arguments:a);else for(b in a)a.hasOwnProperty(b)&&(this.allowFunctions||"function"!=typeof a[b])&&this.add(b,a[b])},each:function(a,b){for(var c=Ext.Array.push([],this.items),d=0,e=c.length,g;d<e&&!(g=c[d],!1===a.call(b||g,g,d,e));d++);},eachKey:function(a,b){for(var c=
this.keys,d=this.items,e=0,g=c.length;e<g;e++)a.call(b||window,c[e],d[e],e,g)},findBy:function(a,b){for(var c=this.keys,d=this.items,e=0,g=d.length;e<g;e++)if(a.call(b||window,d[e],c[e]))return d[e];return null},find:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.");return this.findBy.apply(this,arguments)},insert:function(a,b,c){var d;Ext.isIterable(b)?d=this.doInsert(a,b,c):(d=2<arguments.length?this.doInsert(a,
[b],[c]):this.doInsert(a,[b]),d=d[0]);return d},doInsert:function(a,b,c){var d,e,g,h=b.length,j=h,k=this.hasListeners.add,l={},m;if(null!=c)this.useLinearSearch=!0;else{c=b;b=Array(h);for(g=0;g<h;g++)b[g]=this.getKey(c[g])}this.suspendEvents();for(g=0;g<h;g++)d=b[g],e=this.indexOfKey(d),-1!==e&&(e<a&&a--,this.removeAt(e)),null!=d&&(null!=l[d]&&(m=!0,j--),l[d]=g);this.resumeEvents();if(m){h=b;e=c;b=Array(j);c=Array(j);g=0;for(d in l)b[g]=h[l[d]],c[g]=e[l[d]],g++;h=j}j=a===this.length&&this.indexGeneration===
this.generation;Ext.Array.insert(this.items,a,c);Ext.Array.insert(this.keys,a,b);this.length+=h;this.generation++;j&&(this.indexGeneration=this.generation);for(g=0;g<h;g++,a++)d=b[g],null!=d&&(this.map[d]=c[g],j&&(this.indexMap[d]=a)),k&&this.fireEvent("add",a,c[g],d);return c},remove:function(a){var b;a=!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,a);return-1===a?!1:this.removeAt(a)},removeAll:function(a){var b;if(a||this.hasListeners.remove)if(a)for(b=
a.length-1;0<=b;--b)this.remove(a[b]);else for(;this.length;)this.removeAt(0);else this.length=this.items.length=this.keys.length=0,this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation},removeAt:function(a){var b,c;return a<this.length&&0<=a?(this.length--,b=this.items[a],Ext.Array.erase(this.items,a,1),c=this.keys[a],"undefined"!=typeof c&&delete this.map[c],Ext.Array.erase(this.keys,a,1),this.hasListeners.remove&&this.fireEvent("remove",b,c),this.generation++,b):!1},
removeRange:function(a,b){var c,d,e,g,h;if(a<this.length&&0<=a){b||(b=1);e=Math.min(a+b,this.length);b=e-a;g=(h=e===this.length)&&this.indexGeneration===this.generation;for(d=a;d<e;d++)c=this.keys[d],null!=c&&(delete this.map[c],g&&delete this.indexMap[c]);c=this.items[d-1];this.length-=b;this.generation++;g&&(this.indexGeneration=this.generation);h?this.items.length=this.keys.length=this.length:(this.items.splice(a,b),this.keys.splice(a,b));return c}return!1},removeAtKey:function(a){var b=this.keys;
if(null==a)for(a=b.length-1;0<=a;a--)null==b[a]&&this.removeAt(a);else return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){var b;return null!=a?!this.useLinearSearch&&(b=this.getKey(a))?this.indexOfKey(b):Ext.Array.indexOf(this.items,a):-1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a))return-1;this.indexGeneration!==this.generation&&this.rebuildIndexMap();return this.indexMap[a]},rebuildIndexMap:function(){var a=this.indexMap={},b=this.keys,
c=b.length,d;for(d=0;d<c;d++)a[b[d]]=d;this.indexGeneration=this.generation},get:function(a){var b=this.map[a];a=void 0!==b?b:"number"==typeof a?this.items[a]:void 0;return"function"!=typeof a||this.allowFunctions?a:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(a){var b;return null!=a?!this.useLinearSearch&&(b=this.getKey(a))?null!=this.map[b]:-1!==Ext.Array.indexOf(this.items,a):!1},containsKey:function(a){return this.map.hasOwnProperty(a)},
clear:function(){this.generation&&(this.length=0,this.items=[],this.keys=[],this.map={},this.indexMap={},this.generation++,this.indexGeneration=this.generation);this.hasListeners.clear&&this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(a,b,c,d){a=this.extractValues(a,b);var e=a.length;b=0;d=d||0===d?d:e-1;for(c=c||0;c<=d;c++)b+=a[c];return b},collect:function(a,b,c){a=this.extractValues(a,b);b=a.length;var d={},e=[],g,h,
j;for(j=0;j<b;j++)if(g=a[j],h=String(g),(c||!Ext.isEmpty(g))&&!d[h])d[h]=!0,e.push(g);return e},extractValues:function(a,b){var c=this.items;b&&(c=Ext.Array.pluck(c,b));return Ext.Array.pluck(c,a)},hasRange:function(a,b){return b<this.length},getRange:function(a,b){var c=this.items,d=[],e=c.length,g;if(1>e)return d;a>b&&(g=!0,d=a,a=b,b=d);0>a&&(a=0);if(null==b||b>=e)b=e-1;d=c.slice(a,b+1);g&&d.length&&d.reverse();return d},filter:function(a,b,c,d){var e=[];if(Ext.isString(a))e.push(new Ext.util.Filter({property:a,
value:b,anyMatch:c,caseSensitive:d}));else if(Ext.isArray(a)||a instanceof Ext.util.Filter)e=e.concat(a);return this.filterBy(Ext.util.Filter.createFilterFn(e))},filterBy:function(a,b){var c=new this.self(this.initialConfig),d=this.keys,e=this.items,g=e.length,h;c.getKey=this.getKey;for(h=0;h<g;h++)a.call(b||this,e[h],d[h])&&c.add(d[h],e[h]);c.useLinearSearch=this.useLinearSearch;return c},findIndex:function(a,b,c,d,e){if(Ext.isEmpty(b,!1))return-1;b=this.createValueMatcher(b,d,e);return this.findIndexBy(function(c){return c&&
b.test(c[a])},null,c)},findIndexBy:function(a,b,c){var d=this.keys,e=this.items;c=c||0;for(var g=e.length;c<g;c++)if(a.call(b||this,e[c],d[c]))return c;return-1},createValueMatcher:function(a,b,c,d){if(!a.exec){var e=Ext.String.escapeRegex;a=String(a);!0===b?a=e(a):(a="^"+e(a),!0===d&&(a+="$"));a=RegExp(a,c?"":"i")}return a},clone:function(){var a=new this.self(this.initialConfig);a.add(this.keys,this.items);a.useLinearSearch=this.useLinearSearch;return a}});
Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(a,b){b=b||0;return function(c,d){var e=a.isCollection?a.items:a,g=e.length,h,j;for(j=0;j<g;++j)if(h=e[j].sort(c,d))return h;return b&&b(c,d)}}},multiplier:1,constructor:function(a){a&&!this.isGrouper&&!a.property===!a.sorterFn&&Ext.Error.raise("A Sorter requires either a property or a sorterFn.");this.initConfig(a)},getId:function(){var a=
this._id;a||((a=this.getProperty())||(a=Ext.id(null,"ext-sorter-")),this._id=a);return a},sort:function(a,b){return this.multiplier*this.sortFn(a,b)},sortFn:function(a,b){var c=this._transform,d=this._root,e=this._property;d&&(a=a[d],b=b[d]);d=a[e];e=b[e];c&&(d=c(d),e=c(e));return d>e?1:d<e?-1:0},applyDirection:function(a){return a?a:"ASC"},updateDirection:function(a){this.multiplier="DESC"===a.toUpperCase()?-1:1},updateProperty:function(a){a&&delete this.sortFn},updateSorterFn:function(a){this.sortFn=
a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}});
Ext.define("Ext.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(b,c){for(var d=a[0].sort(b,c),e=a.length,g=1;!d&&g<e;g++)d=a[g].sort.call(this,b,c);return d}:function(){return 0}}},applySorters:function(a){var b=this.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);a&&b.addAll(this.decodeSorters(a));return b},sort:function(a,b,c,d){var e,
g=this.getSorters();g||(this.setSorters(null),g=this.getSorters());Ext.isArray(a)?(d=c,c=b):Ext.isObject(a)?(a=[a],d=c,c=b):Ext.isString(a)&&((e=g.get(a))?null==b?e.toggle():e.setDirection(b):e={property:a,direction:b},a=[e]);if(a&&a.length)switch(a=this.decodeSorters(a),c){case "multi":g.insert(0,a[0]);b=g.getCount()-this.multiSortLimit;0<b&&g.removeRange(this.multiSortLimit,b);break;case "prepend":g.insert(0,a);break;case "append":g.addAll(a);break;case void 0:case null:case "replace":g.clear();
g.addAll(a);break;default:Ext.Error.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}!1!==d&&(this.fireEvent("beforesort",this,a),this.onBeforeSort(a),this.getSorterCount()&&this.doSort(this.generateComparator()));return a},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,
decodeSorters:function(a){Ext.isArray(a)||(a=void 0===a?[]:[a]);var b=a.length,c=Ext.util.Sorter,d=this.getModel?this.getModel():this.model,e,g,h;for(h=0;h<b;h++)g=a[h],g instanceof c||(Ext.isString(g)&&(g={property:g}),Ext.applyIf(g,{root:this.sortRoot,direction:"ASC"}),g.fn&&(g.sorterFn=g.fn),"function"==typeof g&&(g={sorterFn:g}),d&&!g.transform&&(e=d.getField(g.property),g.transform=e&&e.sortType!==Ext.identityFn?e.sortType:void 0),a[h]=new Ext.util.Sorter(g));return a},getFirstSorter:function(){for(var a=
this.getSorters().items,b=a.length,c=0,d;c<b;++c)if(d=a[c],!d.isGrouper)return d;return null}},function(){this.prototype.createComparator=this.createComparator});
Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){this.initConfig();this.callParent(arguments)},doSort:function(a){this.sortBy(a)},_sort:function(a,b,c){var d,e="DESC"==String(b).toUpperCase()?-1:1,g=[],h=this.keys,j=this.items,k;c=c||function(a,b){return a-b};b=0;for(d=j.length;b<d;b++)g[g.length]={key:h[b],value:j[b],index:b};Ext.Array.sort(g,function(b,d){return c(b[a],d[a])*e||(b.index<d.index?-1:1)});b=0;
for(d=g.length;b<d;b++)k=g[b],j[b]=k.value,h[b]=k.key,this.indexMap[k.key]=b;this.generation++;this.indexGeneration=this.generation;this.fireEvent("sort",this)},sortBy:function(a){var b=this.items,c,d=this.keys,e=b.length,g;for(g=0;g<e;g++)b[g].$extCollectionIndex=g;Ext.Array.sort(b,function(b,c){return a(b,c)||(b.$extCollectionIndex<c.$extCollectionIndex?-1:1)});for(g=0;g<e;g++)c=b[g],c=this.getKey(c),d[g]=c,this.indexMap[c]=g,delete b.$extCollectionIndex;this.generation++;this.indexGeneration=this.generation;
this.fireEvent("sort",this,b,d)},findInsertionIndex:function(a,b){var c=this.items,d=0,e=c.length-1,g,h;for(b||(b=this.generateComparator());d<=e;)g=d+e>>1,h=b(a,c[g]),0<=h?d=g+1:0>h&&(e=g-1);return d},reorder:function(a){var b=this.items,c=0,d=b.length,e=[],g=[],h;this.suspendEvents();for(h in a)e[a[h]]=b[h];for(c=0;c<d;c++)void 0==a[c]&&g.push(b[c]);for(c=0;c<d;c++)void 0==e[c]&&(e[c]=g.shift());this.clear();this.addAll(e);this.resumeEvents();this.fireEvent("sort",this)},sortByKey:function(a,b){this._sort("key",
a,b||function(a,b){var e=String(a).toUpperCase(),g=String(b).toUpperCase();return e>g?1:e<g?-1:0})}});
Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){"number"==typeof a?this.interval=a:a&&Ext.apply(this,a);this.tasks=[];this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(a){a=new Ext.util.TaskRunner.Task(a);a.manager=this;return a},start:function(a){var b=Ext.Date.now();a.pending||(this.tasks.push(a),a.pending=!0);a.stopped=!1;a.taskStartTime=b;a.taskRunTime=!1!==a.fireOnStart?0:a.taskStartTime;a.taskRunCount=0;this.firing||(!1!==a.fireOnStart?this.startTimer(0,
b):this.startTimer(a.interval,b));return a},stop:function(a){a.stopped||(a.stopped=!0,a.onStop&&a.onStop.call(a.scope||a,a));return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1E99,onTick:function(){var a=this.tasks,b=Ext.Date.now(),c=1E99,d=a.length,e=Ext.GlobalEvents,g,h,j,k,l,m;this.timerId=null;this.firing=!0;for(j=0;j<d||j<(d=a.length);++j){k=a[j];if(!(l=k.stopped)){g=k.taskRunTime+k.interval;if(g<=b){l=1;m=k.hasOwnProperty("fireIdleEvent")?k.fireIdleEvent:
this.fireIdleEvent;try{l=k.run.apply(k.scope||k,k.args||[++k.taskRunCount])}catch(n){try{Ext.log({msg:n,level:"error"}),k.onError&&(l=k.onError.call(k.scope||k,k,n))}catch(p){}}k.taskRunTime=b;!1===l||k.taskRunCount===k.repeat?(this.stop(k),l=!0):(l=k.stopped,g=b+k.interval)}!l&&(k.duration&&k.duration<=b-k.taskStartTime)&&(this.stop(k),l=!0)}l?(k.pending=!1,h||(h=a.slice(0,j))):(h&&h.push(k),c>g&&(c=g))}h&&(this.tasks=h);this.firing=!1;this.tasks.length&&this.startTimer(c-b,Ext.Date.now());!1!==
m&&e.hasListeners.idle&&e.fireEvent("idle")},startTimer:function(a,b){var c=b+a,d=this.timerId;d&&this.nextExpires-c>this.interval&&(clearTimeout(d),d=null);d||(a<this.interval&&(a=this.interval),this.timerId=Ext.defer(this.timerFn,a),this.nextExpires=c)}},function(){var a=this.prototype;a.destroy=a.stopAll;this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(a){Ext.apply(this,a)},restart:function(a){void 0!==a&&(this.interval=a);this.manager.start(this)},start:function(a){this.stopped&&
this.restart(a)},stop:function(){this.manager.stop(this)}});a=this.Task.prototype;a.destroy=a.stop});Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}});
Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(a,b,c){void 0==c&&(c="x"===b?a.getX():"y"===b?a.getY():"scrollTop"===b?a.getScroll().top:"scrollLeft"===b?a.getScroll().left:"height"===b?a.getHeight():"width"===b?a.getWidth():a.getStyle(b));return c},getAttr:function(a,b){var c=this.target;return[[c,this.getElVal(c,a,b)]]},setAttr:function(a){var b=a.length,c,d,e,g,h,j;for(g=0;g<b;g++)for(d in c=a[g].attrs,c)if(c.hasOwnProperty(d)){j=c[d].length;for(h=
0;h<j;h++)e=c[d][h],this.setElVal(e[0],d,e[1])}},setElVal:function(a,b,c){"x"===b?a.setX(c):"y"===b?a.setY(c):"scrollTop"===b?a.scrollTo("top",c):"scrollLeft"===b?a.scrollTo("left",c):"width"===b?a.setWidth(c):"height"===b?a.setHeight(c):a.setStyle(b,c)}});
Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(a,b){var c=[],d=[],e=[],g=a.length,h,j,k,l,m,n;for(m=0;m<g;m++)for(j in h=a[m],l=h.duration,k=h.easing,h=h.attrs,h)-1==Ext.Array.indexOf(c,j)&&(c.push(j.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})),d.push(l+"ms"),e.push(k));c=c.join(",");l=d.join(",");k=e.join(", ");for(m=0;m<g;m++)for(j in h=a[m].attrs,h){n=h[j].length;for(e=0;e<n;e++)if(d=h[j][e],d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",
b?"":c),d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",b?"":l),d[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",b?"":k),d[0].setStyle(j,d[1]),b)d=d[0].dom.offsetWidth;else d[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},d[0],{single:!0})}}});
Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:!0,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,b){var c=[],d=this.target,e=d.elements,g=e.length,h,j;for(h=0;h<g;h++)if(j=e[h])j=d.getElement(j),c.push([j,this.getElVal(j,a,b)]);return c},setAttr:function(a){var b=this.target,c=a.length,d=b.elements,e=d.length,g,h,j,k,l,m,n;for(l=0;l<c;l++)for(k in j=a[l].attrs,j)if(j.hasOwnProperty(k)){n=j[k].length;
for(m=0;m<n;m++){g=j[k][m][1];for(h=0;h<e;++h)if(el=d[h])el=b.getElement(el),this.setElVal(el,k,g)}}},remove:function(){this.target.destroy()}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});
Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(a,b){var c;switch(b){case "rotate":case "rotation":return c=a.attr.rotation,{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case "scale":case "scaling":return c=a.attr.scaling,{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case "translate":case "translation":return c=a.attr.translation,{x:c.x||0,y:c.y||0};default:return a.attr[b]}},getAttr:function(a,b){return[[this.target,void 0!=b?b:this.getFromPrim(this.target,
a)]]},setAttr:function(a){var b=a.length,c=[],d,e,g,h,j,k,l,m,n,p;for(l=0;l<b;l++)for(e in d=a[l].attrs,d){g=d[e];p=g.length;for(m=0;m<p;m++)j=g[m][0],h=g[m][1],"translate"===e||"translation"===e?k={x:h.x,y:h.y}:"rotate"===e||"rotation"===e?(k=h.x,isNaN(k)&&(k=null),n=h.y,isNaN(n)&&(n=null),k={degrees:h.degrees,x:k,y:n}):"scale"===e||"scaling"===e?(k=h.x,isNaN(k)&&(k=null),n=h.y,isNaN(n)&&(n=null),k={x:k,y:n,cx:h.cx,cy:h.cy}):k="width"===e||"height"===e||"x"===e||"y"===e?parseFloat(h):h,h=Ext.Array.indexOf(c,
j),-1==h&&(c.push([j,{}]),h=c.length-1),c[h][1][e]=k}b=c.length;for(l=0;l<b;l++)c[l][0].setAttributes(c[l][1]);this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(a,b){var c=[],d=[].concat(this.target.items),e=d.length,g,h;for(g=0;g<e;g++)h=d[g],c.push([h,void 0!=b?b:this.getFromPrim(h,a)]);return c}});
Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",
height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,void 0!==b?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(a,b,c){b=a.length;var d,e,g,h,j,k,l={},m;for(h=0;h<b;h++){d=a[h].attrs;for(e in d){k=d[e].length;for(j=0;j<k;j++)g=d[e][j],m=l[this.setMethods[e]]||(l[this.setMethods[e]]={}),m.target=g[0],m[e]=g[1]}l.setPosition&&(g=l.setPosition,d=void 0===g.left?void 0:parseFloat(g.left),j=void 0===g.top?void 0:parseFloat(g.top),g.target.setPosition(d,
j));l.setPagePosition&&(g=l.setPagePosition,g.target.setPagePosition(g.x,g.y));if(l.setSize&&(g=l.setSize,d=void 0===g.width?g.target.getWidth():parseFloat(g.width),j=void 0===g.height?g.target.getHeight():parseFloat(g.height),g.target.el.setSize(d,j),c||this.dynamic))Ext.GlobalEvents.on({idle:Ext.Function.bind(g.target.setSize,g.target,[d,j]),single:!0});l.setOpacity&&(g=l.setOpacity,g.target.el.setStyle("opacity",g.opacity))}}});
Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(a){return(a=this.targets.get(a))?a.fxDefaults:{}},setFxDefaults:function(a,b){var c=this.targets.get(a);c&&(c.fxDefaults=Ext.apply(c.fxDefaults||{},b))},stopAnimation:function(a){a=this.getFxQueue(a);for(var b=a.length;b;)a[b-1].end(),b--},getActiveAnimation:function(a){return(a=this.getFxQueue(a))&&a.length?a[0]:!1},hasFxBlock:function(a){return(a=this.getFxQueue(a))&&a[0]&&
a[0].block},getFxQueue:function(a){if(!a)return!1;var b=this,c=b.fxQueue[a],d=b.targets.get(a);if(!d)return!1;if(!c&&(b.fxQueue[a]=[],"element"!=d.type))d.target.on("destroy",function(){b.fxQueue[a]=[]});return b.fxQueue[a]},queueFx:function(a){var b=this,c=a.target,d,e;if(c){d=b.getFxQueue(c.getId());if(e=d.length)if(a.concurrent)a.paused=!1;else d[e-1].on("afteranimate",function(){a.paused=!1});else a.paused=!1;a.on("afteranimate",function(){Ext.Array.remove(d,a);0===d.length&&b.targets.remove(a.target);
if(a.remove&&"element"==c.type){var e=Ext.get(c.id);e&&e.destroy()}},b,{single:!0});d.push(a)}}});
Ext.define("Ext.fx.Manager",{singleton:!0,mixins:{queue:Ext.fx.Queue},constructor:function(){this.items=new Ext.util.MixedCollection;this.targetArr={};this.mixins.queue.constructor.call(this);this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(a){var b=!this.forceJS&&Ext.supports.Transitions;this.useCSS3=b;if(a){if(a.tagName||Ext.isString(a)||a.isFly)a=Ext.get(a),a=new Ext.fx.target["Element"+(b?"CSS":"")](a);else if(a.dom)a=new Ext.fx.target["Element"+(b?"CSS":"")](a);
else if(a.isComposite)a=new Ext.fx.target["CompositeElement"+(b?"CSS":"")](a);else if(a.isSprite)a=new Ext.fx.target.Sprite(a);else if(a.isCompositeSprite)a=new Ext.fx.target.CompositeSprite(a);else if(a.isComponent)a=new Ext.fx.target.Component(a);else return a.isAnimTarget?a:null;this.targets.add(a);return a}return null},addAnim:function(a){var b=this.items,c=this.task;b.add(a.id,a);!c&&b.length&&(c=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(c))},removeAnim:function(a){var b=
this.items,c=this.task;b.removeAtKey(a.id);c&&!b.length&&(this.taskRunner.stop(c),delete this.task)},runner:function(){var a=this.items.getRange(),b=0,c=a.length,d;this.targetArr={};for(this.timestamp=new Date;b<c;b++)d=a[b],d.isReady()&&this.startAnim(d);for(b=0;b<c;b++)d=a[b],d.isRunning()&&this.runAnim(d);this.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(a,b){if(a){var c=this.useCSS3&&"element"==a.target.type,d=this.timestamp-a.startTime,e=d>=a.duration;
b&&(d=a.duration,e=!0);d=this.collectTargetData(a,d,c,e);c&&(a.target.setAttr(d.anims[a.id].attributes,!0),this.collectTargetData(a,a.duration,c,e),a.paused=!0,d=a.target.target,a.target.isComposite&&(d=a.target.target.last()),c={},c[Ext.supports.CSS3TransitionEnd]=a.lastFrame,c.scope=a,c.single=!0,d.on(c));return d}},jumpToEnd:function(a){var b=this.runAnim(a,!0);this.applyAnimAttrs(b,b.anims[a.id])},collectTargetData:function(a,b,c,d){var e=a.target.getId(),g=this.targetArr[e];g||(g=this.targetArr[e]=
{id:e,el:a.target,anims:{}});g.anims[a.id]={id:a.id,anim:a,elapsed:b,isLastFrame:d,attributes:[{duration:a.duration,easing:c&&a.reverse?a.easingFn.reverse().toCSS3():a.easing,attrs:a.runAnim(b)}]};return g},applyAnimAttrs:function(a,b){var c=b.anim;b.attributes&&c.isRunning()&&(a.el.setAttr(b.attributes,!1,b.isLastFrame),b.isLastFrame&&c.lastFrame())},applyPendingAttrs:function(){var a=this.targetArr,b,c,d,e,g;for(c in a)if(a.hasOwnProperty(c))for(g in b=a[c],b.anims)b.anims.hasOwnProperty(g)&&(d=
b.anims[g],e=d.anim,d.attributes&&e.isRunning()&&(b.el.setAttr(d.attributes,!1,d.isLastFrame),d.isLastFrame&&e.lastFrame()))}});
Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){this.config=a=Ext.apply(this,a||{});this.id=Ext.id(null,"ext-animator-");this.mixins.observable.constructor.call(this,a);this.timeline=[];this.createTimeline(this.keyframes);this.target&&(this.applyAnimator(this.target),Ext.fx.Manager.addAnim(this))},
sorter:function(a,b){return a.pct-b.pct},createTimeline:function(a){var b=[],c=this.to||{},d=this.duration,e,g;for(e in a)a.hasOwnProperty(e)&&this.animKeyFramesRE.test(e)&&(g={attrs:Ext.apply(a[e],c)},"from"==e?e=0:"to"==e&&(e=100),g.pct=parseInt(e,10),b.push(g));Ext.Array.sort(b,this.sorter);g=b.length;for(e=0;e<g;e++)a=b[e-1]?d*(b[e-1].pct/100):0,c=d*(b[e].pct/100),this.timeline.push({duration:c-a,attrs:b[e].attrs})},applyAnimator:function(a){var b=[],c=this.timeline,d=c.length,e,g,h,j,k;if(!1!==
this.fireEvent("beforeanimate",this)){for(k=0;k<d;k++)e=c[k],j=e.attrs,g=j.easing||this.easing,h=j.damper||this.damper,delete j.easing,delete j.damper,e=new Ext.fx.Anim({target:a,easing:g,damper:h,duration:e.duration,paused:!0,to:j}),b.push(e);this.animations=b;this.target=e.target;for(k=0;k<d-1;k++)e=b[k],e.nextAnim=b[k+1],e.on("afteranimate",function(){this.nextAnim.paused=!1}),e.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this);b[d-1].on("afteranimate",function(){this.lastFrame()},
this)}},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+b)}else{this.delayStart=a;return}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=a,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;b<a?(this.startTime=new Date,this.currentIteration=b,this.keyframeStep=0,this.applyAnimator(this.target),this.animations[this.keyframeStep].paused=!1):(this.currentIteration=
0,this.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1}});
Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(a,b,c,d,e,g){var h=3*b,j=3*(d-b)-h,k=1-h-j;b=3*c;c=3*(e-c)-b;e=1-b-c;a=function(a,b){var c,d,e,g;e=a;for(d=0;8>d;d++){g=((k*e+j)*e+h)*e-a;if(Math.abs(g)<b)return e;c=(3*k*e+2*j)*e+h;if(1E-6>Math.abs(c))break;e-=g/c}c=0;d=1;e=a;if(e<c)return c;if(e>d)return d;for(;c<d;){g=((k*e+j)*e+h)*e;if(Math.abs(g-a)<b)break;a>g?c=e:d=e;e=(d-c)/2+c}return e}(a,1/(200*g));return((e*a+c)*a+b)*a},cubicBezier:function(a,b,c,d){var e=function(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,
a,b,c,d,1)};e.toCSS3=function(){return"cubic-bezier("+[a,b,c,d].join()+")"};e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-c,1-d,1-a,1-b)};return e}});
Ext.require("Ext.fx.CubicBezier",function(){var a=Math,b=a.PI,c=a.pow,d=a.sin,e=a.sqrt,g=a.abs;Ext.define("Ext.fx.Easing",{singleton:!0,linear:Ext.identityFn,ease:function(a){var b=0.07813-a/2,d=e(0.0066+b*b);a=d-b;a=c(g(a),1/3)*(0>a?-1:1);b=-d-b;b=c(g(b),1/3)*(0>b?-1:1);a=a+b+0.25;return 0.1*3*c(1-a,2)*a+3*(1-a)*a*a+a*a*a},easeIn:function(a){return c(a,1.7)},easeOut:function(a){return c(a,0.48)},easeInOut:function(a){var b=0.48-a/1.04,d=e(0.1734+b*b);a=d-b;a=c(g(a),1/3)*(0>a?-1:1);b=-d-b;b=c(g(b),
1/3)*(0>b?-1:1);a=a+b+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elasticIn:function(a){return 0===a||1===a?a:c(2,-10*a)*d((a-0.075)*2*b/0.3)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+0.9375):(a-=2.625/
2.75,a=7.5625*a*a+0.984375);return a}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.addMembers({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})});
Ext.define("Ext.fx.DrawPath",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(a,b){b=String(b).toLowerCase();return"object"==b&&a===Object(a)||"undefined"==b&&typeof a==b||"null"==b&&null===a||"array"==b&&Array.isArray&&Array.isArray(a)||Object.prototype.toString.call(a).toLowerCase().slice(8,-1)==b},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,
"$1")},pathToString:function(a){return a.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(a){if(!a)return null;var b={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],d=this;d.is(a,"array")&&d.is(a[0],"array")&&(c=d.pathClone(a));c.length||String(a).replace(d.pathCommandRE,function(a,g,h){var j=[];a=g.toLowerCase();h.replace(d.pathValuesRE,function(a,b){b&&j.push(+b)});"m"==a&&2<j.length&&(c.push([g].concat(Ext.Array.splice(j,0,2))),a="l",g="m"==g?"l":"L");for(;j.length>=
b[a]&&!(c.push([g].concat(Ext.Array.splice(j,0,b[a]))),!b[a]););});c.toString=d.path2string;return c},pathClone:function(a){var b=[],c,d,e,g;if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);e=0;for(g=a.length;e<g;e++){b[e]=[];c=0;for(d=a[e].length;c<d;c++)b[e][c]=a[e][c]}b.toString=this.path2string;return b},pathToAbsolute:function(a){if(!this.is(a,"array")||!this.is(a&&a[0],"array"))a=this.parsePathString(a);var b=[],c=0,d=0,e=0,g=0,h=0,j=a.length,k,l,m,n;j&&"M"==a[0][0]&&
(c=+a[0][1],d=+a[0][2],e=c,g=d,h++,b[0]=["M",c,d]);for(;h<j;h++){k=b[h]=[];l=a[h];if(l[0]!=l[0].toUpperCase())switch(k[0]=l[0].toUpperCase(),k[0]){case "A":k[1]=l[1];k[2]=l[2];k[3]=l[3];k[4]=l[4];k[5]=l[5];k[6]=+(l[6]+c);k[7]=+(l[7]+d);break;case "V":k[1]=+l[1]+d;break;case "H":k[1]=+l[1]+c;break;case "M":e=+l[1]+c,g=+l[2]+d;default:m=1;for(n=l.length;m<n;m++)k[m]=+l[m]+(m%2?c:d)}else{m=0;for(n=l.length;m<n;m++)b[h][m]=l[m]}switch(k[0]){case "Z":c=e;d=g;break;case "H":c=k[1];break;case "V":d=k[1];
break;case "M":l=b[h],n=l.length,e=l[n-2],g=l[n-1];default:l=b[h],n=l.length,c=l[n-2],d=l[n-1]}}b.toString=this.path2string;return b},interpolatePaths:function(a,b){var c=this.pathToAbsolute(a),d=this.pathToAbsolute(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){if(7<a[b].length){a[b].shift();for(var e=a[b];e.length;)Ext.Array.splice(a,b++,0,["C"].concat(Ext.Array.splice(e,0,6)));Ext.Array.erase(a,b,1);l=Math.max(c.length,d.length||0)}},
j=function(a,b,e,g,h){a&&(b&&"M"==a[h][0]&&"M"!=b[h][0])&&(Ext.Array.splice(b,h,0,["M",g.x,g.y]),e.bx=0,e.by=0,e.x=a[h][1],e.y=a[h][2],l=Math.max(c.length,d.length||0))},k,l,m,n,p,q;k=0;for(l=Math.max(c.length,d.length||0);k<l;k++)c[k]=this.command2curve(c[k],e),h(c,k),d[k]=this.command2curve(d[k],g),h(d,k),j(c,d,e,g,k),j(d,c,g,e,k),m=c[k],n=d[k],p=m.length,q=n.length,e.x=m[p-2],e.y=m[p-1],e.bx=parseFloat(m[p-4])||e.x,e.by=parseFloat(m[p-3])||e.y,g.bx=parseFloat(n[q-4])||g.x,g.by=parseFloat(n[q-3])||
g.y,g.x=n[q-2],g.y=n[q-1];return[c,d]},command2curve:function(a,b){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];"T"!=a[0]&&"Q"!=a[0]&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(this.arc2curve.apply(this,[b.x,b.y].concat(a.slice(1))));break;case "S":a=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));a=["C"].concat(this.quadratic2curve(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;
case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(this.quadratic2curve(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(b.x,b.y,a[1],a[2],a[1],a[2]);break;case "H":a=["C"].concat(b.x,b.y,a[1],b.y,a[1],b.y);break;case "V":a=["C"].concat(b.x,b.y,b.x,a[1],b.x,a[1]);break;case "Z":a=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y)}return a},quadratic2curve:function(a,b,c,d,e,g){var h=1/3,j=2/3;return[h*a+j*c,h*b+j*d,h*e+j*c,h*g+j*d,e,g]},rotate:function(a,b,c){var d=Math.cos(c);c=Math.sin(c);return{x:a*d-b*
c,y:a*c+b*d}},arc2curve:function(a,b,c,d,e,g,h,j,k,l){var m=Math.PI,n=120*m/180,p=this.radian*(+e||0),q=[],r=Math,s=r.cos,t=r.sin,u=r.sqrt,v=r.abs,w=r.asin,x,A,z,B;l?(x=l[0],w=l[1],g=l[2],u=l[3]):(x=this.rotate(a,b,-p),a=x.x,b=x.y,x=this.rotate(j,k,-p),j=x.x,k=x.y,x=(a-j)/2,A=(b-k)/2,z=x*x/(c*c)+A*A/(d*d),1<z&&(z=u(z),c*=z,d*=z),z=c*c,B=d*d,u=(g==h?-1:1)*u(v((z*B-z*A*A-B*x*x)/(z*A*A+B*x*x))),g=u*c*A/d+(a+j)/2,u=u*-d*x/c+(b+k)/2,x=w(((b-u)/d).toFixed(7)),w=w(((k-u)/d).toFixed(7)),x=a<g?m-x:x,w=j<g?
m-w:w,0>x&&(x=2*m+x),0>w&&(w=2*m+w),h&&x>w&&(x-=2*m),!h&&w>x&&(w-=2*m));v(w-x)>n&&(q=w,m=j,v=k,w=x+n*(h&&w>x?1:-1),j=g+c*s(w),k=u+d*t(w),q=this.arc2curve(j,k,c,d,e,0,h,m,v,[w,q,g,u]));n=w-x;e=s(x);h=t(x);s=s(w);t=t(w);r=r.tan(n/4);c=4/3*c*r;r*=4/3*d;d=[a,b];a=[a+c*h,b-r*e];b=[j+c*t,k-r*s];j=[j,k];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(l)return[a,b,j].concat(q);q=[a,b,j].concat(q).join().split(",");l=[];k=q.length;for(j=0;j<k;j++)l[j]=j%2?this.rotate(q[j-1],q[j],p).y:this.rotate(q[j],q[j+1],p).x;return l}});
Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(a,b,c,d,e){c="number"==typeof c?c:1;var g=this.unitRE,h=g.exec(a),j;h&&(a=h[1],j=h[2],!this.scrollRE.test(e)&&(!j&&this.pixelDefaultsRE.test(e))&&(j="px"));a=+a||0;if(h=g.exec(b))b=h[1],j=h[2]||j;return{from:a,delta:((+b||0)-(null!=d?d:a))*c,units:j}},get:function(a,b,c,d,e){var g=a.length,
h=[],j,k,l,m,n;for(j=0;j<g;j++)if(d&&(k=d[j][1].from),Ext.isArray(a[j][1])&&Ext.isArray(b)){l=[];m=0;for(n=a[j][1].length;m<n;m++)l.push(this.computeDelta(a[j][1][m],b[m],c,k,e));h.push([a[j][0],l])}else h.push([a[j][0],this.computeDelta(a[j][1],b,c,k,e)]);return h},set:function(a,b){var c=a.length,d=[],e,g,h,j,k;for(e=0;e<c;e++)if(g=a[e][1],Ext.isArray(g)){h=[];k=0;for(j=g.length;k<j;k++)h.push(g[k].from+g[k].delta*b+(g[k].units||0));d.push([a[e][0],h])}else d.push([a[e][0],g.from+g.delta*b+(g.units||
0)]);return d}},stringHandler:{computeDelta:function(a,b){return{from:a,delta:b}},get:function(a,b,c,d,e){d=a.length;var g=[],h;for(h=0;h<d;h++)g.push([a[h][0],this.computeDelta(a[h][1],b,c,void 0,e)]);return g},set:function(a){var b=a.length,c=[],d,e;for(d=0;d<b;d++)e=a[d][1],c.push([a[d][0],e.delta]);return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(a){var b=
!1,c=[this.hexRE,this.rgbRE,this.hex3RE],d=c.length,e,g,h;for(h=0;h<d;h++)if(e=c[h],g=0===h%2?16:10,(e=e.exec(a))&&4===e.length){2===h&&(e[1]+=e[1],e[2]+=e[2],e[3]+=e[3]);b={red:parseInt(e[1],g),green:parseInt(e[2],g),blue:parseInt(e[3],g)};break}return b||a},computeDelta:function(a,b,c,d){a=this.parseColor(a);b=this.parseColor(b,c);d=d?d:a;var e=typeof d,g=typeof b;return"string"==e||"undefined"==e||"string"==g||"undefined"==g?b||d:{from:a,delta:{red:Math.round((b.red-d.red)*c),green:Math.round((b.green-
d.green)*c),blue:Math.round((b.blue-d.blue)*c)}}},get:function(a,b,c,d){var e=a.length,g=[],h,j;for(h=0;h<e;h++)d&&(j=d[h][1].from),g.push([a[h][0],this.computeDelta(a[h][1],b,c,j)]);return g},set:function(a,b){var c=a.length,d=[],e,g,h,j;for(e=0;e<c;e++)if(g=a[e][1]){h=g.from;j=g.delta;g="object"==typeof g&&"red"in g?"rgb("+g.red+", "+g.green+", "+g.blue+")":g;g="object"==typeof g&&g.length?g[0]:g;if("undefined"==typeof g)return[];g="string"==typeof g?g:"rgb("+[(h.red+Math.round(j.red*b))%256,(h.green+
Math.round(j.green*b))%256,(h.blue+Math.round(j.blue*b))%256].join()+")";d.push([a[e][0],g])}return d}},object:{interpolate:function(a,b){b="number"==typeof b?b:1;var c={},d;for(d in a)c[d]=parseFloat(a[d])*b;return c},computeDelta:function(a,b,c,d){a=this.interpolate(a);b=this.interpolate(b,c);c=d?d:a;d={};for(var e in b)d[e]=b[e]-c[e];return{from:a,delta:d}},get:function(a,b,c,d){var e=a.length,g=[],h,j;for(h=0;h<e;h++)d&&(j=d[h][1].from),g.push([a[h][0],this.computeDelta(a[h][1],b,c,j)]);return g},
set:function(a,b){var c=a.length,d=[],e={},g,h,j,k;for(g=0;g<c;g++){j=a[g][1];h=j.from;j=j.delta;for(k in h)e[k]=h[k]+j[k]*b;d.push([a[g][0],e])}return d}},path:{computeDelta:function(a,b,c,d){a=+a||0;return{from:a,delta:((+b||0)-(null!=d?d:a))*("number"==typeof c?c:1)}},forcePath:function(a){!Ext.isArray(a)&&!Ext.isArray(a[0])&&(a=Ext.fx.DrawPath.parsePathString(a));return a},get:function(a,b,c,d){b=this.forcePath(b);var e=[],g=a.length,h,j,k,l,m,n,p,q,r;for(k=0;k<g;k++){r=this.forcePath(a[k][1]);
l=Ext.fx.DrawPath.interpolatePaths(r,b);r=l[0];b=l[1];h=r.length;q=[];for(n=0;n<h;n++){l=[r[n][0]];j=r[n].length;for(p=1;p<j;p++)m=d&&d[0][1][n][p].from,l.push(this.computeDelta(r[n][p],b[n][p],c,m));q.push(l)}e.push([a[k][0],q])}return e},set:function(a,b){var c=a.length,d=[],e,g,h,j,k,l,m,n;for(e=0;e<c;e++){l=a[e][1];j=[];m=l.length;for(g=0;g<m;g++){k=[l[g][0]];n=l[g].length;for(h=1;h<n;h++)k.push(l[g][h].from+l[g][h].delta*b);j.push(k.join(","))}d.push([a[e][0],j.join(",")])}return d}}}},function(){for(var a=
"outlineColor backgroundColor borderColor borderTopColor borderRightColor borderBottomColor borderLeftColor fill stroke".split(" "),b=a.length,c=0,d;c<b;c++)d=a[c],this[d]=this.color;a=["cursor"];b=a.length;for(c=0;c<b;c++)d=a[c],this[d]=this.stringHandler});
Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b;a=a||{};if(a.keyframes)return new Ext.fx.Animator(a);Ext.apply(this,a);void 0===this.from&&(this.from={});this.propHandlers={};this.config=a;this.target=
Ext.fx.Manager.createTarget(this.target);this.easingFn=Ext.fx.Easing[this.easing];this.target.dynamic=this.dynamic;if(!this.easingFn&&(this.easingFn=String(this.easing).match(this.bezierRE))&&5==this.easingFn.length)b=this.easingFn,this.easingFn=Ext.fx.CubicBezier.cubicBezier(+b[1],+b[2],+b[3],+b[4]);this.id=Ext.id(null,"ext-anim-");this.mixins.observable.constructor.call(this);Ext.fx.Manager.addAnim(this);a.autoEnd&&(this.running=!0,this.jumpToEnd())},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,
a,b)},initAttrs:function(){var a=this.from,b=this.to,c=this.initialFrom||{},d={},e,g,h,j;for(j in b)b.hasOwnProperty(j)&&(e=this.target.getAttr(j,a[j]),g=b[j],h=Ext.fx.PropertyHandler[j]?this.propHandlers[j]=Ext.fx.PropertyHandler[j]:Ext.isObject(g)?this.propHandlers[j]=Ext.fx.PropertyHandler.object:this.propHandlers[j]=Ext.fx.PropertyHandler.defaultHandler,d[j]=h.get(e,g,this.damper,c[j],j));this.currentAttrs=d},start:function(a){var b=this.delay,c=this.delayStart;if(b)if(c){if(a-c<b)return;a=new Date(c.getTime()+
b)}else{this.delayStart=a;return}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=a,!this.paused&&!this.currentAttrs&&this.initAttrs(),this.running=!0,this.frameCount=0)},jumpToEnd:function(){this.endWasCalled||(this.currentAttrs||this.initAttrs(),Ext.fx.Manager.jumpToEnd(this),this.end())},runAnim:function(a){var b=this.currentAttrs,c=this.duration,d=this.easingFn,e=this.propHandlers,g={},h,j,k,l;a>=c&&(a=c,l=!0);this.reverse&&(a=c-a);for(k in b)b.hasOwnProperty(k)&&(j=b[k],h=l?1:d(a/c),
g[k]=e[k].set(j,h));this.frameCount++;return g},lastFrame:function(){var a=this.iterations,b=this.currentIteration;b++;b<a?(this.alternate&&(this.reverse=!this.reverse),this.startTime=new Date,this.currentIteration=b,this.paused=!1):(this.currentIteration=0,this.end(),this.fireEvent("lastframe",this,this.startTime))},endWasCalled:0,end:function(){this.endWasCalled++||(this.startTime=0,this.running=this.paused=!1,Ext.fx.Manager.removeAnim(this),this.fireEvent("afteranimate",this,this.startTime),Ext.callback(this.callback,
this.scope,[this,this.startTime]),this.remove&&this.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}});Ext.enableFx=!0;
Ext.define("Ext.util.Animate",{mixinId:"animate",isAnimate:!0,animate:function(a){if(Ext.fx.Manager.hasFxBlock(this.id))return this;Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(a)));return this},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));return Ext.apply({target:this,paused:!0},a)},getAnimationProps:function(){var a=this.layout;return a&&a.animate?a.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,
"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}});
Ext.define("Ext.dom.GarbageCollector",{singleton:!0,interval:3E4,constructor:function(){this.collect=Ext.Function.bind(this.collect,this);this.resume()},collect:function(){var a=Ext.cache,b,c,d;if(Ext.enableGarbageCollector){for(b in a)a.hasOwnProperty(b)&&(d=a[b],d.skipGarbageCollection||((c=d.dom)||Ext.Error.raise("Missing DOM node in element garbage collection: "+b),Ext.isGarbage(c)&&(d.clearListeners(),delete a[b])));if(Ext.isIE9m){c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);Ext.cache=c}this.lastTime=
Ext.now()}else this.pause()},pause:function(){clearTimeout(this.timerId)},resume:function(){var a=this.lastTime;a&&Ext.now()-a>this.interval&&this.collect();this.timerId=Ext.interval(this.collect,this.interval)}});
Ext.define("Ext.overrides.dom.Element",function(){var a,b=window,c=document,d="hidden",d="hidden",e=Ext.baseCSSPrefix+"hidden-offsets",g=/^BUTTON|IFRAME|INPUT|SELECT|TEXTAREA$/,h=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,j=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,k=/\ssrc=([\'\"])(.*?)\1/i,l=/^a|button|embed|iframe|input|object|select|textarea$/i,m=/\S/,n=/\stype=([\'\"])(.*?)\1/i,p=/^-ms-/,q=/(-[a-z])/gi,r=function(a,b){return b.charAt(1).toUpperCase()},s=Ext.baseCSSPrefix+"masked",
t=Ext.baseCSSPrefix+"masked-relative",u=Ext.baseCSSPrefix+"mask-msg",v=/^(?:mouseenter|mouseleave)$/,w=/^body/i,x,A={},z=function(a){a=a.getData();var b=a.originalDisplay;void 0===b&&(a.originalDisplay=b="");return b},B,y=c.createRange?c.createRange():null;return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:!1,_init:function(b){a=b},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",normalize:function(a){"float"===a&&
(a=Ext.supports.Float?"cssFloat":"styleFloat");return A[a]||(A[a]=a.replace(p,"ms-").replace(q,r))},getViewportHeight:function(){return Ext.isIE9m?c.documentElement.clientHeight:b.innerHeight},getViewportWidth:function(){return!Ext.isStrict&&!Ext.isOpera?document.body.clientWidth:Ext.isIE9m?c.documentElement.clientWidth:b.innerWidth}},addClsOnClick:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("mousedown",function(){if(g&&!1===b.call(c||d,d))return!1;Ext.fly(e).addCls(a);var h=Ext.getDoc(),
j=function(){Ext.fly(e).removeCls(a);h.removeListener("mouseup",j)};h.on("mouseup",j)});return d},addClsOnFocus:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.on("focus",function(){if(g&&!1===b.call(c||d,d))return!1;Ext.fly(e).addCls(a)});d.on("blur",function(){Ext.fly(e).removeCls(a)});return d},addClsOnOver:function(a,b,c){var d=this,e=d.dom,g=Ext.isFunction(b);d.hover(function(){g&&!1===b.call(c||d,d)||Ext.fly(e).addCls(a)},function(){Ext.fly(e).removeCls(a)});return d},addKeyListener:function(a,
b,c){a="object"!==typeof a||Ext.isArray(a)?{target:this,key:a,fn:b,scope:c}:{target:this,key:a.key,shift:a.shift,ctrl:a.ctrl,alt:a.alt,fn:b,scope:c};return new Ext.util.KeyMap(a)},addKeyMap:function(a){return new Ext.util.KeyMap(Ext.apply({target:this},a))},anchorAnimX:function(a){this.dom.style["l"===a?"right":"left"]="0px"},anim:function(a){if(!Ext.isObject(a))return a?{}:!1;var b=a.duration||Ext.fx.Anim.prototype.duration,c=a.easing||"ease";a.stopAnimation&&this.stopAnimation();Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(this.id));
Ext.fx.Manager.setFxDefaults(this.id,{delay:0});b={target:this.dom,remove:a.remove,alternate:a.alternate||!1,duration:b,easing:c,callback:a.callback,listeners:a.listeners,iterations:a.iterations||1,scope:a.scope,block:a.block,concurrent:a.concurrent,delay:a.delay||0,paused:!0,keyframes:a.keyframes,from:a.from||{},to:Ext.apply({},a)};Ext.apply(b.to,a.to);delete b.to.to;delete b.to.from;delete b.to.remove;delete b.to.alternate;delete b.to.keyframes;delete b.to.iterations;delete b.to.listeners;delete b.to.target;
delete b.to.paused;delete b.to.callback;delete b.to.scope;delete b.to.duration;delete b.to.easing;delete b.to.concurrent;delete b.to.block;delete b.to.stopAnimation;delete b.to.delay;return b},animate:function(a){var b=this.dom.id||Ext.id(this.dom),c;if(!Ext.fx.Manager.hasFxBlock(b)){a.listeners&&(c=a.listeners,delete a.listeners);a.internalListeners&&(a.listeners=a.internalListeners,delete a.internalListeners);b=a.autoEnd;delete a.autoEnd;a=new Ext.fx.Anim(this.anim(a));if(c)a.on(c);Ext.fx.Manager.queueFx(a);
b&&a.jumpToEnd()}return this},boxWrap:function(a){a=a||Ext.baseCSSPrefix+"box";var b=Ext.get(this.insertHtml("beforeBegin","\x3cdiv class\x3d'"+a+"' role\x3d'presentation'\x3e"+Ext.String.format('\x3cdiv class\x3d"{0}-tl" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-tr" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-tc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"{0}-ml" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-mr" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-mc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"{0}-bl" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-br" role\x3d"presentation"\x3e\x3cdiv class\x3d"{0}-bc" role\x3d"presentation"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',
a)+"\x3c/div\x3e"));b.selectNode("."+a+"-mc").appendChild(this.dom);return b},cacheScrollValues:function(){var a=[],b=[],c,d,e,g;x=x||new Ext.dom.Fly;c=this.query("*");e=0;for(g=c.length;e<g;e++)if(d=c[e],0<d.scrollTop||0!==d.scrollLeft)b.push(d),a.push(x.attach(d).getScroll());return function(){var c,d,e;d=0;for(e=b.length;d<e;d++)c=a[d],x.attach(b[d]),x.setScrollLeft(c.left),x.setScrollTop(c.top)}},clean:function(a){var b=this.dom,c=this.getData(),d=b.firstChild,e=-1;if(c.isCleaned&&!0!==a)return this;
for(;d;)a=d.nextSibling,3===d.nodeType?m.test(d.nodeValue)?a&&3===a.nodeType&&(d.appendData(Ext.String.trim(a.data)),b.removeChild(a),a=d.nextSibling,d.nodeIndex=++e):b.removeChild(d):(Ext.fly(d,"_clean").clean(),d.nodeIndex=++e),d=a;c.isCleaned=!0;return this},empty:y?function(){var a=this.dom;a.firstChild&&(y.setStartBefore(a.firstChild),y.setEndAfter(a.lastChild),y.deleteContents())}:function(){for(var a=this.dom;a.lastChild;)a.removeChild(a.lastChild)},clearListeners:function(){this.removeAnchor();
this.callParent()},clearPositioning:function(a){a=a||"";return this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:"static"})},createProxy:function(b,c,d){b="object"===typeof b?b:{tag:"div",role:"presentation",cls:b};b=c?Ext.DomHelper.append(c,b,!0):Ext.DomHelper.insertBefore(this.dom,b,!0);b.setVisibilityMode(a.DISPLAY);b.hide();d&&(this.setBox&&this.getBox)&&b.setBox(this.getBox());return b},clearOpacity:function(){return this.setOpacity("")},clip:function(){var a=this.getData(),
b;a.isClipped||(a.isClipped=!0,b=this.getStyle(["overflow","overflow-x","overflow-y"]),a.originalClip={o:b.overflow,x:b["overflow-x"],y:b["overflow-y"]},this.setStyle("overflow",d),this.setStyle("overflow-x",d),this.setStyle("overflow-y",d));return this},constrainScrollLeft:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollWidth-b.clientWidth),0)},constrainScrollTop:function(a){var b=this.dom;return Math.max(Math.min(a,b.scrollHeight-b.clientHeight),0)},destroy:function(){var a=this.dom;
a&&this.isAnimate&&this.stopAnimation();this.callParent();a&&Ext.isIE8&&(B=B||c.createElement("div"),B.appendChild(a),B.innerHTML="")},doScrollIntoView:function(a,b,c,d,e,g){x=x||new Ext.dom.Fly;var h=this.dom;e=x.attach(a)[e]();var j=a.scrollTop,k=this.getScrollIntoViewXY(a,e,j),l=k.x,k=k.y;d&&(c?c=Ext.apply({listeners:{afteranimate:function(){x.attach(h).highlight()}}},c):x.attach(h).highlight());k!==j&&x.attach(a).scrollTo("top",k,c);if(!1!==b&&l!==e)x.attach(a)[g]("left",l,c);return this},enableDisplayMode:function(b){this.setVisibilityMode(a.DISPLAY);
void 0!==b&&(this.getData().originalDisplay=b);return this},fadeIn:function(a){var b=this.dom;this.animate(Ext.apply({},a,{opacity:1,internalListeners:{beforeanimate:function(){var a=Ext.fly(b,"_anim");a.isStyle("display","none")?a.setDisplayed(""):a.show()}}}));return this},fadeOut:function(a){var b=this.dom;a=Ext.apply({opacity:0,internalListeners:{afteranimate:function(c){b&&0===c.to.opacity&&(c=Ext.fly(b,"_anim"),a.useDisplay?c.setDisplayed(!1):c.hide())}}},a);this.animate(a);return this},fixDisplay:function(){this.isStyle("display",
"none")&&(this.setStyle("visibility",d),this.setStyle("display",z(this)),this.isStyle("display","none")&&this.setStyle("display","block"))},frame:function(a,b,c){var d=this.dom;a=a||"#C3DAF9";b=b||1;c=c||{};this.animate({duration:2*Math.max(c.duration,500)||2E3,listeners:{beforeanimate:{fn:function(){var e=Ext.fly(d,"_anim"),g=this,h,j;e.show();h=e.getBox();j=Ext.getBody().createChild({role:"presentation",id:e.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35E3,
border:"0px solid "+a}});(new Ext.fx.Anim({target:j,duration:c.duration||1E3,iterations:b,from:{top:h.y,left:h.x,borderWidth:0,opacity:1,height:h.height,width:h.width},to:{top:h.y-20,left:h.x-20,borderWidth:10,opacity:0,height:h.height+40,width:h.width+40}})).on("afteranimate",function(){j.destroy();g.end()})}}},callback:c.callback,scope:c.scope});return this},getColor:function(a,b,c){a=this.getStyle(a);c=c||""===c?c:"#";var d,e,g=0;if(!a||/transparent|inherit/.test(a))return b;if(/^r/.test(a)){a=
a.slice(4,a.length-1).split(",");for(e=a.length;g<e;g++)d=parseInt(a[g],10),c+=(16>d?"0":"")+d.toString(16)}else a=a.replace("#",""),c+=3===a.length?a.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):a;return 5<c.length?c.toLowerCase():b},getLoader:function(){var a=this.getData(),b=a.loader;b||(a.loader=b=new Ext.ElementLoader({target:this}));return b},getPositioning:function(a){var b=this.getStyle(["left","top","position","z-index"]),c=this.dom;a&&("auto"===b.left&&(b.left=c.offsetLeft+"px"),"auto"===b.top&&
(b.top=c.offsetTop+"px"));return b},getScroll:function(){var a=this.dom,b=c.documentElement,d,e=document.body;a===c||a===e?(d=b.scrollLeft||(e?e.scrollLeft:0),a=b.scrollTop||(e?e.scrollTop:0)):(d=a.scrollLeft,a=a.scrollTop);return{left:d,top:a}},getScrollIntoViewXY:function(a,b,c){var d=this.dom,e=Ext.getDom(a),g=this.getOffsetsTo(e);a=d.offsetWidth;var d=d.offsetHeight,h=g[0]+b,g=g[1]+c,j=g+d,k=h+a,l=e.clientHeight,e=e.clientWidth;d>l||g<c?c=g:j>c+l&&(c=j-l);a>e||h<b?b=h:k>b+e&&(b=k-e);return{x:b,
y:c}},getScrollLeft:function(){var a=this.dom;return a===c||a===document.body?this.getScroll().left:a.scrollLeft},getScrollTop:function(){var a=this.dom;return a===c||a===document.body?this.getScroll().top:a.scrollTop},getXY:function(){var a=this.callParent(),b=Ext.getDoc().getScroll();a[0]+=b.left;a[1]+=b.top;return a},ghost:function(a,b){var c=this.dom;a=a||"b";this.animate(Ext.applyIf(b||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:function(){var b=Ext.fly(c,"_anim"),d=b.getWidth(),
e=b.getHeight(),g=b.getXY(),h=b.getPositioning(),b={opacity:0};switch(a){case "t":b.y=g[1]-e;break;case "l":b.x=g[0]-d;break;case "r":b.x=g[0]+d;break;case "b":b.y=g[1]+e;break;case "tl":b.x=g[0]-d;b.y=g[1]-e;break;case "bl":b.x=g[0]-d;b.y=g[1]+e;break;case "br":b.x=g[0]+d;b.y=g[1]+e;break;case "tr":b.x=g[0]+d,b.y=g[1]-e}this.to=b;this.on("afteranimate",function(){var a=Ext.fly(c,"_anim");a&&(a.hide(),a.clearOpacity(),a.setPositioning(h))})}}}));return this},hide:function(a){if("string"===typeof a)return this.setVisible(!1,
a),this;this.setVisible(!1,this.anim(a));return this},highlight:function(a,c){var d=this.dom,e={},g,h,j,k,l,m;c=c||{};k=c.listeners||{};j=c.attr||"backgroundColor";e[j]=a||"ffff9c";c.to?h=c.to:(h={},h[j]=c.endColor||this.getColor(j,"ffffff",""));c.listeners=Ext.apply(Ext.apply({},k),{beforeanimate:function(){g=d.style[j];var a=Ext.fly(d,"_anim");a.clearOpacity();a.show();if(l=k.beforeanimate)return m=l.fn||l,m.apply(l.scope||k.scope||b,arguments)},afteranimate:function(){d&&(d.style[j]=g);if(l=k.afteranimate)m=
l.fn||l,m.apply(l.scope||k.scope||b,arguments)}});this.animate(Ext.apply({},c,{duration:1E3,easing:"ease-in",from:e,to:h}));return this},hover:function(a,b,c,d){this.on("mouseenter",a,c||this.dom,d);this.on("mouseleave",b,c||this.dom,d);return this},initDD:function(a,b,c){a=new Ext.dd.DD(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDProxy:function(a,b,c){a=new Ext.dd.DDProxy(Ext.id(this.dom),a,b);return Ext.apply(a,c)},initDDTarget:function(a,b,c){a=new Ext.dd.DDTarget(Ext.id(this.dom),a,b);
return Ext.apply(a,c)},isFocusable:function(a){var b=this.dom,c=b.hasAttribute("tabindex")&&b.getAttribute("tabindex"),d=b.nodeName,e=!1;if(b&&!b.disabled){if("-1"==c)e=a;else if(l.test(d)){if("A"!==d||b.href)e=!0}else e=null!=c&&0<=c;e=e&&this.isVisible(!0)}return e},isMasked:function(a){var b=this.getData(),c=b.maskEl,d=b.maskMsg,b=!1;if(c&&c.isVisible())d&&d.center(this),b=!0;else if(a&&(c=this.findParentNode()))return Ext.fly(c).isMasked(a);return b},isScrollable:function(){var a=this.dom;return a.scrollHeight>
a.clientHeight||a.scrollWidth>a.clientWidth},load:function(a){this.getLoader().load(a);return this},mask:function(a,b,d){var e=this.dom,g=this.getData(),h=g.maskEl,j=g.maskMsg;w.test(e.tagName)&&"static"==this.getStyle("position")||this.addCls(t);h&&h.destroy();j&&j.destroy();Ext.DomHelper.append(e,[{role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{role:"presentation",cls:b?u+" "+b:u,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",
cls:Ext.baseCSSPrefix+"mask-msg-text",html:a||""}}}]);j=Ext.get(e.lastChild);h=Ext.get(j.dom.previousSibling);g.maskMsg=j;g.maskEl=h;this.addCls(s);h.setDisplayed(!0);"string"===typeof a?(j.setDisplayed(!0),j.center(this)):j.setDisplayed(!1);e===c.body?h.addCls(Ext.baseCSSPrefix+"mask-fixed"):this.saveTabbableState();this.saveChildrenTabbableState();Ext.isIE9m&&(e!==c.body&&this.isStyle("height","auto"))&&h.setSize(void 0,d||this.getHeight());return h},monitorMouseLeave:function(a,b,c){var d=this,
e,g={mouseleave:function(g){Ext.isIE9m&&g.enableIEAsync();e=Ext.defer(b,a,c||d,[g])},mouseenter:function(){clearTimeout(e)}};d.on(g);return g},needsTabIndex:function(){if(this.dom)return"A"===this.dom.nodeName&&!this.dom.href?!0:!l.test(this.dom.nodeName)},normalizeEvent:function(a){var b,c;!Ext.supports.MouseEnterLeave&&v.test(a)?(b=this.normalizeWithin,c="mouseenter"==a?"mouseover":"mouseout"):"mousewheel"==a&&(!Ext.supports.MouseWheel&&!Ext.isOpera)&&(c="DOMMouseScroll");return c?{eventName:c,
normalizeFn:b}:null},normalizeWithin:function(a){var b=a.currentTarget;a=a.getRelatedTarget();if(b&&b.firstChild)for(;a;){if(a===b)return!1;(a=a.parentNode)&&1!==a.nodeType&&(a=null)}return!0},puff:function(a){var b=this.dom,c=this.getBox(),d=this.getStyle("width height left right top bottom position z-index font-size opacity".split(" "),!0);a=Ext.applyIf(a||{},{easing:"ease-out",duration:500,useDisplay:!1});this.animate({duration:a.duration,easing:a.easing,listeners:{beforeanimate:{fn:function(){var e=
Ext.fly(b,"_anim");e.clearOpacity();e.show();this.to={width:2*c.width,height:2*c.height,x:c.x-c.width/2,y:c.y-c.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var c=Ext.fly(b,"_anim");c&&(a.useDisplay?c.setDisplayed(!1):c.hide(),c.setStyle(d),Ext.callback(a.callback,a.scope))})}}}});return this},scroll:function(a,b,c){if(!this.isScrollable())return!1;a=a.charAt(0);var d=this.dom,e="r"===a||"l"===a?"left":"top",g=!1;if("l"===a||"t"===a||"u"===a)b=-b;"left"===e?(a=d.scrollLeft,
b=this.constrainScrollLeft(a+b)):(a=d.scrollTop,b=this.constrainScrollTop(a+b));b!==a&&(this.scrollTo(e,b,c),g=!0);return g},scrollBy:function(a,b,c){var d=this.dom;a.length?(c=b,b=a[1],a=a[0]):"number"!=typeof a&&(c=b,b=a.y,a=a.x);a&&this.scrollTo("left",this.constrainScrollLeft(d.scrollLeft+a),c);b&&this.scrollTo("top",this.constrainScrollTop(d.scrollTop+b),c);return this},scrollChildIntoView:function(a,b){Ext.fly(a).scrollIntoView(this,b)},scrollIntoView:function(a,b,c,d){a=Ext.getDom(a)||Ext.getBody().dom;
return this.doScrollIntoView(a,b,c,d,"getScrollLeft","scrollTo")},scrollTo:function(a,b,c){a=/top/i.test(a)?"scrollTop":"scrollLeft";var d=this.dom;!c||!this.anim?(d[a]=b,d[a]=b):(d={to:{}},d.to[a]=b,Ext.isObject(c)&&Ext.applyIf(d,c),this.animate(d));return this},selectable:function(){this.dom.unselectable="";this.removeCls(a.unselectableCls);this.addCls(a.selectableCls);return this},setCapture:function(){var a=this.dom;Ext.isIE9m&&a.setCapture&&a.setCapture()},setDisplayed:function(a){"boolean"===
typeof a&&(a=a?z(this):"none");this.setStyle("display",a);return this},setHeight:function(a,b){!b||!this.anim?this.callParent(arguments):(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{height:a}},b)));return this},setHorizontal:function(){var a=this.verticalCls;delete this.vertical;a&&(delete this.verticalCls,this.removeCls(a));delete this.setWidth;delete this.setHeight;Ext.isIE8||(delete this.getWidth,delete this.getHeight);delete this.styleHooks},updateText:function(){},setHtml:function(a,
d,e){var g=this,l,m,p;if(!g.dom)return g;a=a||"";m=g.dom;if(!0!==d)return m.innerHTML=a,Ext.callback(e,g),g;l=Ext.id();a+='\x3cspan id\x3d"'+l+'" role\x3d"presentation"\x3e\x3c/span\x3e';p=Ext.interval(function(){var d,j,m,q;if(!(d=c.getElementById(l)))return!1;clearInterval(p);Ext.removeNode(d);for(d=Ext.getHead().dom;j=h.exec(a);)if((q=(m=j[1])?m.match(k):!1)&&q[2]){j=c.createElement("script");j.src=q[2];if((m=m.match(n))&&m[2])j.type=m[2];d.appendChild(j)}else j[2]&&0<j[2].length&&(b.execScript?
b.execScript(j[2]):b.eval(j[2]));Ext.callback(e,g)},20);m.innerHTML=a.replace(j,"");return g},setOpacity:function(a,b){if(!this.dom)return this;!b||!this.anim?this.setStyle("opacity",a):("object"!=typeof b&&(b={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({to:{opacity:a}},b)));return this},setPositioning:function(a){return this.setStyle(a)},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},setVertical:function(b,c){var d=
a.prototype;this.vertical=!0;c&&this.addCls(this.verticalCls=c);this.setWidth=d.setHeight;this.setHeight=d.setWidth;Ext.isIE8||(this.getWidth=d.getHeight,this.getHeight=d.getWidth);this.styleHooks=270===b?d.verticalStyleHooks270:d.verticalStyleHooks90},setSize:function(b,c,d){Ext.isObject(b)&&(d=c,c=b.height,b=b.width);!d||!this.anim?(this.dom.style.width=a.addUnits(b),this.dom.style.height=a.addUnits(c)):(!0===d&&(d={}),this.animate(Ext.applyIf({to:{width:b,height:c}},d)));return this},setVisible:function(b,
c){var g=this.dom,h;h=this.getData();var j=h.visibilityMode;void 0===j&&(h.visibilityMode=j=a.VISIBILITY);h=j;if("string"===typeof c){switch(c){case "display":h=a.DISPLAY;break;case "visibility":h=a.VISIBILITY;break;case "offsets":h=a.OFFSETS}this.setVisibilityMode(h);c=!1}if(!c||!this.anim){if(h===a.DISPLAY)return this.setDisplayed(b);if(h===a.OFFSETS)this[b?"removeCls":"addCls"](e);else h===a.VISIBILITY&&(this.fixDisplay(),g.style.visibility=b?"":d)}else b&&(this.setOpacity(0.01),this.setVisible(!0)),
Ext.isObject(c)||(c={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({callback:function(){b||Ext.fly(g).setVisible(!1).setOpacity(1)},to:{opacity:b?1:0}},c));this.getData().isVisible=b;return this},setWidth:function(a,b){!b||!this.anim?this.callParent(arguments):(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{width:a}},b)));return this},setX:function(a,b){return this.setXY([a,this.getY()],b)},setXY:function(a,b){!b||!this.anim?this.callParent([a]):(Ext.isObject(b)||(b={}),this.animate(Ext.applyIf({to:{x:a[0],
y:a[1]}},b)));return this},setY:function(a,b){return this.setXY([this.getX(),a],b)},show:function(a){if("string"===typeof a)return this.setVisible(!0,a),this;this.setVisible(!0,this.anim(a));return this},slideIn:function(a,b,c){var d=this,e=d.dom,g=e.style,h,j,k;a=a||"t";b=b||{};d.animate({duration:b.duration?2*Math.max(b.duration,500):1E3,listeners:{beforeanimate:function(){var l,m,n=this,p=b.listeners,q=Ext.fly(e,"_anim"),r,s,t;c||q.fixDisplay();r=q.getBox();if(("t"==a||"b"==a)&&0===r.height)r.height=
e.scrollHeight;else if(("l"==a||"r"==a)&&0===r.width)r.width=e.scrollWidth;s=q.getStyle("width height left right top bottom position z-index".split(" "),!0);q.setSize(r.width,r.height);b.preserveScroll&&(j=q.cacheScrollValues());t=q.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+q.dom.id,style:{visibility:c?"visible":"hidden"}});k=t.dom.parentNode;t.setPositioning(q.getPositioning(!0));t.isStyle("position","static")&&t.position("relative");q.clearPositioning("auto");t.clip();j&&j();q.setStyle({visibility:"",
position:"absolute"});c&&t.setSize(r.width,r.height);switch(a){case "t":l={width:r.width+"px",height:"0px"};m={width:r.width+"px",height:r.height+"px"};g.bottom="0px";break;case "l":l={width:"0px",height:r.height+"px"};m={width:r.width+"px",height:r.height+"px"};d.anchorAnimX(a);break;case "r":l={x:r.x+r.width,width:"0px",height:r.height+"px"};m={x:r.x,width:r.width+"px",height:r.height+"px"};d.anchorAnimX(a);break;case "b":l={y:r.y+r.height,width:r.width+"px",height:"0px"};m={y:r.y,width:r.width+
"px",height:r.height+"px"};break;case "tl":l={x:r.x,y:r.y,width:"0px",height:"0px"};m={width:r.width+"px",height:r.height+"px"};g.bottom="0px";d.anchorAnimX("l");break;case "bl":l={y:r.y+r.height,width:"0px",height:"0px"};m={y:r.y,width:r.width+"px",height:r.height+"px"};d.anchorAnimX("l");break;case "br":l={x:r.x+r.width,y:r.y+r.height,width:"0px",height:"0px"};m={x:r.x,y:r.y,width:r.width+"px",height:r.height+"px"};d.anchorAnimX("r");break;case "tr":l={x:r.x+r.width,width:"0px",height:"0px"},m=
{x:r.x,width:r.width+"px",height:r.height+"px"},g.bottom="0px",d.anchorAnimX("r")}t.show();h=Ext.apply({},b);delete h.listeners;h=new Ext.fx.Anim(Ext.applyIf(h,{target:t,duration:500,easing:"ease-out",from:c?m:l,to:c?l:m}));h.on("afteranimate",function(){var a=Ext.fly(e,"_anim");a.setStyle(s);c&&(b.useDisplay?a.setDisplayed(!1):a.hide());t.dom&&(t.dom.parentNode?t.dom.parentNode.insertBefore(a.dom,t.dom):k.appendChild(a.dom),t.destroy());j&&j();n.end()});if(p)h.on(p)}}});return d},slideOut:function(a,
b){return this.slideIn(a,b,!0)},swallowEvent:function(a,b){var c,d,e=function(a){a.stopPropagation();b&&a.preventDefault()};if(Ext.isArray(a)){d=a.length;for(c=0;c<d;c++)this.on(a[c],e);return this}this.on(a,e);return this},switchOff:function(a){var b=this.dom;a=Ext.applyIf(a||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1});this.animate({duration:2*Math.max(a.duration,500),listeners:{beforeanimate:{fn:function(){var c=Ext.fly(b,"_anim"),d=this,e=c.getSize(),g=c.getXY(),h;c.clearOpacity();
c.clip();h=c.getPositioning();(new Ext.fx.Animator({target:b,duration:a.duration,easing:a.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:g[1]+e.height/2},100:{width:1,x:g[0]+e.width/2}}})).on("afteranimate",function(){var c=Ext.fly(b,"_anim");a.useDisplay?c.setDisplayed(!1):c.hide();c.clearOpacity();c.setPositioning(h);c.setSize(e);d.end()})}}},callback:a.callback,scope:a.scope});return this},syncContent:function(a){a=Ext.getDom(a);var b=a.childNodes,c=b.length,d=this.dom,e=d.childNodes,g=e.length,
h,j,k,l;if(Ext.isIE9m&&d.mergeAttributes)d.mergeAttributes(a,!0),d.src=a.src;else{j=a.attributes;k=j.length;for(h=0;h<k;h++)l=j[h].name,"id"!==l&&d.setAttribute(l,j[h].value)}if(c!==g)d.innerHTML=a.innerHTML;else for(h=0;h<c;h++){j=b[h];g=e[h];k=j.nodeType;if(k!==g.nodeType||1===k&&j.tagName!==g.tagName){d.innerHTML=a.innerHTML;break}3===k?g.data=j.data:(j.id&&g.id!==j.id&&(g.id=j.id),g.style.cssText=j.style.cssText,g.className=j.className,Ext.fly(g,"_syncContent").syncContent(j))}},toggle:function(a){this.setVisible(!this.isVisible(),
this.anim(a));return this},unmask:function(){var a=this.getData(),b=a.maskEl,d=a.maskMsg,e;b&&(e=b.dom.style,e.clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),b&&(b.destroy(),delete a.maskEl),d&&(d.destroy(),delete a.maskMsg),this.removeCls([s,t]));this.restoreChildrenTabbableState();this.dom!==c.body&&this.restoreTabbableState()},unclip:function(){var a=this.getData();a.isClipped&&(a.isClipped=!1,a=a.originalClip,a.o&&this.setStyle("overflow",a.o),a.x&&this.setStyle("overflow-x",
a.x),a.y&&this.setStyle("overflow-y",a.y));return this},translate:function(a,b,c){Ext.supports.CssTransforms&&!Ext.isIE9m?this.callParent(arguments):(null!=a&&(this.dom.style.left=a+"px"),null!=b&&(this.dom.style.top=b+"px"),this.dom.style.position="absolute")},unselectable:function(){Ext.isOpera&&(this.dom.unselectable="on");this.removeCls(a.selectableCls);this.addCls(a.unselectableCls);return this},privates:{isTabbable:function(){var a=this.dom,b=a.nodeName,c=a.isContentEditable,d,e;if(a.hasAttribute("disabled")&&
(Ext.isIE8||!c)||!this.isVisible(!0))return!1;e=(d=a.hasAttribute("tabindex"))&&a.getAttribute("tabindex")-0;return"A"===b?a.href?d&&0>e?!1:!0:c?!d||d&&0<=e?!0:!1:d&&0<=e?!0:!1:c||g.test(b)||Ext.isIE8&&"OBJECT"===b?d&&0>e?!1:!0:d&&0<=e?!0:!1},selectTabbableElements:function(a,b,c,d){var e,g,h,j,k;a=void 0!=a?a:!0;b=this.dom.querySelectorAll(b||"a[href],button,iframe,input,select,textarea,[tabindex]");e=b.length;if(!e)return b;d?(d=e-1,j=0,k=-1):(d=0,j=e-1,k=1);for(e=[];!(0<k&&d>j||0>k&&d<j)&&!(g=
b[d],h=a?Ext.fly(g):Ext.get(g),h.isTabbable()&&e.push(a?g:h),e.length>=c);d+=k);return e},selectFirstTabbableElement:function(a,b){return this.selectTabbableElements(a,b,1,!1)[0]},selectLastTabbableElement:function(a,b){return this.selectTabbableElements(a,b,1,!0)[0]},saveTabbableState:function(a){var b=this.dom;if(!b.hasAttribute("data-tabindexsaved"))return a=a||"data-savedtabindex",b.hasAttribute("tabindex")?b.setAttribute(a,b.getAttribute("tabindex")):b.setAttribute(a,"none"),b.setAttribute("tabindex",
-1),b.setAttribute("data-tabindexsaved",!0),this},restoreTabbableState:function(a){var b=this.dom,c;a=a||"data-savedtabindex";if(b.hasAttribute("data-tabindexsaved")&&b.hasAttribute(a))return c=b.getAttribute(a),"none"===c?b.removeAttribute("tabindex"):b.setAttribute("tabindex",c),b.removeAttribute(a),b.removeAttribute("data-tabindexsaved"),this},saveChildrenTabbableState:function(a){var b,c,d,e;if(this.dom){b=this.selectTabbableElements();d=0;for(e=b.length;d<e;d++)c=Ext.fly(b[d]),c.saveTabbableState(a)}return this},
restoreChildrenTabbableState:function(a){var b,c,d,e;a=a||"data-savedtabindex";b=this.dom.querySelectorAll("["+a+"]");d=0;for(e=b.length;d<e;d++)c=Ext.fly(b[d]),c.restoreTabbableState(a);return this}},deprecated:{"4.0":{methods:{pause:function(a){Ext.fx.Manager.setFxDefaults(this.id,{delay:a});return this},scale:function(a,b,c){this.animate(Ext.apply({},c,{width:a,height:b}));return this},shift:function(a){this.animate(a);return this}}},"4.2":{methods:{moveTo:function(a,b,c){return this.setXY([a,
b],c)},setBounds:function(a,b,c,d,e){return this.setBox({x:a,y:b,width:c,height:d},e)},setLeftTop:function(b,c){var d=this.dom.style;d.left=a.addUnits(b);d.top=a.addUnits(c);return this},setLocation:function(a,b,c){return this.setXY([a,b],c)}}},"5.0":{methods:{getAttributeNS:function(a,b){return this.getAttribute(b,a)},getCenterXY:function(){return this.getAlignToXY(c,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle("height"))||
0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle("width"))||0},getStyleSize:function(){var b=this.dom,d,e;if(b===c||b===c.body)return{width:a.getViewportWidth(),height:a.getViewportHeight()};b=this.getStyle(["height","width"],!0);b.width&&"auto"!==b.width&&(d=parseFloat(b.width));b.height&&"auto"!==b.height&&(e=parseFloat(b.height));return{width:d||this.getWidth(!0),height:e||this.getHeight(!0)}},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display",
"none")},focusable:"isFocusable"}}}}}(),function(){var a=Ext.dom.Element,b=a.prototype,c=!Ext.isIE8,d=document,e=d.defaultView,g=/alpha\(opacity=(.*)\)/i,h=/^\s+|\s+$/g,j=b.styleHooks,k=Ext.supports,l=0,m,n,p,q,r,s;b._init(a);delete b._init;if(Ext.os.is.iOS||Ext.os.is.Android)l=2;else if(navigator.msMaxTouchPoints||Ext.isWebKit&&k.TouchEvents&&Ext.os.is.Desktop)l=1;Ext.apply(k,{touchScroll:l});Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain";Ext.plainListCls=Ext.baseCSSPrefix+"list-plain";Ext.CompositeElementLite&&
Ext.CompositeElementLite.importElementMethods();j.opacity={name:"opacity",afterSet:function(a,b,c){if(c.isLayer)c.onOpacitySet(b)}};!k.Opacity&&Ext.isIE&&Ext.apply(j.opacity,{get:function(a){a=a.style.filter;if(a.match&&(a=a.match(g)))if(a=parseFloat(a[1]),!isNaN(a))return a?a/100:0;return 1},set:function(a,b){var c=a.style,d=c.filter.replace(g,"").replace(h,"");c.zoom=1;c.filter="number"===typeof b&&0<=b&&1>b?d+(d.length?" ":"")+"alpha(opacity\x3d"+100*b+")":d}});if(!k.matchesSelector){var t=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,
u=/\-/g,v,w={};b.matcherCache=w;b.is=function(a){if(!a)return!0;var b=this.dom,c,e;if(1!==b.nodeType)return!1;if(!(c=Ext.isFunction(a)?a:w[a])){if(!(c=a.match(t)))return c=b.parentNode,c||(e=!0,c=v||(v=d.createDocumentFragment()),v.appendChild(b)),a=-1!==Ext.Array.indexOf(Ext.fly(c,"_is").query(a),b),e&&v.removeChild(b),a;e=c[1];if(c=c[2]){var g=e,h=RegExp("(?:^|\\s+)"+c.replace(u,"\\-")+"(?:\\s+|$)");g&&"*"!==g?(g=g.toUpperCase(),e=function(a){return a.tagName===g&&h.test(a.className)}):e=function(a){return h.test(a.className)}}else{var j=
e,j=j.toUpperCase();e=function(a){return a.tagName===j}}w[a]=c=e}return c(b)}}if(!e||!e.getComputedStyle)b.getStyle=function(b,c){var d=this.dom,e="string"!==typeof b,g=b,h=g,j=1,k=c,l=this.styleHooks,m,n,p,q;if(e&&(n={},g=h[0],q=0,!(j=h.length)))return n;if(!d||d.documentElement)return n||"";m=d.style;c?p=m:(p=d.currentStyle,p||(k=!0,p=m));do{(m=l[g])||(l[g]=m={name:a.normalize(g)});m.get?m=m.get(d,this,k,p):(m=m.name,m=p[m]);if(!e)return m;n[g]=m;g=h[++q]}while(q<j);return n};if(Ext.isIE8)for(var x=
function(a,b,c,d){return"none"===d[this.styleName]?"0px":d[this.name]},e=["Top","Right","Bottom","Left"],l=e.length;l--;)r=e[l],s="border"+r+"Width",j["border-"+r.toLowerCase()+"-width"]=j[s]={name:s,styleName:"border"+r+"Style",get:x};Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,getDetachedBody:function(){var a=Ext.detachedBodyEl;a||(a=d.createElement("div"),Ext.detachedBodyEl=a=new Ext.dom.Fly(a),a.isDetachedBody=!0);return a},getElementById:function(a){var b=d.getElementById(a),c;if(!b&&
(c=Ext.detachedBodyEl))b=c.dom.querySelector(Ext.makeIdSelector(a));return b},addBehaviors:function(a){if(Ext.isReady){var b={},c,d,e;for(d in a)if((c=d.split("@"))[1])e=c[0],b[e]||(b[e]=Ext.fly(document).select(e,!0)),b[e].on(c[1],a[d]);b=null}else Ext.onReady(function(){Ext.addBehaviors(a)})}});Ext.isIE8&&(m=Ext.removeNode,Ext.removeNode=function(a){m(a);n=n||d.createElement("div");n.appendChild(a);n.innerHTML=""});Ext.isIE9m?(Ext.getElementById=function(a){var b=d.getElementById(a),c;if(!b&&(c=
Ext.detachedBodyEl))b=c.dom.all[a];return b},b.getById=function(a,b){var e=this.dom,g=null,h;if(e&&(h=c&&d.getElementById(a)||e.all[a]))if(b)g=h;else{if(e=Ext.cache[a])e.skipGarbageCollection||!Ext.isGarbage(e.dom)?g=e:(Ext.Error.raise("Stale Element with id '"+h.id+"' found in Element cache. Make sure to clean up Element instances using destroy()"),e.destroy());g=g||new Ext.Element(h)}return g}):d.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(a){return d.getElementById(a)},
b.getById=function(a,b){var c=d.getElementById(a);return b?c:c?Ext.get(c):null});Ext.isIE&&!(Ext.isIE9p&&9<=d.documentMode)&&(b.getAttribute=function(a,b){var c=this.dom,d;if(b)return d=typeof c[b+":"+a],"undefined"!=d&&"unknown"!=d?c[b+":"+a]||null:null;"for"===a&&(a="htmlFor");return c[a]||null});Ext.onReady(function(){function c(a,b,d,e){a=e[this.name]||"";return h.test(a)?"transparent":a}function e(a,b,c,d){b=d.marginRight;var g,h;"0px"!==b&&(g=a.style,h=g.display,g.display="inline-block",b=(c?
d:a.ownerDocument.defaultView.getComputedStyle(a,null)).marginRight,g.display=h);return b}function g(b,c,d,e){var h=e.marginRight,j,l;if("0px"!==h){c=b.style;a:{h=k.DisplayChangeInputSelectionBug;j=k.DisplayChangeTextAreaSelectionBug;var m,n,p;if(h||j)if(l=(m=a.getActiveElement())&&m.tagName,(j&&"TEXTAREA"===l||h&&"INPUT"===l&&"text"===m.type)&&Ext.fly(b).isAncestor(m))if(n=m.selectionStart,p=m.selectionEnd,Ext.isNumber(n)&&Ext.isNumber(p)){j=function(){m.selectionStart=n;m.selectionEnd=p};break a}j=
Ext.emptyFn}l=c.display;c.display="inline-block";h=(d?e:b.ownerDocument.defaultView.getComputedStyle(b,"")).marginRight;c.display=l;j()}return h}var h=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,l=[],m=b.setWidth,n=b.setHeight,r=b.setSize,s=/^\d+(?:\.\d*)?px$/i,t,u,v,w;k.FixedTableWidthBug&&(j.width={name:"width",set:function(a,b,c){var d=a.style;c=c._needsTableWidthFix;var e=d.display;c&&(d.display="none");d.width=b;c&&(a.scrollWidth,d.display=e)}},b.setWidth=function(a,b){var c=
this.dom,d=c.style,e=this._needsTableWidthFix,g=d.display;e&&!b&&(d.display="none");m.call(this,a,b);e&&!b&&(c.scrollWidth,d.display=g);return this},b.setSize=function(a,b,c){var d=this.dom,e=d.style,g=this._needsTableWidthFix,h=e.display;g&&!c&&(e.display="none");r.call(this,a,b,c);g&&!c&&(d.scrollWidth,e.display=h);return this});Ext.isIE8&&(j.height={name:"height",set:function(a,b,c){var d=c.component;if(d&&d._syncFrameHeight&&this===d.el)if(c=d.frameBody.dom.style,s.test(b)){if(d=d.getFrameInfo())c.height=
parseInt(b,10)-d.height+"px"}else if(!b||"auto"===b)c.height="";a.style.height=b}},b.setHeight=function(a,b){var c=this.component,d;if(c&&c._syncFrameHeight&&this===c.el)if(d=c.frameBody.dom.style,!a||"auto"===a)d.height="";else if(c=c.getFrameInfo())d.height=a-c.height+"px";return n.call(this,a,b)},b.setSize=function(a,b,c){var d=this.component,e;if(d&&d._syncFrameHeight&&this===d.el)if(e=d.frameBody.dom.style,!b||"auto"===b)e.height="";else if(d=d.getFrameInfo())e.height=b-d.height+"px";return r.call(this,
a,b,c)});Ext.getDoc().on("selectstart",function(b,c){var e=a.selectableCls,g=a.unselectableCls,h=c&&c.tagName,h=h&&h.toLowerCase();if(!("input"===h||"textarea"===h))for(;c&&1===c.nodeType&&c!==d.documentElement;){h=Ext.fly(c);if(h.hasCls(e))break;if(h.hasCls(g)){b.stopEvent();break}c=c.parentNode}});k.RightMargin||(j.marginRight=j["margin-right"]={name:"marginRight",get:k.DisplayChangeInputSelectionBug||k.DisplayChangeTextAreaSelectionBug?g:e});if(!k.TransparentColor){t=["background-color","border-color",
"color","outline-color"];for(u=t.length;u--;)v=t[u],w=a.normalize(v),j[v]=j[w]={name:w,get:c}}b.verticalStyleHooks90=p=Ext.Object.chain(j);b.verticalStyleHooks270=q=Ext.Object.chain(j);p.width=j.height||{name:"height"};p.height=j.width||{name:"width"};p["margin-top"]={name:"marginLeft"};p["margin-right"]={name:"marginTop"};p["margin-bottom"]={name:"marginRight"};p["margin-left"]={name:"marginBottom"};p["padding-top"]={name:"paddingLeft"};p["padding-right"]={name:"paddingTop"};p["padding-bottom"]=
{name:"paddingRight"};p["padding-left"]={name:"paddingBottom"};p["border-top"]={name:"borderLeft"};p["border-right"]={name:"borderTop"};p["border-bottom"]={name:"borderRight"};p["border-left"]={name:"borderBottom"};q.width=j.height||{name:"height"};q.height=j.width||{name:"width"};q["margin-top"]={name:"marginRight"};q["margin-right"]={name:"marginBottom"};q["margin-bottom"]={name:"marginLeft"};q["margin-left"]={name:"marginTop"};q["padding-top"]={name:"paddingRight"};q["padding-right"]={name:"paddingBottom"};
q["padding-bottom"]={name:"paddingLeft"};q["padding-left"]={name:"paddingTop"};q["border-top"]={name:"borderRight"};q["border-right"]={name:"borderBottom"};q["border-bottom"]={name:"borderLeft"};q["border-left"]={name:"borderTop"};Ext.scopeCss||l.push(Ext.baseCSSPrefix+"body");k.Touch&&l.push(Ext.baseCSSPrefix+"touch");Ext.isIE&&Ext.isIE9m&&(l.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m"),l.push(Ext.baseCSSPrefix+"ie8p"),Ext.isIE8?l.push(Ext.baseCSSPrefix+"ie8"):l.push(Ext.baseCSSPrefix+"ie9",
Ext.baseCSSPrefix+"ie9p"),Ext.isIE8m&&l.push(Ext.baseCSSPrefix+"ie8m"));Ext.isIE10&&l.push(Ext.baseCSSPrefix+"ie10");Ext.isIE11&&l.push(Ext.baseCSSPrefix+"ie11");Ext.isGecko&&l.push(Ext.baseCSSPrefix+"gecko");Ext.isOpera&&l.push(Ext.baseCSSPrefix+"opera");Ext.isOpera12m&&l.push(Ext.baseCSSPrefix+"opera12m");Ext.isWebKit&&l.push(Ext.baseCSSPrefix+"webkit");Ext.isSafari&&l.push(Ext.baseCSSPrefix+"safari");Ext.isChrome&&l.push(Ext.baseCSSPrefix+"chrome");Ext.isMac&&l.push(Ext.baseCSSPrefix+"mac");Ext.isLinux&&
l.push(Ext.baseCSSPrefix+"linux");k.CSS3BorderRadius||l.push(Ext.baseCSSPrefix+"nbr");k.CSS3LinearGradient||l.push(Ext.baseCSSPrefix+"nlg");k.Touch&&l.push(Ext.baseCSSPrefix+"touch");Ext.getBody().addCls(l)},null,{priority:1500})});
Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent();Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(a){this.fireEvent("mousedown",a)},deprecated:{5:{methods:{addListener:function(a,b,c,d){var e,g;if("ready"===a)g=b;else if("string"!==typeof a)for(e in a)"ready"===e&&(g=a[e]);g&&(Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead."),Ext.onReady(g));this.callParent([a,b,c,d])}}}}});
Ext.USE_NATIVE_JSON=!1;
Ext.JSON=new function(){var a=this,b=window.JSON&&"[object JSON]"==JSON.toString(),c=!!{}.hasOwnProperty,d=function(a){return 10>a?"0"+a:a},e=function(a){return eval("("+a+")")},g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0B":"\\u000b"},h=/[\\\"\x00-\x1f\x7f-\uffff]/g;a.encodeString=function(a){return'"'+a.replace(h,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'};a.encodeValue=function(b,d){if(null===
b||void 0===b)return"null";if(Ext.isDate(b))return a.encodeDate(b);if(Ext.isString(b))return Ext.isMSDate(b)?a.encodeMSDate(b):a.encodeString(b);if("number"==typeof b)return isFinite(b)?String(b):"null";if(Ext.isBoolean(b))return String(b);if(b.toJSON)return b.toJSON();if(Ext.isArray(b)){var e;if(d){e=b.length;var g=d+"   ",h=","+g,p=["[",g],q;for(q=0;q<e;q+=1)p.push(a.encodeValue(b[q],g),h);p[p.length-1]=d+"]";e=p.join("")}else{e=["[",""];g=b.length;for(h=0;h<g;h+=1)e.push(a.encodeValue(b[h]),",");
e[e.length-1]="]";e=e.join("")}return e}if(Ext.isObject(b)){if(d){g=d+"   ";h=","+g;p=["{",g];for(e in b)if(q=b[e],!c||b.hasOwnProperty(e))"function"===typeof q||void 0===q||p.push(a.encodeValue(e)+": "+a.encodeValue(q,g),h);p[p.length-1]=d+"}";e=p.join("")}else{e=["{",""];for(g in b)if(h=b[g],!c||b.hasOwnProperty(g))"function"===typeof h||void 0===h||e.push(a.encodeValue(g),":",a.encodeValue(h),",");e[e.length-1]="}";e=e.join("")}return e}return"function"===typeof b?"null":"undefined"};a.encodeDate=
function(a){return'"'+a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+"T"+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())+'"'};a.encode=function(c){return b&&Ext.USE_NATIVE_JSON?JSON.stringify(c):a.encodeValue(c)};a.decode=function(a,c){try{return b&&Ext.USE_NATIVE_JSON?JSON.parse(a):e(a)}catch(d){if(c)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+a})}};a.encodeMSDate=function(a){return'"'+a+'"'};
Ext.util||(Ext.util={});Ext.util.JSON=a;Ext.encode=a.encode;Ext.decode=a.decode};
Ext.define("Ext.TaskQueue",{singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(a,b,c){this.request(!0);this.readQueue.push(arguments)},requestWrite:function(a,b,c){this.request(!1);this.writeQueue.push(arguments)},request:function(a){this.pending||(this.pendingTime=Date.now(),this.pending=!0,(this.mode=a)?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},
watch:function(){this.pending&&500<=Date.now()-this.pendingTime&&this.run()},run:function(){this.pending=!1;var a=this.readQueue,b=this.writeQueue,c=null,d;this.mode?(d=a,0<b.length&&(c=!1)):(d=b,0<a.length&&(c=!0));var a=d.slice(),e,g,h;d=d.length=0;for(b=a.length;d<b;d++)e=a[d],g=e[0],h=e[1],"string"==typeof g&&(g=h[g]),2<e.length?g.apply(h,e[2]):g.call(h);a.length=0;null!==c&&this.request(c)}});
Ext.define("Ext.util.Format",function(){var a,b={};return{singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},undef:function(a){return void 0!==a?
a:""},defaultValue:function(a,b){return void 0!==a&&""!==a?a:b},substr:"b"!="ab".substr(-1)?function(a,b,e){a=String(a);return 0>b?a.substr(Math.max(a.length+b,0),e):a.substr(b,e)}:function(a,b,e){return String(a).substr(b,e)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(b,d,e,g){var h="",j=",0",k=0;b-=0;0>b&&(b=-b,h="-");e=Ext.isDefined(e)?e:a.currencyPrecision;for(j+=
0<e?".":"";k<e;k++)j+="0";b=a.number(b,j);return!0===(g||a.currencyAtEnd)?Ext.String.format("{0}{1}{2}",h,b,d||a.currencySign):Ext.String.format("{0}{1}{2}",h,d||a.currencySign,b)},date:function(a,b){if(!a)return"";Ext.isDate(a)||(a=new Date(Date.parse(a)));return Ext.Date.dateFormat(a,b||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(d){return a.date(d,b)}},hex:function(a,b){var e=parseInt(a||0,10).toString(16);if(b){0>b&&(b=-b,e.length>b&&(e=e.substring(e.length-b)));for(;e.length<
b;)e="0"+e}return e},or:function(a,b){return a||b},pick:function(a,b,e){if(Ext.isNumber(a)){var g=arguments[a+1];if(g)return g}return a?e:b},stripTags:function(b){return!b?b:String(b).replace(a.stripTagsRe,"")},stripScripts:function(b){return!b?b:String(b).replace(a.stripScriptsRe,"")},fileSize:function(a){return 1024>a?1===a?"1 byte":a+" bytes":1048576>a?Math.round(10*a/1024)/10+" KB":1073741824>a?Math.round(10*a/1048576)/10+" MB":Math.round(10*a/1073741824)/10+" GB"},math:function(a,d){b[d]||(b[d]=
Ext.functionFactory("v","return v "+d+";"));return b[d](a)},round:function(a,b){var e=Number(a);"number"===typeof b?(b=Math.pow(10,b),e=Math.round(a*b)/b):void 0===b&&(e=Math.round(e));return e},number:function(b,d){if(!d)return b;if(isNaN(b))return"";var e=a.formatFns[d];if(!e){var e=d,g=a.thousandSeparator,h=a.decimalSeparator,j=0,k="",l,m;if("/i"===d.substr(d.length-2)){if(!a.I18NFormatCleanRe||a.lastDecimalSeparator!==h)a.I18NFormatCleanRe=RegExp("[^\\d\\"+h+"]","g"),a.lastDecimalSeparator=h;
d=d.substr(0,d.length-2);g=-1!==d.indexOf(g);l=d.replace(a.I18NFormatCleanRe,"").split(h)}else g=-1!==d.indexOf(","),l=d.replace(a.formatCleanRe,"").split(".");h=d.replace(a.formatPattern,"");if(2<l.length)Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:b,formatString:d,msg:"Invalid number format, should have no more than 1 decimal"});else if(2===l.length&&(j=l[1].length,m=l[1].match(a.hashRe)))k=m[0].length,k='trailingZeroes\x3dnew RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+
k+'}$")';k=["var utilFormat\x3dExt.util.Format,extNumber\x3dExt.Number,neg,absVal,fnum,parts"+(g?",thousandSeparator,thousands\x3d[],j,n,i":"")+(h?',formatString\x3d"'+d+'",formatPattern\x3d/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!\x3d\x3d"number"\x26\x26isNaN(v\x3dextNumber.from(v,NaN)))return"";neg\x3dv\x3c0;',"absVal\x3dMath.abs(v);","fnum\x3dExt.Number.toFixed(absVal, "+j+");",k,";"];g?(j&&(k[k.length]='parts\x3dfnum.split(".");',k[k.length]="fnum\x3dparts[0];"),k[k.length]=
"if(absVal\x3e\x3d1000) {",k[k.length]="thousandSeparator\x3dutilFormat.thousandSeparator;thousands.length\x3d0;j\x3dfnum.length;n\x3dfnum.length%3||3;for(i\x3d0;i\x3cj;i+\x3dn){if(i!\x3d\x3d0){n\x3d3;}thousands[thousands.length]\x3dfnum.substr(i,n);}fnum\x3dthousands.join(thousandSeparator);}",j&&(k[k.length]="fnum +\x3d utilFormat.decimalSeparator+parts[1];")):j&&(k[k.length]='if(utilFormat.decimalSeparator!\x3d\x3d"."){parts\x3dfnum.split(".");fnum\x3dparts[0]+utilFormat.decimalSeparator+parts[1];}');
m&&(k[k.length]='fnum\x3dfnum.replace(trailingZeroes,"");');k[k.length]='if(neg\x26\x26fnum!\x3d\x3d"'+(j?"0."+Ext.String.repeat("0",j):"0")+'")fnum\x3d"-"+fnum;';k[k.length]="return ";k[k.length]=h?"formatString.replace(formatPattern, fnum);":"fnum;";k[k.length]="};";e=a.formatFns[e]=Ext.functionFactory("Ext",k.join(""))(Ext)}return e(b)},numberRenderer:function(b){return function(d){return a.number(d,b)}},percent:function(b,d){return a.number(100*b,d||"0")+a.percentSign},attributes:function(a){if("object"===
typeof a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e,'\x3d"',"style"===e?Ext.DomHelper.generateStyles(a[e],null,!0):Ext.htmlEncode(a[e]),'" ');a=b.join("")}return a||""},plural:function(a,b,e){return a+" "+(1===a?b:e?e:b+"s")},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(a.nl2brRe,"\x3cbr/\x3e")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,
htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(a){a=a||0;if("number"===typeof a)return{top:a,right:a,bottom:a,left:a};a=a.split(" ");var b=a.length;1===b?a[1]=a[2]=a[3]=a[0]:2===b?(a[2]=a[0],a[3]=a[1]):3===b&&(a[3]=a[1]);return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0}}}});
Ext.define("Ext.Template",{inheritableStatics:{from:function(a,b){a=Ext.getDom(a);return new this(a.value||a.innerHTML,b||"")}},useEval:Ext.isGecko,constructor:function(a){var b=arguments,c=[],d,e=b.length,g;this.initialConfig={};1===e&&Ext.isArray(a)&&(b=a,e=b.length);if(1<e)for(d=0;d<e;d++)g=b[d],"object"==typeof g?(Ext.apply(this.initialConfig,g),Ext.apply(this,g)):c.push(g);else c.push(a);this.html=c.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,
apply:function(a){return this.compiled?(this.fn||this.compile(),this.fn(a).join("")):this.evaluate(a)},evaluate:function(a){var b=!this.disableFormats,c=Ext.util.Format,d=this;return this.html.replace(this.tokenRe,function(e,g,h,j,k){if(null==h||""==h)h=g;return j&&b?(k=k?[a[h]].concat(Ext.functionFactory("return ["+k+"];")()):[a[h]],"this."===j.substr(0,5)?d[j.substr(5)].apply(d,k):c[j]?c[j].apply(c,k):e):void 0!==a[h]?a[h]:""})},applyOut:function(a,b){this.compiled?(this.fn||this.compile(),b.push.apply(b,
this.fn(a))):b.push(this.apply(a));return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,b){this.html=a;this.compiled=!!b;this.fn=null;return this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var a;a=this.html.replace(this.compileARe,"\\\\").replace(this.compileBRe,"\\n").replace(this.compileCRe,"\\'").replace(this.tokenRe,this.regexReplaceFn.bind(this));a=(!0!==this.disableFormats?"var fm\x3dExt.util.Format;":"")+(this.useEval?
"$\x3d":"return")+" function(v){return ['"+a+"'];};";this.fn=this.useEval?this.evalCompiled(a):(new Function("Ext",a))(Ext);this.compiled=!0;return this},evalCompiled:function(a){eval(a);return a},regexReplaceFn:function(a,b,c,d,e){null==b||""==b?b='"'+c+'"':this.stringFormat&&(b=parseInt(b)+1);if(d&&!0!==this.disableFormats){e=e?","+e:"";if("this."===d.substr(0,5))d+="(";else if(Ext.util.Format[d])d="fm."+d+"(";else return a;return"',"+d+"v["+b+"]"+e+"),'"}return"',v["+b+"] \x3d\x3d undefined ? '' : v["+
b+"],'"},insertFirst:function(a,b,c){return this.doInsert("afterBegin",a,b,c)},insertBefore:function(a,b,c){return this.doInsert("beforeBegin",a,b,c)},insertAfter:function(a,b,c){return this.doInsert("afterEnd",a,b,c)},append:function(a,b,c){return this.doInsert("beforeEnd",a,b,c)},doInsert:function(a,b,c,d){a=Ext.DomHelper.insertHtml(a,Ext.getDom(b),this.apply(c));return d?Ext.get(a):a},overwrite:function(a,b,c){a=Ext.DomHelper.overwrite(Ext.getDom(a),this.apply(b));return c?Ext.get(a):a}},function(a){var b=
/\{\d+\}/,c={useFormat:!1,compiled:!0,stringFormat:!0},d={};Ext.String.format=Ext.util.Format.format=function(e){var g;if(!(g=d[e])){g=e;var h;var j=e;b.test(j)?(j=new a(j,c),h=function(){return j.apply(arguments)}):h=function(){return j};g=d[g]=h}return g.apply(this,arguments)}});
Ext.define("Ext.mixin.Inheritable",{extend:Ext.Mixin,mixinConfig:{id:"inheritable"},getInherited:function(a){var b=a&&this.inheritedStateInner||this.inheritedState,c=this.ownerCt||this.initOwnerCt,d=this.isContainer,e,g;if(!b||b.invalid)b=this.getRefOwner(),c&&(g=this.ownerLayout===c.layout),this.inheritedState=b=Ext.Object.chain(b?b.getInherited(g):Ext.rootInheritedState),d&&(this.inheritedStateInner=e=Ext.Object.chain(b)),this.initInheritedState(b,e),b=d&&a?this.inheritedStateInner:this.inheritedState;
return b},getInheritedConfig:function(a,b){var c=this.inheritedState,d,e;if(!c||c.invalid)c=this.getInherited();e=c[a];b&&c.hasOwnProperty(a)&&(d=e,delete c[a],e=c[a],c[a]=d);return e},fixReference:function(){var a;this.reference&&(a=this.lookupReferenceHolder())&&a.attachReference(this)},resolveListenerScope:function(a){var b=Ext._namedScopes[a],c;b?b.isController?c=this.getInheritedConfig("controller",!b.isSelf):b.isSelf?c=this.getInheritedConfig("defaultListenerScope")||this:b.isThis&&(c=this):
c=this.getInheritedConfig("defaultListenerScope",!0)||a||this;return c||null},lookupReferenceHolder:function(a){return this.getInheritedConfig("referenceHolder",!1!==a)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var a=this.inheritedState;a&&(a.invalid=!0,delete this.inheritedState)}},function(){Ext.rootInheritedState={}});
Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(a,b){return this.mergeSets(a,b)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(a){var b=this.getReference(),c=this.getController(),
d=this.getConfig("viewModel",!0),e=this.getConfig("session",!0),g=this.getDefaultListenerScope();c&&(a.controller=c);g?a.defaultListenerScope=this:c&&(a.defaultListenerScope=c);d&&(d.isViewModel||(d=this),a.viewModel=d);e&&(e.isSession||(e=this),a.session=e);b&&(this.referenceKey=(a.referencePath||"")+b,this.viewModelKey=(a.viewModelPath||"")+b)},lookupController:function(a){return this.getInheritedConfig("controller",a)||null},lookupSession:function(a){var b=a?null:this.getSession();if(!b&&(b=this.getInheritedConfig("session",
a))&&!b.isSession)b=b.getInherited().session=b.getSession();return b||null},lookupViewModel:function(a){var b=a?null:this.getViewModel();if(!b&&(b=this.getInheritedConfig("viewModel",a))&&!b.isViewModel)b=b.getInherited().viewModel=b.getViewModel();return b||null},publishState:function(a,b){var c=this.viewModelKey,d=this.publishedState,e=this.getBind(),g=e&&a&&e[a],e=0,h,j;g&&(!g.syncing&&!g.isReadOnly())&&g.setValue(b);if(c&&(j=this.getPublishes()))if(g=this.lookupViewModel()){if(a&&d){if(!j[a]||
!(b&&b.constructor===Object)&&!(b instanceof Array)&&d[a]===b)return;c=c+"."+a}else{d=d||(this.publishedState={});for(h in j)++e,d[h]=h===a?b:this[h];if(!e)return;b=d}g.set(c,b)}},privates:{addBindableUpdater:function(a){a=this.self.$config.configs[a];var b;if(a&&!this.hasOwnProperty(b=a.names.update))this[b]=a.bindableUpdater||(a.root.bindableUpdater=this.makeBindableUpdater(a))},applyBind:function(a,b){var c=this.lookupViewModel(),d=this.getTwoWayBindable(),e=this._getBindTemplateScope,g,h,j;if(!b||
"string"===typeof b)b={};c||Ext.Error.raise("Cannot use bind config without a viewModel");Ext.isString(a)&&(this.defaultBindProperty||Ext.Error.raise(this.$className+" has no defaultBindProperty - Please specify a bind object"),g=a,a={},a[this.defaultBindProperty]=g);for(h in a){j=a[h];if((g=b[h])&&"string"!==typeof g)g.destroy(),g=null;j&&(g=c.bind(j,this.onBindNotify,this),g._config=Ext.Config.get(h),g.getTemplateScope=e,this[g._config.names.set]||Ext.Error.raise("Cannot bind "+h+" on "+this.$className+
" - missing a "+g._config.names.set+" method."));b[h]=g;d&&(d[h]&&!g.isReadOnly())&&this.addBindableUpdater(h)}return b},applyController:function(a){a&&(a=Ext.Factory.controller(a),a.setView(this));return a},applyPublishes:function(a){if(this.lookupViewModel())for(var b in a)this.addBindableUpdater(b);return a},applyReference:function(a){var b=this.validRefRe||Ext.validIdRe;a&&!b.test(a)&&Ext.Error.raise('Invalid reference "'+a+'" for '+this.getId()+" - not a valid identifier");return a},applySession:function(a){if(!a)return null;
if(!a.isSession){var b=this.lookupSession(!0);a=!0===a?{}:a;a=b?b.spawn(a):new Ext.data.Session(a)}return a},applyViewModel:function(a){var b;if(!a||!a.isViewModel)b={parent:this.lookupViewModel(!0)},b.session=this.getSession(),b.parent||(b.session=this.lookupSession()),a&&(a.constructor===Object?Ext.apply(b,a):"string"===typeof a&&(b.type=a)),a=Ext.Factory.viewModel(b);return a},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn;
this.getBind();this.getPublishes()},makeBindableUpdater:function(a){var b=a.names.update;return function(c,d){var e=this.self.prototype[b];e&&e.call(this,c,d);this.publishState(a.name,c)}},onBindNotify:function(a,b,c){c.syncing=c.syncing+1||1;this[c._config.names.set](a);--c.syncing},removeBindings:function(){var a=this.bind,b,c;if(a&&"string"!==typeof a)for(b in a)c=a[b],c.destroy(),c._config=c.getTemplateScope=null;this.bind=null},updateSession:function(a){var b=this.getInherited();a?b.session=
a:delete b.session},updateViewModel:function(a){var b=this.getInherited(),c=this.getController();a?(b.viewModel=a,a.setView(this),c&&c.initViewModel(a)):delete b.viewModel}}});
Ext.define("Ext.Widget",{extend:Ext.Evented,xtype:"widget",mixins:[Ext.mixin.Inheritable,Ext.mixin.Bindable],isWidget:!0,element:{reference:"element"},listenerOptionsRegex:/^(?:scope|order|delegate|single|delay|buffer|args|prepend|destroyable|element)$/,observableType:"component",eventedConfig:{width:null,height:null},template:[],constructor:function(a){this.initId(a);this.initElement();this.mixins.observable.constructor.call(this,a);Ext.ComponentManager.register(this)},addElementReferenceOnDemand:function(a,
b){this._elementListeners[a]?this.addElementReference(a,b):Ext.Object.defineProperty(this,a,{get:function(){delete this[a];return this.addElementReference(a,b)},configurable:!0})},addElementReference:function(a,b){var c=this[a]=Ext.get(b),d=this._elementListeners[a],e,g;c.skipGarbageCollection=!0;c.component=this;if(d){d=Ext.clone(d);d.scope=this;for(e in d)g=d[e],"object"===typeof g&&(g.scope=this);c.on(d)}return c},afterCachedConfig:function(){var a=this.referenceList,b=this.renderElement.dom,c,
d,e;this.self.prototype.renderTemplate=c=document.createDocumentFragment();c.appendChild(b.cloneNode(!0));e=c.querySelectorAll("[id]");b=0;for(c=e.length;b<c;b++)d=e[b],d.removeAttribute("id");b=0;for(c=a.length;b<c;b++)d=a[b],this[d].dom.removeAttribute("reference")},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},destroy:function(){var a=this.referenceList,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.hasOwnProperty(d)&&(this[d].destroy(),
this[d]=null);this.callParent();Ext.ComponentManager.unregister(this)},doAddListener:function(a,b,c,d,e){return d&&"element"in d?(-1===this.referenceList.indexOf(d.element)&&Ext.Logger.error("Adding event listener with an invalid element reference of '"+d.element+"' for this component. Available values are: '"+this.referenceList.join("', '")+"'",this),this[d.element].doAddListener(a,b,c||this,d,e)):this.callParent([a,b,c,d,e])},doRemoveListener:function(a,b,c,d,e){d&&"element"in d&&(-1===this.referenceList.indexOf(d.element)&&
Ext.Logger.error("Removing event listener with an invalid element reference of '"+d.element+"' for this component. Available values are: '"+this.referenceList.join('", "')+"'",this),this[d.element].doRemoveListener(a,b,c||this,d,e));return this.callParent([a,b,c,d,e])},doSetWidth:function(a){this.element.setWidth(a)},doSetHeight:function(a){this.element.setHeight(a)},filterLengthValue:function(a){return"auto"===a||!a&&0!==a?null:a},getElementConfig:function(){var a=this.element;"children"in a||(a=
Ext.apply({children:this.getTemplate()},a));return a},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var a=this.self.prototype,b=this.getId(),c=this.referenceList=[],d=!0,e,g,h,j,k,l;a.hasOwnProperty("renderTemplate")?(e=this.renderTemplate.cloneNode(!0),a=e.firstChild):(d=!1,e=document.createDocumentFragment(),a=this.getElementConfig(),this.initElementListeners(a),a=Ext.Element.create(a,!0),e.appendChild(a));
e=e.querySelectorAll("[reference]");h=0;for(j=e.length;h<j;h++)k=e[h],l=k.getAttribute("reference"),d&&k.removeAttribute("reference"),"element"===l?(g&&Ext.Error.raise("Duplicate 'element' reference detected in '"+this.$className+"' template."),k.id=b,g=this.el=this.addElementReference(l,k)):this.addElementReferenceOnDemand(l,k),c.push(l);g||Ext.Error.raise("No 'element' reference found in '"+this.$className+"' template.");a===g.dom?this.renderElement=g:this.addElementReferenceOnDemand("renderElement",
a)},initElementListeners:function(a){var b=this._elementListeners||(this.self.prototype._elementListeners={}),c=a.reference,d=a.children,e;if(c&&(e=a.listeners))b[c]=e,a.listeners=null;if(d){b=0;for(a=d.length;b<a;b++)this.initElementListeners(d[b])}},initId:function(a){var b=this.config;(a=a&&a.id||b&&b.id)?(this.setId(a),this.id=a):this.getId()},is:function(a){return Ext.ComponentQuery.is(this,a)},isXType:function(a,b){return b?-1!==Ext.Array.indexOf(this.xtypes,a):!!this.xtypesMap[a]},resolveListenerScope:function(a){return this.mixins.inheritable.resolveListenerScope.call(this,
a)},setSize:function(a,b){void 0!==a&&this.setWidth(a);void 0!==b&&this.setHeight(b)}});
Ext.define("Ext.util.ProtoElement",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(c){var d,e;c&&(Ext.apply(this,c),d=this.cls,e=this.style,delete this.cls);this.classList=d?a(d):[];this.classMap=d?b(this.classList):{};e&&("string"===typeof e?this.style=Ext.Element.parseStyles(e):Ext.isFunction(e)?(this.styleFn=e,delete this.style):this.style=Ext.apply({},e))},flush:function(){this.flushClassList=
[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(b){if(!b)return this;b="string"===typeof b?a(b):b;for(var d=b.length,e=this.classList,g=this.classMap,h=this.flushClassList,j=0,k;j<d;++j)k=b[j],g[k]||(g[k]=!0,e.push(k),h&&(h.push(k),delete this.removedClasses[k]));return this},hasCls:function(a){return a in this.classMap},removeCls:function(c){var d=this.classList,e=this.classList=[];c=b(a(c));var g=d.length,h=this.classMap,j=this.removedClasses,k,l;for(k=
0;k<g;++k)l=d[k],c[l]?(j&&h[l]&&(j[l]=!0,Ext.Array.remove(this.flushClassList,l)),delete h[l]):e.push(l);return this},setStyle:function(a,b){var e=this.style||(this.style={});"string"==typeof a?1===arguments.length?this.setStyle(Ext.Element.parseStyles(a)):e[a]=b:Ext.apply(e,a);return this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(a){var b=this.flushClassList||this.classList,e=this.removedClasses,g;this.styleFn?
(g=Ext.apply({},this.styleFn()),Ext.apply(g,this.style)):g=this.style;a[this.clsProp]=b.join(" ");g&&(a[this.styleProp]=this.styleIsText?Ext.DomHelper.generateStyles(g,null,!0):g);e&&(e=Ext.Object.getKeys(e),e.length&&(a[this.removedProp]=e.join(" ")));this.unselectableAttr&&(a.unselectable="on");return a}}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,isLite:!1,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});
Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(a,b,c,d){b=b?Ext.Object.chain(b):{};var e;if(a instanceof Array)for(e=a.length;e--;){if(c=a[e],!d||!(c in b))"string"===typeof c?b[c]={name:c,itemId:c}:b[c.name]=c}else if(a)if(a.constructor===Object)for(e in a){if(!d||!(e in b))c=a[e],!0===c?b[e]={itemId:e}:"string"===typeof c?b[e]={itemId:c}:(b[e]=c,"itemId"in c||(c.itemId=e)),b[e].name=e}else if(!d||!(a in b))b[a]={name:a,itemId:a};
return b}}},destroy:function(){var a=this.getChildEls(),b;for(b in a)if(a=this[b])a.destroy&&a.destroy(),this[b]=null},privates:{afterClassMixedIn:function(a){var b=a.prototype,c=b.childEls;c&&(delete b.childEls,a.getConfigurator().add({childEls:c}))},attachChildEls:function(a,b){var c=this.getChildEls(),d=b||this,e=d.id+"-",g=!d.frame,h,j,k,l;for(h in c)if(j=c[h],!g||!j.frame){(k=j.select)?l=a.select(k,!0):(k=j.selectNode)?l=a.selectNode(k,!1):(k=j.id)?l=Ext.cache[k]||a.getById(k):(k=e+j.itemId,
l=Ext.cache[k]);if(l)if(l.isElement)l.component=d;else if(l.isComposite&&!l.isLite){j=l.elements;for(k=j.length;k--;)j[k].component=d}this[h]=l||null}}}});
Ext.define("Ext.util.Renderable",{mixinId:"renderable",frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:"TL TC TR ML MC MR BL BC BR Table".split(" "),frameTpl:["{%this.renderDockedItems(out,values,0);%}",'\x3ctpl if\x3d"top"\x3e','\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}TL" data-ref\x3d"frameTL" class\x3d"{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}TR" data-ref\x3d"frameTR" class\x3d"{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3cdiv id\x3d"{fgid}TC" data-ref\x3d"frameTC" class\x3d"{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/div\x3e','\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e',"\x3c/tpl\x3e",'\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}ML" data-ref\x3d"frameML" class\x3d"{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-ml\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}MR" data-ref\x3d"frameMR" class\x3d"{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3cdiv id\x3d"{fgid}Body" data-ref\x3d"frameBody" class\x3d"{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e',"{%this.applyRenderTpl(out, values)%}",
"\x3c/div\x3e",'\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"bottom"\x3e','\x3ctpl if\x3d"left"\x3e\x3cdiv id\x3d"{fgid}BL" data-ref\x3d"frameBL" class\x3d"{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"right"\x3e\x3cdiv id\x3d"{fgid}BR" data-ref\x3d"frameBR" class\x3d"{frameCls}-br {baseCls}-br {baseCls}-{ui}-br\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-br\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/tpl\x3e',
'\x3cdiv id\x3d"{fgid}BC" data-ref\x3d"frameBC" class\x3d"{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/div\x3e','\x3ctpl if\x3d"right"\x3e\x3c/div\x3e\x3c/tpl\x3e','\x3ctpl if\x3d"left"\x3e\x3c/div\x3e\x3c/tpl\x3e',"\x3c/tpl\x3e","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'\x3ctable id\x3d"{fgid}Table" data-ref\x3d"frameTable" class\x3d"{frameCls} ',
Ext.baseCSSPrefix+'table-plain" cellpadding\x3d"0" role\x3d"presentation"\x3e','\x3ctpl if\x3d"top"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}TL" data-ref\x3d"frameTL" class\x3d"{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}TC" data-ref\x3d"frameTC" class\x3d"{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}TR" data-ref\x3d"frameTR" class\x3d"{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',"\x3c/tr\x3e","\x3c/tpl\x3e",'\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}ML" data-ref\x3d"frameML" class\x3d"{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-ml\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
'\x3ctd id\x3d"{fgid}Body" data-ref\x3d"frameBody" class\x3d"{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mc\x3c/tpl\x3e{frameElCls}" style\x3d"{mcStyle}" role\x3d"presentation"\x3e',"{%this.applyRenderTpl(out, values)%}","\x3c/td\x3e",'\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}MR" data-ref\x3d"frameMR" class\x3d"{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
"\x3c/tr\x3e",'\x3ctpl if\x3d"bottom"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}BL" data-ref\x3d"frameBL" class\x3d"{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}BC" data-ref\x3d"frameBC" class\x3d"{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}BR" data-ref\x3d"frameBR" class\x3d"{frameCls}-br {baseCls}-br {baseCls}-{ui}-br\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-br\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',"\x3c/tr\x3e","\x3c/tpl\x3e","\x3c/table\x3e","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,statics:{makeRenderSetter:function(a,b){var c=a.name;return function(d){var e=this.renderConfigs||(this.renderConfigs={}),g=e[b];this._renderState>=
b?(a.setter||a.getSetter()).call(this,d):(g||(e[b]=g={}),c in g||(g[c]=this[c]),this[c]=d);return this}},processRenderConfig:function(a,b,c){var d=this.prototype,e=this.getConfigurator(),g=Ext.util.Renderable.makeRenderSetter,h=a[b],j,k,l,m;for(l in h)if(k=Ext.Config.get(l),!d[m=k.names.set])j=k.renderSetter||(k.renderSetter={}),d[m]=j[c]||(j[c]=g(k,c));delete a[b];e.add(h)}},onClassMixedIn:function(a){var b=a.override,c=this.processRenderConfig,d=function(a){a.beforeRenderConfig&&this.processRenderConfig(a,
"beforeRenderConfig",1);a.renderConfig&&this.processRenderConfig(a,"renderConfig",3);b.call(this,a)},e=function(a,b){a.override=d;a.processRenderConfig=c;b.beforeRenderConfig&&a.processRenderConfig(b,"beforeRenderConfig",1);b.renderConfig&&a.processRenderConfig(b,"renderConfig",3)};e(a,a.prototype);a.onExtended(e)},afterRender:function(){var a={},b=this.protoEl,c=this.el,d,e,g;this.finishRenderChildren();this._renderState=4;this.contentEl&&(d=Ext.baseCSSPrefix,e=d+"hidden-",g=Ext.get(this.contentEl),
g.component=this,g.removeCls([d+"hidden",e+"display",e+"offsets"]),this.getContentTarget().appendChild(g.dom));b.writeTo(a);(b=a.removed)&&c.removeCls(b);b=a.cls;b.length&&c.addCls(b);(b=a.style)&&c.setStyle(b);this.protoEl=null;this.ownerCt||this.updateLayout();(!this.x||!this.y)&&(this.pageX||this.pageY)&&this.setPagePosition(this.pageX,this.pageY);if(this.disableOnRender)this.onDisable();else if(this.enableOnRender)this.onEnable();Ext.enableAria&&this.ariaApplyAfterRenderAttributes()},afterFirstLayout:function(a,
b){var c=this.x,d=this.y,e,g,h,j;j=this.defaultAlign;var k=this.alignOffset;this.ownerLayout||(e=void 0!==c,g=void 0!==d);if(this.floating&&(!e||!g))this.floatParent?(h=this.floatParent.getTargetEl().getViewRegion(),j=this.el.getAlignToXY(this.alignTarget||this.floatParent.getTargetEl(),j,k),h.x=j[0]-h.x,h.y=j[1]-h.y):(j=this.el.getAlignToXY(this.alignTarget||this.container,j,k),h=this.container.translateXY(j[0],j[1])),c=e?c:h.x,d=g?d:h.y,e=g=!0;(e||g)&&this.setPosition(c,d);this.onBoxReady(a,b)},
beforeRender:function(){var a=this.floating,b=this.getComponentLayout();this._renderState=1;this.initBindable();this.renderConfigs&&this.flushRenderConfigs();this.reference&&this.publishState();a&&(this.addCls(Ext.baseCSSPrefix+"layer"),(a=a.cls)&&this.addCls(a));this.frame=this.frame||this.alwaysFramed;b.initialized||b.initLayout();this.initOverflow();this.setUI(this.ui);this.disabled&&this.disable(!0)},doApplyRenderTpl:function(a,b){var c=b.$comp;c.rendered||(c=c.initRenderTpl(),c.applyOut(b.renderData,
a))},getElConfig:function(){var a=this.autoEl,b=this.getFrameInfo(),c={tag:"div",tpl:b?this.initFramingTpl(b.table):this.initRenderTpl()},d=this.protoEl;this.initStyles(d);d.writeTo(c);d.flush();Ext.isString(a)?c.tag=a:Ext.apply(c,a);Ext.enableAria&&this.ariaRenderAttributesToElement&&Ext.apply(c,this.ariaGetRenderAttributes());c.id=this.id;c.tpl&&(b?(c.tplData=a=this.getFrameRenderData(),a.renderData=this.initRenderData()):c.tplData=this.initRenderData());return c},getInsertPosition:function(a){void 0!==
a&&(a=Ext.isNumber(a)?this.container.dom.childNodes[a]:Ext.getDom(a));return a},getRenderTree:function(){var a=null;if(!this.hasListeners.beforerender||!1!==this.fireEvent("beforerender",this))this._renderState=1,this.beforeRender(),this.rendering=!0,this._renderState=2,a=this.getElConfig(),this.el&&(a.id=this.$pid=Ext.id(null,this.el.identifiablePrefix));return a},initRenderData:function(){return Ext.apply({$comp:this,id:this.id,ui:this.ui,uiCls:this.uiCls,baseCls:this.baseCls,componentCls:this.componentCls,
frame:this.frame,renderScroller:this.touchScroll,scrollerCls:this.scrollerCls,role:this.ariaRole,childElCls:""},this.renderData)},onRender:function(){var a=this.x,b=this.y,c=null,d=this.el;this.applyRenderSelectors();this.rendering=null;this.rendered=!0;this._renderState=3;this.renderConfigs&&this.flushRenderConfigs();null!=a&&(c={x:a});null!=b&&((c=c||{}).y=b);this.getFrameInfo()||(a=this.width,b=this.height,"number"===typeof a&&(c=c||{},c.width=a),"number"===typeof b&&(c=c||{},c.height=b));1===
this.touchScroll&&this.getOverflowEl().disableTouchScroll();this.lastBox=d.lastBox=c},render:function(a,b){var c=this.el,d=this.ownerLayout,e,g,h;c&&!c.isElement&&(this.el=c=this.wrapPrimaryEl(c));Ext.suspendLayouts();a=this.initContainer(a);h=this.getInsertPosition(b);c?!this.hasListeners.beforerender||!1!==this.fireEvent("beforerender",this)?(this.beforeRender(),this.needsRenderTpl=this.rendering=!0,this._renderState=2,this.initStyles(c),!1!==this.allowDomMove&&(h?a.dom.insertBefore(c.dom,h):a.dom.appendChild(c.dom))):
e=!0:(g=this.getRenderTree(),d&&d.transformItemRenderTree&&(g=d.transformItemRenderTree(g)),g&&(c=h?Ext.DomHelper.insertBefore(h,g):Ext.DomHelper.append(a,g),this.wrapPrimaryEl(c),this.cacheRefEls(c)));c&&!e&&this.finishRender(b);Ext.resumeLayouts(!this.hidden&&!a.isDetachedBody)},ensureAttachedToBody:function(a){for(var b=this,c;b.ownerCt;)b=b.ownerCt;b.container.isDetachedBody&&(b.container=c=Ext.getBody(),c.appendChild(b.el.dom),a&&b.updateLayout(),("number"==typeof b.x||"number"==typeof b.y)&&
b.setPosition(b.x,b.y))},privates:{applyRenderSelectors:function(){var a=this.renderSelectors,b=this.el,c,d;this.attachChildEls(b);if(a)for(d in a)(c=a[d])&&(this[d]=b.selectNode(c,!1))},cacheRefEls:function(a){a=a||this.el;var b=Ext.cache,c=Ext.dom.Element;a=(a.isElement?a.dom:a).querySelectorAll("[data-ref]");var d=a.length,e,g;for(g=0;g<d;g++)e=a[g],b[e.id]||new c(e)},doAutoRender:function(){this.rendered||(this.floating?this.render(this.renderTo||document.body):this.render(Ext.isBoolean(this.autoRender)?
Ext.getBody():this.autoRender))},doRenderContent:function(a,b){var c=b.$comp,d=c.data;c.html&&(Ext.DomHelper.generateMarkup(c.html,a),delete c.html);c.tpl&&(c.tpl.isTemplate||(c.tpl=new Ext.XTemplate(c.tpl)),d&&(c.data=d=d.isEntity?d.getData(!0):d,c.tpl.applyOut(d,a)))},doRenderFramingDockedItems:function(a,b,c){var d=b.$comp;!d.rendered&&d.doRenderDockedItems&&(b.renderData.$skipDockedItems=!0,d.doRenderDockedItems.call(this,a,b,c))},flushRenderConfigs:function(){var a=this.renderConfigs,b=this._renderState,
c,d,e,g,h;if(a){for(d=0;d<=b;++d)if(c=a[d])for(e in a[d]=null,c)h=c[e],(g||(g={}))[e]=this[e],this[e]=h;g&&this.setConfig(g)}},finishRender:function(a){var b=Ext.cache,c,d;if(!this.el||this.$pid)if(this.container?d=(b=b[this.id])?b.dom:this.container.getById(this.id,!0):(c=this.$pid||this.id,d=(b=b[c])?b.dom:Ext.getDom(c)),this.el){delete this.$pid;this.el.dom||this.wrapPrimaryEl(this.el);d.parentNode.insertBefore(this.el.dom,d);c=d;d=this.el.dom;for(b=d.firstChild;c.firstChild;)d.insertBefore(c.firstChild,
b);this.el.addCls(c.className);Ext.removeNode(c)}else this.wrapPrimaryEl(d);else if(this.needsRenderTpl){if(c=this.initRenderTpl())b=this.initRenderData(),c.insertFirst(this.getTargetEl(),b);this.cacheRefEls()}this.el.component=this;this.container||(this.container=Ext.get(this.el.dom.parentNode));this.ctCls&&this.container.addCls(this.ctCls);this.onRender(this.container,a);this.overflowInited||this.initOverflow();this.el.setVisibilityMode(Ext.Element[this.hideMode.toUpperCase()]);this.overCls&&this.el.hover(this.addOverCls,
this.removeOverCls,this);this.hasListeners.render&&this.fireEvent("render",this);this.afterRender();this.hasListeners.afterrender&&this.fireEvent("afterrender",this);this.initEvents();this.hidden&&this.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var a=this.frameSize,b="";this._syncFrameHeight&&this.height&&(b="height:"+(this.height-a.height)+"px");return{$comp:this,fgid:this.id+"-frame",ui:this.ui,uiCls:this.uiCls,frameCls:this.frameCls,
baseCls:this.baseCls,top:!!a.top,left:!!a.left,right:!!a.right,bottom:!!a.bottom,mcStyle:b,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var a=this.frameInfoCache,b=this.getFramingInfoCls()+"-frameInfo",c=a[b],d,e,g,h,j,k,l,m,n,p,q,r;null==c&&(c=Ext.fly(this.getStyleProxy(b),"frame-style-el"),(c=c.getStyle("font-family"))?(c=c.split("-"),d=parseInt(c[1],10),e=parseInt(c[2],10),g=parseInt(c[3],10),h=parseInt(c[4],10),j=parseInt(c[5],10),k=parseInt(c[6],
10),l=parseInt(c[7],10),m=parseInt(c[8],10),n=parseInt(c[9],10),p=parseInt(c[10],10),q=parseInt(c[11],10),r=parseInt(c[12],10),c={table:"t"===c[0].charAt(0),vertical:"v"===c[0].charAt(1),top:d,right:e,bottom:g,left:h,width:h+e,height:d+g,border:{top:j,right:k,bottom:l,left:m,width:m+k,height:j+l},padding:{top:n,right:p,bottom:q,left:r,width:r+p,height:n+q}}):c=!1,!0===this.frame&&!c&&Ext.log.error("You have set frame: true explicity on this component ("+this.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled."),
a[b]=c);this.frame=!!c;return this.frameSize=c},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(a){var b=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));b.className=a;return b},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},initContainer:function(a){!a&&this.el&&(a=this.el.dom.parentNode,this.allowDomMove=!1);
return this.container=a.dom?a:Ext.get(a)},initOverflow:function(){var a=this.getOverflowStyle(),b=this.scrollFlags,c=this.getOverflowEl(),b=this.touchScroll=(b.y||b.x)&&Ext.supports.touchScroll;c&&c.isElement&&(this.overflowInited=!0,2===b?c.setStyle("overflow","hidden"):c.setStyle(a))},doRenderPadding:function(a,b){var c=b.$comp;c.touchScroll&&a.push("padding:",c.unitizeBox(c.padding))},initFramingTpl:function(a){(a=this.getFrameTpl(a))&&!a.applyRenderTpl&&this.setupFramingTpl(a);return a},initRenderTpl:function(){var a=
this.getTpl("renderTpl");a&&!a.renderContent&&this.setupRenderTpl(a);return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent;a.renderPadding=this.doRenderPadding},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var a=this.el.dom,b=this.frameTable,c=this.frameBody,d=c.dom,e=this.getFrameInfo(),g,h,j,k;h=document.createElement("div");
j=this.getFrameRenderData();this.getFrameTpl(e.table).insertFirst(h,j);e=h.querySelectorAll("[data-ref]");k=h.querySelector('[data-ref\x3d"frameBody"]');for(j=d;j.parentNode!==a;)j=j.parentNode;for(;h.firstChild;)a.insertBefore(h.firstChild,j);k.parentNode.replaceChild(d,k);d.className=k.className;c.setSize();a=this.getChildEls();b&&(b.destroy(),this.frameTable=null);for(g in a)if(a[g].frame&&(b=this[g])&&b!==c)b.destroy(),this[g]=null;for(b=e.length;b--;)g=(c=e[b]).getAttribute("data-ref"),"frameBody"!==
g&&(this[g]=new Ext.dom.Element(c))}},frameInfoCache:{}}});
Ext.define("Ext.rtl.util.Renderable",{override:"Ext.util.Renderable",_rtlCls:Ext.baseCSSPrefix+"rtl",_ltrCls:Ext.baseCSSPrefix+"ltr",rtlFrameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'\x3ctable id\x3d"{fgid}Table" class\x3d"{frameCls} ',Ext.baseCSSPrefix,'table-plain" cellpadding\x3d"0" role\x3d"presentation"\x3e','\x3ctpl if\x3d"top"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}TR" class\x3d"{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}TC" class\x3d"{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}TL" class\x3d"{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-tl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',"\x3c/tr\x3e","\x3c/tpl\x3e",'\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}MR" class\x3d"{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mr\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
'\x3ctd id\x3d"{fgid}MC" class\x3d"{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-mc\x3c/tpl\x3e{frameElCls}" style\x3d"{mcStyle}" role\x3d"presentation"\x3e',"{%this.applyRenderTpl(out, values)%}","\x3c/td\x3e",'\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}ML" class\x3d"{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-ml\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',
"\x3c/tr\x3e",'\x3ctpl if\x3d"bottom"\x3e','\x3ctr role\x3d"presentation"\x3e','\x3ctpl if\x3d"right"\x3e\x3ctd id\x3d"{fgid}BR" class\x3d"{frameCls}-br {baseCls}-br {baseCls}-{ui}-br\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-br\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e','\x3ctd id\x3d"{fgid}BC" class\x3d"{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bc\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e',
'\x3ctpl if\x3d"left"\x3e\x3ctd id\x3d"{fgid}BL" class\x3d"{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-{parent.ui}-{.}-bl\x3c/tpl\x3e{frameElCls}" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tpl\x3e',"\x3c/tr\x3e","\x3c/tpl\x3e","\x3c/table\x3e","{%this.renderDockedItems(out,values,1);%}"],beforeRender:function(){var a=this.getInherited().rtl;a?this.addCls(this._rtlCls):!1===a&&this.addCls(this._ltrCls);this.callParent()},initRenderData:function(){var a=this.callParent(),
b=this._rtlCls;b&&this.getInherited().rtl&&(a.childElCls=" "+b);return a},privates:{getFrameTpl:function(a){return a&&this.getInherited().rtl?this.getTpl("rtlFrameTableTpl"):this.callParent(arguments)},getFrameRenderData:function(){var a=this.callParent(),b=this._rtlCls;b&&this.getInherited().rtl&&(a.frameElCls=" "+b);return a}}});
Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(a){Ext.apply(this,a);this.state={};this.mixins.observable.constructor.call(this)},get:function(a,b){return"undefined"==typeof this.state[a]?b:this.state[a]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(a){a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(a));var b,c,d,
e;if(a&&a[1])switch(b=a[1],a=a[2],b){case "e":return null;case "n":return parseFloat(a);case "d":return new Date(Date.parse(a));case "b":return"1"==a;case "a":b=[];if(""!=a){c=a.split("^");d=c.length;for(e=0;e<d;e++)a=c[e],b.push(this.decodeValue(a))}return b;case "o":b={};if(""!=a){c=a.split("^");d=c.length;for(e=0;e<d;e++)a=c[e],a=a.split("\x3d"),b[a[0]]=this.decodeValue(a[1])}return b;default:return a}},encodeValue:function(a){var b="",c=0,d;if(null==a)return"e:1";if("number"==typeof a)a="n:"+
a;else if("boolean"==typeof a)a="b:"+(a?"1":"0");else if(Ext.isDate(a))a="d:"+a.toUTCString();else if(Ext.isArray(a)){for(d=a.length;c<d;c++)b+=this.encodeValue(a[c]),c!=d-1&&(b+="^");a="a:"+b}else if("object"==typeof a){for(d in a)"function"!=typeof a[d]&&void 0!==a[d]&&(b+=d+"\x3d"+this.encodeValue(a[d])+"^");a="o:"+b.substring(0,b.length-1)}else a="s:"+a;return escape(a)}});
Ext.define("Ext.state.Manager",{singleton:!0,constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(a){this.provider=a},get:function(a,b){return this.provider.get(a,b)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});
Ext.define("Ext.state.Stateful",{mixinId:"state",stateful:!1,saveDelay:100,constructor:function(){this.stateEvents||(this.stateEvents=[]);!1!==this.stateful&&(this.addStateEvents(this.stateEvents),this.initState())},addStateEvents:function(a){var b,c,d,e;if(this.stateful&&this.getStateId()){e="string"===typeof a?arguments:a;d=this.stateEventsByName||(this.stateEventsByName={});for(b=e.length;b--;)if((c=e[b])&&!d[c])d[c]=1,this.on(c,this.onStateChange,this)}},onStateChange:function(){var a=this.saveDelay,
b;this.stateful&&(a?(this.stateTask||(b=Ext.state.Stateful,b=b.runner||(b.runner=new Ext.util.TaskRunner),this.stateTask=b.newTask({run:this.saveState,scope:this,interval:a,repeat:1,fireIdleEvent:!1})),this.stateTask.start()):this.saveState())},saveState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c,d,e,g,h,j;if(a){h=this.getState()||{};c=this.getPlugins()||[];e=0;for(g=c.length;e<g;e++)if((d=c[e])&&d.getState)(j=d.getState(h))&&!h[d.ptype]&&(h[d.ptype]=j);if(!b.beforestatesave||
!1!==this.fireEvent("beforestatesave",this,h))Ext.state.Manager.set(a,h),b.statesave&&this.fireEvent("statesave",this,h)}},getState:function(){return null},applyState:function(a){a&&Ext.apply(this,a)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var a=this.stateful&&this.getStateId(),b=this.hasListeners,c,d,e,g,h,j;if(a&&(c=Ext.state.Manager.get(a)))if(a=Ext.apply({},c),!b.beforestaterestore||!1!==this.fireEvent("beforestaterestore",this,c)){g=this.getPlugins()||
[];d=0;for(e=g.length;d<e;d++)if(h=g[d])j=h.ptype,h.applyState&&h.applyState(a[j],c),delete a[j];this.applyState(a);b.staterestore&&this.fireEvent("staterestore",this,c)}},savePropToState:function(a,b,c){var d=this[a],e=this.initialConfig;return this.hasOwnProperty(a)&&(!e||e[a]!==d)?(b&&(b[c||a]=d),!0):!1},savePropsToState:function(a,b){var c,d;if("string"===typeof a)this.savePropToState(a,b);else{c=0;for(d=a.length;c<d;++c)this.savePropToState(a[c],b)}return b},destroy:function(){var a=this.stateTask;
a&&(a.destroy(),this.stateTask=null);this.clearListeners()}});
Ext.define("Ext.util.Floating",{mixinId:"floating",focusOnToFront:!0,shadow:"sides",constrain:!1,config:{activeCounter:0,alwaysOnTop:!1},constructor:function(a){this.el=new Ext.dom.Layer(Ext.apply({preventSync:!0,hideMode:this.hideMode,shadow:"undefined"!=typeof this.shadow?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:!1,fixed:this.fixed,shim:!1===this.shim?!1:void 0},this.floating),a);this.modal&&!Ext.enableFocusManager&&this.mon(this.el,{keydown:this.onKeyDown,scope:this});this.mon(this.el,
{mousedown:this.onMouseDown,scope:this,capture:!0});this.floating=!0;this.registerWithOwnerCt();this.initHierarchyEvents()},initFloatConstrain:function(){var a=this.floatParent;if((this.constrain||this.constrainHeader)&&!this.constrainTo)this.constrainTo=a?a.getTargetEl():this.container},initHierarchyEvents:function(){var a=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(Ext.GlobalEvents,{hide:a,collapse:a,show:a,expand:a,added:a,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var a=
this.ownerCt,b=this.zIndexParent;b&&b.unregisterFloatingItem(this);b=this.zIndexParent=this.up("[floating]");this.floatParent=a||b;this.initFloatConstrain();delete this.ownerCt;b?b.registerFloatingItem(this):Ext.WindowManager.register(this)},onKeyDown:function(a){var b,c,d;a.getKey()===a.TAB&&(b=a.shiftKey,c=this.query(":focusable"),c.length&&(d=c[0],c=c[c.length-1],!b&&c.hasFocus?(a.stopEvent(),d.focus()):b&&d.hasFocus&&(a.stopEvent(),c.focus())))},onMouseDown:function(a){var b=this.focusTask,c=
a.parentEvent,c=c&&"touchstart"===c.type;if(this.floating&&(!b||!b.id)){a=a.target;for(b=this.el.dom;!c&&a&&a!==b;)Ext.fly(a).isFocusable()&&(c=!0),a=a.parentNode;this.toFront(c)}},syncShadow:function(){this.floating&&this.el.sync(!0)},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var a=this.hidden||!this.rendered,b=this.hierarchicallyHidden=this.isHierarchicallyHidden(),c=this.pendingShow;a!==
b&&(b?(this.hide(),this.pendingShow=!0):c&&(delete this.pendingShow,c.length?this.show.apply(this,c):this.show()))},setZIndex:function(a){this.el.setZIndex(a);a+=10;this.floatingDescendants&&(a=100*Math.floor(this.floatingDescendants.setBase(a)/100)+1E4);return a},doConstrain:function(a){(a=this.calculateConstrainedPosition(a,null,!0))&&this.setPosition(a)},updateActiveCounter:function(){var a=this.zIndexParent;a&&!1!==this.bringParentToFront&&a.setActiveCounter(++Ext.ZIndexManager.activeCounter);
if(a=this.zIndexManager)a.onComponentUpdate(this)},updateAlwaysOnTop:function(){var a=this.zIndexManager;if(a)a.onComponentUpdate(this)},toFront:function(a){this.zIndexManager.bringToFront(this,a||!this.focusOnToFront)&&this.hasListeners.tofront&&this.fireEvent("tofront",this,this.el.getZIndex());return this},setActive:function(a,b,c){if(a)this.el.shadow&&!this.maximized&&this.el.enableShadow(!0),c?(this.previousFocus=Ext.Element.getActiveElement(),this.focus(!1,!0)):this.previousFocus=null,this.fireEvent("activate",
this);else if(this.isWindow&&(b&&b.isWindow&&this.hideShadowOnDeactivate)&&this.el.disableShadow(),this.fireEvent("deactivate",this),this.previousFocus&&(!Ext.isIE8||Ext.fly(this.previousFocus).isFocusable()))this.previousFocus.focus(),this.previousFocus=null},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a;this.isVisible()?(a=this.getAlignToXY(this.container,"c-c"),this.setPagePosition(a)):this.needsCenter=!0;return this},onFloatShow:function(){this.needsCenter&&
this.center();delete this.needsCenter;this.toFrontOnShow&&this.toFront()},fitContainer:function(a){var b=this.floatParent,c=b?b.getTargetEl():this.container,d=c.getViewSize(),b=b||c.dom!==document.body?[0,0]:c.getXY();d.x=b[0];d.y=b[1];this.setBox(d,a)}});Ext.define("Ext.rtl.util.Floating",{override:"Ext.util.Floating",constructor:function(){this.callParent(arguments);this.isLocalRtl()&&this.el.setRtl(!0)}});
Ext.define("Ext.util.Focusable",{mixinId:"focusable",focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.addFocusListener()},destroyFocusable:function(){Ext.destroy(this.focusListeners);delete this.focusTask},enableFocusable:Ext.emptyFn,disableFocusable:function(){var a=this.focusCls,b=this.getFocusEl();a&&b&&b.removeCls(this.removeClsWithUI(a,!0))},isFocusable:function(){var a;if(!this.focusable)return!1;if((a=this.getFocusEl())&&this.canFocus())return a.isFocusable(!0)},
canFocus:function(){return this.focusable&&this.rendered&&!this.destroying&&!this.isDestroyed&&!this.disabled&&this.isVisible(!0)},addFocusListener:function(){var a=this.tabIndex,b=this.getFocusEl(),c;if(b){if(b.isComponent)return b.addFocusListener();c=b.needsTabIndex()&&!b.dom.hasAttribute("tabindex");if(!this.focusListenerAdded&&(!c||null!=a))c&&!b.dom.getAttribute("tabIndex")&&b.dom.setAttribute("tabIndex",a),this.focusListeners=b.on({focus:this.onFocus,blur:this.onBlur,scope:this,destroyable:!0}),
b.dom.setAttribute(Ext.Component.componentIdAttribute,this.id),this.focusListenerAdded=!0}},focus:function(a,b,c,d){var e,g;if(this.focusable&&!this.isDestroyed&&!this.destroying){if(b)return this.getFocusTask().delay(Ext.isNumber(b)?b:10,this.focus,this,[a,!1,c,d]),this;this.cancelFocus();if(this.canFocus()&&(e=this.getFocusEl())){if(e.isComponent)return e.focus(a,b,c,d);if(b=e.dom)e.needsTabIndex()&&!b.hasAttribute("tabindex")&&(b.tabIndex=-1),this.floating&&(g=this.container.dom.scrollTop),e.focus(),
a&&(Ext.isArray(a)?this.selectText&&this.selectText.apply(this,a):b.select()),Ext.callback(c,d);this.floating&&(this!==this.zIndexManager.getActive()&&this.toFront(!0),void 0!==g&&(this.container.dom.scrollTop=g))}return this}},cancelFocus:function(){var a=this.getFocusTask();a&&a.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(a){var b=this.focusableContainer,c=this.focusCls,d;this.focusable&&!this.destroying&&(this.beforeBlur(a),b&&b.beforeFocusableChildBlur(this,a),d=this.getFocusClsEl(),c&&d&&
d.removeCls(this.removeClsWithUI(c,!0)),this.validateOnBlur&&this.validate(),this.hasFocus=!1,this.fireEvent("blur",this,a),this.postBlur(a),b&&b.afterFocusableChildBlur(this,a))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(a){var b=this.focusableContainer,c=this.focusCls,d;this.focusable&&this.canFocus()&&(this.beforeFocus(a),b&&b.beforeFocusableChildFocus(this,a),d=this.getFocusClsEl(),c&&d&&d.addCls(this.addClsWithUI(c,!0)),this.hasFocus||(this.hasFocus=!0,this.fireEvent("focus",
this,a)),this.postFocus(a),b&&b.afterFocusableChildFocus(this,a))},postFocus:Ext.emptyFn,getTabIndex:function(){var a;if(this.focusable)return(a=this.getFocusEl())?this.tabIndex=a=a.isComponent?a.getTabIndex():a.getAttribute("tabindex"):a=this.tabIndex,a},setTabIndex:function(a){var b;this.focusable&&(this.tabIndex=a,(b=this.getFocusEl())&&(b.isComponent?b.setTabIndex(a):b.set({tabindex:a})))},privates:{privacy:"framework",getFocusEl:Ext.privateFn,getFocusClsEl:function(){return this.getFocusEl()},
getFocusTask:function(){this.focusTask||(this.focusTask=Ext.focusTask);return this.focusTask},blur:function(){var a;if(this.focusable&&this.rendered){if(a=this.getFocusEl())this.blurring=!0,a.blur(),delete this.blurring;return this}},disableTabbing:function(){var a=this.el,b;this.focusable&&(b=this.getFocusEl(),a&&a.saveChildrenTabbableState(),b&&b.saveTabbableState())},enableTabbing:function(){var a=this.el,b;this.focusable&&((b=this.getFocusEl())&&b.restoreTabbableState(),a&&a.restoreChildrenTabbableState())}}},
function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)});
Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],mixins:[Ext.mixin.Inheritable,Ext.util.Positionable,Ext.util.Observable,Ext.mixin.Bindable,Ext.util.Animate,Ext.util.ElementContainer,Ext.util.Renderable,Ext.state.Stateful,Ext.util.Floating,Ext.util.Focusable],statics:{AUTO_ID:1E3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,
INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(a,b){var c=this.runningLayoutContext||this.pendingLayouts;c&&c.cancelComponent(a,!1,b)},flushLayouts:function(){var a=this,b=a.pendingLayouts;b&&b.invalidQueue.length&&(a.pendingLayouts=null,a.runningLayoutContext=b,Ext.override(b,{runComplete:function(){a.runningLayoutContext=null;var b=this.callParent();Ext.GlobalEvents.hasListeners.afterlayout&&Ext.GlobalEvents.fireEvent("afterlayout");return b}}),b.run())},
resumeLayouts:function(a){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(a&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(a,b){var c=this.runningLayoutContext;c?c.queueInvalidate(a):(c=this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context),c.queueInvalidate(a),!b&&(!this.layoutSuspendCount&&!a.isLayoutSuspended())&&this.flushLayouts())}},$configPrefixed:!1,
$configStrict:!1,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,
nonMaskableRe:function(){var a="input select textarea optgroup option table".split(" ");Ext.isIE9m&&(!Ext.isIE9||Ext.isIEQuirks)&&a.push("p");return RegExp("^(?:"+a.join("|")+")$","i")}(),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:['\x3ctpl if\x3d"renderScroller"\x3e','\x3cdiv class\x3d"{scrollerCls}" style\x3d"{%this.renderPadding(out, values)%}"\x3e',"\x3c/tpl\x3e","{%this.renderContent(out,values)%}",'\x3ctpl if\x3d"renderScroller"\x3e\x3c/div\x3e\x3c/tpl\x3e'],
resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:!1,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+
"touch-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"touch-scroller",validIdRe:Ext.validIdRe,constructor:function(a){var b;a=a||{};if(a.initialConfig)a.isAction&&(this.baseAction=a),a=a.initialConfig;else if(a.tagName||a.dom||Ext.isString(a))a={applyTo:a,id:a.id||a};this.initialConfig=a;this.getId();this.protoEl=new Ext.util.ProtoElement;this.initConfig(a);if(a=this.xhooks)delete this.xhooks,Ext.override(this,a);this.mixins.elementCt.constructor.call(this);this.validIdRe.test(this.id)||Ext.Error.raise('Invalid component "id": "'+
this.id+'"');this.validIdRe.test(this.itemId)||Ext.Error.raise('Invalid component "itemId": "'+this.itemId+'"');this.setupProtoEl();this.cls&&(this.initialCls=this.cls,this.protoEl.addCls(this.cls));this.style&&(this.initialStyle=this.style,this.protoEl.setStyle(this.style));this.renderData=this.renderData||{};this.initComponent();this.preventRegister||Ext.ComponentManager.register(this);this.mixins.state.constructor.call(this);this.addStateEvents("resize");(a=this.getController())&&a.init(this);
if(this.plugins){a=0;for(b=this.plugins.length;a<b;a++)this.plugins[a]=this.initPlugin(this.plugins[a])}this.loader=this.getLoader();this.renderTo&&this.render(this.renderTo);this.autoShow&&!this.initOwnerCt&&this.show();Ext.isDefined(this.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),this.disabledCls=this.disabledClass,delete this.disabledClass);this.baseAction&&this.baseAction.addComponent(this)},
beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(a){var b=this.rendered?this.el:this.protoEl;b.addCls.apply(b,arguments);return this},addClsWithUI:function(a,b){var c=[],d=0,e=this.uiCls=Ext.Array.clone(this.uiCls),g=this.activeUI,h,j;"string"===typeof a&&(a=0>a.indexOf(" ")?[a]:Ext.String.splitWords(a));for(h=a.length;d<h;d++)if((j=a[d])&&!this.hasUICls(j))e.push(j),g&&(c=c.concat(this.addUIClsToElement(j)));!0!==b&&g&&this.addCls(c);return c},afterComponentLayout:function(a,
b,c,d){1===++this.componentLayoutCounter&&this.afterFirstLayout(a,b);if(a!==c||b!==d)this.onResize(a,b,c,d);if(this.floating)this.onAfterFloatLayout()},addListener:function(a,b,c,d){var e,g;if(Ext.isString(a)&&(Ext.isObject(b)||d&&d.element)){if(d.element)for(g in e=b,b={},b[a]=e,a=d.element,c&&(b.scope=c),d)d.hasOwnProperty(g)&&this.eventOptionsRe.test(g)&&(b[g]=d[g]);this[a]&&this[a].on?this.mon(this[a],b):(this.afterRenderEvents=this.afterRenderEvents||{},this.afterRenderEvents[a]||(this.afterRenderEvents[a]=
[]),this.afterRenderEvents[a].push(b))}else return this.mixins.observable.addListener.apply(this,arguments)},addPlugin:function(a){a=this.constructPlugin(a);this.plugins?this.plugins.push(a):this.plugins=[a];this.pluginsInitialized&&this.initPlugin(a);return a},addPropertyToState:function(a,b,c){var d=arguments.length;if(3===d||this.hasOwnProperty(b))3>d&&(c=this[b]),c!==this.initialConfig[b]&&((a||(a={}))[b]=c);return a},addUIClsToElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a;a=[Ext.baseCSSPrefix+
a,this.baseCls+"-"+a,b];var c,d,e,g;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(d in b+="-",c=this.getChildEls(),c)if((g=c[d].frame)&&!0!==g)(e=this[d])&&e.addCls(b+g);return a},removeUIClsFromElement:function(a){var b=this.baseCls+"-"+this.ui+"-"+a;a=[Ext.baseCSSPrefix+a,this.baseCls+"-"+a,b];var c,d,e,g;if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(d in b+="-",c=this.getChildEls(),c)if((g=c[d].frame)&&!0!==g)(e=this[d])&&e.removeCls(b+g);return a},adjustPosition:function(a,
b){var c;this.isContainedFloater()&&(c=this.floatParent.getTargetEl().getViewRegion(),a+=c.left,b+=c.top);return{x:a,y:b}},afterHide:function(a,b){var c=this.focusableContainer;this.hiddenByLayout=null;this.ownerLayout&&this.updateLayout({isRoot:!1});Ext.callback(a,b||this);this.fireEvent("hide",this);this.fireHierarchyEvent("hide");if(c)c.onFocusableChildHide(this)},afterSetPosition:function(a,b){this.onPosition(a,b);this.hasListeners.move&&this.fireEvent("move",this,a,b)},afterShow:function(a,b,
c){var d=this,e=d.el,g,h;a=d.getAnimateTarget(a);d.ghost||(a=null);if(a)g={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},a={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},e.addCls(d.offsetsCls),h=d.ghost(),h.el.stopAnimation(),h.setX(-1E4),d.ghostBox=g,h.el.animate({from:a,to:g,listeners:{afteranimate:function(){delete h.componentLayout.lastComponentSize;d.unghost();delete d.ghostBox;e.removeCls(d.offsetsCls);d.onShowComplete(b,c)}}});else d.onShowComplete(b,
c);d.fireHierarchyEvent("show")},animate:function(a){var b=this,c,d,e,g,h,j,k,l,m,n,p,q,r,s,t;a=a||{};h=a.to||{};if(Ext.fx.Manager.hasFxBlock(b.id))return b;(c=Ext.isDefined(h.width))&&(g=Ext.Number.constrain(h.width,b.minWidth,b.maxWidth));(d=Ext.isDefined(h.height))&&(e=Ext.Number.constrain(h.height,b.minHeight,b.maxHeight));if(!a.dynamic&&(c||d)){m=l=(a.from?a.from.width:void 0)||b.getWidth();p=n=(a.from?a.from.height:void 0)||b.getHeight();j=!1;d&&e>n&&(p=e,j=!0);c&&g>l&&(m=g,j=!0);if(d||c)t=
b.el.getStyle("overflow"),"hidden"!==t&&b.el.setStyle("overflow","hidden");j&&(j=!Ext.isNumber(b.width),k=!Ext.isNumber(b.height),b.setSize(m,p),b.el.setSize(l,n),j&&delete b.width,k&&delete b.height);c&&(h.width=g);d&&(h.height=e)}q=b.constrain;r=b.constrainHeader;if(q||r)b.constrain=b.constrainHeader=!1,s=a.callback,a.callback=function(){b.constrain=q;b.constrainHeader=r;s&&s.call(a.scope||b,arguments);"hidden"!==t&&b.el.setStyle("overflow",t)};return b.mixins.animate.animate.apply(b,arguments)},
beforeComponentLayout:function(){return!0},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating)this.onBeforeFloatLayout()},beforeSetPosition:function(a,b,c){var d=null,e,g;if(a)if(Ext.isNumber(e=a[0]))c=b,b=a[1],a=e;else if(void 0!==(e=a.x))c=b,b=a.y,a=e;if(this.constrain||this.constrainHeader)if(d=this.calculateConstrainedPosition(null,[a,b],!0))a=d[0],b=d[1];e=void 0!==a;g=void 0!==b;if(e||g)this.x=a,this.y=b,a=this.adjustPosition(a,b),d={x:a.x,y:a.y,anim:c,hasX:e,hasY:g};return d},
beforeShow:Ext.emptyFn,bubble:function(a,b,c){for(var d=this;d&&!1!==a.apply(b||d,c||[d]);)d=d.getBubbleTarget();return this},cloneConfig:function(a){a=a||{};var b=a.id||Ext.id();a=Ext.applyIf(a,this.initialConfig);a.id=b;return new (Ext.getClass(this))(a)},destroy:function(){var a=this.renderSelectors,b=this.getConfig("viewModel",!0),c=this.getConfig("session",!0),d,e;if(!this.isDestroyed&&(!this.hasListeners.beforedestroy||!1!==this.fireEvent("beforedestroy",this))){this.destroying=!0;e=this.floatParent||
this.ownerCt;this.floating&&(delete this.floatParent,this.zIndexManager&&(this.zIndexManager.unregister(this),this.zIndexManager=null));this.removeBindings();this.beforeDestroy();b&&b.isViewModel&&(b.destroy(),this.viewModel=null);c&&c.isSession&&(c.getAutoDestroy()&&c.destroy(),this.session=null);e&&e.remove&&e.remove(this,!1);this.stopAnimation();this.onDestroy();Ext.destroy(this.plugins);this.componentLayout=null;this.hasListeners.destroy&&this.fireEvent("destroy",this);this.preventRegister||Ext.ComponentManager.unregister(this);
this.mixins.state.destroy.call(this);this.clearListeners();if(this.rendered){this.preserveElOnDestroy||this.el.destroy();this.mixins.elementCt.destroy.call(this);if(a)for(d in a)if(a.hasOwnProperty(d)&&(b=this[d]))delete this[d],b.destroy();this.data=this.el=this.frameBody=this.rendered=null}this.destroying=!1;this.isDestroyed=!0}},disable:function(a){var b=this.focusableContainer;this.enableOnRender=!1;this.addCls(this.disabledCls);if(this.rendered)this.onDisable();else this.disableOnRender=!0;this.disabled=
!0;!0!==a&&(delete this.resetDisable,this.fireEvent("disable",this));if(b)b.onFocusableChildDisable(this);return this},enable:function(a){var b=this.focusableContainer;this.disableOnRender=!1;this.removeCls(this.disabledCls);if(this.rendered)this.onEnable();else this.enableOnRender=!0;this.disabled=!1;delete this.resetDisable;!0!==a&&this.fireEvent("enable",this);if(b)b.onFocusableChildEnable(this);return this},findParentBy:function(a){var b;for(b=this.getRefOwner();b&&!a(b,this);b=b.getRefOwner());
return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},findPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<d;b++)if(c[b].ptype===a)return c[b]},getAnimateTarget:function(a){(a=a||this.animateTarget)&&(a=a.isComponent?a.getEl():Ext.get(a));return a||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){(!this.componentLayout||!this.componentLayout.isLayout)&&this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,
"autocomponent"));return this.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(a){var b=this.componentLayout;this.hidden&&(a.hidden=!0);this.collapseImmune&&(a.collapseImmune=!0);void 0!==this.modelValidation&&(a.modelValidation=this.modelValidation);this.mixins.bindable.initInheritedState.call(this,a);b&&b.initInheritedState&&b.initInheritedState(a)},getId:function(){var a;if(!this.id&&!(this.id=this.initialConfig.id))a=
(a=this.getXType())?a.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",this.id=a+"-"+this.getAutoId();return this.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var a=this.loader;return a?(a.isLoader?a.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this},a)),this.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(a){var b,c=this.plugins,d=c&&c.length;for(b=0;b<
d;b++)if(c[b].pluginId===a)return c[b];return null},getPosition:function(a){var b,c=this.isContainedFloater();if(!0===a&&!c)return[this.getLocalX(),this.getLocalY()];b=this.getXY();!0===a&&c&&(a=this.floatParent.getTargetEl().getViewRegion(),b[0]-=a.left,b[1]-=a.top);return b},getScrollX:function(){var a=this.scrollManager;return a?a.getPosition().x:this.getScrollLeft()},getScrollY:function(){var a=this.scrollManager;return a?a.getPosition().y:this.getOverflowEl().getScrollTop()},getSize:function(a){return this.el.getSize(a)},
getSizeModel:function(a){var b=Ext.layout.SizeModel,c=this.componentLayout.ownerContext,d=this.width,e=this.height,g,h,j,k,l,m,n,p,q,r=this.floating||this.floated;c&&(q=c.widthModel,l=c.heightModel);if(!q||!l)j="number"==(g=typeof d),k="number"==(h=typeof e),(p=r||!(m=this.ownerLayout))?(n=Ext.layout.Layout.prototype.autoSizePolicy,m=r?3:this.shrinkWrap,j&&(q=b.configured),k&&(l=b.configured)):(n=m.getItemSizePolicy(this,a),m=m.isItemShrinkWrap(this)),c&&(c.ownerSizePolicy=n),m=!0===m?3:m||0,p&&m&&
(d&&"string"==g&&(m&=2),e&&"string"==h&&(m&=1)),3!==m&&(a||(a=this.ownerCt&&this.ownerCt.getSizeModel()),a&&(m|=(a.width.shrinkWrap?1:0)|(a.height.shrinkWrap?2:0))),q||(q=n.setsWidth?n.readsWidth?j?b.calculatedFromConfigured:m&1?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:j?b.configured:m&1?b.shrinkWrap:b.natural),l||(l=n.setsHeight?n.readsHeight?k?b.calculatedFromConfigured:m&2?b.calculatedFromShrinkWrap:b.calculatedFromNatural:b.calculated:k?b.configured:m&2?b.shrinkWrap:b.natural);
return q.pairsByHeightOrdinal[l.ordinal]},getState:function(){var a=null,b=this.getSizeModel();b.width.configured&&(a=this.addPropertyToState(a,"width"));b.height.configured&&(a=this.addPropertyToState(a,"height"));return a},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var a=this.self,b,c,d;if(!a.xtypes){b=[];for(c=this;c;)d=c.xtypes,void 0!==d&&b.unshift.apply(b,d),c=c.superclass;a.xtypeChain=b;a.xtypes=b.join("/")}return a.xtypes},
hasCls:function(a){var b=this.rendered?this.el:this.protoEl;return b.hasCls.apply(b,arguments)},hasUICls:function(a){return Ext.Array.contains(this.uiCls||[],a)},hide:function(a,b,c){var d;this.pendingShow&&delete this.pendingShow;if(!this.rendered||this.isVisible())if(d=!1!==this.fireEvent("beforehide",this),this.hierarchicallyHidden||d)this.hidden=!0,this.getInherited().hidden=!0,this.rendered&&this.onHide.apply(this,arguments);return this},initComponent:function(){var a=this.width,b=this.height;
this.plugins&&!this.plugins.processed&&(this.plugins=this.constructPlugins());this.pluginsInitialized=!0;(null!=a||null!=b)&&this.setSize(a,b);this.listeners&&(this.on(this.listeners),this.listeners=null);this.focusable&&this.initFocusable()},initEvents:function(){var a=this.afterRenderEvents,b,c,d,e,g;if(a)for(d in a)if((c=this[d])&&c.on){b=a[d];e=0;for(g=b.length;e<g;++e)this.mon(c,b[e])}this.focusable&&this.initFocusableEvents()},is:function(a){return Ext.ComponentQuery.is(this,a)},isDescendantOf:function(a){return!!this.findParentBy(function(b){return b===
a})},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var a=this,b=!1,c,d;c=a.ownerCt||a.floatParent;a=c){d=c.getInherited();if(d.hidden){b=!0;break}if(a.getInherited().collapseImmune){if(c.collapsed&&!a.collapseImmune){b=!0;break}}else{b=!!d.collapsed;break}}return b},isLayoutRoot:function(){var a=
this.ownerLayout;return!a||this._isLayoutRoot||this.floating?!0:a.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var a=this;a;){if(a.layoutSuspendCount||a.suspendLayout)return!0;a=a.ownerLayout;if(!a)break;a=a.owner}return!1},isVisible:function(a){var b;this.hidden||!this.rendered||this.isDestroyed?b=!0:a&&(b=this.isHierarchicallyHidden());return!b},isXType:function(a,b){return b?-1!==Ext.Array.indexOf(this.xtypes,a):!!this.xtypesMap[a]},isMasked:function(a){return this.masked||this.loadMask&&
this.loadMask.isVisible()||a&&!!this.getInherited().masked},setMasked:function(a){var b=this.focusableContainer;a?(this.masked=!0,this.getInherited().masked=a):(this.masked=!1,delete this.getInherited().masked);if(b)b.onFocusableChildMasked(this,a);return this},mask:function(a,b,c){var d=this.lastBox,e=this.getMaskTarget()||this.el;d&&(c=d.height);e.mask(a,b,c);this.setMasked(!0)},nextNode:function(a,b){var c=this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;if(c){e=c.items.items;h=Ext.Array.indexOf(e,
this)+1;for(g=e.length;h<g;h++)if(d=e[h],d.is(a)||d.down&&(d=d.down(a)))return d;return c.nextNode(a)}return null},nextSibling:function(a){var b=this.ownerCt,c,d,e;if(b&&(b=b.items,d=b.indexOf(this)+1))if(a)for(c=b.getCount();d<c;d++){if((e=b.getAt(d)).is(a))return e}else if(d<b.getCount())return b.getAt(d);return null},onAdded:function(a,b,c){var d=this.inheritedState;this.ownerCt=a;d&&c&&this.invalidateInheritedState();this.reference&&this.fixReference();this.hasListeners&&this.hasListeners.added&&
this.fireEvent("added",this,a,b);Ext.GlobalEvents.hasListeners.added&&this.fireHierarchyEvent("added")},onRemoved:function(a){var b;Ext.GlobalEvents.hasListeners.removed&&this.fireHierarchyEvent("removed");this.hasListeners.removed&&this.fireEvent("removed",this,this.ownerCt);this.reference&&(b=this.lookupReferenceHolder())&&b.clearReference(this);a||this.removeBindings();this.inheritedState&&!a&&this.invalidateInheritedState();this.ownerCt=this.ownerLayout=null},onBoxReady:function(a,b){this.resizable&&
this.initResizable(this.resizable);this.draggable&&this.initDraggable();this.touchScroll&&this.initScrollManager();this.hasListeners.boxready&&this.fireEvent("boxready",this,a,b)},onDestroy:function(){var a=this.controller,b=this.focusableContainer;this.bind&&this.removeBindings();a&&a.destroy();this.controller=null;this.rendered&&Ext.destroy(this.dd,this.resizer,this.proxy,this.proxyWrap,this.resizerComponent);if(b)b.onFocusableChildDestroy(this);this.focusable&&this.destroyFocusable();Ext.destroy(this.componentLayout,
this.loadMask,this.floatingDescendants)},onDisable:function(){var a,b;this.focusable&&this.disableFocusable();this.maskOnDisable&&(a=this.el.dom,b=a.nodeName,this.disabledRe.test(b)&&(a.disabled=!0),this.nonMaskableRe.test(b)||this.mask())},onEnable:function(){var a,b;this.focusable&&this.enableFocusable();this.maskOnDisable&&(a=this.el.dom,b=a.nodeName,this.disabledRe.test(b)&&(a.disabled=!1),this.nonMaskableRe.test(b)||this.unmask())},onHide:function(a,b,c){var d=this,e,g,h;h=Ext.Element.getActiveElement();
(h===d.el||d.el.contains(h))&&Ext.fly(h).blur();a=d.getAnimateTarget(a);d.ghost||(a=null);a&&(h={x:a.getX(),y:a.getY(),width:a.dom.offsetWidth,height:a.dom.offsetHeight},e=d.ghost(),e.el.stopAnimation(),g=d.getSize(),e.el.animate({to:h,listeners:{afteranimate:function(){delete e.componentLayout.lastComponentSize;e.el.hide();e.setHiddenState(!0);e.el.setSize(g);d.afterHide(b,c)}}}));d.el.hide();a||d.afterHide(b,c)},onPosition:Ext.emptyFn,onResize:function(a,b,c,d){this.floating&&this.constrain&&this.doConstrain();
c&&this.refreshScroll();this.hasListeners.resize&&this.fireEvent("resize",this,a,b,c,d)},onShow:function(){this.el.show();this.updateLayout({isRoot:!1});this.floating&&(this.maximized?this.fitContainer():this.constrain&&this.doConstrain())},onShowComplete:function(a,b){var c=this.focusableContainer;if(this.floating)this.onFloatShow();Ext.callback(a,b||this);this.fireEvent("show",this);if(c)c.onFocusableChildShow(this);delete this.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(a,b){var c=
this.ownerCt,d,e,g,h;if(b&&this.is(a))return this;if(c){e=c.items.items;for(g=Ext.Array.indexOf(e,this)-1;-1<g;g--){h=e[g];if(h.query&&(d=h.query(a),d=d[d.length-1]))return d;if(h.is(a))return h}return c.previousNode(a,!0)}return null},previousSibling:function(a){var b=this.ownerCt,c,d;if(b&&(b=b.items,c=b.indexOf(this),-1!=c))if(a)for(--c;0<=c;c--){if((d=b.getAt(c)).is(a))return d}else if(c)return b.getAt(--c);return null},registerFloatingItem:function(a){this.floatingDescendants||(this.floatingDescendants=
new Ext.ZIndexManager(this));this.floatingDescendants.register(a)},removeCls:function(a){var b=this.rendered?this.el:this.protoEl;b.removeCls.apply(b,arguments);return this},removeClsWithUI:function(a,b){var c=[],d=0,d=Ext.Array,e=d.remove,g=this.uiCls=d.clone(this.uiCls),h=this.activeUI,j,k;"string"===typeof a&&(a=0>a.indexOf(" ")?[a]:Ext.String.splitWords(a));j=a.length;for(d=0;d<j;d++)if((k=a[d])&&this.hasUICls(k))e(g,k),h&&(c=c.concat(this.removeUIClsFromElement(k)));!0!==b&&h&&this.removeCls(c);
return c},resumeLayouts:function(a){this.rendered&&(this.layoutSuspendCount||Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended."),this.layoutSuspendCount&&!--this.layoutSuspendCount&&(this.suspendLayout=!1,a&&!this.isLayoutSuspended()&&this.updateLayout(a)))},scrollBy:function(a,b,c){var d=this.scrollManager;d?d.scrollBy(a,b,c):this.doScrollBy(a,b,c)},scrollTo:function(a,b,c){var d=this.scrollManager;d?d.scrollTo(a,b,c):this.doScrollTo(a,b,c)},setAutoScroll:function(a){this.autoScroll=
!!a;this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle());this.updateLayout();return this},setBorder:function(a,b){var c=!!b;if(this.rendered||c)c||(b=this.el),a=a?!0===a?"1px":this.unitizeBox(a):0,b.setStyle("border-width",a),c||this.updateLayout();this.border=a},setDock:function(a){var b=this.ownerCt;a!==this.dock&&(b&&b.moveDocked?b.moveDocked(this,a):this.dock=a);return this},setDisabled:function(a){return this[a?"disable":"enable"]()},setFlex:function(a){this.flex=a},setHeight:function(a){return this.setSize(void 0,
a)},setLoading:function(a,b){var c={target:this};this.rendered&&(!1!==a?(Ext.isString(a)?c.msg=a:Ext.apply(c,a),!this.loadMask||!this.loadMask.isLoadMask?(b&&null==c.useTargetEl&&(c.useTargetEl=!0),this.loadMask=new Ext.LoadMask(c)):Ext.apply(this.loadMask,c),this.loadMask.isVisible()?this.loadMask.afterShow():this.loadMask.show()):this.loadMask&&this.loadMask.isLoadMask&&this.loadMask.hide());return this.loadMask},setMargin:function(a,b){this.rendered?(!a&&0!==a?a="":(!0===a&&(a=5),a=this.unitizeBox(a)),
this.getTargetEl().setStyle("margin",a),b||this.updateLayout()):this.margin=a},setOverflowXY:function(a,b){var c=arguments.length,d=this.ownerCt;c&&(this.overflowX=a||"",1<c&&(this.overflowY=b||""));this.rendered&&this.getOverflowEl().setStyle(this.getOverflowStyle());(d||this).updateLayout();return this},setPagePosition:function(a,b,c){var d;Ext.isArray(a)&&(b=a[1],a=a[0]);this.pageX=a;this.pageY=b;this.floating?(this.isContainedFloater()?(d=this.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(a)&&
Ext.isNumber(d.left)&&(a-=d.left),Ext.isNumber(b)&&Ext.isNumber(d.top)&&(b-=d.top)):(b=this.el.translateXY(a,b),a=b.x,b=b.y),this.setPosition(a,b,c)):(b=this.el.translateXY(a,b),this.setPosition(b.x,b.y,c));return this},setPosition:function(a,b,c){var d=this.beforeSetPosition.apply(this,arguments);if(d&&this.rendered)if(a=d.x,b=d.y,c){if(a!==this.getLocalX()||b!==this.getLocalY())this.stopAnimation(),this.animate(Ext.apply({duration:1E3,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,
this,[a,b])},to:{left:a,top:b}},c))}else this.setLocalXY(a,b),this.afterSetPosition(a,b);return this},setScrollX:function(a){var b=this.scrollManager;b?b.scrollTo(a,b.getPosition().y):this.setScrollLeft(a)},setScrollY:function(a){var b=this.scrollManager;b?b.scrollTo(b.getPosition().x,a):this.getOverflowEl().setScrollTop(a)},setSize:function(a,b){a&&"object"==typeof a&&(b=a.height,a=a.width);"number"==typeof a?this.width=Ext.Number.constrain(a,this.minWidth,this.maxWidth):null===a&&delete this.width;
"number"==typeof b?this.height=Ext.Number.constrain(b,this.minHeight,this.maxHeight):null===b&&delete this.height;this.rendered&&this.isVisible()&&(this.liquidLayout&&this.el.setSize(this.width,this.height),this.updateLayout(this._notAsLayoutRoot));return this},setStyle:function(a,b){(this.el||this.protoEl).setStyle(a,b);return this},setUI:function(a){var b=this.uiCls,c=this.activeUI;a!==c&&(c?(c=this.removeClsWithUI(b,!0),c.length&&this.removeCls(c),this.removeUIFromElement()):this.uiCls=[],this.activeUI=
this.ui=a,this.addUIToElement(),c=this.addClsWithUI(b,!0),c.length&&this.addCls(c),this.rendered&&this.updateLayout())},setVisible:function(a){return this[a?"show":"hide"]()},setHidden:function(a){return this.setVisible(!a)},setWidth:function(a){return this.setSize(a)},show:function(a,b,c){var d=this.rendered;if(this.hierarchicallyHidden||this.floating&&!d&&this.isHierarchicallyHidden())d||this.initHierarchyEvents(),1<arguments.length?(arguments[0]=null,this.pendingShow=arguments):this.pendingShow=
!0;else if(d&&this.isVisible()){if(this.floating)this.onFloatShow()}else if(!1!==this.fireEvent("beforeshow",this)){this.hidden=!1;delete this.getInherited().hidden;Ext.suspendLayouts();if(!d&&(this.autoRender||this.floating))this.doAutoRender(),d=this.rendered;d?(this.beforeShow(),Ext.resumeLayouts(),this.onShow.apply(this,arguments),this.afterShow.apply(this,arguments)):Ext.resumeLayouts(!0)}else this.onShowVeto();return this},showAt:function(a,b,c){if(!this.rendered&&(this.autoRender||this.floating))return this.x=
a,this.y=b,this.show();this.floating?this.setPosition(a,b,c):this.setPagePosition(a,b,c);this.show()},showBy:function(a,b,c){this.floating||Ext.log.warn("Using showBy on a non-floating component");this.floating&&a&&(this.alignTarget=a,b&&(this.defaultAlign=b),c&&(this.alignOffset=c),this.show(),this.hidden||this.alignTo(a,b||this.defaultAlign,c||this.alignOffset));return this},suspendLayouts:function(){this.rendered&&1===++this.layoutSuspendCount&&(this.suspendLayout=!0)},unitizeBox:function(a){return Ext.Element.unitizeBox(a)},
unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(!1)},unregisterFloatingItem:function(a){this.floatingDescendants&&this.floatingDescendants.unregister(a)},up:function(a,b){var c=this.getRefOwner(),d="string"===typeof b,e="number"===typeof b,g=b&&b.isComponent,h=0;if(a)for(;c;c=c.getRefOwner()){h++;if(a.isComponent){if(c===a)break}else if(Ext.ComponentQuery.is(c,a))break;if(d&&c.is(b)||e&&h===b||g&&c===b)return}return c},update:function(a,b,c){var d=this.tpl&&!Ext.isString(a),
e=this.scrollManager,g=this.focusableContainer,h;d?this.data=a&&a.isEntity?a.getData(!0):a:this.html=Ext.isObject(a)?Ext.DomHelper.markup(a):a;if(this.rendered){a=this.getSizeModel();a=a.width.shrinkWrap||a.height.shrinkWrap;this.isContainer?(h=this.layout.getRenderTarget(),a=a||0<this.items.items.length):h=this.touchScroll?this.getScrollerEl():this.getTargetEl();if(d)this.tpl[this.tplWriteMode](h,this.data||{});else h.setHtml(this.html,b,c);a&&this.updateLayout();e&&e.refresh();if(g)g.onFocusableChildUpdate(this)}},
setHtml:function(a){this.update(a)},applyData:function(a){this.update(a)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(a){var b=this.lastBox,c=a&&a.isRoot;b&&(b.invalid=!0);if(this.rendered&&(!this.layoutSuspendCount&&!this.suspendLayout)&&(this.hidden?Ext.Component.cancelLayout(this):"boolean"!=typeof c&&(c=this.isLayoutRoot()),(c||!this.ownerLayout||!this.ownerLayout.onContentChange(this))&&
!this.isLayoutSuspended()))a=a&&a.hasOwnProperty("defer")?a.defer:this.deferLayouts,Ext.Component.updateLayout(this,a)},updateMaxHeight:function(a,b){this.changeConstraint(a,b,"min","max-height","height")},updateMaxWidth:function(a,b){this.changeConstraint(a,b,"min","max-width","width")},updateMinHeight:function(a,b){this.changeConstraint(a,b,"max","min-height","height")},updateMinWidth:function(a,b){this.changeConstraint(a,b,"max","min-width","width")},getAnchorToXY:function(a,b,c,d){return a.getAnchorXY(b,
c,d)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,
b)},setXY:function(a,b){this.el.setXY(a,b)},setY:function(a,b){this.el.setY(a,b)},privates:{statics:{findComponentByElement:function(a){for(var b=document.body,c;a&&1===a.nodeType&&a!==b;){if(c=Ext.getCmp(a.id))return c;a=a.parentNode}return null},getComponentByElement:function(a){var b=Ext.Component.componentIdAttribute;a=Ext.fly(a);return!a?null:(b=a.getAttribute(b))?Ext.getCmp(b):Ext.Component.findComponentByElement(a.dom)},getActiveComponent:function(){var a=Ext.dom.Element.getActiveElement();
return Ext.Component.getComponentByElement(a)}},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},addUIToElement:function(){var a=this.baseCls+"-"+this.ui,b,c,d,e;this.addCls(a);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(c in a+="-",b=this.getChildEls(),b)if((e=b[c].frame)&&!0!==e)(d=this[c])&&d.addCls(a+e)},changeConstraint:function(a,b,c,d,e){var g=this[e];null!=a&&"number"===typeof g&&(this[e]=Math[c](g,a));this.liquidLayout&&(null!=a?this.setStyle(d,a+"px"):
b&&this.setStyle(d,""));this.rendered&&this.updateLayout()},constructPlugin:function(a){return a="string"===typeof a?Ext.PluginManager.create({},a,this):Ext.PluginManager.create(a,null,this)},constructPlugins:function(){var a=this.plugins,b,c,d;if(a){b=[];b.processed=!0;Ext.isArray(a)||(a=[a]);c=0;for(d=a.length;c<d;c++)b[c]=this.constructPlugin(a[c])}this.pluginsInitialized=!0;return b},doScrollBy:function(a,b,c){var d=this.getOverflowEl();d&&d.scrollBy(a,b,c)},doScrollTo:function(a,b,c){var d=this.getOverflowEl();
d.scrollTo("left",a,c);d.scrollTo("top",b,c)},fireHierarchyEvent:function(a){var b=Ext.GlobalEvents;b.hasListeners[a]&&b.fireEvent(a,this)},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=!0;return++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var a=null,b=this.autoScroll,c;"boolean"===typeof b?(a={overflow:c=b?"auto":""},this.scrollFlags=
{overflowX:c,overflowY:c,x:b,y:b,both:b}):(b=this.overflowX,c=this.overflowY,void 0!==b||void 0!==c?(b&&!0===b&&(b="auto"),c&&!0===c&&(c="auto"),a={overflowX:b=b||"",overflowY:c=c||""},this.scrollFlags={overflowX:b,overflowY:c,x:b="auto"===b||"scroll"===b,y:c="auto"===c||"scroll"===c,both:b&&c}):this.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1});return a},getPlugins:function(){var a=this.plugins;return(a=a&&a.processed?a:this.constructPlugins())||null},getProxy:function(){var a;this.proxy||
(a=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",a,!0));return this.proxy},getScrollLeft:function(){return this.getOverflowEl().getScrollLeft()},getScrollerEl:function(){return this.scrollerEl||(this.scrollerEl=this.componentLayout.getScrollerEl()||this.getOverflowEl().child(this.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},
getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initCls:function(){var a=[this.baseCls,this.getComponentLayout().targetCls];Ext.isDefined(this.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),this.componentCls=this.cmpCls,delete this.cmpCls);this.componentCls?a.push(this.componentCls):this.componentCls=this.baseCls;return a},initDraggable:function(){var a=this.resizer&&this.resizer.el!==this.el?this.resizerComponent=
new Ext.Component({ariaRole:"presentation",el:this.resizer.el,rendered:!0,container:this.container}):this,b=Ext.applyIf({el:a.getDragEl(),constrainTo:this.constrain||this.draggable.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0},this.draggable);if(this.constrain||this.constrainDelegate)b.constrain=this.constrain,b.constrainDelegate=this.constrainDelegate;this.dd=new Ext.util.ComponentDragger(a,b)},initPadding:function(a){var b=this.padding;null!=
b&&(this.touchScroll||this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(!0===b?5:b)))},initPlugin:function(a){a.init(this);return a},initResizable:function(a){a=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrain||a&&a.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0,handles:this.resizeHandles},a);a.target=this;this.resizer=new Ext.resizer.Resizer(a)},
initScrollManager:function(){var a=this.scrollFlags,b=this.getScrollerEl();if(b&&!this.scrollManager)return this.scrollManager=new Ext.scroll.Manager({owner:this,el:b,direction:a.both?"auto":a.y?"vertical":"horizontal"})},initStyles:function(a){var b=this.margin,c=this.border,d=this.cls,e=this.style,g=this.x,h=this.y,j=this.liquidLayout;this.initPadding(a);null!=b&&a.setStyle("margin",this.unitizeBox(!0===b?5:b));null!=c&&this.setBorder(c,a);d&&d!=this.initialCls&&(a.addCls(d),this.cls=this.initialCls=
null);e&&e!=this.initialStyle&&(a.setStyle(e),this.style=this.initialStyle=null);null!=g&&a.setStyle(this.horizontalPosProp,"number"==typeof g?g+"px":g);null!=h&&a.setStyle("top","number"==typeof h?h+"px":h);if(!this.ownerCt||this.floating)Ext.scopeCss&&a.addCls(this.rootCls),a.addCls(this.borderBoxCls);if(j||!this.getFrameInfo())b=this.width,c=this.height,null!=b&&("number"===typeof b?a.setStyle("width",b+"px"):a.setStyle("width",b)),null!=c&&("number"===typeof c?a.setStyle("height",c+"px"):a.setStyle("height",
c))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(a){if(a.isContainer)for(var b=this.ownerCt;b;b=b.ownerCt)if(b===a)return!0;return!1},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},owns:function(a){var b=!1;a.isEvent?a=a.target:a.isElement&&(a=a.dom);(a=Ext.Component.findComponentByElement(a))&&(b=a===this||!!a.up(this));return b},parseBox:function(a){return Ext.Element.parseBox(a)},refreshScroll:function(){var a=this.scrollManager;
a&&a.refresh()},removeManagedListenerItem:function(a,b,c,d,e,g){var h=b.options?b.options.element:null;if(h){if((h=this[h])&&h.un&&(a||b.item===c&&b.ename===d&&(!e||b.fn===e)&&(!g||b.scope===g)))h.un(b.ename,b.fn,b.scope),a||Ext.Array.remove(this.managedListeners,b)}else return this.mixins.observable.removeManagedListenerItem.apply(this,arguments)},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},removeUIFromElement:function(){var a=
this.baseCls+"-"+this.ui,b,c,d,e;this.removeCls(a);if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(c in a+="-",b=this.getChildEls(),b)if((e=b[c].frame)&&!0!==e)(d=this[c])&&d.removeCls(a+e)},setComponentLayout:function(a){var b=this.componentLayout;b&&(b.isLayout&&b!=a)&&b.setOwner(null);this.componentLayout=a;a.setOwner(this)},setHiddenState:function(a){var b=this.getInherited();(this.hidden=a)?b.hidden=!0:delete b.hidden;this.zIndexManager&&this.zIndexManager.onComponentShowHide(this)},
setupProtoEl:function(){var a=this.initCls();this.protoEl.addCls(a)},setScrollLeft:function(a){this.getOverflowEl().setScrollLeft(a)},wrapPrimaryEl:function(a){this.floating?this.makeFloating(a):this.el=Ext.get(a)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(a){a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=
function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(b,c){a.suspendLayouts();b.call(c);a.resumeLayouts(!0)};Ext.setGlyphFontFamily=function(a){Ext._glyphFontFamily=a};a.hierarchyEventSource=a.prototype.hierarchyEventSource=Ext.GlobalEvents});
Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var a=this;a._borderRegionInited||(a._borderRegionInited=!0,a.addStateEvents(["changeregion","changeweight"]),Ext.override(a,{getState:function(){var b=a.callParent(),b=a.addPropertyToState(b,"region");return b=a.addPropertyToState(b,"weight")}}))},getOwningBorderContainer:function(){var a=this.getOwningBorderLayout();return a&&a.owner},getOwningBorderLayout:function(){var a=this.ownerLayout;return a&&
a.isBorderLayout?a:null},setRegion:function(a){var b,c=this.region;"string"!==typeof a&&Ext.Error.raise("Use setBox to set the size or position of a component.");if(a!==c)if(b=this.getOwningBorderLayout()){var d=b.regionFlags[a],e=this.placeholder,g=this.splitter,h=b.owner,j=b.regionMeta;b=this.collapsed||this.floated;var k;if(!1===this.fireEventArgs("beforechangeregion",[this,a]))return c;Ext.suspendLayouts();this.region=a;Ext.apply(this,d);this.updateCollapseTool&&this.updateCollapseTool();g&&(Ext.apply(g,
d),g.updateOrientation(),d=h.items,k=d.indexOf(this),0<=k&&(a=j[a].splitterDelta,d.getAt(k+a)!==g&&(d.remove(g),k=d.indexOf(this),0<a&&++k,d.insert(k,g))));e&&(b&&this.expand(!1),h.remove(e),this.placeholder=null,b&&this.collapse(null,!1));h.updateLayout();Ext.resumeLayouts(!0);this.fireEventArgs("changeregion",[this,c])}else this.region=a;return c},setWeight:function(a){var b=this.getOwningBorderContainer(),c=this.placeholder,d=this.weight;a!==d&&!1!==this.fireEventArgs("beforechangeweight",[this,
a])&&(this.weight=a,c&&(c.weight=a),b&&b.updateLayout(),this.fireEventArgs("changeweight",[this,d]));return d}},function(a){a=a.prototype;a.setBorderRegion=a.setRegion;a.setRegionWeight=a.setWeight});
Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(a){this.callParent([a]);this.getComponentLayout()},addCls:function(a){this.el.addCls(a)},addClsWithUI:function(a){this.el.addCls(a)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=!1;this.initBindable()},getComponentLayout:function(){var a=this.componentLayout;a||(a=this.componentLayout=
new Ext.layout.component.Auto,a.setOwner(this));return a},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(a,b,c){b=this.inheritedState;this.ownerCt=a;b&&c&&this.invalidateInheritedState();this.reference&&this.fixReference()},onRemoved:function(a){var b;this.reference&&
(b=this.lookupReferenceHolder())&&b.clearReference(this);a||this.removeBindings();this.inheritedState&&!a&&this.invalidateInheritedState();this.ownerCt=this.ownerLayout=null},parseBox:function(a){return Ext.Element.parseBox(a)},render:function(a,b){var c=this.element;b&&(nextSibiling=a.childNodes[b]);a.appendChild(c)},setPosition:function(a,b){this.el.setLocalXY(a,b)}},function(){var a;Ext.isIE8&&(a=Ext.Widget.prototype,a.addElementReferenceOnDemand=a.addElementReference);this.borrow(Ext.Component,
["up"])});
Ext.define("Ext.rtl.Component",{override:"Ext.Component",convertPositionSpec:function(a){if((Ext.rootInheritedState.rtl||!1)!==(this.getInherited().rtl||!1))a=a.replace(/l/g,"tmp").replace(/r/g,"l").replace(/tmp/g,"r");return a},getAnchorToXY:function(a,b,c,d){var e=document,g;a.dom==e.body||a.dom==e?(c=Ext.rootInheritedState.rtl?a.rtlGetScroll():a.getScroll(),e=c.left,c=c.top):(g=a.getXY(),e=c?0:g[0],c=c?0:g[1]);return a.calculateAnchorXY(b,e,c,d)},getBorderPadding:function(){var a=this.el.getBorderPadding(),b;
this.isParentRtl()&&(b=a.xBegin,a.xBegin=a.xEnd,a.xEnd=b);return a},getLocalX:function(){return this.isLocalRtl()?this.el.rtlGetLocalX():this.el.getLocalX()},getLocalXY:function(){return this.isLocalRtl()?this.el.rtlGetLocalXY():this.el.getLocalXY()},unitizeBox:function(a){return this.getInherited().rtl?Ext.dom.Element.rtlUnitizeBox(a):this.callParent(arguments)},initInheritedState:function(a){this.callParent(arguments);var b=this.rtl;void 0!==b&&(a.rtl=b)},isLocalRtl:function(){var a;if(this.floating){if(void 0===
this._isOffsetParentRtl&&(a=this.el.dom.offsetParent||this.el.dom.parentNode))this._isOffsetParentRtl=Ext.fly(a,"_isLocalRtl").isStyle("direction","rtl");a=!!this._isOffsetParentRtl}else a=this.isParentRtl();return a},isParentRtl:function(){var a=this.getInherited(),b=!1,c;a.hasOwnProperty("rtl")&&(c=a.rtl,delete a.rtl);a.rtl&&(b=!0);void 0!==c&&(a.rtl=c);return b},setLocalX:function(a){return this.isLocalRtl()?this.el.rtlSetLocalX(a):this.el.setLocalX(a)},setLocalXY:function(a,b){return this.isLocalRtl()?
this.el.rtlSetLocalXY(a,b):this.el.setLocalXY(a,b)},isOppositeRootDirection:function(){return!this.getInherited().rtl!==!Ext.rootInheritedState.rtl},privates:{doScrollTo:function(a,b,c){var d=this.getOverflowEl();d[this.getInherited().rtl?"rtlScrollTo":"scrollTo"]("left",a,c);d.scrollTo("top",b,c)},doScrollBy:function(a,b,c){var d=this.getOverflowEl();if(d)d[this.getInherited().rtl?"rtlScrollBy":"scrollBy"](a,b,c)},getScrollLeft:function(){var a=this.getInherited().rtl;return this.getOverflowEl()[a?
"rtlGetScrollLeft":"getScrollLeft"]()},setScrollLeft:function(a){var b=this.getInherited().rtl;this.getOverflowEl()[b?"rtlSetScrollLeft":"setScrollLeft"](a)},initStyles:function(){this.getInherited().rtl&&(this.horizontalPosProp="right");this.callParent(arguments)},parseBox:function(a){return this.getInherited().rtl?Ext.dom.Element.rtlParseBox(a):this.callParent(arguments)}}},function(){Ext.onReady(function(){if(Ext.fly(document.documentElement).isStyle("direction","rtl")||Ext.getBody().isStyle("direction",
"rtl"))Ext.rootInheritedState.rtl=!0})});
Ext.define("Ext.event.gesture.Recognizer",{mixins:[Ext.mixin.Identifiable],handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return!1},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},debugHooks:{$enabled:!1,
fail:function(a){Ext.log.info(this.$className+" Gesture Failed: "+a);return!1}}});Ext.define("Ext.event.gesture.SingleTouch",{extend:Ext.event.gesture.Recognizer,inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(a){if(1<a.touches.length)return this.fail(this.self.NOT_SINGLE_TOUCH)},onTouchCancel:function(){return!1}});
Ext.define("Ext.event.gesture.DoubleTap",{extend:Ext.event.gesture.SingleTouch,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(a){var b;if(!1===this.callParent(arguments))return!1;b=this.lastStartPoint=a.changedTouches[0].point;this.startPoint=this.startPoint||b;this.startTime=a.time;clearTimeout(this.singleTapTimer)},onTouchMove:function(a){if(Math.abs(a.changedTouches[0].point.getDistanceTo(this.lastStartPoint))>=
this.getMoveDistance())return this.startPoint=null,this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){var b=this.getMaxDuration(),c=a.time,d=a.target,e=this.lastTapTime,g=this.lastTarget,h=a.changedTouches[0].point;this.lastTapTime=c;this.lastTarget=d;if(e&&(e=c-e,e<=b&&Math.abs(h.getDistanceTo(this.startPoint))<=this.getTapDistance())){if(d!==g)return this.fail(this.self.DIFFERENT_TARGET);this.lastTarget=null;this.lastTapTime=0;this.fire("doubletap",a,{touch:a.changedTouches[0],duration:e});
this.startPoint=null;return}c-this.startTime>b?this.fireSingleTap(a):this.setSingleTapTimer(a)},setSingleTapTimer:function(a){var b=this;b.singleTapTimer=Ext.defer(function(){b.fireSingleTap(a)},b.getMaxDuration())},fireSingleTap:function(a,b){this.fire("singletap",a,{touch:b});this.startPoint=null}});
Ext.define("Ext.event.gesture.Drag",{extend:Ext.event.gesture.SingleTouch,isStarted:!1,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callSuper(arguments);this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(a){if(!1===this.callSuper(arguments))return this.isStarted&&
null!==this.lastMoveEvent&&(this.lastMoveEvent.isStopped=!1,this.onTouchEnd(this.lastMoveEvent)),!1;this.startTime=a.time;this.startPoint=a.changedTouches[0].point},tryDragStart:function(a){var b=this.startPoint,c=a.changedTouches[0],d=c.point,e=this.getMinDistance(),g=this.info;Math.abs(d.getDistanceTo(b))>=e&&(this.isStarted=!0,this.previousPoint=this.lastPoint=d,this.resetInfo("x",a,c),this.resetInfo("y",a,c),g.time=a.time,this.fire("dragstart",a,g))},onTouchMove:function(a){this.isStarted||this.tryDragStart(a);
if(this.isStarted){var b=a.changedTouches[0],c=b.point;this.lastPoint&&(this.previousPoint=this.lastPoint);this.lastPoint=c;this.lastMoveEvent=a;this.updateInfo("x",a,b);this.updateInfo("y",a,b);this.info.time=a.time;this.fire("drag",a,this.info)}},onAxisDragEnd:function(a,b){var c=b.time-b.previousTime[a];0<c&&(b.flick.velocity[a]=(b[a]-b.previous[a])/c)},resetInfo:function(a,b,c){b=this.lastPoint[a];var d=this.startPoint[a],e=b-d,g=a.toUpperCase(),h=this.info;h.touch=c;h.delta[a]=e;h.absDelta[a]=
Math.abs(e);h.previousTime[a]=this.startTime;h.previous[a]=d;h[a]=b;h.direction[a]=0;h["start"+g]=this.startPoint[a];h["previous"+g]=h.previous[a];h["page"+g]=h[a];h["delta"+g]=h.delta[a];h["absDelta"+g]=h.absDelta[a];h["previousDelta"+g]=0;h.startTime=this.startTime},updateInfo:function(a,b,c){b=this.lastPoint[a];var d=this.previousPoint[a],e=this.startPoint[a],g=b-e,h=this.info,j=h.direction,k=a.toUpperCase(),l=h.previous[a];h.touch=c;h.delta[a]=g;h.absDelta[a]=Math.abs(g);b!==l&&b!==h[a]&&(h.previous[a]=
h[a],h.previousTime[a]=h.time);h[a]=b;b>d?j[a]=1:b<d&&(j[a]=-1);h["start"+k]=e;h["previous"+k]=h.previous[a];h["page"+k]=h[a];h["delta"+k]=h.delta[a];h["absDelta"+k]=h.absDelta[a];h["previousDelta"+k]=h.previous[a]-e;h.startTime=this.startTime},onTouchEnd:function(a){this.doEnd(a)},onTouchCancel:function(a){this.doEnd(a,!0);return!1},doEnd:function(a,b){this.isStarted||this.tryDragStart(a);if(this.isStarted){var c=a.changedTouches[0],d=c.point,e=this.info;this.isStarted=!1;this.lastPoint=d;this.updateInfo("x",
a,c);this.updateInfo("y",a,c);e.time=a.time;this.onAxisDragEnd("x",e);this.onAxisDragEnd("y",e);this.fire(b?"dragcancel":"dragend",a,e);this.lastMoveEvent=this.lastPoint=this.previousPoint=this.startPoint=null}}});
Ext.define("Ext.event.gesture.Swipe",{extend:Ext.event.gesture.SingleTouch,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1E3},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;var b=a.changedTouches[0];this.startTime=a.time;this.isVertical=this.isHorizontal=!0;this.startX=b.pageX;
this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageX,d=b.pageY,e=c-this.startX,g=d-this.startY,c=Math.abs(c-this.startX),d=Math.abs(d-this.startY),h=a.time-this.startTime,j=this.getMinDistance(),k,l;if(a.time-this.startTime>this.getMaxDuration())return this.fail(this.self.MAX_DURATION_EXCEEDED);this.isHorizontal&&d>this.getMaxOffset()&&(this.isHorizontal=!1);this.isVertical&&c>this.getMaxOffset()&&(this.isVertical=!1);if(!this.isVertical||!this.isHorizontal)this.isHorizontal&&
c<j?(k=0>e?"left":"right",l=c):this.isVertical&&d<j&&(k=0>g?"up":"down",l=d);k&&!this.started&&(this.started=!0,this.fire("swipestart",a,{touch:b,direction:k,distance:l,duration:h}));if(!this.isHorizontal&&!this.isVertical)return this.fail(this.self.MAX_OFFSET_EXCEEDED)},onTouchEnd:function(a){if(!1===this.onTouchMove(a))return!1;var b=a.changedTouches[0],c=b.pageX-this.startX,d=b.pageY-this.startY,e=Math.abs(c),g=Math.abs(d),h=this.getMinDistance(),j=a.time-this.startTime;this.isVertical&&g<h&&(this.isVertical=
!1);this.isHorizontal&&e<h&&(this.isHorizontal=!1);if(this.isHorizontal)c=0>c?"left":"right";else if(this.isVertical)c=0>d?"up":"down",e=g;else return this.fail(this.self.DISTANCE_NOT_ENOUGH);this.started=!1;this.fire("swipe",a,{touch:b,direction:c,distance:e,duration:j})},onTouchCancel:function(a){this.fire("swipecancel",a);return!1}});
Ext.define("Ext.event.gesture.EdgeSwipe",{extend:Ext.event.gesture.Swipe,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;var b=a.changedTouches[0];this.started=!1;this.direction=null;this.isVertical=this.isHorizontal=!0;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(a){var b=a.changedTouches[0],c=b.pageX,d=b.pageY,
e=c-this.startX,g=d-this.startY,d=Math.abs(d-this.startY),c=Math.abs(c-this.startX),h=this.getMinDistance(),j=this.getMaxOffset(),k=a.time-this.startTime,l=Ext.Viewport&&Ext.Element.getViewportWidth(),m=Ext.Viewport&&Ext.Element.getViewportHeight(),n,p;this.isVertical&&c>j&&(this.isVertical=!1);this.isHorizontal&&d>j&&(this.isHorizontal=!1);this.isVertical&&this.isHorizontal&&(d>c?this.isHorizontal=!1:this.isVertical=!1);this.isHorizontal?(n=0>e?"left":"right",p=e):this.isVertical&&(n=0>g?"up":"down",
p=g);this.direction=this.direction||n;"up"==this.direction?p=-1*g:"left"==this.direction&&(p=-1*e);this.distance=p;if(0==p)return this.fail(this.self.DISTANCE_NOT_ENOUGH);if(this.started)this.fire("edgeswipe",a,{touch:b,direction:this.direction,distance:this.distance,duration:k});else{if("right"==this.direction&&this.startX>h||"down"==this.direction&&this.startY>h||"left"==this.direction&&l-this.startX>h||"up"==this.direction&&m-this.startY>h)return this.fail(this.self.NOT_NEAR_EDGE);this.started=
!0;this.startTime=a.time;this.fire("edgeswipestart",a,{touch:b,direction:this.direction,distance:this.distance,duration:k})}},onTouchEnd:function(a){var b;!1!==this.onTouchMove(a)&&(b=a.time-this.startTime,this.fire("edgeswipeend",a,{touch:a.changedTouches[0],direction:this.direction,distance:this.distance,duration:b}))},onTouchCancel:function(a){this.fire("edgeswipecancel",a,{touch:a.changedTouches[0]});return!1}});
Ext.define("Ext.event.gesture.LongPress",{extend:Ext.event.gesture.SingleTouch,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1E3},handledEvents:["longpress"],fireLongPress:function(a){this.fire("longpress",a,{touch:a.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=!0},onTouchStart:function(a){if(!1===this.callParent(arguments))return!1;this.startPoint=a.changedTouches[0].point;this.isLongPress=!1;this.setLongPressTimer(a)},setLongPressTimer:function(a){var b=
this;b.timer=Ext.defer(function(){b.fireLongPress(a)},b.getMinDuration())},onTouchMove:function(a){if(Math.abs(a.changedTouches[0].point.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(){if(!this.isLongPress)return this.fail(this.self.DURATION_NOT_ENOUGH)},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(a){if("longpress"===
a){var b=Array.prototype.slice.call(arguments);b[0]="taphold";this.fire.apply(this,b)}return this.callOverridden(arguments)}})});
Ext.define("Ext.event.gesture.MultiTouch",{extend:Ext.event.gesture.Recognizer,requiredTouchesCount:2,isTracking:!1,isStarted:!1,onTouchStart:function(a){var b=this.requiredTouchesCount,c=a.touches.length;c===b?this.start(a):c>b&&this.end(a)},onTouchEnd:function(a){this.end(a)},onTouchCancel:function(a){this.end(a,!0);return!1},start:function(){this.isTracking||(this.isTracking=!0,this.isStarted=!1)},end:function(a,b){this.isTracking&&(this.isTracking=!1,this.isStarted&&(this.isStarted=!1,this[b?
"fireCancel":"fireEnd"](a)))}});
Ext.define("Ext.event.gesture.Pinch",{extend:Ext.event.gesture.MultiTouch,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(a){if(this.isTracking){var b=a.touches,c;c=b[0].point.getDistanceTo(b[1].point);0!==c&&(this.isStarted?this.fire("pinch",a,{touches:b,distance:c,scale:c/this.startDistance}):(this.isStarted=!0,this.startDistance=c,this.fire("pinchstart",a,{touches:b,distance:c,scale:1})))}},fireEnd:function(a){this.fire("pinchend",a)},
fireCancel:function(a){this.fire("pinchcancel",a)},fail:function(){return this.callParent(arguments)}});
Ext.define("Ext.event.gesture.Rotate",{extend:Ext.event.gesture.MultiTouch,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(a){if(this.isTracking){var b=a.touches,c=this.lastAngle,d,e,g,h;d=b[0].point.getAngleTo(b[1].point);null!==c&&(h=Math.abs(c-d),e=d+360,g=d-360,Math.abs(e-c)<h?d=e:Math.abs(g-c)<h&&(d=g));this.lastAngle=d;this.isStarted?this.fire("rotate",a,{touches:b,angle:d,rotation:d-this.startAngle}):(this.isStarted=
!0,this.startAngle=d,this.fire("rotatestart",a,{touches:b,angle:d,rotation:0}));this.lastTouches=Ext.Array.clone(b)}},fireEnd:function(a){this.lastAngle=null;this.fire("rotateend",a)},fireCancel:function(a){this.lastAngle=null;this.fire("rotatecancel",a)}});
Ext.define("Ext.event.gesture.Tap",{extend:Ext.event.gesture.SingleTouch,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(a){if(!1===this.callParent([a]))return!1;this.startPoint=a.changedTouches[0].point},onTouchMove:function(a){var b=a.changedTouches[0];if(Math.abs(b.point.getDistanceTo(this.startPoint))>=this.getMoveDistance())return this.fire("tapcancel",a,{touch:b}),this.fail(this.self.TOUCH_MOVED)},onTouchEnd:function(a){this.fire("tap",a,{touch:a.changedTouches[0]})},
onTouchCancel:function(a){this.fire("tapcancel",a,{touch:a.changedTouches[0]});return!1}});
Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var a=this.handledEvents||[],b,c,d,e;b=this.handledEventsMap={};c=0;for(d=a.length;c<d;c++)e=a[c],b[e]=!0;this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return!!b[a]||!!b["*"]||"*"===a},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return!1},unsubscribe:function(){return!1},unsubscribeAll:function(){delete this.subscribers;
this.subscribers={};return this},notify:function(){return!1},getTargetType:function(){return this.targetType},dispatch:function(a,b,c,d){this.dispatcher.doDispatchEvent(this.targetType,a,b,c,null,null,d)},destroy:Ext.emptyFn});
Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=null!=a&&!isNaN(a)?a:0;this.y=null!=b&&!isNaN(b)?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){a instanceof this.statics()||Ext.Error.raise("Offset must be an instance of Ext.util.Offset");return this.x==a.x&&this.y==a.y},round:function(a){isNaN(a)?
(this.x=Math.round(this.x),this.y=Math.round(this.y)):(a=Math.pow(10,a),this.x=Math.round(this.x*a)/a,this.y=Math.round(this.y*a)/a)},isZero:function(){return 0==this.x&&0==this.y}});
Ext.define("Ext.util.Region",{isRegion:!0,statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(a,b,c,d){this.y=this.top=this[1]=a;this.right=b;this.bottom=c;this.x=this.left=this[0]=d},contains:function(a){return a.x>=this.x&&a.right<=this.right&&a.y>=this.y&&a.bottom<=this.bottom},intersect:function(a){var b=Math.max(this.y,a.y),c=Math.min(this.right,a.right),d=Math.min(this.bottom,a.bottom);a=Math.max(this.x,
a.x);return d>b&&c>a?new this.self(b,c,d,a):!1},union:function(a){var b=Math.min(this.y,a.y),c=Math.max(this.right,a.right),d=Math.max(this.bottom,a.bottom);a=Math.min(this.x,a.x);return new this.self(b,c,d,a)},constrainTo:function(a){var b=Ext.Number.constrain;this.top=this.y=b(this.top,a.y,a.bottom);this.bottom=b(this.bottom,a.y,a.bottom);this.left=this.x=b(this.left,a.x,a.right);this.right=b(this.right,a.x,a.right);return this},adjust:function(a,b,c,d){this.top=this.y+=a;this.left=this.x+=d;this.right+=
b;this.bottom+=c;return this},getOutOfBoundOffset:function(a,b){if(Ext.isObject(a)){b=a;var c=new Ext.util.Offset;c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}return"x"==a?this.getOutOfBoundOffsetX(b):this.getOutOfBoundOffsetY(b)},getOutOfBoundOffsetX:function(a){return a<=this.x?this.x-a:a>=this.right?this.right-a:0},getOutOfBoundOffsetY:function(a){return a<=this.y?this.y-a:a>=this.bottom?this.bottom-a:0},isOutOfBound:function(a,b){return Ext.isObject(a)?(b=a,this.isOutOfBoundX(b.x)||
this.isOutOfBoundY(b.y)):"x"==a?this.isOutOfBoundX(b):this.isOutOfBoundY(b)},isOutOfBoundX:function(a){return a<this.x||a>this.right},isOutOfBoundY:function(a){return a<this.y||a>this.bottom},restrict:function(a,b,c){return Ext.isObject(a)?(c=b,b=a,a=b.copy?b.copy():{x:b.x,y:b.y},a.x=this.restrictX(b.x,c),a.y=this.restrictY(b.y,c),a):"x"==a?this.restrictX(b,c):this.restrictY(b,c)},restrictX:function(a,b){b||(b=1);a<=this.x?a-=(a-this.x)*b:a>=this.right&&(a-=(a-this.right)*b);return a},restrictY:function(a,
b){b||(b=1);a<=this.y?a-=(a-this.y)*b:a>=this.bottom&&(a-=(a-this.bottom)*b);return a},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(a){this.top=this.y=this[1]=a.y;this.right=a.right;this.bottom=a.bottom;this.left=this.x=this[0]=a.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,b){1==arguments.length&&
(b=a.y,a=a.x);this.top=this.y+=b;this.right+=a;this.bottom+=b;this.left=this.x+=a;return this},round:function(){this.top=this.y=Math.round(this.y);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=this.x=Math.round(this.x);return this},equals:function(a){return this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left}});
Ext.define("Ext.util.Point",{extend:Ext.util.Region,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(a){var b=a.changedTouches;return this.fromTouch(b&&0<b.length?b[0]:a)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){return!a?new this(0,0):!(a instanceof this)?new this(a.x,a.y):a}},constructor:function(a,b){null==a&&(a=0);null==b&&(b=0);this.callParent([b,a,b,a])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,
arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(a,b){if("number"==typeof b)return this.getDistanceTo(a)<=b;var c=a.x,d=a.y,e=b.x,g=b.y;return this.x<=c+e&&this.x>=c-e&&this.y<=d+g&&this.y>=d-g},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){a instanceof Ext.util.Region||(a=Ext.get(a.el||a).getRegion());return a.contains(this)},roundedEquals:function(a){"object"!=
typeof a&&(a=this.origin);return Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y)},getDistanceTo:function(a){"object"!=typeof a&&(a=this.origin);var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)},getAngleTo:function(a){"object"!=typeof a&&(a=this.origin);return Math.atan2(this.y-a.y,this.x-a.x)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy});
Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",isStopped:!1,isEvent:!0,statics:{resolveTextNode:function(a){return a&&3===a.nodeType?a.parentNode:a},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,
mouseenter:1,mouseleave:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(a){var b=this.self,c=this.self.resolveTextNode,d=a.changedTouches,e=d?d[0]:a,d=a.type,g;this.pageX=e.pageX;this.pageY=e.pageY;this.target=this.delegatedTarget=c(a.target);if(e=a.relatedTarget)this.relatedTarget=c(e);this.browserEvent=
this.event=a;this.type=d;this.button=a.button||0;this.shiftKey=a.shiftKey;this.ctrlKey=a.ctrlKey||a.metaKey||!1;this.altKey=a.altKey;this.charCode=a.charCode;this.keyCode=a.keyCode;void 0!==b.forwardTab&&b.focusEvents[d]&&(this.forwardTab=b.forwardTab);b.mouseEvents[d]?g="mouse":b.pointerEvents[d]?g=b.pointerTypes[a.pointerType]:b.touchEvents[d]&&(g="touch");g&&(this.pointerType=g);this.timeStamp=this.time=+(a.timeStamp||new Date)},chain:function(a){var b=Ext.Object.chain(this);b.parentEvent=this;
return Ext.apply(b,a)},correctWheelDelta:function(a){var b=Math.round(a/this.WHEEL_SCALE);!b&&a&&(b=0>a?-1:1);return b},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},getRelatedTarget:function(a,b,c){var d=this.relatedTarget,e=null;d&&(e=a?Ext.fly(d).findParent(a,b,c):c?Ext.get(d):d);return e},getTarget:function(a,b,c){return a?Ext.fly(this.target).findParent(a,
b,c):c?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var a=this.browserEvent,b=0,c=0;Ext.isDefined(a.wheelDeltaX)?(b=a.wheelDeltaX,c=a.wheelDeltaY):a.wheelDelta?c=a.wheelDelta:a.detail&&(c=-a.detail,100<c?c=3:-100>c&&(c=-3),Ext.isDefined(a.axis)&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0));return{x:this.correctWheelDelta(b),y:this.correctWheelDelta(c)}},getX:function(){return this.getXY()[0]},getXY:function(){var a=
this.xy;if(!a){var a=this.xy=[this.pageX,this.pageY],b=a[0],c,d;!b&&0!==b&&(b=this.browserEvent,c=document,d=c.documentElement,c=c.body,a[0]=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a[1]=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||0))}return a},getY:function(){return this.getXY()[1]},hasModifier:function(){return!(!this.ctrlKey&&!this.altKey&&!this.shiftKey&&!this.metaKey)},isNavKeyPress:function(){var a=this.keyCode;
return 33<=a&&40>=a||a===this.RETURN||a===this.TAB||a===this.ESC},isSpecialKey:function(){var a=this.keyCode;return"keypress"===this.type&&this.ctrlKey||this.isNavKeyPress()||a===this.BACKSPACE||16<=a&&20>=a||44<=a&&46>=a},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){this.browserEvent.preventDefault();return this},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},
stopPropagation:function(){var a=this.browserEvent,b=this.parentEvent;this.isStopped=!0;b&&(b.isStopped=!0);if(!a.stopPropagation)return a.cancelBubble=!0,this;a.stopPropagation();return this},within:function(a,b,c){if(a)var d=b?this.getRelatedTarget():this.getTarget();return d?Ext.fly(a).contains(d)||!!(c&&d===Ext.getDom(a)):!1},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(a){var b=a.prototype,c;Ext.isGecko?c=3:Ext.isMac?(c=Ext.isSafari&&532<=Ext.webKitVersion?120:12,
c*=3):c=120;c={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,
NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:c};Ext.apply(a,c);Ext.apply(b,c);b.getTrueXY=b.getXY});
Ext.define("Ext.event.publisher.Dom",{extend:Ext.event.publisher.Publisher,reEnterCount:0,targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},
blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var a=document,b=a.defaultView,c=this.eventToVendorMap={},d=this.vendorToEventMap={},e=this.handledEvents,g=Ext.browser,h;this.captureSubscribers={};this.directSubscribers={};this.globalListeners={};Ext.os.is.iOS&&5>Ext.os.version.getMajor()||!b||!b.addEventListener?(this.target=
a,this.isTargetWin=!1):(this.target=b,this.isTargetWin=!0);this.initHandlers();if(e){a=0;for(b=e.length;a<b;a++)this.addDelegatedListener(e[a])}else if(g.is.WebKit)for(h in c.transitionend=g.getVendorProperyName("transitionEnd"),c.animationstart=g.getVendorProperyName("animationStart"),c.animationend=g.getVendorProperyName("animationEnd"),c)d[c[h]]=h;return this.callParent()},initHandlers:function(){this.onDelegatedEvent=Ext.bind(this.onDelegatedEvent,this);this.onDirectEvent=Ext.bind(this.onDirectEvent,
this)},handles:function(){return!1},getSubscribers:function(a,b){var c=b?this.captureSubscribers:this.subscribers,d=c[a];d||(d=c[a]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0});return d},getDirectSubscribers:function(a,b){var c=this.directSubscribers,c=c[a]||(c[a]={});return c[b]||(c[b]={$length:0})},addDelegatedListener:function(a){this.target.addEventListener(a,this.onDelegatedEvent,this.captureEvents[a])},removeDelegatedListener:function(a){this.target.removeEventListener(a,
this.onDelegatedEvent,this.captureEvents[a])},addDirectListener:function(a,b,c){b.addEventListener(a,this.onDirectEvent,c)},removeDirectListener:function(a,b,c){b.removeEventListener(a,this.onDirectEvent,c)},subscribe:function(a,b,c,d){var e=!!c.capture,g=a.match(this.idOrClassSelectorRegex);if(!1!==c.delegated&&!this.directEvents[b]&&("#ext-window"!==a||this.isTargetWin)){!this.handledEvents&&!this.globalListeners[b]&&(this.addDelegatedListener(this.eventToVendorMap[b]||b),this.globalListeners[b]=
1);b=this.getSubscribers(b,e);e=b.id;c=b.className;d=b.selector;if(g)if(a=g[1],g=g[2],"#"===a){if(e.hasOwnProperty(g)){e[g]++;return}e[g]=1;e.$length++}else{if(c.hasOwnProperty(g)){c[g]++;return}c[g]=1;c.$length++}else if(a===this.SELECTOR_ALL)b.all++;else{if(d.hasOwnProperty(a)){d[a]++;return}d[a]=1;d.push(a)}b.$length++}else d=d.dom,c=this.getDirectSubscribers(d.id,b),1===++c.$length&&this.addDirectListener(b,d,e),g||(c.selector||(c.selector=[])).push(a)},unsubscribe:function(a,b,c,d,e){var g=!!d.capture,
h=a.match(this.idOrClassSelectorRegex),j;if(!1===d.delegated||this.directEvents[b]||a===Ext.windowId&&!this.isTargetWin)e=e.dom,j=e.id,d=this.getDirectSubscribers(j,b),c?(d.$length&&this.removeDirectListener(b,e,g),delete this.directSubscribers[j]):--d.$length?h||Ext.Array.remove(d.selector,a):(this.removeDirectListener(b,e,g),delete this.directSubscribers[j][b]);else{b=this.getSubscribers(b,g);g=b.id;d=b.className;e=b.selector;if(h)if(a=h[1],h=h[2],"#"===a){if(!g.hasOwnProperty(h)||!c&&0<--g[h])return;
delete g[h];g.$length--}else{if(!d.hasOwnProperty(h)||!c&&0<--d[h])return;delete d[h];d.$length--}else if(a===this.SELECTOR_ALL)c?b.all=0:b.all--;else{if(!e.hasOwnProperty(a)||!c&&0<--e[a])return;delete e[a];Ext.Array.remove(e,a)}b.$length--}},getPropagatingTargets:function(a){var b=[];if(!a)return b;do b[b.length]=a,a=a.parentNode;while(a);return b},dispatch:function(a,b,c){c.push(c[0].target);this.callParent(arguments)},publish:function(a,b,c){var d=this.getSubscribers(a,!0),e=this.getSubscribers(a),
g=this.getSubscribers("*",!0),h=this.getSubscribers("*"),j=d.$length,k=e.$length,l=g.$length,m=h.$length;if(j||k||l||m)return b=Ext.isArray(b)?b:this.captureEvents[a]?[b]:this.getPropagatingTargets(b),(!j||!this.doPublish(d,a,b,c,!0))&&l&&this.doPublish(g,a,b,c,!0),!c.isStopped&&(!k||!this.doPublish(e,a,b,c))&&m&&this.doPublish(h,a,b,c),this},doPublish:function(a,b,c,d,e){var g=a.id,h=a.className,j=a.selector,k=0<g.$length,l=0<h.$length,m=0<j.length,n=0<a.all,p={};a=[d];var q=!1,r=this.classNameSplitRegex,
s=0,t=c.length,u=1,v,w,x,A;e&&(s=t-1,t=u=-1);for(;s!==t;s+=u){x=c[s];d.setCurrentTarget(x);if(k&&(v="FORM"===x.tagName?x.getAttribute("id"):x===window?"ext-window":x.id)&&g.hasOwnProperty(v))q=!0,this.dispatch("#"+v,b,a,e);if(l&&(x=x.className)){A=x.split(r);v=0;for(w=A.length;v<w;v++)x=A[v],p[x]||(p[x]=!0,h.hasOwnProperty(x)&&(q=!0,this.dispatch("."+x,b,a)))}if(d.isStopped)return q}if(n&&!q&&(d.setCurrentTarget(d.browserEvent.target),q=!0,this.dispatch(this.SELECTOR_ALL,b,a),d.isStopped))return q;
if(m){v=0;for(w=c.length;v<w;v++){x=c[v];s=0;for(e=j.length;s<e;s++)if(g=j[s],Ext.fly(x).is(g)&&(d.setCurrentTarget(x),q=!0,this.dispatch(g,b,a)),d.isStopped)return q}}return q},onDelegatedEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[a]):this.doDelegatedEvent(a)},doDelegatedEvent:function(a,b){var c=a.type,d;d=new Ext.event.Event(a);if(this.isEventBlocked(d))return!1;this.beforeEvent(d);c=d.type=this.vendorToEventMap[c]||c;Ext.frameStartTime=a.timeStamp;this.reEnterCount++;
this.publish(c,d.target,d);this.reEnterCount--;!1!==b&&this.afterEvent(d);return d},onDirectEvent:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[a]):this.doDirectEvent(a)},doDirectEvent:function(a){var b=a.type,c=new Ext.event.Event(a),d,e,g,h,j,k,l,m,n;if(!this.isEventBlocked(c)){this.beforeEvent(c);b=c.type=this.vendorToEventMap[b]||b;d=a.currentTarget;e=d.id;g=this.getDirectSubscribers(e,b).selector;h=this.dispatcher;j=this.targetType;l=k=a.target;Ext.frameStartTime=
a.timeStamp;k.navigator&&(e="ext-window");c.setCurrentTarget(d);if(g)for(m=g.length;l!==d;){for(a=0;a<m;a++)n=g[a],Ext.fly(l).is(n)&&h.dispatchDirectEvent(j,n,b,[c,k]);l=l.parentNode}this.reEnterCount++;h.dispatchDirectEvent(j,"#"+e,b,[c,k]);this.reEnterCount--;this.afterEvent(c)}},beforeEvent:function(a){var b=a.browserEvent;a=Ext.event.publisher.Dom;"touchstart"===b.type&&(b=b.touches,1===b.length&&(b=b[0],a.lastTouchStartX=b.pageX,a.lastTouchStartY=b.pageY))},afterEvent:function(a){var b=a.browserEvent.type,
c=Ext.event.publisher.Dom,d=Ext.GlobalEvents;a.self.pointerEvents[b]&&"mouse"!==a.pointerType&&(c.lastScreenPointerEventTime=Ext.now());"touchend"===b&&(c.lastTouchEndTime=Ext.now());!this.reEnterCount&&(d.hasListeners.idle&&!d.idleEventMask[b])&&d.fireEvent("idle")},isEventBlocked:function(a){var b=a.type,c=Ext.event.publisher.Dom,d=Ext.now();return this.blockedPointerEvents[b]&&"mouse"!==a.pointerType||this.blockedCompatibilityMouseEvents[b]&&1E3>d-c.lastScreenPointerEventTime||Ext.supports.TouchEvents&&
a.self.mouseEvents[a.type]&&15>Math.abs(a.pageX-c.lastTouchStartX)&&15>Math.abs(a.pageY-c.lastTouchStartY)&&1E3>Ext.now()-c.lastTouchEndTime},hasSubscriber:function(a,b){var c=a.match(this.idOrClassSelectorRegex),d=this.getSubscribers(b),e;return null!==c?(e=c[1],c=c[2],"#"===e?d.id.hasOwnProperty(c):d.className.hasOwnProperty(c)):d.selector.hasOwnProperty(a)&&-1!==Ext.Array.indexOf(d.selector,a)},getSubscribersCount:function(a){return this.getSubscribers(a).$length+this.getSubscribers("*").$length},
destroy:function(){var a=this.handledEvents,b,c;if(a){b=0;for(c=a.length;b<c;b++)this.removeDelegatedListener(a[b])}else for(b in this.globalListeners)this.removeDelegatedListener(b)}});Ext.define("Ext.rtl.event.Event",{override:"Ext.event.Event",getXY:function(){var a=this.xy;a||(a=this.callParent(),Ext.rootInheritedState.rtl&&(a[0]=Ext.Element.getViewportWidth()-a[0]));return a}});
Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){function a(){}var b,c={},d;!Ext.isIE9m&&document.createEvent?b={createHtmlEvent:function(a,b,c,d){a=a.createEvent("HTMLEvents");a.initEvent(b,c,d);return a},createMouseEvent:function(a,b,c,d,k,l,m,n,p,q,r,s,t){var u=a.createEvent("MouseEvents"),v=a.defaultView||window;u.initMouseEvent?u.initMouseEvent(b,c,d,v,k,l,m,l,m,n,p,q,r,s,t):(u=a.createEvent("UIEvents"),
u.initEvent(b,c,d),u.view=v,u.detail=k,u.screenX=l,u.screenY=m,u.clientX=l,u.clientY=m,u.ctrlKey=n,u.altKey=p,u.metaKey=r,u.shiftKey=q,u.button=s,u.relatedTarget=t);return u},createUIEvent:function(a,b,c,d,k){var l=a.createEvent("UIEvents");l.initUIEvent(b,c,d,a.defaultView||window,k);return l},fireEvent:function(a,b,c){a.dispatchEvent(c)}}:document.createEventObject&&(d={"0":1,1:4,2:2},b={createHtmlEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},createMouseEvent:function(a,
b,c,j,k,l,m,n,p,q,r,s,t){a=a.createEventObject();a.bubbles=c;a.cancelable=j;a.detail=k;a.screenX=l;a.screenY=m;a.clientX=l;a.clientY=m;a.ctrlKey=n;a.altKey=p;a.shiftKey=q;a.metaKey=r;a.button=d[s]||s;a.relatedTarget=t;return a},createUIEvent:function(a,b,c,d){a=a.createEventObject();a.bubbles=c;a.cancelable=d;return a},fireEvent:function(a,b,c){a.fireEvent("on"+b,c)}});Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,
!1]},function(a,d){var h=d[0],j=d[1];c[a]=function(c){var d=b.createHtmlEvent(a,h,j);b.fireEvent(c,a,d)}});Ext.each("click dblclick mousedown mouseup mouseover mousemove mouseout".split(" "),function(a){var d="mousemove"!=a;c[a]=function(c,j){var k=j.getXY(),k=b.createMouseEvent(c.ownerDocument,a,!0,d,1,k[0],k[1],j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,j.relatedTarget);b.fireEvent(c,a,k)}});Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(a,
d){var h=d[0],j=d[1];c[a]=function(c){var d=b.createUIEvent(c.ownerDocument,a,h,j,1);b.fireEvent(c,a,d)}});b||(c={},b={});return function(b){var d=c[this.type]||a;b=b?b.dom||b:this.getTarget();d(b,this)}}(),preventDefault:function(){var a=this.browserEvent;if("unknown"!==typeof a.type)if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,a.ctrlKey||111<a.keyCode&&124>a.keyCode)a.keyCode=-1;return this},stopPropagation:function(){"unknown"!==typeof this.browserEvent.type&&(this.mousedownEvents[this.type]&&
Ext.GlobalEvents.fireMouseDown(this),this.callParent());return this},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var a=this,b,c=function(b){9===b.keyCode&&(a.forwardTab=!b.shiftKey)},d=function(b){9===b.keyCode&&delete a.forwardTab};Ext.isIE9m?(b={1:0,4:1,2:2},a.override({statics:{enableIEAsync:function(a){var b,c={};for(b in a)c[b]=a[b];return c}},constructor:function(a,c,d,j){this.callParent([a,c,d,j]);this.button=b[a.button];this.toElement=
a.toElement;this.fromElement=a.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(a){this.browserEvent=this.self.enableIEAsync(a)},getRelatedTarget:function(a,b,c){var d,k;this.relatedTarget||(d=this.type,this.mouseLeaveRe.test(d)?k=this.toElement:this.mouseEnterRe.test(d)&&(k=this.fromElement),k&&(this.relatedTarget=this.self.resolveTextNode(k)));return this.callParent([a,b,c])}}),document.attachEvent("onkeydown",c),document.attachEvent("onkeyup",
d),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",c);document.detachEvent("onkeyup",d)})):document.addEventListener&&(document.addEventListener("keydown",c,!0),document.addEventListener("keyup",d,!0))});
Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(){var a=Ext.event.publisher.Dom,b=a.prototype;Ext.isIE9m&&(a.override({initHandlers:function(){var a=this,b=document.body,e,g;a.callParent();e=a.onDelegatedEvent;g=a.onDirectEvent;a.target=document;a.targetIsWin=!1;a.onDelegatedEvent=function(g){g.target=g.srcElement||window;"focusin"===g.type?g.relatedTarget=g.fromElement===b?null:g.fromElement:"focusout"===g.type&&(g.relatedTarget=g.toElement===b?null:g.toElement);
e.call(a,g)};a.onDirectEvent=function(b){b.target=b.srcElement||window;b.currentTarget=this;g.call(a,b)}},addDelegatedListener:function(a){this.target.attachEvent("on"+a,this.onDelegatedEvent)},removeDelegatedListener:function(a){this.target.detachEvent("on"+a,this.onDelegatedEvent)},addDirectListener:function(a,b){var e=Ext.Function.bind(this.onDirectEvent,b);this.directSubscribers[b.id][a].fn=e;b.attachEvent?b.attachEvent("on"+a,e):this.callParent(arguments)},removeDirectListener:function(a,b){b.detachEvent?
b.detachEvent("on"+a,this.directSubscribers[b.id][a].fn):this.callParent(arguments)}}),Ext.apply(b.directEvents,b.captureEvents),b.captureEvents={})});
Ext.define("Ext.event.publisher.Gesture",{extend:Ext.event.publisher.Dom,alternateClassName:"Ext.event.publisher.TouchGesture",config:{recognizers:{}},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},constructor:function(a){var b=this.onTouchStart,c=this.onTouchMove=Ext.Function.createAnimationFrame(this.onTouchMove,this),d=this.onTouchEnd=Ext.Function.createAnimationFrame(this.onTouchEnd,this,null,1);this.handlers={touchstart:b,touchmove:c,touchend:d,touchcancel:d,pointerdown:b,pointermove:c,
pointerup:d,pointercancel:d,MSPointerDown:b,MSPointerMove:c,MSPointerUp:d,MSPointerCancel:d,mousedown:b,mousemove:c,mouseup:d};this.recognizedEvents={};this.activeTouchesMap={};this.activeTouches=[];this.changedTouches=[];Ext.supports.TouchEvents&&(this.onTargetTouchMove=this.onTargetTouchMove.bind(this),this.onTargetTouchEnd=this.onTargetTouchEnd.bind(this));this.initConfig(a);return this.callParent()},applyRecognizers:function(a){var b,c;for(b in a)(c=a[b])&&this.registerRecognizer(c);return a},
handles:function(a){var b=this.handledEventsMap;return!!b[a]||!!b["*"]||"*"===a||this.recognizedEvents.hasOwnProperty(a)},registerRecognizer:function(a){var b=this.recognizedEvents,c=a.getHandledEvents(),d;a.setOnRecognized(this.onRecognized);a.setCallbackScope(this);a=0;for(d=c.length;a<d;a++)b[c[a]]=1},onRecognized:function(a,b,c){var d=b.changedTouches,e=d.length,g,h;c=c||{};c.type=a;c.target=d[0].target;c.isStopped=!1;b=b.chain(c);if(1<e){c=[];for(g=0;g<e;g++)h=d[g],c.push(h.targets);d=this.getCommonTargets(c)}else d=
d[0].targets;this.publish(a,d,b)},getCommonTargets:function(a){var b=a[0],c=a.length;if(1===c)return b;for(var d=[],e=1,g,h,j;;){g=b[b.length-e];if(!g)break;for(j=1;j<c;j++)if(h=a[j],h[h.length-e]!==g)return d;d.unshift(g);e++}return d},invokeRecognizers:function(a,b){var c=this.getRecognizers(),d,e;if("onStart"===a)for(d in c)c[d].isActive=!0;for(d in c)e=c[d],e.isActive&&!1===e[a].call(e,b)&&(e.isActive=!1)},updateTouches:function(a,b){var c=a.browserEvent,c=c.changedTouches||[c],d=this.activeTouches,
e=this.activeTouchesMap,g=[],h,j,k,l,m;l=0;for(m=c.length;l<m;l++)h=c[l],j="identifier"in h?h.identifier:"pointerId"in h?h.pointerId:1,k=e[j],b?(delete e[j],Ext.Array.remove(d,k)):k||(k=Ext.event.Event.resolveTextNode(h.target),k=e[j]={identifier:j,target:k,targets:this.getPropagatingTargets(k)},d.push(k)),j=h.pageX,h=h.pageY,k.pageX=j,k.pageY=h,k.point=new Ext.util.Point(j,h),g.push(k);a.touches=Ext.Array.clone(d);a.changedTouches=g},doDelegatedEvent:function(a){if(a=this.callParent([a,!1]))(!a.button||
1>a.button)&&this.handlers[a.type].call(this,a),this.afterEvent(a)},onTouchStart:function(a){var b=a.target;"touchstart"===a.browserEvent.type&&(b.addEventListener("touchmove",this.onTargetTouchMove),b.addEventListener("touchend",this.onTargetTouchEnd),b.addEventListener("touchcancel",this.onTargetTouchEnd));this.updateTouches(a);this.isStarted||(this.isStarted=!0,this.invokeRecognizers("onStart",a),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause());this.invokeRecognizers("onTouchStart",
a)},onTouchMove:function(a){this.isStarted&&(this.updateTouches(a),0<a.changedTouches.length&&this.invokeRecognizers("onTouchMove",a))},onTouchEnd:function(a){this.isStarted&&(this.updateTouches(a,!0),this.invokeRecognizers(this.isCancelEvent[a.type]?"onTouchCancel":"onTouchEnd",a),this.activeTouches.length||(this.isStarted=!1,this.invokeRecognizers("onEnd",a),Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()))},onTargetTouchMove:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,
this,[a]):this.doTargetTouchMove(a)},doTargetTouchMove:function(a){if(!Ext.getBody().contains(a.target))this.onTouchMove(new Ext.event.Event(a))},onTargetTouchEnd:function(a){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[a]):this.doTargetTouchEnd(a)},doTargetTouchEnd:function(a){var b=a.target;b.removeEventListener("touchmove",this.onTargetTouchMove);b.removeEventListener("touchend",this.onTargetTouchEnd);b.removeEventListener("touchcancel",this.onTargetTouchEnd);if(!Ext.getBody().contains(b))this.onTouchEnd(new Ext.event.Event(a))}},
function(){var a=[],b=Ext.supports,c=b.TouchEvents;b.PointerEvents?a.push("pointerdown","pointermove","pointerup","pointercancel"):b.MSPointerEvents?a.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"):c&&a.push("touchstart","touchmove","touchend","touchcancel");(!a.length||c&&Ext.isWebKit&&Ext.os.is.Desktop)&&a.push("mousedown","mousemove","mouseup");this.prototype.handledEvents=a});
Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(a,b){var c=a.browserEvent,d=a.getXY();c.pageX=d[0];c.pageY=d[1];this.callParent([a,b])},initHandlers:function(){var a=this,b;a.callParent();b=a.onDelegatedEvent;a.onDelegatedEvent=function(c){b.call(a,Ext.event.Event.enableIEAsync(c))}}})});
Ext.define("Ext.event.publisher.Focus",{extend:Ext.event.publisher.Dom,handledEvents:["focusin","focusout"],syntheticEvents:{focusenter:!0,focusleave:!0},eventMap:{focus:"focusenter",focusin:"focusenter",blur:"focusleave",focusout:"focusleave"},handles:function(a){return this.syntheticEvents[a]},doDelegatedEvent:function(a,b){if(a=this.callParent([a,!1]))this.processSyntheticEvent(this.eventMap[a.type],a),b&&this.afterEvent(a)},createSyntheticEvent:function(a,b,c){var d=new Ext.event.Event(b.browserEvent);
d.type=a;c?(d.relatedTarget=d.target,d.target=c):(d.target=b.target,d.relatedTarget=b.relatedTarget||null);return d},processSyntheticEvent:function(a,b,c){var d,e,g,h,j;d=this.getSubscribers(a);if(d.$length){d=this.gatherSubscriberNodes(a,d);j=[];g=0;for(h=d.length;g<h;g++)e=d[g],this.isEventTarget(e,a,b,c)&&j.push(e);g=0;for(h=j.length;g<h;g++)(e=j[g])&&this.fireNodeEvent(e,a,b,c)}},gatherSubscriberNodes:function(a,b){var c=b.id,d=0<b.className.$length,e=0<b.selector.$length,g=[],h;if(0<c.$length)for(h in c)"$length"!==
h&&(c=document.getElementById(h))&&g.push(c);d&&Ext.Error.raise("Class name subscribers in Focus publisher");e&&Ext.Error.raise("Selector subscribers in Focus publisher");return g},isEventTarget:function(a,b,c,d){return"focusenter"===b?this.isFocusEnterTarget(a,c,d):"focusleave"===b?this.isFocusLeaveTarget(a,c,d):null},isFocusEnterTarget:function(a,b,c){b=b.browserEvent;c=c||b.relatedTarget;b=b.target;if(b===window)return!1;a=Ext.fly(a);return!a.isAncestor(b)?!1:!c||!a.isAncestor(c)?!0:!1},isFocusLeaveTarget:function(a,
b,c){var d=b.browserEvent;b=void 0!==c?c:d.target;c=void 0!==c?d.target:d.relatedTarget;if(b===window||c===window)return!1;a=Ext.fly(a);return!a.isAncestor(b)?!1:!c||!a.isAncestor(c)?!0:!1},fireNodeEvent:function(a,b,c,d){c=this.createSyntheticEvent(b,c,d);c.setCurrentTarget(a);this.dispatch("#"+a.id,b,[c,a])}},function(){Ext.supports.FocusinFocusoutEvents||(document.addEventListener("blur",function(a){a.target===window||a.target===document?delete document.previousActiveElement:document.previousActiveElement=
a.target},!0),this.override({handledEvents:["focus"],doDelegatedEvent:function(a,b){var c;if(a=this.callSuper([a,!1]))c=document.previousActiveElement,void 0!==c&&this.processSyntheticEvent("focusleave",a,c),this.processSyntheticEvent(this.eventMap[a.type],a,c||null),b&&this.afterEvent(a)}}))});
Ext.onReady(function(){var a=Ext.event.Dispatcher.getInstance();a.setPublishers({dom:new Ext.event.publisher.Dom,gesture:new Ext.event.publisher.Gesture({recognizers:{drag:new Ext.event.gesture.Drag,tap:new Ext.event.gesture.Tap,doubleTap:new Ext.event.gesture.DoubleTap,longPress:new Ext.event.gesture.LongPress,swipe:new Ext.event.gesture.Swipe,pinch:new Ext.event.gesture.Pinch,rotate:new Ext.event.gesture.Rotate,edgeSwipe:new Ext.event.gesture.EdgeSwipe}}),focus:new Ext.event.publisher.Focus});Ext.get(window).on("unload",
a.destroy,a)},null,{priority:2E3});Ext.apply(Ext,{SSL_SECURE_URL:Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank",BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d"});
Ext.define("Ext.util.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(a){var b=a.length,c={elseif:"elif"},d=this.topRe,e=this.actionsRe,g,h,j,k,l,m,n,p;this.level=0;this.stack=h=[];for(g=0;g<b;g=n){d.lastIndex=g;j=d.exec(a);if(!j){this.doText(a.substring(g,b));break}m=j.index;n=d.lastIndex;g<m&&(g=a.substring(g,m),p&&""===Ext.String.trim(g)||this.doText(g));p=!1;if(j[1])n=a.indexOf("%}",m+2),this.doEval(a.substring(m+2,n)),n+=2;else if(j[2])n=a.indexOf("]}",
m+2),this.doExpr(a.substring(m+2,n)),n+=2;else if(j[3])this.doTag(j[3]);else if(j[4]){for(m=null;null!==(k=e.exec(j[4]));)if(g=k[2]||k[3])g=Ext.String.htmlDecode(g),k=k[1],k=c[k]||k,m=m||{},l=m[k],"string"==typeof l?m[k]=[l,g]:l?m[k].push(g):m[k]=g;if(m)if(m["if"])this.doIf(m["if"],m),h.push({type:"if"});else if(m["switch"])this.doSwitch(m["switch"],m),h.push({type:"switch"}),p=!0;else if(m["case"])this.doCase(m["case"],m);else if(m.elif)this.doElseIf(m.elif,m);else if(m["for"]){++this.level;if(j=
this.propRe.exec(j[4]))m.propName=j[1]||j[2];this.doFor(m["for"],m);h.push({type:"for",actions:m})}else if(m.foreach){++this.level;if(j=this.propRe.exec(j[4]))m.propName=j[1]||j[2];this.doForEach(m.foreach,m);h.push({type:"foreach",actions:m})}else m.exec&&(this.doExec(m.exec,m),h.push({type:"exec",actions:m}));else this.elseRe.test(j[4])?this.doElse():this.defaultRe.test(j[4])?this.doDefault():(this.doTpl(),h.push({type:"tpl"}))}else 5===j[0].length?h.push({type:"tpl"}):(j=h.pop(),this.doEnd(j.type,
j.actions),("for"==j.type||"foreach"==j.type)&&--this.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});
Ext.define("Ext.util.XTemplateCompiler",{extend:Ext.util.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(a){a=this.generate(a);return this.useEval?this.evalTpl(a):(new Function("Ext",a))(Ext)},generate:function(a){this.maxLevel=0;this.body=["var c0\x3dvalues, a0\x3d"+this.createArrayTest(0)+", p0\x3dparent, n0\x3dxcount, i0\x3dxindex, k0, v;\n"];this.definitions?"string"===typeof this.definitions?this.definitions=[this.definitions,"var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;"]:
this.definitions.push("var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;"):this.definitions=["var fm\x3dExt.util.Format,ts\x3dObject.prototype.toString;"];this.switches=[];this.parse(a);this.definitions.push((this.useEval?"$\x3d":"return")+" function ("+this.fnArgs+") {",this.body.join(""),"}");a=this.definitions.join("\n");this.definitions.length=this.body.length=this.switches.length=0;delete this.definitions;delete this.body;delete this.switches;return a},doText:function(a){var b=this.body;
a=a.replace(this.aposRe,"\\'").replace(this.newLineRe,"\\n");this.useIndex?b.push("out[out.length]\x3d'",a,"'\n"):b.push("out.push('",a,"')\n")},doExpr:function(a){var b=this.body;b.push("if ((v\x3d"+a+") !\x3d null) out");this.useIndex?b.push("[out.length]\x3dv+''\n"):b.push(".push(v+'')\n")},doTag:function(a){var b=this.parseTag(a);b?this.doExpr(b):this.doText("{"+a+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(a,b){"."===a?this.body.push("if (values) {\n"):
this.propNameRe.test(a)?this.body.push("if (",this.parseTag(a),") {\n"):this.body.push("if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doElseIf:function(a,b){"."===a?this.body.push("else if (values) {\n"):this.propNameRe.test(a)?this.body.push("} else if (",this.parseTag(a),") {\n"):this.body.push("} else if (",this.addFn(a),this.callFn,") {\n");b.exec&&this.doExec(b.exec)},doSwitch:function(a){"."===a||"#"===a?this.body.push("switch (","."===a?"values":"xindex",") {\n"):this.propNameRe.test(a)?
this.body.push("switch (",this.parseTag(a),") {\n"):this.body.push("switch (",this.addFn(a),this.callFn,") {\n");this.switches.push(0)},doCase:function(a){a=Ext.isArray(a)?a:[a];var b=this.switches.length-1,c,d;this.switches[b]?this.body.push("break;\n"):this.switches[b]++;d=0;for(b=a.length;d<b;++d)c=this.intRe.exec(a[d]),a[d]=c?c[1]:"'"+a[d].replace(this.aposRe,"\\'")+"'";this.body.push("case ",a.join(": case "),":\n")},doDefault:function(){var a=this.switches.length-1;this.switches[a]?this.body.push("break;\n"):
this.switches[a]++;this.body.push("default:\n")},doEnd:function(a,b){var c=this.level-1;"for"==a||"foreach"==a?(b.exec&&this.doExec(b.exec),this.body.push("}\n"),this.body.push("parent\x3dp",c,";values\x3dr",c+1,";xcount\x3dn"+c+";xindex\x3di",c,"+1;xkey\x3dk",c,";\n")):("if"==a||"switch"==a)&&this.body.push("}\n")},doFor:function(a,b){var c,d=this.level,e=d-1;c="."===a?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;this.maxLevel<d&&(this.maxLevel=d,this.body.push("var "));
this.body.push("i",d,"\x3d0,n",d,"\x3d0,c",d,"\x3d",c,",a",d,"\x3d",this.createArrayTest(d),",r",d,"\x3dvalues,p",d,",k",d,";\n","p",d,"\x3dparent\x3d","."==a?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:c"+e,"\n","if (c",d,"){if(a",d,"){n",d,"\x3dc",d,".length;}else if (c",d,".isMixedCollection){c",d,"\x3dc",d,".items;n",d,"\x3dc",d,".length;}else if(c",d,".isStore){c",d,"\x3dc",d,".data.items;n",d,"\x3dc",d,".length;}else{c",d,"\x3d[c",d,"];n",d,"\x3d1;}}\n","for (xcount\x3dn",d,";i",d,"\x3cn"+d+";++i",d,"){\n",
"values\x3dc",d,"[i",d,"]");b.propName&&this.body.push(".",b.propName);this.body.push("\n","xindex\x3di",d,"+1\n");b.between&&this.body.push('if(xindex\x3e1){ out.push("',b.between,'"); } \n')},doForEach:function(a,b){var c,d=this.level,e=d-1;c="."===a?"values":this.propNameRe.test(a)?this.parseTag(a):this.addFn(a)+this.callFn;this.maxLevel<d&&(this.maxLevel=d,this.body.push("var "));this.body.push("i",d,"\x3d-1,n",d,"\x3d0,c",d,"\x3d",c,",a",d,"\x3d",this.createArrayTest(d),",r",d,"\x3dvalues,p",
d,",k",d,";\n","p",d,"\x3dparent\x3d","."==a?"c"+d:"a"+e+"?c"+e+"[i"+e+"]:c"+e,"\n","for(k",d," in c",d,"){\n","xindex\x3d++i",d,"+1;\n","xkey\x3dk",d,";\n","values\x3dc",d,"[k",d,"];");b.propName&&this.body.push(".",b.propName);b.between&&this.body.push('if(xindex\x3e1){ out.push("',b.between,'"); } \n')},createArrayTest:"isArray"in Array?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')\x3d\x3d\x3d"[object Array]"'},doExec:function(a){var b="f"+this.definitions.length,
c=this.guards[this.strict?0:1];this.definitions.push("function "+b+"("+this.fnArgs+") {",c.doTry," var $v \x3d values; with($v) {","  "+a," }",c.doCatch,"}");this.body.push(b+this.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:' } catch(e) {\nExt.log.warn("XTemplate evaluation exception: " + e.message);\n}'}],addFn:function(a){var b="f"+this.definitions.length,c=this.guards[this.strict?0:1];"."===a?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return values","}"):
".."===a?this.definitions.push("function "+b+"("+this.fnArgs+") {"," return parent","}"):this.definitions.push("function "+b+"("+this.fnArgs+") {",c.doTry," var $v \x3d values; with($v) {","  return("+a+")"," }",c.doCatch,"}");return b},parseTag:function(a){var b=this.tagRe.exec(a),c,d;if(!b)return null;c=b[1];a=b[2];d=b[3];b=b[4];"."==c?(this.validTypes||(this.definitions.push("var validTypes\x3d{string:1,number:1,boolean:1};"),this.validTypes=!0),c='validTypes[typeof values] || ts.call(values) \x3d\x3d\x3d "[object Date]" ? values : ""'):
c="#"==c?"xindex":"$"==c?"xkey":"parent."==c.substr(0,7)?c:isNaN(c)&&-1==c.indexOf("-")&&-1!=c.indexOf(".")?"values."+c:"values['"+c+"']";b&&(c="("+c+b+")");if(a&&this.useFormat)d=d?","+d:"",a="this."!=a.substr(0,5)?"fm."+a+"(":a+"(";else return c;return a+c+d+")"},evalTpl:function(a){eval(a);return a},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";
a.callFn=".call(this,"+a.fnArgs+")"});
Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},fn:null,strict:!1,apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,c){var d;this.fn||(d=new Ext.util.XTemplateCompiler({useFormat:!0!==this.disableFormats,definitions:this.definitions,strict:this.strict}),this.fn=d.compile(this.html));if(this.strict)this.fn(b,a,c||this.emptyObj,1,1);else try{this.fn(b,a,c||this.emptyObj,1,1)}catch(e){Ext.log.warn("XTemplate evaluation exception: "+e.message)}return b},compile:function(){return this},
statics:{getTpl:function(a,b){var c=a[b],d;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(a.hasOwnProperty(b))d=a;else for(d=a.self.prototype;d&&!d.hasOwnProperty(b);d=d.superclass);d[b]=c;c.owner=d}return c||null}}});Ext.Factory=function(a){this.aliasPrefix=a+".";this.cache={};this.name=a.replace(this.fixNameRe,this.fixNameFn);this.type=a};
Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(a,b){var c=Ext.ClassManager,d=this.cache,e,g,h,j;if(a){if(a[this.instanceProp])return a;"string"===typeof a&&(j=a,a={},a[this.defaultProperty]=j);g=a.xclass;j=a.type}if(g){if(!(h=c.get(g)))return c.instantiate(g,a)}else{if(!(j=j||b||this.defaultType))h=this.defaultClass;!j&&!h&&Ext.Error.raise("No type specified for "+this.type+".create");if(!h&&!(h=d[j])){e=this.aliasPrefix+j;g=c.getNameByAlias(e);if(!(h=g&&c.get(g)))return c.instantiateByAlias(e,
a);d[j]=h}}return h.isInstance?h:new h(a)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(a,b){var c=Ext.Factory,d,e;if(a.constructor===Object)Ext.Object.each(a,c.define,c);else{e=new Ext.Factory(a);if(b)if(b.constructor===Object){if(Ext.apply(e,b),"string"===typeof(d=e.xclass))e.defaultClass=Ext.ClassManager.get(d)}else e.defaultType=b;c[e.name]=d=e.create.bind(e);d.instance=e}return d};
Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(a){var b=a.prototype,c=b.factoryConfig,d=b.alias,e={},g;if((d=d&&d.length&&d[0])&&0<(g=d.lastIndexOf(".")))e.type=d.substring(0,g),e.defaultType=d.substring(g+1);c&&(delete b.factoryConfig,Ext.apply(e,c));a.create=Ext.Factory.define(e.type,e)}});
Ext.define("Ext.util.CollectionKey",{mixins:[Ext.mixin.Identifiable],config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a);Ext.isFunction(this.getKey)||Ext.Error.raise("CollectionKey requires a keyFn or property config")},get:function(a){return(this.map||this.getMap())[a]||null},getRootProperty:function(){var a=this.callParent();return null!==a?a:this.getCollection().getRootProperty()},indexOf:function(a,
b){var c=(this.map||this.getMap())[a],d=this.getCollection(),e=d.length,g,h,j;if(!c)return-1;void 0===b&&(b=-1);if(c instanceof Array){h=e;for(j=c.length;0<j--;)g=d.indexOf(c[j]),g<h&&g>b&&(h=g);if(h===e)return-1}else h=d.indexOf(c);return h>b?h:-1},updateKey:function(a,b){var c=this.map,d,e;c&&(d=c[b],d instanceof Array?(e=Ext.Array.indexOf(d,a),0<=e&&(2<d.length?d.splice(e,1):c[b]=d[1-e])):d&&(this.getUnique()&&d!==a&&Ext.Error.raise('Incorrect oldKey "'+b+'" for item with newKey "'+this.getKey(a)+
'"'),delete c[b]),this.add([a]))},onCollectionAdd:function(a,b){this.map&&this.add(b.items)},onCollectionItemChange:function(){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(a,b){var c=this.map,d=b.items,e=d.length,g,h;if(c)if(this.getUnique()&&e<a.length/2)for(g=0;g<e;++g)h=this.getKey(d[g]),delete c[h];else this.map=null},add:function(a){var b=this.map,c,d,e,g,h,j;h=a.length;j=this.getUnique();for(d=0;d<h;++d)if(g=this.getKey(e=a[d]),j||!(g in b))b[g]=e;
else{if(!((c=b[g])instanceof Array))b[g]=c=[c];c.push(e)}},applyKeyFn:function(a){this.getKey=Ext.isString(a)?function(b){return b[a]()}:a},applyProperty:function(a){var b=this.getRootProperty();this.getKey=function(c){return(b?c[b]:c)[a]}},getMap:function(){var a=this.map;a||(this.map=a={},this.keysByItemKey={},++this.mapRebuilds,this.add(this.getCollection().items));return a},updateCollection:function(a){a.addObserver(this)}});
Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(a){a&&a.getGroupString&&Ext.Error.raise("Cannot set getGroupString - use groupFn instead");this.callParent(arguments)},getGroupString:function(a){a=this._groupFn(a);return null!=a?String(a):""},sortFn:function(a,b){var c=this._groupFn(a),d=this._groupFn(b),e=this._sortProperty,g=this._root,h=this._sorterFn,j=this._transform;if(c===d)return 0;if(e||h){if(h)return h.call(this,
a,b);g&&(a=a[g],b=b[g]);c=a[e];d=b[e];j&&(c=j(c),d=j(d))}return c>d?1:c<d?-1:0},standardGroupFn:function(a){var b=this._root;return(b?a[b]:a)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}});
Ext.define("Ext.util.Collection",{mixins:[Ext.mixin.Observable],isCollection:!0,config:{autoFilter:!0,autoSort:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,constructor:function(a){this.items=[];this.map={};this.length=0;a&&a.keyFn&&(this.getKey=a.keyFn);this.mixins.observable.constructor.call(this,a)},
destroy:function(){var a=this._filters,b=this._sorters,c=this._groups;a&&(a.destroy(),this._filters=null);b&&(b.destroy(),this._sorters=null);c&&(c.destroy(),this._groups=null);this.setSource(null);this.observers=this.items=this.map=null},add:function(a){var b=this.decodeItems(arguments,0),c=b;b.length&&(this.splice(this.length,0,b),c=1===b.length?b[0]:b);return c},replaceAll:function(){var a,b;if(0===this.length)return this.add.apply(this,arguments);a=b=this.decodeItems(arguments,0);b.length?(this.splice(0,
this.length,b),a=1===b.length?b[0]:b):this.removeAll();return a},aggregate:function(a,b,c,d,e){var g=Ext.Array.slice(arguments);g.unshift(this.items);return this.aggregateItems.apply(this,g)},aggregateByGroup:function(a,b,c){var d=this.getGroups();return this.aggregateGroups(d,a,b,c)},aggregateItems:function(a,b,c,d,e,g){var h=Ext.Number.clipIndices(a.length,[d,e]),j=0!==d&&e!==a.length,k,l,m,n;d=h[0];e=h[1];if(!Ext.isFunction(c))return c=this._aggregators[c],c.call(this,a,d,e,b,this.getRootProperty());
h=this.getRootProperty();m=Array(void 0);n=j?Array(void 0):a;for(k=0;d<e;++d,k++)j&&(n[k]=l=a[d]),m[k]=(h?l[h]:l)[b];return c.call(g||this,a,m,0)},aggregateGroups:function(a,b,c,d){a=a.items;var e=a.length,g=!Ext.isFunction(c),h={},j,k,l;for(j=0;j<e;++j)k=a[j],l=g?k[c](b):this.aggregateItems(k.items,b,c,null,null,d),h[k.getGroupKey()]=l;return h},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var a=this.generation,b=a?this.items:[];a&&(this.items=[],this.length=
0,this.map={},this.indices={},this.generation++);return b},clone:function(){var a=new this.self(this.initialConfig);a.add(this.items);return a},collect:function(a,b,c){var d=this.items,e=d.length,g={},h=[],j,k,l;for(j=0;j<e;++j)if(l=d[j],l=(b?l[b]:l)[a],k=String(l),(c||!Ext.isEmpty(l))&&!g[k])g[k]=1,h.push(l);return h},contains:function(a){var b=!1;null!=a&&(b=this.getKey(a),b=this.map[b]===a);return b},containsKey:function(a){return a in this.map},createFiltered:function(a,b,c,d,e){var g=new this.self(this.initialConfig),
h=this.getRootProperty(),j=this.items,k,l;if(Ext.isFunction(a))h=a,l=b;else{if(Ext.isString(a))k=[new Ext.util.Filter({property:a,value:b,root:h,anyMatch:c,caseSensitive:d,exactMatch:e})];else if(a instanceof Ext.util.Filter)k=[a],a.setRoot(h);else if(Ext.isArray(a)){k=a.slice(0);a=0;for(b=k.length;a<b;++a)k[a].setRoot(h)}h=Ext.util.Filter.createFilterFn(k)}l=l||this;a=0;for(b=j.length;a<b;a++)h.call(l,j[a])&&g.add(j[a]);return g},filterBy:function(a,b){return this.createFiltered(a,b)},each:function(a,
b){var c=this.items,d=c.length,e,g;if(d){b=b||this;c=c.slice(0);for(e=0;e<d&&!(g=a.call(b,c[e],e,d),!1===g);e++);}return g},eachKey:function(a,b){var c=this.items,d=c.length,e,g,h;if(d){b=b||this;c=c.slice(0);for(e=0;e<d&&!(h=this.getKey(g=c[e]),g=a.call(b,h,g,e,d),!1===g);e++);}return g},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(a,b,c,d,e,g){if(Ext.isEmpty(b,!1))return null;var h=Ext.String.createRegex(b,d,e,g),j=this.getRootProperty();return this.findBy(function(b){return b&&
h.test((j?b[j]:b)[a])},null,c)},findBy:function(a,b,c){var d=this.items,e=d.length,g,h;b=b||this;for(c=c||0;c<e;c++)if(h=this.getKey(g=d[c]),a.call(b,g,h))return d[c];return null},findIndex:function(a,b,c,d,e,g){return(a=this.find(a,b,c,d,e,g))?this.indexOf(a):-1},findIndexBy:function(a,b,c){return(a=this.findBy(a,b,c))?this.indexOf(a):-1},first:function(a){return(a=a?this.getGroups():void 0)?this.aggregateGroups(a,null,"first"):this.items[0]},last:function(a){return(a=a?this.getGroups():void 0)?
this.aggregateGroups(a,null,"last"):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(a){var b=a.id;return 0===b||b?b:0===(b=a._id)||b?b:a.getId()},getRange:function(a,b){var c=this.items,d=c.length;a>b&&Ext.Error.raise("Inverted range passed to Collection.getRange: ["+a+","+b+"]");d?(d=Ext.Number.clipIndices(d,[a,b]),d=c.slice(d[0],d[1])):d=[];return d},
getValues:function(a,b,c,d){var e=this.items;d=Ext.Number.clipIndices(e.length,[c,d]);c=[];var g,h;g=d[0];for(d=d[1];g<d;++g)h=e[g],h=(b?h[b]:h)[a],c.push(h);return c},indexOf:function(a){if(!a)return-1;a=this.getKey(a);return this.indexOfKey(a)},indexOfKey:function(a){var b=this.indices;return a in this.map?(b||(b=this.getIndices()),b[a]):-1},insert:function(a,b){var c=this.decodeItems(arguments,1),d=c;c.length&&(this.splice(a,0,c),d=1===c.length?c[0]:c);return d},itemChanged:function(a,b,c,d){var e=
0===c||!!c,g=this.filtered&&this.getAutoFilter(),h=!1,j=0,k=this.items,l=this.length-1,m=this.sorted&&0<l,n=this.getSource(),p,q=0,r,s=!1,t,u=!1;n&&!n.updating?n.itemChanged(a,b,c,d):(n=this.getKey(a),g&&(r=this.indexOfKey(e?c:n),u=0>r,s=this.isItemFiltered(a),h=u!==s),h?s?(q=[a],t=-1):(p=[a],t=this.length):m&&!s&&(g||(r=this.indexOfKey(e?c:n)),g=this.getSortFn(),r&&0<g(k[r-1],k[r])?(j=-1,t=Ext.Array.binarySearch(k,a,0,r,g)):r<l&&0<g(k[r],k[r+1])&&(j=1,t=Ext.Array.binarySearch(k,a,r+1,g)),j&&(p=[a])),
d={item:a,key:n,index:t,filterChanged:h,keyChanged:e,indexChanged:!!j,filtered:s,oldIndex:r,newIndex:t,wasFiltered:u,meta:d},e&&(d.oldKey=c),b&&(d.modified=b),this.beginUpdate(),this.notify("beforeitemchange",[d]),e&&this.updateKey(a,c),(p||q)&&this.splice(t,q,p),0<j?d.newIndex--:0>j&&d.oldIndex++,this.notify(s?"filtereditemchange":"itemchange",[d]),this.endUpdate())},remove:function(a){var b=this.decodeRemoveItems(arguments,0),c=this.length;this.splice(0,b);return c-this.length},removeAll:function(){var a=
this.length;this.generation&&a&&this.splice(0,a);return this},removeAt:function(a,b){var c=this.length,d=Ext.Number,e=d.clipIndices(c,[a,void 0===b?1:b],d.Clip.COUNT),d=e[0],g=e[1]-d,e=1===g&&this.getAt(d);this.splice(d,g);c=this.length-c;return e&&c?e:c},removeByKey:function(a){a=this.getByKey(a);return!a||!this.remove(a)?!1:a},splice:function(a,b,c){var d=this.sorted&&this.getAutoSort(),e=this.map,g=this.items,h=this.length,j=b instanceof Array?this.decodeRemoveItems(b):null,k=!j,l=Ext.Number,m=
l.clipIndices(h,[a,k?b:0],l.Clip.COUNT),l=m[0],n=m[1],m=n-l,p=this.decodeItems(arguments,2),q=p?p.length:0,r,s,t,u=l,v=this.indices||(q||j?this.getIndices():null);s=null;var w=m?[l]:null,x=null,A=this.getSource(),z,B,y,C,E;if(A&&!A.updating){if(k){j=[];for(k=0;k<m;++k)j.push(g[l+k])}k=l<h?A.indexOf(g[l]):A.length;A.splice(k,j,p);return this}if(q){r=p;x=[];s={};d&&(E=this.getSorters(),1<q&&(r.$cloned||(p=r=r.slice(0)),this.sortData(r)));for(k=0;k<q;++k){A=this.getKey(p[k]);if(void 0!==(y=s[A]))(B||
(B={}))[y]=1;else if(y=v[A],y<l||n<=y)(w||(w=[])).push(y);s[A]=k;x.push(A)}if(B){C=x;r=[];x=[];r.$cloned=!0;for(k=0;k<q;++k)B[k]||(n=p[k],r.push(n),x.push(C[k]));q=r.length}s={items:r,keys:x}}for(k=j?j.length:0;0<k--;)if(A=this.getKey(j[k]),void 0!==(y=v[A]))(w||(w=[])).push(y);if(!s&&!w)return this;this.beginUpdate();if(w){j=null;B=[];t={};1<w.length&&w.sort(Ext.Array.numericSortFn);k=0;for(p=w.length;k<p;++k)if(A=this.getKey(n=g[y=w[k]]),A in e){delete e[A];if(!j||y>j.at+z.length)B.push(j={at:y,
items:z=[],keys:C=[],map:t,next:j,replacement:s}),s&&(s.replaced=j);z.push(t[A]=n);C.push(A);y<u&&--u;1<m&&y===l&&(--m,w[k--]=++l)}s&&(s.at=u);for(y=B.length;0<y--;){j=B[y];k=j.at;p=j.items.length;k+p<h&&(this.indices=v=null);this.length=h-=p;g.splice(k,p);if(v){C=j.keys;for(k=0;k<p;++k)delete v[C[k]]}++this.generation;this.notify("remove",[j])}}if(s)if(d&&1<q&&h)this.spliceMerge(r);else{d&&(1<q?(u=0,this.indices=null):u=E.findInsertionIndex(s.items[0],g,this.getSortFn()));if(u===h){if(g.push.apply(g,
r),v=this.indices)for(k=0;k<q;++k)v[x[k]]=u+k}else this.indices=null,Ext.Array.insert(g,u,r);for(k=0;k<q;++k)e[x[k]]=r[k];this.length+=q;s.at=u;s.atItem=0===u?null:g[u-1];++this.generation;this.notify("add",[s])}this.endUpdate();return this},update:function(a,b){this.beginUpdate();try{return a.call(b||this,this)}catch(c){throw Ext.log.error(this.$className+": Unhandled Exception: ",c.description||c.message),c;}finally{this.endUpdate()}},updateKey:function(a,b){var c=this.map,d=this.indices,e=this.getSource();
if(e&&!e.updating)e.updateKey(a,b);else if((e=this.getKey(a))!==b)if(b in c||c[e]!==a)b in c&&(c[b]!==a&&Ext.Error.raise('Incorrect oldKey "'+b+'" for item with newKey "'+e+'"'),delete c[b]),this.updating++,this.generation++,c[e]=a,d&&(d[e]=d[b],delete d[b]),this.notify("updatekey",[{item:a,newKey:e,oldKey:b}]),this.updating--},findInsertIndex:function(a){var b=this.getSource(),c=b.items;for(a=b.indexOf(a)-1;-1<a;){b=c[a];b=this.indexOf(b);if(-1<b)return b+1;--a}return 0},onCollectionAdd:function(a,
b){var c=b.atItem,d=b.items,e,g,h,j,k;c?(c=this.indexOf(c),-1===c?c=this.findInsertIndex(d[0]):++c):c=0;if(this.getAutoFilter()&&this.filtered){h=0;for(k=d.length;h<k;++h)j=d[h],this.isItemFiltered(j)?(g||(g=d.slice(0,h)),e||(e=[]),e.push(j)):g&&g.push(j)}this.splice(0>c?this.length:c,0,g||d);e&&this.notify("filteradd",[e])},onCollectionBeforeItemChange:function(){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},
onCollectionItemChange:function(a,b){delete this.onCollectionUpdateKey;this.itemChanged(b.item,b.modified,b.oldKey,b.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(a){var b={},c={},d,e,g,h;e=a.items;e=this.filtered&&this.getAutoFilter()?Ext.Array.filter(e,this.getFilterFn()):e.slice(0);this.sorted&&this.sortData(e);this.items=e;this.length=h=e.length;this.map=b;this.indices=c;for(a=0;a<h;++a)g=this.getKey(d=e[a]),b[g]=d,c[g]=a;this.notify("refresh")},onCollectionRemove:function(a,
b){this.splice(0,b.items)},onCollectionUpdateKey:function(a,b){this.updateKey(b.item,b.oldKey)},_aggregators:{average:function(a,b,c,d,e){var g=c-b;return g&&this._aggregators.sum.call(this,a,b,c,d,e)/g},bounds:function(a,b,c,d,e){for(var g,h,j=b;j<c;++j)b=a[j],b=(e?b[e]:b)[d],b<g||(g=b),b>h||(h=b);return[h,g]},count:function(a){return a.length},extremes:function(a,b,c,d,e){for(var g=null,h=null,j,k,l,m;b<c;++b)j=a[b],m=(e?j[e]:j)[d],m<k||(k=m,g=j),m>l||(l=m,h=j);return[h,g]},max:function(a,b,c,d,
e){return this._aggregators.bounds.call(this,a,b,c,d,e)[1]},maxItem:function(a,b,c,d,e){return this._aggregators.extremes.call(this,a,b,c,d,e)[1]},min:function(a,b,c,d,e){return this._aggregators.bounds.call(this,a,b,c,d,e)[0]},minItem:function(a,b,c,d,e){return this._aggregators.extremes.call(this,a,b,c,d,e)[0]},sum:function(a,b,c,d,e){for(var g=0,h=b;h<c;++h)b=a[h],b=(e?b[e]:b)[d],g+=b;return g}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",
endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(a){var b=this.observers,c,d=a.getId();b||(b=this.observers=[],this.observerMap={});c=this.observerMap;c[d]||(b.push(a),c[d]=a,Ext.Array.sort(b,this.prioritySortFn))},
prioritySortFn:function(a,b){return(a.observerPriority||0)-(b.observerPriority||0)},applyExtraKeys:function(a){var b={},c,d,e;for(d in a)c={collection:this},Ext.isString(e=a[d])?c.property=e:Ext.apply(c,e),b[d]=this[d]=c=new Ext.util.CollectionKey(c),c.name=d;return b},applyGrouper:function(a){a&&(a=this.getSorters().decodeSorter(a,"Ext.util.Grouper"));return a},decodeItems:function(a,b){var c=void 0===b?a:a[b],d,e,g;if(!c||!c.$cloned){if(d=a.length>b+1||!Ext.isIterable(c))c=Ext.Array.slice(a,b),
1===c.length&&void 0===c[0]&&(c.length=0);if(e=this.getDecoder()){d||(c=c.slice(0),d=!0);for(g=c.length;0<g--;)!1===(c[g]=e.call(this,c[g]))&&c.splice(g,1)}d&&(c.$cloned=!0)}return c},getIndices:function(){var a=this.indices,b=this.items,c=b.length,d,e;if(!a){this.indices=a={};++this.indexRebuilds;for(d=0;d<c;++d)e=this.getKey(b[d]),a[e]=d}return a},notify:function(a,b){var c=this.observers,d=this._eventToMethodMap[a],e=0,g,h,j,k;b=b||[];if(c&&d){g=0;for(h=c.length;g<h;++g)if(j=(k=c[g])[d])e++||b.unshift(this),
j.apply(k,b)}this.hasListeners&&this.hasListeners[a]&&(e||b.unshift(this),this.fireEventArgs(a,b))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(a){var b=this._filters;!b&&!1!==a&&(b=new Ext.util.FilterCollection,this.setFilters(b));return b},isItemFiltered:function(a){return!this.getFilters().filterFn(a)},onFilterChange:function(){var a=this.getSource();if(a){if(a.length||this.length)this.onCollectionRefresh(a)}else a=new Ext.util.Collection({keyFn:this.getKey,
extraKeys:this.getInitialConfig().extraKeys,rootProperty:this.getRootProperty()}),this.length&&a.add(this.items),this.setSource(a),this.autoSource=a;this.notify("filter")},applyFilters:function(a,b){if(null==a||a&&a.isFilterCollection)return a;a&&(b||(b=this.getFilters()),b.splice(0,b.length,a));return b},updateFilters:function(a,b){b&&b.un("endupdate","onEndUpdateFilters",this);a&&(a.on("endupdate","onEndUpdateFilters",this,{prepend:!0}),a.$filterable=this);this.onEndUpdateFilters(a)},onEndUpdateFilters:function(a){var b=
!!a&&0<a.length;if(this.filtered||b)this.filtered=b,this.onFilterChange(a)},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(a){var b=this._sorters;!b&&!1!==a&&(b=new Ext.util.SorterCollection,this.setSorters(b));return b},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(a,b,c){var d=this.getSorters();d.addSort.apply(d,arguments);return this},sortData:function(a){Ext.Array.sort(a,this.getSortFn());return a},sortItems:function(a){this.sorted&&(a&&
Ext.Error.raise("Collections with sorters cannot resorted"),a=this.getSortFn());this.indices=null;this.notify("beforesort",[this.getSorters()]);this.length&&Ext.Array.sort(this.items,a);this.notify("sort")},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(a,b,c){b||(b=this.items);c||(c=this.getSortFn());return Ext.Array.binarySearch(b,a,c)},applySorters:function(a,b){if(null==a||a&&a.isSorterCollection)return a;a&&(b||(b=this.getSorters()),b.splice(0,b.length,a));return b},
createSortFn:function(){var a=this.getGrouper(),b=this.getSorters().getSortFn();return!a?b:function(c,d){return a.sort(c,d)||b(c,d)}},updateGrouper:function(a){var b=this.getGroups(),c=this.getSorters(),d;this.onSorterChange();this.grouped=!!a;a?(b||(b=new Ext.util.GroupCollection({itemRoot:this.getRootProperty()}),this.addObserver(b),this.setGroups(b)),d=b.getSorters(),d.splice(0,d.length,{property:"_groupKey",direction:a.getDirection()}),d=!0):(b&&(this.removeObserver(b),b.destroy()),this.setGroups(null));
if(!c.updating)this.onEndUpdateSorters(c);if(d)b.onCollectionRefresh(this)},updateSorters:function(a,b){b&&b.un("endupdate","onEndUpdateSorters",this);a&&(a.on("endupdate","onEndUpdateSorters",this,{prepend:!0}),a.$sortable=this);this.onSorterChange();this.onEndUpdateSorters(a)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(a){var b=this.grouped||a&&0<a.length;if(this.sorted||b)this.sorted=!!b,this.onSortChange(a)},removeObserver:function(a){var b=this.observers;b&&(Ext.Array.remove(b,
a),delete this.observerMap[a.getId()])},spliceMerge:function(a){var b,c=a.length,d=0,e=this.items,g=e.length,h=[],j=0,k=[],l=this.getSorters(),m,n,p;this.items=k;for(b=0;b<c;){for(n=a[b];d<g&&!(0>l.sortFn(n,p=e[d]));++d)k.push(p);if(d===g){h[j++]={at:k.length,itemAt:k[k.length-1],items:m=[]};1<j&&(h[j-2].next=h[j-1]);for(;b<c;++b)m.push(n=a[b]),k.push(n);break}h[j++]={at:k.length,itemAt:k[k.length-1],items:m=[n]};1<j&&(h[j-2].next=h[j-1]);k.push(n);for(b+=1;b<c&&!(0<=l.sortFn(n=a[b],p));++b)k.push(n),
m.push(n)}for(;d<g;++d)k.push(e[d]);this.length=k.length;++this.generation;for(a=0;a<j;++a)this.notify("add",[h[a]])},getGroups:function(){return this.callParent()||null},updateGroups:function(a,b){b&&this.removeObserver(b);a&&this.addObserver(a)},updateSource:function(a,b){var c=this.autoSource;b&&(b.removeObserver(this),b===c&&(c.destroy(),this.autoSource=null));if(a&&(a.addObserver(this),a.length||this.length))this.onCollectionRefresh(a)}},function(){var a=this.prototype;a.removeAtKey=a.removeByKey;
a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(a,d,e){return this.aggregate(a,b,d,e)};a[b+"ByGroup"]=function(a){return this.aggregateByGroup(a,b)}})});
Ext.define("Ext.util.Scheduler",{mixins:[Ext.mixin.Observable],busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(a){Ext.util.Scheduler.instances?Ext.util.Scheduler.instances.push(this):Ext.util.Scheduler.instances=[this];this.id=Ext.util.Scheduler.count=(Ext.util.Scheduler.count||0)+1;this.mixins.observable.constructor.call(this,a);this.items=
new Ext.util.Collection},destroy:function(){var a=this.timer;a&&(window.clearTimeout(a),this.timer=null);this.destroyed=!0;this.items=this.orderedItems=null;this.destroy=Ext.emptyFn;Ext.Array.remove(Ext.util.Scheduler.instances,this)},add:function(a){var b=this.items;b===this.firing&&(this.items=b=b.clone());a.id=a.id||++this.nextId;a.scheduler=this;b.add(a);this.sortMap||(this.orderedItems=null)},remove:function(a){var b=this.items;this.destroyed||(this.sortMap&&Ext.Error.raise("Items cannot be removed during sort"),
b===this.firing&&(this.items=b=b.clone()),a.scheduled&&(this.unscheduleItem(a),a.scheduled=!1),b.remove(a),this.orderedItems=null)},sort:function(){var a=this.items,b={},c=this.getPreSort(),d;this.orderedItems=[];this.sortMap=b;this.sortStack=[];c&&a.sortItems(c);a=a.items;for(c=0;c<a.length;++c)d=a[c],b[d.id]||this.sortItem(d);this.sortStack=this.sortMap=null},sortItem:function(a){var b=this.sortMap,c=this.orderedItems,d;a.scheduler||this.add(a);d=a.id;a.scheduler!==this&&Ext.Error.raise("Item "+
d+" belongs to another Scheduler");this.sortStack.push(a);if(0===b[d]){for(var e=[],g=0;g<this.sortStack.length;++g)e[g]=this.sortStack[g].getFullName();Ext.Error.raise("Dependency cycle detected: "+e.join("\n --\x3e "))}d in b||(b[d]=0,a.sort.$nullFn||a.sort(),b[d]=1,a.order=this.orderedItems.length,c.push(a));this.sortStack.pop();return this},sortItems:function(a){var b=this.sortItem;a&&(a instanceof Array?Ext.each(a,b,this):Ext.Object.eachValue(a,b,this));return this},applyPreSort:function(a){if("function"===
typeof a)return a;var b=a.split(","),c=[],d=b.length,e,g;for(a=0;a<d;++a)c[a]=1,g=b[a],"-"===(e=g.charAt(0))?c[a]=-1:"+"!==e&&(e=0),e&&(b[a]=g.substring(1));return function(a,e){var g=0,l,m;for(l=0;!g&&l<d;++l)m=b[l],g=a[m],m=e[m],g=c[l]*(g<m?-1:m<g?1:0);return g}},notify:function(){var a=this.timer,b=this.getCycleLimit(),c,d,e;a&&(window.clearTimeout(a),this.timer=null);for(this.firing&&Ext.Error.raise("Notify cannot be called recursively");this.scheduledCount;){if(b)--b;else{this.firing=null;if(this.onCycleLimitExceeded)this.onCycleLimitExceeded();
break}++this.passes;if(!(e=this.orderedItems))this.sort(),e=this.orderedItems;if(d=e.length){this.firing=this.items;for(a=0;a<d&&!(c=e[a],c.scheduled&&(c.scheduled=!1,--this.scheduledCount,this.notifyIndex=a,c.react(),!this.scheduledCount));++a);}}this.firing=null;this.notifyIndex=-1;if((b=this.busyCounter)!==this.lastBusyCounter)(this.lastBusyCounter=b)||this.fireEvent("idle",this)},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(){++this.scheduledCount;!this.timer&&!this.firing&&
this.scheduleTick()},scheduleTick:function(){!this.destroyed&&!this.timer&&(this.timer=Ext.Function.defer(this.onTick,this.getTickDelay(),this))},unscheduleItem:function(){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(a){(this.busyCounter=a=this.busyCounter+a)?this.lastBusyCounter||(this.lastBusyCounter=a,this.fireEvent("busy",this)):this.lastBusyCounter&&!this.timer&&this.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},
debugHooks:{$enabled:!1,onCycleLimitExceeded:function(){Ext.Error.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(a){a||Ext.Error.raise("scheduleItem: Invalid argument");Ext.log("Schedule item: "+a.getFullName()+" - "+(this.scheduledCount+1));a.order<=this.notifyIndex&&Ext.log.warn("Suboptimal order: "+a.order+" \x3c "+this.notifyIndex);this.callParent([a])},unscheduleItem:function(a){this.scheduledCount||Ext.Error.raise("Invalid scheduleCount");this.callParent([a]);Ext.log("Unschedule item: "+
a.getFullName()+" - "+this.scheduledCount)}}});
Ext.define("Ext.util.ObjectTemplate",{isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(a,b){Ext.isObject(a)||Ext.Error.raise("The template is not an Object");return a.isObjectTemplate?a:new Ext.util.ObjectTemplate(a,b)}},constructor:function(a,b){Ext.apply(this,b);this.template=a},apply:function(a){delete this.apply;this.apply=this.compile(this.template);return this.apply(a)},privates:{compile:function(a){var b=this.excludeProperties,c,d,e;if(Ext.isString(a))0>
a.indexOf("{")?d=function(){return a}:this.valueRe.test(a)?(a=a.substring(1,a.length-1).split("."),d=function(b){for(var c=0;b&&c<a.length;++c)b=b[a[c]];return b}):(a=new Ext.XTemplate(a),d=function(b){return a.apply(b)});else if(Ext.isPrimitive(a)||Ext.isFunction(a))d=function(){return a};else if(a instanceof Array){c=[];d=0;for(e=a.length;d<e;++d)c[d]=this.compile(a[d]);d=function(a){var b=[],d;for(d=0;d<e;++d)b[d]=c[d](a);return b}}else{c={};for(d in a)b[d]||(c[d]=this.compile(a[d]));d=function(d){var e=
{},j,k;for(j in a)k=b[j]?a[j]:c[j](d),void 0!==k&&(e[j]=k);return e}}return d}}});
Ext.define("Ext.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",constructor:function(a,b){var c=b.extra;Ext.apply(this,b);c&&(delete c.type,Ext.apply(this,c),delete this.extra);this.association=a;a.owner===this.side&&(a.owner=this,this.owner=!0)},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},validateAssociationRecords:function(a,b,c){return c},checkMembership:Ext.emptyFn,
adoptAssociated:function(a,b){var c=this.getAssociatedItem(a);c&&b.adopt(c)},createAssociationStore:function(a,b,c,d){var e=this.association,g=e.getFieldName(),e=e.isManyToMany,h=this.storeConfig,j=b.getId();b={model:this.cls,data:c,role:this,session:a,associatedEntity:b,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!a};e?b.filters=[{property:this.inverse.field,value:j,exactMatch:!0}]:g&&(b.filters=[{property:g,value:j,exactMatch:!0}],b.foreignKeyName=g);h&&Ext.apply(b,h);b=
Ext.Factory.store(b);c&&(b.complete=!!d);e&&a&&(d=a.getMatrixSlice(this.inverse,j),d.attach(b),d.notify=this.onMatrixUpdate,d.scope=this);if(g||e&&a)if(b.on({add:"onAddToMany",load:"onLoadMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany",scope:this}),c)this.onLoadMany(b,b.getData().items,!0);return b},getAssociatedStore:function(a,b,c,d,e){var g=this.storeName||this.getStoreName(),h=a[g],j=b&&b.reload,k=a.$source,l=a.session,m,n,p;if(!h){if(!d&&k&&(k=k[g])&&!k.isLoading()){p=k;d=[];k=k.getData().items;
e=0;for(h=k.length;e<h;++e)n=k[e],d.push(l.getRecord(n.self,n.id));e=!0}h=this.createAssociationStore(l,a,d,e);h.$source=p;if(!d&&(this.autoLoad||b))j=!0;a[g]=h}if(b)if(j||h.isLoading())h.on("load",function(d,e,g,h){m=[d,h];c=c||b.scope||a;g?Ext.callback(b.success,c,m):Ext.callback(b.failure,c,m);m.push(g);Ext.callback(b,c,m);Ext.callback(b.callback,c,m)},null,{single:!0});else m=[h,null],c=c||b.scope||a,Ext.callback(b.success,c,m),m.push(!0),Ext.callback(b,c,m),Ext.callback(b.callback,c,m);j&&!h.isLoading()&&
h.load();return h},getAssociatedItem:function(a){var b=this.isMany?this.getStoreName():this.role;return a[b]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){return this.associationKey||(this.associationKey=this.association.schema.getNamer().readerRoot(this.role))},getReader:function(){var a=this.reader,b=this.cls,c=!this.associationKey,d=this.getReaderRoot();a&&(Ext.isString(a)&&(a={type:a,rootProperty:d,useSimpleAccessors:c}),a.isReader?(a.setModel(b),a.setRootProperty(d),a.setUseSimpleAccessors(c)):
Ext.applyIf(a,{model:b,rootProperty:d,useSimpleAccessors:c,type:this.defaultReaderType}),a=this.reader=Ext.createByAlias("reader."+a.type,a));return a},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(a){var b=this.getReader(),c=this.cls,d=!this.associationKey,e=this.getReaderRoot();b||((b=c.getProxy())?(b=b.getReader(),this.savedRoot=b.getRootProperty(),b.setRootProperty(e)):b=new a.self({model:c,useSimpleAccessors:d,
rootProperty:e}));return b},read:function(a,b,c,d){a=this.constructReader(c);b=a.read(b,d);d=this.savedRoot;void 0!==d&&(a.setRootProperty(d),delete this.savedRoot);return b},getCallbackOptions:function(a,b,c){"function"===typeof a?a={callback:a,scope:b||c}:a&&(a=Ext.apply({},a),a.scope=b||a.scope||c);return a},doGetFK:function(a,b,c){var d=this.cls,e=this.association.getFieldName(),g=this.role,h=a[g],j=b&&b.reload,k=void 0!==h&&!j,l=a.session;k?h&&(k=!h.isLoading()):l?(e=a.get(e))||0===e?(k=l.peekRecord(d,
e,!0)&&!j,h=l.getRecord(d,e,!1)):(k=!0,a[g]=h=null):e?(e=a.get(e),!e&&0!==e?(k=!0,a[g]=h=null):h||(h=d.createWithId(e))):k=!0;k?b&&(d=[h,null],c=c||b.scope||a,Ext.callback(b.success,c,d),d.push(!0),Ext.callback(b,c,d),Ext.callback(b.callback,c,d)):(a[g]=h,b=this.getCallbackOptions(b,c,a),h.load(b));return h},doSetFK:function(a,b,c,d){var e=this.association.getFieldName(),g=this.role,h=a[g],j=this.inverse,k=j.setterName;if(b&&b.isEntity){if(h!==b&&(e&&a.set(e,b.getId()),a[g]=b,k))b[k](a)}else if(e||
Ext.Error.raise('No foreignKey specified for "'+this.association.left.role+'" by '+a.$className),(e=a.changingKey&&!j.isMany||a.set(e,b))&&h&&h.isEntity&&!h.isEqual(h.getId(),b))a[g]=void 0,j.isMany||(h[j.role]=void 0);if(c)return Ext.isFunction(c)&&(c={callback:c,scope:d||a}),a.save(c)}});
Ext.define("Ext.data.schema.Association",{isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(a){var b;Ext.apply(this,a);this.left=a=new this.Left(this,this.left);this.right=b=new this.Right(this,this.right);a.inverse=b;b.inverse=a},hasField:function(){return!!this.field},getFieldName:function(){var a=this.field;return a?a.name:""}});
Ext.define("Ext.data.schema.OneToOne",{extend:Ext.data.schema.Association,isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(a){a[this.role]=null},createGetter:function(){var a=this;return function(){return a.doGet(this)}},createSetter:function(){var a=this;return function(b){return a.doSet(this,b)}},doGet:function(a){return a[this.role]||null},doSet:function(a,b){var c=this.role,d=a[c],e=this.inverse.setterName;if(d!==b&&(a[c]=b,e))b[e](a);
return d},read:function(a,b,c,d){b=this.callParent([a,b,c,d]).getRecords()[0];c=this.role;b&&(b[this.inverse.role]=a,a[c]=b,delete a.data[c])}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},onDrop:function(a,b){var c=this.association.field,d;if(this.inverse.owner)if(b){if((d=a.get(c.name))||0===d)(d=
b.getEntry(this.cls,d).record)&&d.drop()}else(d=this.getAssociatedItem(a))&&d.drop();c&&a.set(c.name,null);a[this.role]=null},onValueChange:function(a,b,c){b=this.getAssociatedItem(a);a.changingKey=!0;this.doSetFK(a,c);this.inverse.owner&&b&&this.association.schema.queueKeyCheck(b,this);a.changingKey=!1},checkKeyForDrop:function(a){this.inverse.getAssociatedItem(a)||a.drop()},read:function(a,b,c,d){b=this.callParent([a,b,c,d]).getRecords()[0];var e=this.role;c=this.association.field;d=a.session;b&&
(b[this.inverse.role]=a,a[e]=b,delete a.data[e],c&&(e=a.data[c.name],e!==b.id&&(a.data[c.name]=b.id,d&&d.updateReference(a,c,b.id,e))))}})});
Ext.define("Ext.data.schema.ManyToOne",{extend:Ext.data.schema.Association,isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,onDrop:function(a,b){var c=this.getAssociatedItem(a),d,e,g;if(c){if((d=c.removeAll())&&this.inverse.owner){g=0;for(e=d.length;g<e;++g)d[g].drop()}c.destroy();a[this.getStoreName()]=null}else if(b&&(d=b.getRefs(a,this)))for(e in d)d[e].drop()},processUpdate:function(a,b){var c=this.inverse.cls,d=b.R,e,g,h,j;if(d)for(e in d)if(g=
a.peekRecord(c,e))if(j=a.getEntityList(this.cls,d[e]),h=this.getAssociatedItem(g))j=this.validateAssociationRecords(a,g,j),h.loadRecords(j),h.complete=!0;else g[this.getterName](null,null,j);else a.onInvalidAssociationEntity(c,e)},validateAssociationRecords:function(a,b,c){a=a.getRefs(b,this,!0);b=[];var d,e,g,h,j;if(a){if(c){d={};h=0;for(j=c.length;h<j;++h)e=c[h],g=e.id,a[g]&&b.push(e),d[g]=!0}for(g in a)(!d||!d[g])&&b.push(a[g])}return b},adoptAssociated:function(a,b){var c=this.getAssociatedItem(a),
d,e;if(c){c.setSession(b);c=c.getData().items;d=0;for(e=c.length;d<e;++d)b.adopt(c[d])}},createGetter:function(){var a=this;return function(b,c,d){var e=this.session,g=!!d;e&&(d=a.validateAssociationRecords(e,this,d),!g&&!d.length&&(d=null));return a.getAssociatedStore(this,b,c,d,g)}},createSetter:null,onAddToMany:function(a,b){this.syncFK(b,a.associatedEntity,!1)},onLoadMany:function(a,b,c){var d=this.inverse.role,e=a.associatedEntity,g=e.getId(),h=this.association.field;a=a.getSession();var j,k,
l;if(c){c=0;for(j=b.length;c<j;++c)k=b[c],k[d]=e,h&&(l=k.data[h.name],l!==g&&(k.data[h.name]=g,a&&a.updateReference(k,h,g,l)))}},onRemoveFromMany:function(a,b){this.syncFK(b,a.associatedEntity,!0)},read:function(a,b,c,d){var e=this.inverse.role;b=this.callParent([a,b,c,d]);if(b.getReadRoot()){b=a[this.getterName](null,null,b.getRecords());delete a.data[this.role];b=b.getData().items;d=0;for(c=b.length;d<c;++d)b[d][e]=a}},syncFK:function(a,b,c){for(var d=this.association.getFieldName(),e=this.inverse.setterName,
g=a.length,h=b.getId(),j,k;0<g--;)if(k=a[g],j=!k.isEqual(h,k.get(d)),j!==c){k.changingKey=!0;if(e)k[e](c?null:b);else k.set(d,c?null:h);k.changingKey=!1}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",onDrop:function(a){var b=this.association.field;b&&a.set(b.name,null);a[this.role]=null},createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},checkMembership:function(a,
b){var c;(c=this.getSessionStore(a,b.get(this.association.field.name)))&&!c.contains(b)&&c.add(b)},onValueChange:function(a,b,c,d){var e,g,h,j;if(!a.changingKey)if(b){if((e=this.getSessionStore(b,d))&&e.remove(a),c||0===c)(e=this.getSessionStore(b,c))&&!e.isLoading()&&e.add(a)}else if(b=a.joined){g=0;for(h=b.length;g<h;++g)e=b[g],e.isStore&&(j=e.getAssociatedEntity())&&(j.self===this.cls&&j.getId()===d)&&e.remove(a)}this.owner&&null===c&&this.association.schema.queueKeyCheck(a,this)},checkKeyForDrop:function(a){null===
a.get(this.association.field.name)&&a.drop()},getSessionStore:function(a,b){var c=this.cls;if(c&&(c=a.peekRecord(c,b)))return this.inverse.getAssociatedItem(c)},read:function(a,b,c,d){(b=this.callParent([a,b,c,d]).getRecords()[0])&&(a[this.role]=b)}})});
Ext.define("Ext.data.schema.ManyToMany",{extend:Ext.data.schema.Association,isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,validateAssociationRecords:function(a,b,c){b=a.getMatrixSlice(this.inverse,b.id).members;var d=this.cls,e=[],g,h,j,k,l,m;if(c){g={};h=0;for(j=c.length;h<j;++h)m=c[h],k=m.id,(l=b[k])&&-1===l[2]||e.push(m),g[k]=!0}for(k in b)if(l=b[k],!g||!g[k]&&l&&-1!==l[2])(m=a.peekRecord(d,k))&&e.push(m);return e},
processUpdate:function(a,b){var c=this.inverse.cls,d=b.R,e,g,h,j;if(d)for(e in d)if(g=a.peekRecord(c,e))if(j=a.getEntityList(this.cls,d[e]),h=this.getAssociatedItem(g))j=this.validateAssociationRecords(a,g,j),h.loadRecords(j),h.complete=!0,this.onAddToMany(h,j,!0);else g[this.getterName](null,null,j);else a.onInvalidAssociationEntity(c,e);this.processMatrixBlock(a,b.C,1);this.processMatrixBlock(a,b.D,-1)},checkMembership:function(a,b){var c=a.getMatrix(this.association,!0),d,e,g,h;if(c&&(d=this.left?
c.right:c.left,c=d.inverse.role.cls,e=this.inverse,d=d.slices))if(d=d[b.id])for(g in d=d.members,d)if(h=d[g],-1!==h[2]&&(h=a.peekRecord(c,g)))if(h=e.getAssociatedItem(h))h.matrixUpdate=1,h.add(b),h.matrixUpdate=0},processMatrixBlock:function(a,b,c){var d=this.inverse,e=this.digitRe,g,h;if(b)for(h in b)e.test(h)&&(h=parseInt(h,10)),g=a.getMatrixSlice(d,h),g.update(b[h],c)},createGetter:function(){var a=this;return function(b,c,d){var e=this.session,g;e&&(g=!!d,d=a.validateAssociationRecords(e,this,
d),!g&&!d.length&&(d=null));return a.getAssociatedStore(this,b,c,d,g)}},onAddToMany:function(a,b,c){a.matrixUpdate||(a.matrixUpdate=1,a.matrix.update(b,!0===c?0:1),a.matrixUpdate=0)},onLoadMany:Ext.emptyFn,onRemoveFromMany:function(a,b){a.matrixUpdate||(a.matrixUpdate=1,a.matrix.update(b,-1),a.matrixUpdate=0)},read:function(a,b,c,d){b=this.callParent([a,b,c,d]);b.getReadRoot()&&(a[this.getterName](null,null,b.getRecords()),delete a.data[this.role])},onMatrixUpdate:function(a,b,c){a=a.store;var d;
a&&(!a.loading&&!a.matrixUpdate)&&(a.matrixUpdate=1,d=a.indexOfId(b),0>c?0<=d&&a.remove([d]):0>d&&(b=(b=a.getSession().getEntry(this.type,b))&&b.record)&&a.add(b),a.matrixUpdate=0)}},function(){var a=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:a,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})});
Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,
"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,
"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:"sheep fish series species money rice information equipment grass mud offspring deer means".split(" "),singular:function(a,b){this.singulars.unshift([a,b])},plural:function(a,b){this.plurals.unshift([a,b])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return-1!=
Ext.Array.indexOf(this.uncountable,a)},pluralize:function(a){if(this.isTransnumeral(a))return a;var b=this.plurals,c=b.length,d,e,g;for(g=0;g<c;g++)if(d=b[g],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},singularize:function(a){if(this.isTransnumeral(a))return a;var b=this.singulars,c=b.length,d,e,g;for(g=0;g<c;g++)if(d=b[g],e=d[0],e==a||e.test&&e.test(a))return a.replace(e,d[1]);return a},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(a){var b=
parseInt(a,10),c=b%100;if(11<=c&&13>=c)return a+"th";switch(b%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd";default:return a+"th"}}},function(){var a={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",
genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},b;for(b in a)a.hasOwnProperty(b)&&(this.plural(b,a[b]),this.singular(a[b],b))});
Ext.define("Ext.data.schema.Namer",{mixins:[Ext.mixin.Factoryable],alias:"namer.default",isNamer:!0,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(a){var b=a.match(this.endsWithIdRe,"");b&&(a=a.substr(0,a.length-(b[1]||b[2]).length));return this.apply("uncapitalize",a)},idField:function(a){return this.apply("uncapitalize,singularize",a)+"Id"},multiRole:function(a){return this.apply("undotted,uncapitalize,pluralize",a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},
readerRoot:function(a){return this.apply("uncapitalize",a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply("underscore",a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return"_"+a},uniRole:function(a){return this.apply("undotted,uncapitalize,singularize",a)},undotted:function(a){if(0>a.indexOf("."))return a;a=a.split(".");for(var b=a.length;1<b--;)a[b]=this.apply("capitalize",a[b]);return a.join("")},
getterName:function(a){var b=a.role;return a&&a.isMany?b:"get"+this.apply("capitalize",b)},inverseFieldRole:function(a,b,c,d){a=this.apply(b?"uniRole":"multiRole",a);b=this.apply("pluralize",c);d=this.apply("undotted,pluralize",d);b.toLowerCase()!==d.toLowerCase()&&(a=c+this.apply("capitalize",a));return a},manyToMany:function(a,b,c){b=this.apply("undotted,capitalize,singularize",b)+this.apply("undotted,capitalize,pluralize",c);a&&(b=this.apply("capitalize",a+b));return b},manyToOne:function(a,b,
c){return this.apply("capitalize,singularize",c)+this.apply("capitalize",b)},matrixRole:function(a,b){var c=this.apply(a?"multiRole,capitalize":"multiRole",b);return a?a+c:c},oneToOne:function(a,b,c){return this.apply("undotted,capitalize,singularize",c)+this.apply("capitalize",b)},setterName:function(a){return"set"+this.apply("capitalize",a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(a,b){var c=this.cache,c=c[b]||(c[b]={}),d=c[a],e,g,h;if(!d){if(0>a.indexOf(","))d=this[a](b);
else{g=(h=a.split(",")).length;d=b;for(e=0;e<g;++e)d=this.apply(h[e],d)}c[a]=d}return d}});
Ext.define("Ext.data.schema.Schema",{mixins:[Ext.mixin.Factoryable],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},get:function(a){var b=this.instances,c="default",d=a&&Ext.isString(a),e;if(a){if(a.isSchema)return a;c=d?a:a.id||c}(e=b[c])?a&&!d&&("default"!==c&&Ext.Error.raise("Only the default Schema instance can be reconfigured"),b=Ext.merge({},e.config),Ext.merge(b,a),e.setConfig(b),e.config=b,e.setConfig=function(){Ext.Error.raise("The schema can only be reconfigured once")}):
(b[c]=e=this.create(a),e.id=c);return e},lookupEntity:function(a){var b=null,c=this.instances,d,e;if(a)if(a.isEntity)b=a.self;else if(Ext.isFunction(a))b=a;else if(Ext.isString(a)){if((b=Ext.ClassManager.get(a))&&(!b.prototype||!b.prototype.isEntity))b=null;if(!b)for(e in c)if(d=c[e],d=d.getEntity(a))b&&Ext.Error.raise('Ambiguous entity name "'+a+'". Defined by schema "'+b.schema.type+'" and "'+e+'"'),b=d;b||Ext.Error.raise('No such Entity "'+a+'".')}return b}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,
keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(a,b){var c=b.alias;c&&!b.type&&(Ext.isString(c)||(c=c[0]),a.prototype.type=c.substring(this.prototype.aliasPrefix.length))},constructor:function(a){this.initConfig(a);this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(a){a=Ext.data.schema.Namer.create(a);a.schema=this;return a},applyNamespace:function(a){a&&
"."!==a.charAt(a.length-1)&&(a+=".");return a},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(a,b){var c=this.associations,d;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d]))break},eachEntity:function(a,b){var c=this.entities,d;for(d in c)if(c.hasOwnProperty(d)&&!1===a.call(b,d,c[d].cls))break},getAssociation:function(a){return this.associations[a]||null},getEntity:function(a){return(a=this.entityClasses[a]||this.entities[a])&&a.cls||null},getEntityName:function(a){var b=
this.getNamespace(),c;if(a="string"===typeof a?a:a.$className||null){if(b&&(c=b.length,a.substring(0,c)!==b))return a;c&&(a=a.substring(c))}return a},hasAssociations:function(a){a=a.entityName||a;return!!this.associationEntityMap[a]},hasEntity:function(a){a=this.getEntityName(a);return!(!this.entities[a]&&!this.entityClasses[a])},addMatrix:function(a,b,c,d,e){var g=this.getNamer(),h=this.associations,j=this.entities,k=d.type,l=e.type,m=d.field||g.apply("idField",k),n=e.field||g.apply("idField",l);
d=d.role||g.matrixRole(c,k);e=e.role||g.matrixRole(c,l);c=j[k]||(j[k]={cls:null,name:k,associations:{}});j=j[l]||(j[l]={cls:null,name:l,associations:{}});++this.assocCount;h[b]=b=new Ext.data.schema.ManyToMany({name:b,schema:this,definedBy:a,left:{cls:c.cls,type:k,role:d,field:m},right:{cls:j.cls,type:l,role:e,field:n}});c.associations[b.right.role]=b.right;j.associations[b.left.role]=b.left;this.associationEntityMap[a.entityName]=!0;this.decorateModel(b)},addReference:function(a,b,c,d){var e=this.getNamer(),
g=this.entities,h=this.associations,j=a.entityName,k=c.association,l=!!c.legacy,m=c.child,n=c.parent,p=c.role,q=c.type||n||m,r=c.inverse,s=(r=Ext.isString(r)?{role:r}:r)&&r.role;p||(p=l?e.apply("uncapitalize",q):e.apply("fieldRole",b.name));s||(s=e.inverseFieldRole(j,d,p,q));k||(k=d?e.oneToOne(a,s,q,p):e.manyToOne(a,s,q,p));k in h&&Ext.Error.raise('Duplicate association: "'+k+'" declared by '+j+(b?"."+b.name:"")+" (collides with "+h[k].definedBy.entityName+")");b&&b.definedBy===g[q]&&Ext.Error.raise("ForeignKey reference should not be owned by the target model");
e=g[q]||(g[q]={cls:null,name:q,associations:{}});k=new (d?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne)({name:k,owner:m?"left":n?"right":null,definedBy:a,schema:this,field:b,nullable:b?!!b.allowBlank:!0,legacy:c.legacy,left:{cls:a,type:j,role:s,extra:r},right:{cls:e.cls,type:q,role:p,extra:c}});a.associations[p]=k.right;e.associations[s]=k.left;b&&(b.reference=k.right,a.references.push(b));++this.assocCount;this.associationEntityMap[j]=!0;e.cls&&(this.associationEntityMap[e.cls.entityName]=
!0);h[k.name]=k;k.right.cls&&this.decorateModel(k)},privates:{addEntity:function(a){var b=this.entities,c=a.entityName,d=b[c],e=a.fields,g;if(d)if(d.cls)Ext.Error.raise('Duplicate entity name "'+c+'": '+d.cls.$className+" and "+a.$className);else for(g in b=d.associations,b)b[g].inverse.cls=a,this.associationEntityMap[c]=!0,this.decorateModel(b[g].association);else b[c]=d={name:c,associations:{}};d.cls=a;a.prototype.associations=a.associations=d.associations;this.entityClasses[a.$className]=d;++this.entityCount;
d=0;for(g=e.length;d<g;++d)c=e[d],c.reference&&this.addReferenceDescr(a,c)},addMatrices:function(a,b){var c,d;if(Ext.isString(b))this.addMatrixDescr(a,null,b);else if(b[0]){c=0;for(d=b.length;c<d;++c)this.addMatrixDescr(a,null,b[c])}else for(c in b)this.addMatrixDescr(a,c,b[c])},addMatrixDescr:function(a,b,c){var d=a.entityName,e=this.associations,g=this.getNamer(),h=c.left,j=c.right,k;Ext.isString(c)?"#"===c.charAt(0)?(h={type:d},j={type:c.substring(1)}):"#"===c.charAt(h=c.length-1)?(h={type:c.substring(0,
h)},j={type:d}):g.apply("multiRole",d)<g.apply("multiRole",c)?(h={type:d},j={type:c}):(h={type:c},j={type:d}):(Ext.Assert.isString(c.type,'No "type" for manyToMany in '+d),k=c.relation,h||!j&&g.apply("multiRole",d)<g.apply("multiRole",c.type)?(h=!h||!0===h?{type:d}:Ext.apply({type:d},h),j=c):(j=!j||!0===j?{type:d}:Ext.apply({type:d},j),h=c));b||(b=g.manyToMany(k,h.type,j.type));b in e?(c=e[b],g=[c.kind,c.left.type,c.left.role,c.left.field,c.right.type,c.right.role,c.right.field].join("|"),delete e[b],
this.addMatrix(a,b,k,h,j),a=e[b],e[b]=c,c.left.cls.associations[c.right.role]=c.right,c.right.cls.associations[c.left.role]=c.left,--this.assocCount,a=[a.kind,a.left.type,a.left.role,a.left.field,a.right.type,a.right.role,a.right.field].join("|"),g!=a&&(Ext.log.warn(b+"("+c.definedBy.entityName+"): "+g),Ext.log.warn(b+"("+d+"): "+a),Ext.Error.raise('Conflicting association: "'+b+'" declared by '+d+" was previously declared by "+c.definedBy.entityName))):this.addMatrix(a,b,k,h,j)},addReferenceDescr:function(a,
b){var c=b.$reference,c=Ext.isString(c)?{type:c}:Ext.apply({},c);c.legacy?c.single?this.addLegacySingle(a,c):this.addLegacyHasMany(a,c):this.addReference(a,b,c,b.unique)},addPending:function(a,b,c,d){var e=this.pending;e[a]||(e[a]=[]);e[a].push([b,c,d])},addLegacyBelongsTo:function(a,b){this.addLegacySingle(a,b)},addLegacyHasOne:function(a,b){this.addLegacySingle(a,b)},addLegacySingle:function(a,b){var c;b=this.constructLegacyAssociation(a,b);b.single=!0;c=b.type;c=b.foreignKey||c.toLowerCase()+"_id";
if(c=a.getField(c))c.$reference=b;this.addReference(a,c,b,!0)},addLegacyHasMany:function(a,b){var c=this.entities,d=this.pending,e=b.associationKey,g;b=this.constructLegacyAssociation(a,b);g=b.type;if((c=c[g])&&c.cls){b.type=a.entityName;g=b.foreignKey||b.type.toLowerCase()+"_id";d=c.cls;g=d.getField(g);b.inverse=b;if((c=b.name)||e)b.inverse={},c&&(b.inverse.role=c),e&&(b.inverse.associationKey=e);g&&(g.$reference=b);this.addReference(d,g,b,!1)}else d[g]||(d[g]=[]),d[g].push([a,b])},constructLegacyAssociation:function(a,
b){Ext.isString(b)&&(b={model:b});b.legacy=!0;b.type=this.getEntityName(b.model);var c=b.associatedName||b.name;c&&(b.role=c);return b},afterLegacyAssociations:function(a){var b=this.pending;a=a.entityName;var c=b[a],d,e;if(c){d=0;for(e=c.length;d<e;++d)this.addLegacyHasMany.apply(this,c[d]);delete b[a]}},clear:function(a){var b=this.timer;delete this.setConfig;b&&(window.clearTimeout(b),this.timer=null);this.associations={};this.associationEntityMap={};this.entities={};this.entityClasses={};this.pending=
{};this.assocCount=this.entityCount=0;a&&this.setNamespace(null)},constructProxy:function(a){a=Ext.Object.chain(a);var b=this.getProxy();a.schema=this;a.prefix=this.getUrlPrefix();return b.apply(a)},applyDecoration:function(a){var b=a.inverse.cls,c=this.getNamer(),d;if(b&&!a.decorated){a.decorated=!0;b=b.prototype;if(!(d=a.getterName))a.getterName=d=c.getterName(a);b[d]=a.createGetter();if(a.createSetter){if(!(d=a.setterName))a.setterName=d=c.setterName(a);b[d]=a.createSetter()}}},decorateModel:function(a){this.applyDecoration(a.left);
this.applyDecoration(a.right)},processKeyChecks:function(a){var b=this.keyCheckQueue,c=this.timer,d,e;c&&(window.clearTimeout(c),this.timer=null);if(b){do{b=this.keyCheckQueue;this.keyCheckQueue=[];d=0;for(c=b.length;d<c;++d)e=b[d],e.role.checkKeyForDrop(e.record)}while(a&&this.keyCheckQueue.length)}},queueKeyCheck:function(a,b){var c=this.keyCheckQueue,d=this.timer;c||(this.keyCheckQueue=c=[]);c.push({record:a,role:b});d||(this.timer=Ext.Function.defer(this.processKeyChecks,this.getKeyCheckDelay(),
this))},rankEntities:function(){var a=this.entities,b=Ext.Object.getKeys(a),c=b.length,d,e;this.nextRank=1;b.sort();for(e=0;e<c;++e)d=a[b[e]].cls,d.rank||this.rankEntity(d);this.topoStack=null},rankEntity:function(a){var b=a.associations,c,d,e=this.topoStack||(this.topoStack=[]);c=a.entityName;e.push(c);0===a.rank&&Ext.Error.raise(c+" has circular foreign-key references: "+e.join(" --\x3e "));a.rank=0;for(d in b)c=b[d],!c.left&&c.association.field&&(c=c.cls,c.rank||this.rankEntity(c));a.rank=this.nextRank++;
e.pop()}}});
Ext.define("Ext.data.Batch",{mixins:{observable:Ext.mixin.Observable},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.operations=[];this.exceptions=[]},add:function(a){var b,c;if(Ext.isArray(a)){b=0;for(c=a.length;b<c;++b)this.add(a[b])}else this.total++,a.setBatch(this),this.operations.push(a);return this},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(a,b){var c=a.order-
b.order;if(c)return c;var c=a.entityType,d=b.entityType,e;if(!c||!d)return 0;if(!(e=c.rank))c.schema.rankEntities(),e=c.rank;return(e-d.rank)*a.foreignKeyDirection},start:function(a){if(!this.operations.length||this.running)return this;this.exceptions.length=0;this.exception=!1;this.running=!0;return this.runOperation(Ext.isDefined(a)?a:this.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){this.running&&this.runOperation(this.current+1);return this},pause:function(){this.running=
!1;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var a=null,b=this.current;-1===b||this.complete||(a=this.operations[b]);return a},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(a){var b=this.operations,c=b[a];void 0===c?(this.running=!1,this.complete=!0,this.fireEvent("complete",
this,b[b.length-1])):(this.current=a,c.setInternalCallback(this.onOperationComplete),c.setInternalScope(this),c.execute());return this},onOperationComplete:function(a){var b=a.hasException();b&&(this.exception=!0,this.exceptions.push(a),this.fireEvent("exception",this,a));b&&this.getPauseOnException()?this.pause():(this.fireEvent("operationcomplete",this,a),this.runNextOperation())}});
Ext.define("Ext.data.matrix.Slice",{stub:null,constructor:function(a,b){this.id=b;this.side=a;this.members={}},attach:function(a){Ext.Assert.falsey(this.store,"Store is already attached");this.store=a;a.matrix=this;a.on("load",this.onStoreLoad,this,{single:!0})},changeId:function(a){var b=this.id,c=this.side,d=c.slices,e=d[b],g=e.members,h=c.index,c=c.inverse.slices,j;this.id=a;d[a]=e;delete d[b];for(j in g)d=g[j],d[h]=a,d=c[j].members,d[a]=d[b],delete d[b]},onStoreLoad:function(a){this.update(a.getData().items,
0)},update:function(a,b){a instanceof Array||Ext.Error.raise("Only array of records or record ids are supported");var c=Ext.data.matrix.Slice,d=this.side,e=d.index,g=a.length,h=this.id,j=this.members,d=d.inverse,k,l,m,n,p;for(m=0;m<g;++m){l=null;k=a[m];n=k.isEntity?k.id:k;k=j[n];if(0>b&&k&&1===k[2])delete j[n],(p=d[n])&&delete p.members[h],l=1;else if(k)b!==k[2]&&0!==b&&(k[2]=b,p=d.slices[n],l=1);else{k=[n,n,b];k[e]=h;j[n]=k;if(!(p=(l=d.slices)[n]))l[n]=p=new c(d,n);p.members[h]=k;l=1}l&&(this.notify&&
this.notify.call(this.scope,this,n,b),p&&p.notify&&p.notify.call(p.scope,p,h,b))}},destroy:function(){var a=this.store;a&&(a.matrix=null,a.un("load",this.onStoreLoad,this));this.notify=this.scope=this.store=this.side=this.members=null;this.callParent()}});
Ext.define("Ext.data.matrix.Side",{constructor:function(a,b,c){this.matrix=a;this.index=b;this.role=c;this.slices={}},get:function(a,b){var c=this.slices,c=c[a]||(c[a]=new Ext.data.matrix.Slice(this,a));return b||0===b?c.members[b]:c},update:function(a,b,c){return this.get(a).update(b,c)},destroy:function(){var a=this.slices,b;for(b in a)a[b].destroy();this.inverse=this.matrix=this.role=this.slices=null;this.callParent()}});
Ext.define("Ext.data.matrix.Matrix",{constructor:function(a,b){var c=b.isManyToMany?b:a.getSchema().getAssociation(b),d=Ext.data.matrix.Side,e=new d(this,0,c.left),d=new d(this,1,c.right);Ext.Assert.truthy(c.isManyToMany,"Association is not many-to-many");this.association=c;this.session=a;this.left=e;this.right=d;e.inverse=d;d.inverse=e},update:function(a,b,c){return this.left.update(a,b,c)},destroy:function(){this.left.destroy();this.right.destroy();this.association=this.session=this.left=this.right=
null;this.callParent()}});
Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(a){this.session=a;a=a.getCrudProperties();this.result=null;this.writerOptions={};this.createKey=a.create;this.readKey=a.read;this.updateKey=a.update;this.dropKey=a.drop},onDirtyRecord:function(a){var b=this.crud,b=a.phantom,c=a.dropped,d=a.$className,e=b||c?"allDataOptions":"partialDataOptions",g=this.writerOptions,h=a.entityName,j;if(b&&c)return!1;b=b?this.createKey:c?this.dropKey:this.updateKey;g=g[d]||(g[d]={});if(c){if(!(c=g.drop))g.drop=
c={all:a.getProxy().getWriter().getWriteAllFields()};c.all||(j=a.id)}if(!j){if(!(c=g[e]))c=a.getProxy().getWriter().getConfig(e),g[e]=c=Ext.Object.chain(c),this.setupOptions(c);j=a.getData(c)}a=this.result||(this.result={});h=a[h]||(a[h]={});h=h[b]||(h[b]=[]);h.push(j)},setupOptions:function(a){a.serialize=!0},onMatrixChange:function(a,b,c,d){var e=a.left.type;a=a.right.role;d=0>d?this.dropKey:this.createKey;var g;g=this.result||(this.result={});e=g[e]||(g[e]={});e=e[a]||(e[a]={});e=e[d]||(e[d]={});
e=e[b]||(e[b]=[]);e.push(c)}});
Ext.define("Ext.data.session.ChildChangesVisitor",{extend:Ext.data.session.ChangesVisitor,constructor:function(){this.seen={};this.callParent(arguments)},setupOptions:function(a){this.callParent([a]);a.serialize=!1},onDirtyRecord:function(a){!1!==this.callParent(arguments)&&!a.$source&&(a.dropped||!a.phantom)&&this.readEntity(a)},readEntity:function(a){var b=this.readKey,c=a.entityName,d=this.seen,e=c+a.id;d[e]||(d[e]=!0,d=this.result||(this.result={}),c=d[c]||(d[c]={}),c=c[b]||(c[b]=[]),c.push(Ext.apply({},
a.modified,a.data)))}});
Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(a){this.batch=a},getBatch:function(a){var b=this.map,c=this.batch,d,e,g,h,j;if(b)for(g in c||(c=new Ext.data.Batch),b)for(h in d=b[g],e=d.entity,j=e.getProxy(),delete d.entity,d)h=j.createOperation(h,{records:d[h]}),h.entityType=e,c.add(h);c&&!1!==a&&c.sort();return c},onDirtyRecord:function(a){var b=a.phantom?"create":a.dropped?"destroy":"update",c=a.$className,d=this.map||(this.map={}),c=d[c]||(d[c]={entity:a.self}),c=c[b]||
(c[b]=[]);c.push(a)}});
Ext.define("Ext.data.Session",{isSession:!0,config:{schema:"default",parent:null,autoDestroy:!0,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:!1,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(a){this.data={};this.matrices={};this.identifierCache={};this.recordCreator=this.recordCreator.bind(this);this.initConfig(a)},
destroy:function(){var a=this.matrices,b=this.data,c,d,e;for(e in a)a[e].destroy();for(c in b)for(e in a=b[c],a)if(d=a[e].record)d.$source=d.session=null;this.recordCreator=this.matrices=this.data=null;this.setSchema(null);this.callParent()},adopt:function(a){var b=a.associations,c;this.checkModelType(a.self);a.session&&a.session!==this&&Ext.Error.raise("Record already belongs to an existing session");if(a.session!==this&&(a.session=this,this.add(a),b))for(c in b)b[c].adoptAssociated(a,this)},commit:function(){},
createRecord:function(a,b){this.checkModelType(a);var c=a.$isClass?a:this.getSchema().getEntity(a),d=this.getParent(),e;b&&d&&(e=c.getIdFromData(b),d.peekRecord(c,e)&&Ext.Error.raise("A parent session already contains an entry for "+c.entityName+": "+e));return new c(b,this)},getChanges:function(){var a=new Ext.data.session.ChangesVisitor(this);this.visitData(a);return a.result},getChangesForParent:function(){var a=new Ext.data.session.ChildChangesVisitor(this);this.visitData(a);return a.result},
getRecord:function(a,b,c){var d=this.peekRecord(a,b),e;d||(a=a.$isClass?a:this.getSchema().getEntity(a),(d=this.getParent())&&(e=d.peekRecord(a,b)),e&&!e.isLoading()?(d=e.copy(void 0,this),d.$source=e):(d=a.createWithId(b,null,this),!1!==c&&d.load(Ext.isObject(c)?c:void 0)));return d},getSaveBatch:function(a){var b=new Ext.data.session.BatchVisitor;this.visitData(b);return b.getBatch(a)},onInvalidAssociationEntity:function(a,b){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(a,
b))},onInvalidEntityCreate:function(a,b){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityDrop:function(a,b){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(a,b))},onInvalidEntityRead:function(a,b){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityUpdate:function(a,b,c){c?Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(a,b)):Ext.Error.raise("Cannot update, record does not exist: "+
this.getModelIdentifier(a,b))},peekRecord:function(a,b,c){this.checkModelType(a);var d=(a.$isClass?a:this.getSchema().getEntity(a)).entityName,d=(d=(d=this.data[d])&&d[b])&&d.record;!d&&c&&(d=(d=this.getParent())&&d.peekRecord(a,b,c));return d||null},save:function(){this.getParent()||Ext.Error.raise("Cannot commit session, no parent exists");var a=new Ext.data.session.ChildChangesVisitor(this);this.visitData(a);this.getParent().update(a.result)},spawn:function(){return new this.self({schema:this.getSchema(),
parent:this})},update:function(a){var b=this.getSchema(),c=this.crudOperations,d=c.length,e=this.crudKeys,g,h,j,k,l,m,n;this.getSchema().processKeyChecks(!0);for(g in a){(h=b.getEntity(g))||Ext.Error.raise("Invalid entity type: "+g);j=a[g];for(k=0;k<d;++k)if(l=c[k],m=j[l.type])this[l.entityMethod](h,m)}for(g in a)for(n in h=b.getEntity(g),c=h.associations,j=a[g],j)e[n]||((d=c[n])||Ext.Error.raise("Invalid association key for "+g+', "'+n+'"'),h=j[d.role],d.processUpdate(this,h))},privates:{add:function(a){var b=
this.getEntry(a.self,a.id),c;b.record&&Ext.Error.raise("Duplicate id "+a.id+" for "+a.entityName);b.record=a;this.registerReferences(a);b=a.associations;for(c in b)b[c].checkMembership(this,a)},afterErase:function(a){this.evict(a)},applySchema:function(a){return Ext.data.schema.Schema.get(a)},checkModelType:function(a){a.$isClass&&(a=a.entityName);a?this.getSchema().getEntity(a)||Ext.Error.raise("Unknown entity type "+a):Ext.Error.raise("Unable to use anonymous models in a Session")},createEntities:function(a,
b){var c=b.length,d,e,g,h;for(d=0;d<c;++d){e=b[d];h=a.getIdFromData(e);if(g=this.peekRecord(a,h))this.onInvalidEntityCreate(a,h);else g=this.createRecord(a,e);g.phantom=!0}},dropEntities:function(a,b){var c=b.length,d,e,g;for(d=0;d<c;++d)if(g=b[d],e=this.peekRecord(a,g))e.drop();else this.onInvalidEntityDrop(a,g)},evict:function(){},getEntityList:function(a,b){var c=b.length,d,e,g,h;for(d=0;d<c;++d)e=b[d],(g=this.peekRecord(a,e))?b[d]=g:(h=!0,b[d]=null,this.onInvalidAssociationEntity(a,e));h&&(b=
Ext.Array.clean(b));return b},getEntry:function(a,b){a.isModel&&(b=a.getId(),a=a.self);var c=(a.$isClass?a:this.getSchema().getEntity(a)).entityName,d=this.data,c=d[c]||(d[c]={});return c=c[b]||(c[b]={})},getRefs:function(a,b,c){var d=this.getEntry(a),e=d&&d.refs&&d.refs[b.role];c=c&&this.getParent();var g;if(c&&(a=c.getRefs(a,b))){for(g in a)c=a[g],(!e||!e[g])&&this.getRecord(c.self,c.id);e=d&&d.refs&&d.refs[b.role]}return e||null},getIdentifier:function(a){var b=this.getParent(),c,d;b?d=b.getIdentifier(a):
(b=this.identifierCache,c=a.identifier,a=c.id||a.entityName,d=b[a],d||(d=c.clone?c.clone({cache:b}):c,b[a]=d));return d},getMatrix:function(a,b){var c=a.isManyToMany?a.name:a,d=this.matrices,e;e=d[c];!e&&!b&&(e=d[c]=new Ext.data.matrix.Matrix(this,a));return e||null},getMatrixSlice:function(a,b){return this.getMatrix(a.association)[a.side].get(b)},getModelIdentifier:function(a,b){return b+"@"+a.entityName},onIdChanged:function(a,b,c){var d=a.entityName,e=a.id,g=this.data[d],h=g[b],j=a.associations,
k=h.refs,l=this._setNoRefs,m,n;g[c]&&Ext.Error.raise("Cannot change "+d+" id from "+b+" to "+c+" id already exists");delete g[b];g[c]=h;for(n in j)if(d=j[n],d.isMany&&(d=d.getAssociatedItem(a)))(d=d.matrix)&&d.changeId(c);if(k)for(n in k)if(c=k[n],d=j[n],d=d.association,!d.isManyToMany)for(m in d=d.field.name,c)c[m].set(d,e,l);this.registerReferences(a,b)},processManyBlock:function(a,b,c,d){var e,g,h;if(c)for(e in c)if(g=this.peekRecord(a,e))records=this.getEntityList(b.cls,c[e]),h=b.getAssociatedItem(g),
this[d](b,h,g,records);else this.onInvalidAssociationEntity(a,e)},processManyCreate:function(a,b,c,d){if(b)b.add(d);else c[a.getterName](null,null,d)},processManyDrop:function(a,b,c,d){b&&b.remove(d)},processManyRead:function(a,b,c,d){if(b)b.setRecords(d);else c[a.getterName](null,null,d)},readEntities:function(a,b){var c=b.length,d,e,g,h;for(d=0;d<c;++d){e=b[d];h=a.getIdFromData(e);if(g=this.peekRecord(a,h))this.onInvalidEntityRead(a,h);else g=this.createRecord(a,e);g.phantom=!1}},recordCreator:function(a,
b){var c=b.getIdFromData(a),d=this.peekRecord(b,c,!0);return d=d?this.getRecord(b,c):new b(a,this)},registerReferences:function(a,b){var c=a.id,d=a.data,e=b||0===b,g,h,j,k,l,m;j=(l=a.references).length;for(h=0;h<j;++h)if(k=l[h],(g=d[k.name])||0===g)k=k.reference,m=k.inverse.role,g=this.getEntry(k.cls,g),g=g.refs||(g.refs={}),g=g[m]||(g[m]={}),g[c]=a,e&&delete g[b]},updateEntities:function(a,b){var c=b.length,d,e,g,h;if(Ext.isArray(b))for(d=0;d<c;++d)if(e=b[d],h=a.getIdFromData(e),g=this.peekRecord(a,
h))g.set(e);else this.onInvalidEntityUpdate(a,h);else for(h in b)if(e=b[h],(g=this.peekRecord(a,h))&&!g.dropped)g.set(e);else this.onInvalidEntityUpdate(a,h,!!g)},updateReference:function(a,b,c,d){var e=b.reference;b=e.type;var e=e.inverse.role,g=a.id;if(d||0===d)d=this.getEntry(b,d).refs[e],delete d[g];if(c||0===c)c=this.getEntry(b,c),d=c.refs||(c.refs={}),d=d[e]||(d[e]={}),d[g]=a},visitData:function(a){var b=this.data,c=this.matrices,d,e,g,h,j,k,l;this.getSchema().processKeyChecks(!0);for(k in b)for(e in d=
b[k],d)if(h=d[e].record)if(h.phantom||h.dirty||h.dropped){if(a.onDirtyRecord)a.onDirtyRecord(h)}else if(a.onCleanRecord)a.onCleanRecord(h);if(a.onMatrixChange)for(k in c)for(e in h=c[k].left,b=h.slices,d=h.role.association,b)for(g in h=b[e],j=h.members,j)if(l=(h=j[g])[2])a.onMatrixChange(d,h[0],h[1],l);return a},_setNoRefs:{refs:!1}}});
Ext.define("Ext.util.Schedulable",{"abstract":!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var a=this.getScheduler();a&&a.remove(this);this.destroyed=!0;this.scheduler=null;this.schedule=this.destroy=this.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var a;if(!this.scheduled&&(a=this.getScheduler())){this.scheduled=!0;if(this.onSchedule)this.onSchedule();
a.scheduleItem(this)}},unschedule:function(){var a;this.scheduled&&((a=this.getScheduler())&&a.unscheduleItem(this),this.scheduled=!1)},sort:function(){}}});
Ext.define("Ext.app.bind.BaseBinding",{extend:Ext.util.Schedulable,calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(a,b,c,d){this.options=d;this.owner=a;this.scope=c;(this.callback=b)||Ext.Error.raise("Callback is required");this.lateBound=Ext.isString(b);d&&d.deep&&(this.deep=!0);this.callParent()},destroy:function(){var a=this.owner;this.callParent();if(a)a.onBindDestroy();this.scope=this.callback=this.owner=null},privates:{getScheduler:function(){var a=this.owner;return a&&
a.getScheduler()},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},notify:function(a){var b=this.options||this.defaultOptions,c=this.lastValue;if(!this.calls||this.deep||c!==a||Ext.isArray(a)){++this.calls;this.lastValue=a;if(this.lateBound)this.scope[this.callback](a,c,this);else this.callback.call(this.scope,a,c,this);b.single&&this.destroy()}}}});
Ext.define("Ext.app.bind.Binding",{extend:Ext.app.bind.BaseBinding,constructor:function(a,b,c,d){this.callParent([a.owner,b,c,d]);this.stub=a;this.depth=a.depth;!a.isLoading()&&!a.scheduled&&this.schedule()},destroy:function(a){var b=this.stub;b&&!a&&(b.unbind(this),this.stub=null);this.callParent()},bindValidation:function(a,b){var c=this.stub;return c&&c.bindValidation(a,b)},bindValidationField:function(a,b){var c=this.stub;return c&&c.bindValidationField(a,b)},getFullName:function(){return this.fullName||
(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var a=this.stub,a=a&&a.getValue();this.transform&&(a=this.transform(a));return a},isLoading:function(){var a=this.stub;return a&&a.isLoading()},isReadOnly:function(){var a=this.stub,b=this.options;return a&&(a.set&&!(b&&!1===b.twoWay))&&(a=a.formula,!a||a.set)?!1:!0},refresh:function(){},setValue:function(a){this.isReadOnly()&&Ext.Error.raise("Cannot setValue on a readonly binding");var b=this.stub,c=b.formula;c?c.set.call(b.owner,
a):b.set(a)},privates:{getDataObject:function(){var a=this.stub;return a&&a.getDataObject()},getRawValue:function(){var a=this.stub,a=a&&a.getRawValue();this.transform&&(a=this.transform(a));return a},isDescendantOf:function(a){var b=this.stub;return b?a===b||b.isDescendantOf(a):!1},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||this.callParent()},sort:function(){var a=this.stub;a.scheduler.sortItem(a)}}});
Ext.define("Ext.app.bind.AbstractStub",{extend:Ext.util.Schedulable,children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(a,b){this.owner=a;this.name=b;this.callParent()},destroy:function(){var a=this.children,b=this.bindings,c,d,e;if(b){d=0;for(c=b.length;d<c;++d)b[d].destroy(!0)}for(e in a)a[e].destroy();this.callParent();this.bindings=this.children=this.owner=null},add:function(a){(this.children||(this.children={}))[a.name]=a;a.depth=this.depth+1;a.parent=this},getChild:function(a){return(a=
Ext.isString(a)?a.split("."):a)&&a.length?this.descend(a,0):this},getFullName:function(){var a=this.fullName,b=this.parent,c;if(!a){a=this.name||this.id;if(b&&(c=b.getFullName()))a=(":"!==c.charAt(c.length-1)?c+".":c)+a;this.fullName=a}return a},getSession:function(){var a=this.owner;return a.isSession?a:a.getSession()},bind:function(a,b,c){a=new Ext.app.bind.Binding(this,a,b,c);b=this.bindings||(this.bindings=[]);a.depth=this.depth;b.push(a);return a},getValue:function(){return this.isLoading()?
null:this.getRawValue()},graft:function(a){var b=this.bindings,c=this.name;this.parent=this.bindings=null;this.destroy();a.depth=this.depth;a.bindings=b;a.generation=this.generation+1;a.name=c;a.id=this.id;a.path=this.path;if(b)for(c=b.length;0<c--;)b[c].stub=a;return a},isDescendantOf:function(a){for(var b=this;b=b.parent;)if(b===a)return!0;return!1},onSchedule:function(){for(var a,b,c,d,e=this.parent;e;e=e.parent)if(d=e.bindings){a=0;for(b=d.length;a<b;++a)c=d[a],c.deep&&!c.scheduled&&c.schedule()}},
react:function(){var a=this.bindings,b,c,d;if(a){c=0;for(d=a.length;c<d;++c)b=a[c],b.scheduled||b.schedule()}},unbind:function(a){var b=this.bindings;b&&b.length&&Ext.Array.remove(b,a)},privates:{collect:function(){var a=this.children,b=this.bindings,c=0,d=0,e,g;if(a)for(g in a)e=a[g],d=e.collect(),0===d&&(e.destroy(),delete a[g]),c+=d;b&&(c+=b.length);return c},getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var a=this.parent;a&&this.scheduler.sortItem(a)}}});
Ext.define("Ext.app.bind.Stub",{extend:Ext.app.bind.AbstractStub,isStub:!0,dirty:!0,formula:null,validationKey:"validation",statics:{populateValues:function(a,b,c,d){var e=d&&d.children,g,h;h=void 0!==a;b.hadValue[c]||(b.hadValue[c]=h);d&&(d.hadValue=h);if(a&&a.constructor===Object)for(g in a)Ext.app.bind.Stub.populateValues(a[g],b,c+"."+g,e&&e[g])}},constructor:function(a,b,c){var d=b;this.callParent([a,b]);this.boundValue=null;c&&(c.add(this),c.isRootStub||(d=c.path+"."+b));this.hadValue=a.hadValue[d];
this.path=d},destroy:function(){var a=this.formula,b=this.storeBinding;a&&a.destroy();b&&b.destroy();this.detachBound();this.parentValue=this.formula=this.storeBinding=null;this.callParent()},bindValidation:function(a,b){var c=this.parent;return c&&c.descend([this.validationKey,this.name]).bind(a,b)},bindValidationField:function(a,b){var c=this.parent,d=this.name,e="string"===typeof a,g;c&&(g=c.bind(function(c){var g=null;c&&c.isModel&&(g=c.getField(d));if(e)b[a](g,null,this);else a.call(b,g,null,
this)}));return g||null},descend:function(a,b){var c=this.children||(this.children={}),d=b||0,e=a[d++];if(!(c=c[e]))c=new Ext.app.bind.Stub(this.owner,e,this);d<a.length&&(c=c.descend(a,d));return c},getChildValue:function(a){var b=this.name,c;!a&&!Ext.isString(a)?c=this.hadValue?null:void 0:(c=this.inspectValue(a))||(c=a.isEntity?a.data[b]:a[b]);return c},getDataObject:function(){var a=this.parent.getDataObject(),b=this.name,c=a?a[b]:null;if(!c||!c.$className&&!Ext.isObject(c))a[b]=c={},this.hadValue=
this.owner.hadValue[this.path]=!0,this.invalidate(!0,!0);return c},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(a){var b=this.parent,c=this.children,d=this.name,e;a.parent=b;a.children=c;b&&(b.children[d]=a);if(c)for(e in c)c[e].parent=a;this.children=null;return this.callParent([a])},isLoading:function(){var a=this.parent,b=!1,c,d;if(a&&!(b=a.isLoading()))a=this.getParentValue(),(c=this.inspectValue(a))?b=c.isLoading():(a&&a.isModel&&(a=a.associations,a&&
this.name in a||(b=!1,d=!0)),d||(b=!this.hadValue&&void 0===this.getRawValue()));return b},invalidate:function(a,b){var c=this.children,d;this.dirty=!0;!b&&!this.isLoading()&&(this.scheduled||this.schedule());if(a&&c)for(d in c)c[d].invalidate(a,b)},set:function(a){var b=this.name,c=this.parent.getDataObject(),d;if(c.isEntity)(d=c.associations)&&b in d||c.set(b,a);else if((a&&a.constructor===Object||a!==c[b])&&!this.setByLink(a))void 0===a?delete c[b]:(c[b]=a,Ext.app.bind.Stub.populateValues(a,this.owner,
this.path,this)),this.inspectValue(c),this.invalidate(!0)},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(){this.invalidate(!0)},afterCommit:function(a){this.afterEdit(a,null)},afterEdit:function(a,b){var c=this.children,d=b&&b.length,e=a.associations,g;if(c)if(d)for(e=0;e<d;++e)(g=c[b[e]])&&g.invalidate();else for(g in c)e&&g in e||c[g].invalidate();this.invalidate()},afterReject:function(a){this.afterEdit(a,null)},setByLink:function(a){var b=0,c,d,e,g;for(g=this;g;g=g.parent){if(g.isLinkStub){d=
g;if(b){e=[];c=0;for(g=this;g!==d;g=g.parent)++c,e[b-c]=g.name}break}++b}if(!d||!(g=d.getTargetStub()))return!1;e&&(g=g.descend(e));g.set(a);return!0},setFormula:function(a){var b=this.formula;b&&b.destroy();this.formula=new Ext.app.bind.Formula(this,a)},react:function(){var a=this.boundValue,b=this.children;if(a)if(a.isValidation){a.refresh();a=a.generation;if(this.lastValidationGeneration===a)return;this.lastValidationGeneration=a}else if(a.isModel)b&&b[this.validationKey]&&a.isValid();else if(a.isStore&&
a.isLoading()&&!a.loadCount)return;this.callParent()},privates:{collect:function(){return this.callParent()+(this.storeBinding?1:0)+(this.formula?1:0)},getParentValue:function(){this.dirty&&(this.parentValue=this.parent.getValue(),this.dirty=!1);return this.parentValue},setStore:function(a){this.storeBinding=a},inspectValue:function(a){var b=this.name,c=this.boundValue,d=null,e;if(a&&a.isEntity)if((e=a.associations)&&b in e){if(d=e[b],(d=a[d.getterName]())&&d.isStore)d.$associatedStore=!0}else b===
this.validationKey&&(d=a.getValidation(),this.lastValidationGeneration=null);else if(a&&(a=a[b])&&(a.isModel||a.isStore))d=a;c!==d&&(c&&this.detachBound(),d&&(d.isModel?d.join(this):(d.$associatedStore&&(!d.complete&&!d.hasPendingLoad())&&d.load(),d.on("load",this.onStoreLoad,this,{single:!0}))),this.boundValue=d);return d},detachBound:function(){var a=this.boundValue;a&&(a.isModel?a.unjoin(this):a.un("load",this.onStoreLoad,this))},sort:function(){var a=this.formula,b=this.scheduler,c=this.storeBinding;
this.callParent();c&&b.sortItem(c);a&&b.sortItem(a)}}});
Ext.define("Ext.app.bind.LinkStub",{extend:Ext.app.bind.Stub,isLinkStub:!0,binding:null,destroy:function(){var a=this.binding,b=this.owner;a&&(this.binding=null,a.destroy(),b&&delete b.linkData[this.name]);this.target=null;this.callParent()},getFullName:function(){return this.fullName||(this.fullName="("+this.callParent()+" -\x3e "+this.binding.getFullName()+")")},getDataObject:function(){var a=this.binding;return a&&a.getDataObject()},getRawValue:function(){var a=this.binding;return a&&a.getRawValue()},
getValue:function(){var a=this.binding;return a&&a.getValue()},getTargetStub:function(){var a=this.binding;return a&&a.stub},isLoading:function(){var a=this.binding;return a?a.isLoading():!1},link:function(a,b){var c=this.binding;c&&c.destroy();b=this.target=b||this.owner;this.linkDescriptor=a;this.binding=b.bind(a,this.onChange,this);this.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){this.owner.linkData[this.name]=this.getValue();this.callParent()},privates:{collect:function(){return this.callParent()+
(this.binding?1:0)},sort:function(){var a=this.binding;a&&this.scheduler.sortItem(a)}}});
Ext.define("Ext.app.bind.RootStub",{extend:Ext.app.bind.AbstractStub,isRootStub:!0,depth:0,createRootChild:function(a,b){var c=this.owner,d=c.getData(),e=this.children,g=(e=e&&e[a])?null:this,h;b||d.hasOwnProperty(a)||!(h=c.getParent())?c=new Ext.app.bind.Stub(c,a,g):(c=new Ext.app.bind.LinkStub(c,a,e?null:g),c.link("{"+a+"}",h));e&&e.graft(c);return c},createStubChild:function(a){return this.createRootChild(a,!0)},descend:function(a,b){var c=this.children,d=b||0,e=a[d++],c=c&&c[e]||this.createRootChild(e);
d<a.length&&(c=c.descend(a,d));return c},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(a){(!a||a.constructor!==Object)&&Ext.Error.raise("Only an object can be set at the root");var b=this.children||(this.children={}),c=this.owner,d=c.data,e=c.getParent(),
g,h,j,k;for(k in a)0<=k.indexOf(".")&&Ext.Error.raise("Value names cannot contain dots"),void 0!==(j=a[k])?((h=b[k])?h.isLinkStub&&(g=h,h=new Ext.app.bind.Stub(c,k),g.graft(h)):h=new Ext.app.bind.Stub(c,k,this),h.set(j)):d.hasOwnProperty(k)&&(delete d[k],(h=b[k])&&(!h.isLinkStub&&e)&&(h=this.createRootChild(k)),h.invalidate(!0))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn});
Ext.define("Ext.app.bind.Multi",{extend:Ext.app.bind.BaseBinding,isMultiBinding:!0,missing:1,deep:!0,constructor:function(a,b,c,d,e){this.callParent([b,c,d,e]);this.bindings=[];this.literal=a.$literal;a.constructor===Object?this.addObject(a,this.lastValue={}):this.addArray(a,this.lastValue=[]);!--this.missing&&!this.scheduled&&this.schedule()},destroy:function(){this.bindings=Ext.destroy(this.bindings);this.callParent()},add:function(a,b,c){var d=this,e=d.owner,g=d.bindings,h=d.literal?a.reference?
"bindEntity":"bindExpression":"bind",j;++d.missing;j=e[h](a,function(a){b[c]=a;1===j.calls&&--d.missing;!d.missing&&!d.scheduled&&d.schedule()},d,null);a=j.depth;if(!g.length||a<d.depth)d.depth=a;g.push(j)},addArray:function(a,b){var c=a.length,d,e;for(e=0;e<c;++e)(d=a[e])&&(d.reference||Ext.isString(d))?this.add(d,b,e):Ext.isArray(d)?this.addArray(d,b[e]=[]):d&&d.constructor===Object?this.addObject(d,b[e]={}):b[e]=d},addObject:function(a,b){var c,d;for(d in a)(c=a[d])&&(c.reference||Ext.isString(c))?
this.add(c,b,d):Ext.isArray(c)?this.addArray(c,b[d]=[]):c&&c.constructor===Object?this.addObject(c,b[d]={}):b[d]=c},getFullName:function(){var a=this.fullName,b=this.bindings,c=b.length,d;if(!a){a="@[";for(d=0;d<c;++d)d&&(a+=","),a+=b[d].getFullName();this.fullName=a+="]"}return a},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var a=this.bindings,b=a.length;0<b--;)if(a[b].isLoading())return!0;return!1},isStatic:function(){var a=this.bindings,
b=a.length,c,d;for(c=0;c<b;++c)if(d=a[c],!d.isTemplateBinding||!d.isStatic)return!1;return!0},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}});
Ext.define("Ext.app.bind.Formula",{extend:Ext.util.Schedulable,statics:{getFormulaParser:function(a){var b=this.formulaCache,c;b||(b=this.formulaCache=new Ext.util.LruCache({maxSize:20}));c=b.get(a);c||(c=RegExp("[^\\.a-z0-9_]"+a+"\\((['\"])(.*?)\\1\\)","gi"),b.add(a,c));return c}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(a,b){var c=a.owner,d,e,g,h;this.owner=c;this.stub=a;this.callParent();if(b instanceof Function)this.get=
g=b;else if(this.get=g=b.get,this.set=b.set,e=b.bind,b.single&&(this.single=b.single),e&&(d=e.bindTo))h=Ext.apply({},e),delete h.bindTo,e=d;g||Ext.Error.raise("Must specify a getter method for a formula");e?this.explicit=!0:e=g.$expressions||this.parseFormula(g);this.binding=c.bind(e,this.onChange,this,h)},destroy:function(){var a=this.binding,b=this.stub;a&&(a.destroy(),this.binding=null);b&&(b.formula=null);this.callParent();this.getterFn=this.owner=null},getFullName:function(){return this.fullName||
(this.fullName=this.stub.getFullName()+"\x3d"+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(a){var b=a.toString(),c={$literal:!0},d,e;d=this.argumentNamesRe.exec(b);for(e=Ext.app.bind.Formula.getFormulaParser(d?d[1]:"get");d=e.exec(b);)d=d[2],c[d]=d;c.$literal=!0;return a.$expressions=c},react:function(){var a=this.owner,b=this.binding.lastValue,b=this.explicit?b:a.getFormulaFn(b);this.settingValue=
!0;this.stub.set(this.calculation=this.get.call(a,b));this.settingValue=!1;this.single&&this.destroy()},privates:{getScheduler:function(){var a=this.owner;return a&&a.getScheduler()},sort:function(){var a=this.binding;a.destroyed||this.scheduler.sortItem(a)}}});
Ext.define("Ext.app.bind.Template",{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(a){var b=this._initters,c;this.text=a;for(c in b)this[c]=b[c]},_initters:{apply:function(a,b){return this.parse().apply(a,b)},getTokens:function(){return this.parse().getTokens()}},apply:function(a,b){var c=this.slots,
d=this.buffer,e=c.length,g,h,j;for(g=0;g<e;++g)if(h=c[g]){if(null==(j=a[h.pos]))j="";h.not&&(j=!j);h.format&&(j=h.format(j,b));d[g]=j}return d.join("")},getTokens:function(){return this.tokens},parse:function(){var a=this.text,b=[],c=[],d=[],e={},g=0,h=this.tokenRe,j=0,k,l,m,n;for(l in this._initters)delete this[l];this.buffer=b;this.slots=c;for(this.tokens=d;l=h.exec(a);){if(k=l.index-g)b[j++]=a.substring(g,g+k),g+=k;g+=(m=l[0]).length;m={fmt:k=l[3]||null,index:l[1]?parseInt(l[1],10):null,not:"!"===
m.charAt(1),token:l[2]||null};n=m.token||String(m.index);n in e?m.pos=e[n]:(e[n]=m.pos=d.length,d.push(n));k&&("this."===k.substring(0,5)?m.fmt=k.substring(5):(k in Ext.util.Format||Ext.Error.raise('Invalid format specified: "'+k+'"'),m.scope=Ext.util.Format),this.parseArgs(l[4],m));c[j++]=m}g<a.length&&(b[j++]=a.substring(g));return this},parseArgs:function(a,b){var c=this.numberRe,d=this.stringRe,e,g,h,j;g=a?0>a.indexOf(",")?[a]:a.split(","):[];b=b||{};j=g.length;b.args=g;for(h=0;h<j;++h)if(e=g[h],
"true"===e)g[h]=!0;else if("false"===e)g[h]=!1;else if("null"===e)g[h]=null;else if(c.test(e))g[h]=parseFloat(e);else if(d.test(e))g[h]=e.substring(1,e.length-1);else{b.fn=Ext.functionFactory("return ["+a+"];");b.format=this._formatEval;break}b.format||(g.unshift(0),b.format=this._formatArgs);return b},parseFormat:function(a){var b=this.formatRe.exec(a);a={fmt:a,scope:Ext.util.Format};var c;b||Ext.Error.raise('Invalid format syntax: "'+a+'"');(c=b[2])?(a.fmt=b[1],this.parseArgs(c,a)):(a.args=[0],
a.format=this._formatArgs);return a},_formatArgs:function(a,b){b=this.scope||b;this.args[0]=a;return b[this.fmt].apply(b,this.args)},_formatEval:function(a,b){var c=this.fn();c.unshift(a);b=this.scope||b;return b[this.fmt].apply(b,c)}});
Ext.define("Ext.app.bind.TemplateBinding",{extend:Ext.app.bind.BaseBinding,isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(a,b,c,d,e){a=new Ext.app.bind.Template(a);var g=a.getTokens();this.callParent([b,c,d,e]);this.tpl=a;this.tokens=g;g.$literal=!0;g.length?this.multiBinding=new Ext.app.bind.Multi(g,b,this.onBindData,this):(this.isStatic=!0,this.onData(a.text))},destroy:function(){Ext.destroy(this.multiBinding);this.tpl=this.multiBinding=null;this.callParent()},getFullName:function(){var a=
this.multiBinding;return this.fullName||(this.fullName="$"+(a?a.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var a=this.multiBinding;return a?a.isLoading():!1},onBindData:function(a){this.onData(this.tpl.apply(a,this.getTemplateScope()))},onData:function(a){var b=this.value;if(b!==(this.value=a))this.lastValue=b,this.schedule()},react:function(){this.notify(this.value)},
refresh:function(){var a=this.multiBinding;a&&a.refresh()},privates:{sort:function(){var a=this.multiBinding;a&&this.scheduler.sortItem(a)}}});
Ext.define("Ext.data.AbstractStore",{mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{autoFilter:!0,autoSort:!0,filters:void 0,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:void 0,remoteSort:!1,remoteFilter:!1,groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:!1,isDestroyed:!1,isStore:!0,updating:0,constructor:function(a){var b;this.isInitializing=!0;this.mixins.observable.constructor.call(this,
a);this.isInitializing=!1;b=this.getStoreId();!b&&(a&&a.id)&&this.setStoreId(b=a.id);b&&Ext.data.StoreManager.register(this)},getId:function(){return this.getObservableId()},getCount:function(){return this.getData().getCount()},rangeCached:function(a,b){return this.getData().getCount()>=Math.max(a,b)},find:function(a,b,c,d,e,g){d=!d;return this.getData().findIndex(a,b,c,d,d&&g,!e)},findRecord:function(){var a=this.find.apply(this,arguments);return-1!==a?this.getAt(a):null},findExact:function(a,b,
c){return this.getData().findIndexBy(function(c){return c.isEqual(c.get(a),b)},this,c)},findBy:function(a,b,c){return this.getData().findIndexBy(a,b,c)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(a,b,c){var d=this.getData().getRange(a,Ext.isNumber(b)?b+1:b);c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c);return d},applyFilters:function(a,b){b||(b=this.createFiltersCollection(),b.setRootProperty("data"));b.add(a);return b},applySorters:function(a,b){b||(b=this.createSortersCollection(),
b.setRootProperty("data"));b.add(a);return b},updateAutoFilter:function(a){var b=this.getData();b.setAutoFilter&&b.setAutoFilter(a)},updateAutoSort:function(a){var b=this.getData();b.setAutoSort&&b.setAutoSort(a)},filter:function(a,b){Ext.isString(a)&&(a={property:a,value:b});this.getFilters().add(a)},removeFilter:function(a){var b=this.getFilters();a instanceof Ext.util.Filter?b.remove(a):b.removeByKey(a)},updateRemoteSort:function(a){var b=this.getSorters(),c=this.getData();a?(b.on("endupdate",
this.onSorterEndUpdate,this),c.un("beforesort",this.onBeforeCollectionSort,this)):(b.un("endupdate",this.onSorterEndUpdate,this),c.on("beforesort",this.onBeforeCollectionSort,this))},updateRemoteFilter:function(a){var b=this.getFilters();if(a)b.on("endupdate",this.onFilterEndUpdate,this);else b.un("endupdate",this.onFilterEndUpdate,this)},addFilter:function(a){this.getFilters().add(a)},filterBy:function(a,b){this.getFilters().add({filterFn:a,scope:b||this})},clearFilter:function(a){var b=this.getFilters(!1);
b&&0!==b.getCount()&&(this.suppressNextFilter=!!a,b.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return 0<this.getFilters().getCount()},isSorted:function(){return 0<this.getSorters().getCount()||this.isGrouped()},addFieldTransform:function(a){if(!a.getTransform()){var b=a.getProperty(),c=this.getModel(),d;c&&(d=(b=c.getField(b))?b.getSortType():null);d&&d!==Ext.identityFn&&a.setTransform(d)}},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&
!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var a=[],b=this.getFilters(),c=this.getGrouper(),d,e,g;this.getSorters().each(function(b){a[a.length]=b.getState();e=!0});this.statefulFilters&&this.saveStatefulFilters&&(e=!0,d=[],b.each(function(a){d[d.length]=a.getState()}));c&&(e=!0);e&&(g={},a.length&&(g.sorters=a),d&&(g.filters=d),c&&(g.grouper=c.getState()));return g},applyState:function(a){var b=this.getSorters(),c=this.getFilters(),d=a.sorters,e=a.filters;
a=a.grouper;d&&b.replaceAll(d);e&&(this.saveStatefulFilters=!0,c.replaceAll(e));a&&this.setGrouper(a)},hasPendingLoad:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){this.clearListeners();this.getStoreId()&&Ext.data.StoreManager.unregister(this);this.onDestroy();this.callParent()},sort:function(a,b,c){0===arguments.length?this.getRemoteSort()?this.attemptLoad():this.forceLocalSort():this.getSorters().addSort(a,b,c)},onBeforeCollectionSort:function(a,b){this.fireEvent("beforesort",this,b.getRange())},
onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();b.length?a.getRemoteSort()?a.attemptLoad({callback:function(){a.fireEvent("sort",a,b)}}):(a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("sort",a,b)):a.fireEvent("sort",a,b)},onFilterEndUpdate:function(){var a=this.suppressNextFilter;this.getAutoFilter()&&(this.getRemoteFilter()?(this.currentPage=1,a||this.attemptLoad()):a||(this.fireEvent("datachanged",this),this.fireEvent("refresh",this)));this.trackStateChanges&&
(this.saveStatefulFilters=!0);this.fireEvent("filterchange",this,this.getFilters().getRange())},updateGroupField:function(a){var b=this.getData();a?b.setGrouper({property:a,direction:this.getGroupDir()}):b.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(a,b){var c=this,d=a||0<c.getSorters().getCount();a&&"string"===typeof a&&(a={property:a,direction:b||c.getGroupDir()});c.getData().setGrouper(a);c.isLoadBlocked()||(d?c.getRemoteSort()?c.attemptLoad({callback:function(){c.fireEvent("groupchange",
c,c.getGrouper())}}):(c.fireEvent("datachanged",c),c.fireEvent("refresh",c),c.fireEvent("groupchange",c,c.getGrouper())):c.fireEvent("groupchange",c,c.getGrouper()))},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGrouper(),b="";a&&(b=a.getProperty());return b},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(a){this.group(a);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}});
Ext.define("Ext.data.LocalStore",{extend:Ext.Mixin,mixinConfig:{id:"localstore"},constructDataCollection:function(){var a=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}});a.getSorters().setSorterConfigure(this.addFieldTransform,this);return a},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},
onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(a){return-1<this.indexOf(a)},each:function(a,b){var c=this.data.items,d=c.length,e,g;for(g=0;g<d&&!(e=c[g],!1===a.call(b||e,e,g,d));++g);},collect:function(a,b,c){var d=this.getData();!0===c&&d.filtered&&(d=d.getSource());return d.collect(a,"data",b)},getById:function(a){var b=this.getData();b.filtered&&(b=
b.getSource());return b.get(a)||null},getByInternalId:function(a){var b=this.getData();b.filtered&&(b=b.getSource());return b.byInternalId.get(a)||null},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},queryBy:function(a,b){var c=this.getData();return(c.getSource()||c).createFiltered(a,b)},query:function(a,b,c,d,e){var g=this.getData();return(g.getSource()||g).createFiltered(a,b,c,d,e)},first:function(a){return this.getData().first(a)||
null},last:function(a){return this.getData().last(a)||null},sum:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.sumByGroup(a):c.sum(a)},count:function(a){var b=this.getData();return a&&this.isGrouped()?b.countByGroup():b.count()},min:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.minByGroup(a):c.min(a)},max:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.maxByGroup(a):c.max(a)},average:function(a,b){var c=this.getData();return b&&this.isGrouped()?c.averageByGroup(a):
c.average(a)},aggregate:function(a,b,c,d){var e,g,h,j;if(c&&this.isGrouped()){c=this.getGroups().items;e=c.length;g={};for(j=0;j<e;++j)h=c[j],g[h.getGroupKey()]=this.getAggregate(a,b||this,h.items,d);return g}return this.getAggregate(a,b,this.getData().items,d)},getAggregate:function(a,b,c,d){var e=[],g=c.length,h;for(h=0;h<g;++h)e[h]=c[h].get(d);return a.call(b||this,c,e)},addObserver:function(a){var b=this.observers;b||(this.observers=b=new Ext.util.Collection);b.add(a)},removeObserver:function(a){var b=
this.observers;b&&b.remove(a)},callObservers:function(a,b){var c=this.observers,d,e,g,h;if(c){d=c.items;b?b.unshift(this):b=[this];e=0;for(c=d.length;e<c;++e)h=d[e],g="onSource"+a,h[g]&&h[g].apply(h,b)}}});
Ext.define("Ext.data.ChainedStore",{extend:Ext.data.AbstractStore,alias:"store.chained",config:{source:null,remoteFilter:!1,remoteSort:!1},mixins:[Ext.data.LocalStore],constructor:function(){this.callParent(arguments);this.getData().addObserver(this)},updateRemoteFilter:function(a){a&&Ext.Error.raise("Remote filtering cannot be used with chained stores.")},updateRemoteSort:function(a){a&&Ext.Error.raise("Remote sorting cannot be used with chained stores.")},add:function(){var a=this.getSource();return a.add.apply(a,
arguments)},remove:function(){var a=this.getSource();return a.remove.apply(a,arguments)},getData:function(){var a=this.data;a||(this.data=a=this.constructDataCollection());return a},applySource:function(a){a&&(a=Ext.data.StoreManager.lookup(a));return a},updateSource:function(a,b){var c;b&&b.removeObserver(this);a&&(c=this.getData(),c.setSource(a.getData()),this.isInitializing||(this.fireEvent("refresh",this),this.fireEvent("datachanged",this)),a.addObserver(this))},getModel:function(){return this.getSource().getModel()},
getProxy:function(){return null},onCollectionAdd:function(a,b){var c=b.items,d=!b.next;this.ignoreCollectionAdd||(this.fireEvent("add",this,c,b.at),d&&this.fireEvent("datachanged",this))},onCollectionItemChange:function(a,b){var c=b.item,d=b.modified||null,e=b.meta;this.onUpdate(c,e,d,b);this.fireEvent("update",this,c,e,d,b)},onUpdate:Ext.emptyFn,onCollectionRemove:function(a,b){var c=b.items,d=!b.next;this.ignoreCollectionRemove||(this.fireEvent("remove",this,c,b.at,!1),d&&this.fireEvent("datachanged",
this))},onSourceBeforeLoad:function(){this.ignoreCollectionAdd=!0;this.callObservers("BeforeLoad")},onSourceAfterLoad:function(){this.ignoreCollectionAdd=!1;this.fireEvent("datachanged",this);this.fireEvent("refresh",this);this.callObservers("AfterLoad")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=
!0;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(a,b){this.ignoreCollectionRemove=!1;b||(this.fireEvent("clear",this),this.fireEvent("datachanged",this));this.callObservers("AfterRemoveAll",[b])},onSourceFilter:function(){this.fireEvent("refresh",this);this.fireEvent("datachanged",this)},hasPendingLoad:function(){return!1},isLoading:function(){return!1},onDestroy:function(){this.observers=null;this.setSource(null);this.getData().destroy(!0);this.data=null}});
Ext.define("Ext.app.ViewModel",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Identifiable],alias:"viewmodel.default",isViewModel:!0,factoryConfig:{name:"viewModel"},destroyed:!1,collectTimeout:100,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(a,b,c,d){return this.mergeNew(a,b,c,d)}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(a){this.hadValue={};
this.initConfig(a)},destroy:function(){var a=this._scheduler,b=this.storeInfo,c=this.getParent(),d=this.collectTask,e,g;this.destroy=Ext.emptyFn;this.destroying=!0;d&&(d.cancel(),this.collectTask=null);if(b)for(e in b)d=b[e],((g=d.autoDestroy)||!d.$wasInstance&&!1!==g)&&d.destroy(),Ext.destroy(d.$binding);c&&c.unregisterChild(this);this.getRoot().destroy();a&&a.$owner===this&&(a.$owner=null,a.destroy());this.hadValue=this.children=this.storeInfo=this._session=this._view=this._scheduler=this._root=
this._parent=this.formulaFn=this.$formulaData=null;this.destroying=!1},bind:function(a,b,c,d){c=c||this;!d&&(void 0!==a.bindTo&&!Ext.isString(a))&&(d=a,a=d.bindTo);Ext.isString(a)?this.expressionRe.test(a)?(a=a.substring(1,a.length-1),a=this.bindExpression(a,b,c,d)):a=new Ext.app.bind.TemplateBinding(a,this,b,c,d):a=new Ext.app.bind.Multi(a,this,b,c,d);return a},getSession:function(){var a=this._session,b;if(!a&&(b=this.getParent()))this.setSession(a=b.getSession());return a||null},getStore:function(a){var b=
this.storeInfo,c;b&&(c=b[a]);return c||null},linkTo:function(a,b){var c=this.getStub(a),d,e;1<c.depth-this.getRoot().depth&&Ext.Error.raise('Links can only be at the top-level: "'+a+'"');b.isModel&&(b={type:b.entityName,id:b.id});(e=b.type||b.reference)?(d=b.id,!b.create&&Ext.isEmpty(d)&&Ext.Error.raise('No id specified. To create a phantom model, specify "create: true" as part of the reference.'),b.create&&(d=void 0),c.set(this.getRecord(e,d))):(c.isLinkStub||(d=new Ext.app.bind.LinkStub(this,c.name),
c.graft(d),c=d),c.link(b))},notify:function(){this.getScheduler().notify()},get:function(a){return this.getStub(a).getValue()},set:function(a,b){var c;this.getData();void 0===b&&a&&a.constructor===Object?(c=this.getRoot(),b=a):a&&0>a.indexOf(".")?(c={},c[a]=b,b=c,c=this.getRoot()):c=this.getStub(a);c.set(b)},privates:{registerChild:function(a){var b=this.children;b||(this.children=b={});b[a.getId()]=a},unregisterChild:function(a){var b=this.children;b&&delete b[a.getId()]},getRecord:function(a,b){var c=
this.getSession(),d=a,e=void 0!==b;c?c=e?c.getRecord(a,b):c.createRecord(a):(d.$isClass||(d=this.getSchema().getEntity(d))||Ext.Error.raise("Invalid model name: "+a),e?(c=d.createWithId(b),c.load()):c=new d);return c},notFn:function(a){return!a},bindExpression:function(a,b,c,d){var e="!"===a.charAt(0);a=e?a.substring(1):a;b=this.getStub(a).bind(b,c,d);e&&(b.transform=this.notFn);return b},applyScheduler:function(a){a&&!a.isInstance&&(a=new Ext.util.Scheduler(a),a.$owner=this);return a},getScheduler:function(){var a=
this._scheduler;a||((a=this.getParent())?a=a.getScheduler():(a=new Ext.util.Scheduler({preSort:"kind,-depth"}),a.$owner=this),this.setScheduler(a));return a},getStub:function(a){var b=this.getRoot();return a?b.getChild(a):b},collect:function(){var a=this.getParent(),b=this.collectTask;a?a.collect():(b||(b=this.collectTask=new Ext.util.DelayedTask(this.doCollect,this)),0===this.collectTimeout?this.doCollect():b.delay(this.collectTimeout))},doCollect:function(){var a=this.children,b;if(a)for(b in a)a[b].doCollect();
this.getRoot().collect()},onBindDestroy:function(){var a;if(!this.destroying)if(a=this.getParent())a.onBindDestroy();else this.collect()},applyData:function(a,b){var c;this.getSession();b||(this.linkData=c=(c=this.getParent())?Ext.Object.chain(c.getData()):{},this.data=this._data=Ext.Object.chain(c));a&&a.constructor===Object&&this.getRoot().set(a)},applyParent:function(a){a&&a.registerChild(this);return a},applyStores:function(a){var b=this,c=b.getRoot(),d,e,g,h;b.storeInfo={};b.listenerScopeFn=
function(){return b.getView().getInheritedConfig("defaultListenerScope")};for(d in a)e=a[d],e.isStore?(e.$wasInstance=!0,b.setupStore(e,d)):(e=Ext.isString(e)?{source:e}:Ext.apply({},e),h=e.listeners,delete e.listeners,g=b.bind(e,b.onStoreBind,b),g.isStatic()?(g.destroy(),b.createStore(d,e,h)):(g.$storeKey=d,g.$listeners=h,e=c.createStubChild(d),e.setStore(g)))},onStoreBind:function(a,b,c){var d=c.$storeKey;(b=this.storeInfo[d])?(a=Ext.merge({},a),c=a.proxy,delete a.type,delete a.model,delete a.fields,
delete a.proxy,delete a.listeners,c&&(delete c.reader,delete c.writer,b.getProxy().setConfig(c)),b.setConfig(a)):this.createStore(d,a,c.$listeners,c)},createStore:function(a,b,c,d){var e=this.getSession();b=Ext.apply({},b);b.session&&(b.session=e);b.source&&(b.type=b.type||"chained");b.listeners=c;b=Ext.Factory.store(b);b.$binding=d;this.setupStore(b,a)},setupStore:function(a,b){a.resolveListenerScope=this.listenerScopeFn;this.storeInfo[b]=a;this.set(b,a)},applyFormulas:function(a){var b=this.getRoot(),
c,d;this.getData();for(c in a)0<=c.indexOf(".")&&Ext.Error.raise("Formula names cannot contain dots: "+c),b.createStubChild(c),d=this.getStub(c),d.setFormula(a[c]);return a},applyLinks:function(a){for(var b in a)this.linkTo(b,a[b])},applySchema:function(a){return Ext.data.schema.Schema.get(a)},applyRoot:function(){var a=new Ext.app.bind.RootStub(this),b=this.getParent();b&&(a.depth=b.getRoot().depth-1E3);return a},getFormulaFn:function(a){var b=this,c=b.formulaFn;c||(c=b.formulaFn=function(a){return b.$formulaData[a]});
b.$formulaData=a;return c}}});Ext.define("Ext.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(a){this.initConfig(a);this.msg=this.message}});
Ext.define("Ext.data.ErrorCollection",{extend:Ext.util.MixedCollection,alternateClassName:"Ext.data.Errors",init:function(a){var b=a.fields;a=a.data;var c,d,e,g,h,j;e=0;for(g=b.length;e<g;++e)d=b[e],j=d.name,h=a[j],d.validate&&!d.validate.$nullFn&&(c=this.length,d=d.validate(h,null,this),c===this.length&&!0!==d&&this.add(j,d));return this},add:function(a,b){var c=Ext.data.field.Field.defaultInvalidMessage,d=a;Ext.isString(a)?d=new Ext.data.Error({field:a,message:b||c}):(d.isError||(d=new Ext.data.Error({field:d.field||
d.name,message:d.error||d.message||d.msg||c})),a=d.field);if(c=this.get(a)){if(Ext.isArray(c))return c.push(d),c;this.removeAtKey(a);d=[c,d];d.field=a;d=[d]}return this.callParent([d])},getKey:function(a){return a.field},isValid:function(){return 0===this.length},getByField:function(a){(a=this.get(a))&&!Ext.isArray(a)&&(a=[a]);return a||[]}});
Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,constructor:function(a){var b=a&&a.scope;this.initConfig(a);a&&(a.scope=b);b&&
(this.setScope(b),this.initialConfig.scope=b)},getAction:function(){return this.action},execute:function(){delete this.error;delete this.success;this.complete=this.exception=!1;this.setStarted();return this.request=this.doExecute()},doExecute:Ext.emptyFn,abort:function(){var a=this.request;this.running&&a&&(this.getProxy().abort(a),this.request=null)},process:function(a,b,c,d){d=!1!==d;this.setResponse(c);this.setResultSet(a);a.getSuccess()?(this.doProcess(a,b,c),this.setSuccessful(d)):d&&this.setException(a.getMessage())},
_commitSetOptions:{convert:!0,commit:!0},doProcess:function(a){var b=this._commitSetOptions,c=this.getRecords(),d=c.length,e=c[0].clientIdProperty,g=(a=a.getRecords())?a.length:0,h,j,k;if(g&&e){c=Ext.Array.toValueMap(c,"id");for(k=0;k<g;++k)h=a[k],(j=c[h[e]])?(delete c[j.id],delete h[e],j.set(h,b)):Ext.log.warn("Ignoring server record: "+Ext.encode(h));for(k in c)c[k].commit()}else for(k=0;k<d;++k)j=c[k],0===g||!(h=a[k])?j.commit():j.set(h,b)},setStarted:function(){this.started=this.running=!0},setCompleted:function(){this.complete=
!0;this.running=!1;this.triggerCallbacks()},setSuccessful:function(a){this.success=!0;a&&this.setCompleted()},setException:function(a){this.exception=!0;this.success=this.running=!1;this.error=a;this.setCompleted()},triggerCallbacks:function(){var a=this.getInternalCallback();a&&(a.call(this.getInternalScope()||this,this),this.setInternalCallback(null),this.setInternalScope(null));if(a=this.getCallback())a.call(this.getScope()||this,this.getRecords(),this,this.wasSuccessful()),this.setCallback(null),
this.setScope(null)},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0}});
Ext.define("Ext.data.operation.Create",{extend:Ext.data.operation.Operation,alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}});
Ext.define("Ext.data.operation.Destroy",{extend:Ext.data.operation.Operation,alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){var a=this.getRecords(),b=a.length,c;for(c=0;c<b;++c)a[c].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(a){var b={},c=a.idField,d=this.getNameProperty()||"name";b[c[d]]=a.id;return b}});
Ext.define("Ext.data.operation.Read",{extend:Ext.data.operation.Operation,alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}});
Ext.define("Ext.data.operation.Update",{extend:Ext.data.operation.Operation,alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}});
Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){return!a?0:Ext.isDate(a)?a.getTime():Date.parse(String(a))},asFloat:function(a){a=parseFloat(String(a).replace(/,/g,""));return isNaN(a)?0:a},asInt:function(a){a=parseInt(String(a).replace(/,/g,
""),10);return isNaN(a)?0:a}});
Ext.define("Ext.data.validator.Validator",{mixins:[Ext.mixin.Factoryable],alias:"data.validator.base",isValidator:!0,type:"base",statics:{all:{},register:function(a,b){var c=this.all;c[a.toUpperCase()]=c[a.toLowerCase()]=c[a]=b.prototype}},onClassExtended:function(a,b){b.type&&Ext.data.validator.Validator.register(b.type,a)},constructor:function(a){"function"===typeof a?(this.fnOnly=!0,this.validate=a):this.initConfig(a)},validate:function(){return!0},clone:function(){return this.fnOnly?new Ext.data.validator.Validator(this.validate):
new this.self(this.getCurrentConfig())}},function(){this.register(this.prototype.type,this)});
Ext.define("Ext.data.field.Field",{mixins:[Ext.mixin.Factoryable],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,sortDir:"ASC",unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,
evil:!1,identifier:!1,onClassExtended:function(a,b){var c=b.sortType,d=a.prototype,e=d.validators,g=b.validators;c&&Ext.isString(c)&&(d.sortType=Ext.data.SortTypes[c]);g&&(Ext.isArray(g)||(g=[g]),delete b.validators,e&&(g=e.concat(g)),d.validators=g)},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(a){var b=this.calculateRe,c,d,e,g,h,j;if(a)if(Ext.isString(a))this.name=a;else{if(e=a.validators)delete a.validators,
this.instanceValidators=e;Ext.apply(this,a)}this.allowNull||(this.allowNull=!!this.reference);c=this.calculate;a=this.depends;if(c&&(this.convert=this.doCalculate,!a)){if(!(a=c.$depends)){e={};h=c.toString();c.$depends=a=[];for(g=(c=this.argumentNamesRe.exec(h))?c[1]:"data";c=b.exec(h);)if(g===c[1]&&!e[j=c[2]])e[j]=1,a.push(j)}this.depends=a}b=this.defaultValue;this.convert&&(void 0!==b&&(this.defaultValue=b=this.convert(b)),this.evil=(this.calculated=d=1<this.convert.length)&&!a);null===this.persist&&
(this.persist=!d);(d=this.sortType)?Ext.isString(d)&&(this.sortType=Ext.data.SortTypes[d]):this.sortType=Ext.data.SortTypes.none;a&&"string"===typeof a&&(this.depends=[a]);this.cloneDefaultValue=void 0!==b&&(Ext.isDate(b)||Ext.isArray(b)||Ext.isObject(b))},setModelValidators:function(a){this._validators=null;this.modelValidators=a},compileValidators:function(){this._validators=[];this.constructValidators(this.validators);this.constructValidators(this.modelValidators);this.constructValidators(this.instanceValidators)},
constructValidators:function(a){if(a){a instanceof Array||(a=[a]);var b=a.length,c=this._validators,d,e;for(d=0;d<b;++d)e=a[d],e.fn&&(e=e.fn),c.push(Ext.Factory.dataValidator(e))}},collate:function(a,b){var c=a,d=b;this.sortType&&(c=this.sortType(c),d=this.sortType(d));return c<d?-1:c>d?1:0},compare:function(a,b){return a===b?0:a<b?-1:1},isEqual:function(a,b){return!this.compare(a,b)},convert:null,serialize:null,validate:function(a,b,c){var d="",e,g,h;this._validators||this.compileValidators();g=
this._validators;i=0;for(h=g.length;i<h;++i)if(e=g[i],e=e.validate(a),!0!==e)if(e=e||this.defaultInvalidMessage,c)c.add(this.name,e),d=d||e;else if(b)d&&(d+=b),d+=e;else{d=e;break}return d||!0},doCalculate:function(a,b){return b?this.calculate(b.data):a},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},
getMapping:function(){return this.mapping},hasMapping:function(){var a=this.mapping;return!!(a||0===a)},getPersist:function(){return this.persist},getSortDir:function(){return this.sortDir},getSortType:function(){return this.sortType},getType:function(){return"auto"}});
Ext.define("Ext.data.field.Boolean",{extend:Ext.data.field.Field,alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){return"boolean"===typeof a?a:this.allowNull&&(void 0===a||null===a||""===a)?null:this.trueRe.test(String(a))},getType:function(){return"bool"}});
Ext.define("Ext.data.field.Date",{extend:Ext.data.field.Field,alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(a,b){var c=a instanceof Date,d=b instanceof Date;d&&c?(c=a.getTime()-b.getTime(),c=0===c?0:0>c?-1:1):c=c===d?0:c?1:-1;return c},convert:function(a){if(!a)return null;if(a instanceof Date)return a;var b=this.dateReadFormat||this.dateFormat;return b?Ext.Date.parse(a,b):(a=Date.parse(a))?new Date(a):null},serialize:function(a){var b=
null;Ext.isDate(a)&&(b=(b=this.getDateWriteFormat())?Ext.Date.format(a,b):a);return b},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){return this.hasOwnProperty("dateWriteFormat")?this.dateWriteFormat:this.hasOwnProperty("dateFormat")?this.dateFormat:this.dateWriteFormat||this.dateFormat||"timestamp"},getType:function(){return"date"}});
Ext.define("Ext.data.field.Integer",{extend:Ext.data.field.Field,alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,convert:function(a){if("number"==typeof a)return parseInt(a);var b=this.allowNull;void 0===a||null===a||""===a?a=b?null:0:(a=parseInt(String(a).replace(this.stripRe,""),10),b&&isNaN(a)&&(a=null));return a},getType:function(){return"int"}});
Ext.define("Ext.data.field.Number",{extend:Ext.data.field.Field,alias:["data.field.float","data.field.number"],isNumeric:!0,isNumberField:!0,convert:function(a){if("number"===typeof a)return a;var b=this.allowNull;void 0===a||null===a||""===a?a=b?null:0:(a=parseFloat(String(a).replace(this.stripRe,"")),b&&isNaN(a)&&(a=null));return a},getType:function(){return"float"}});
Ext.define("Ext.data.field.String",{extend:Ext.data.field.Field,alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(a){var b=this.allowNull?null:"";return void 0===a||null===a?b:String(a)},getType:function(){return"string"}});
Ext.define("Ext.data.identifier.Generator",{"abstract":!0,mixins:[Ext.mixin.Factoryable],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(a){var b;this.initConfig(a);if(b=this.getId())a=a&&a.cache||Ext.data.identifier.Generator.all,a[b]=this},privates:{clone:function(a){var b=this.getInitialConfig(),b=a?Ext.apply({},a,b):b;return new this.self(b)},statics:{all:{}}}},function(){var a=this,b=Ext.Factory,c=b.dataIdentifier;
b.dataIdentifier=function(b){var e=Ext.isString(b)?b:b&&b.id;return e&&(b&&b.cache||a.all)[e]||c(b)}});Ext.define("Ext.data.identifier.Sequential",{extend:Ext.data.identifier.Generator,alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var a=this._seed,b=this._prefix;this._seed+=this._increment;return null!==b?b+a:a}});
Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",isEntity:!0,isModel:!0,validIdRe:null,observableType:"record",constructor:function(a,b){var c=this.self,d=c.identifier,e=Ext.data.Model,g=e.identifier,h=this.idField.name,j,k,l,m,n,p;this.data=a||(a={});this.session=b||null;this.internalId=l=g.generate();b&&!b.isSession&&Ext.Error.raise('Bad Model constructor argument 2 - "session" is not a Session');if((j=a)instanceof Array){this.data=a={};p=this.getFields();m=Math.min(p.length,j.length);
for(n=0;n<m;++n)a[p[n].name]=j[n]}if(!(j=c.initializeFn))c.initializeFn=j=e.makeInitializeFn(c);j.$nullFn||c.initializeFn(this);if(!(this.id=k=a[h])&&0!==k)b?(d=b.getIdentifier(c),k=d.generate()):k=g===d?l:d.generate(),a[h]=this.id=k,this.phantom=!0;b&&b.add(this);this.init&&Ext.isFunction(this.init)&&this.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,
generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var a=this.modified,b=this.previousValues;this.editing||(this.editing=!0,this.editMemento={dirty:this.dirty,data:Ext.apply({},this.data),generation:this.generation,modified:a&&Ext.apply({},a),previousValues:b&&Ext.apply({},b)})},cancelEdit:function(){var a=this.editMemento;a&&(this.editing=!1,Ext.apply(this,a),this.editMemento=null)},endEdit:function(a,b){var c=this.editMemento;c&&(this.editing=!1,this.editMemento=null,this.previousValues=
c.previousValues,a||(b||(b=this.getModifiedFieldNames(c.data)),(this.dirty||b&&b.length)&&this.callJoined("afterEdit",[b])))},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(a){this.set(this.idProperty,a)},getPrevious:function(a){var b=this.previousValues;
return b&&b[a]},isModified:function(a){var b=this.modified;return!(!b||!b.hasOwnProperty(a))},getModified:function(a){var b;this.isModified(a)&&(b=this.modified[a]);return b},get:function(a){return this.data[a]},_singleProp:{},_rejectOptions:{convert:!1,commit:!0,silent:!0},set:function(a,b,c){var d=this.self,e=this.data,g=this.modified,h=this.previousValues,j=this.session,k=Ext.isString(a),l=k?c:b;c=l?!1!==l.convert:this.convertOnSet;var m=this.fieldsMap,n=l&&l.silent,p=l&&l.commit,q=!(l&&!1===l.refs)&&
j,l=!(l&&!1===l.dirty&&!p),r=null,s,t,u,v,w,x,A,z,B,y=0,C,E,D,F;k?(F=this._singleProp,F[a]=b):F=a;if(!(b=d.rankedFields))b=d.rankFields();C=b.length;do{for(v in F)if(D=F[v],d=e[v],x=this,(s=m[v])?(c&&s.convert&&(D=s.convert(D,this)),x=s,A=s.reference):A=null,!x.isEqual(d,D)){e[v]=D;(r||(r=[])).push(v);(h||(this.previousValues=h={}))[v]=d;A&&A.cls&&(q&&j.updateReference(this,s,D,d),A.onValueChange(this,j,D,d));for(B=(z=s&&s.dependents)&&z.length;0<B--;)(A=z[B]).dirty=!0,y=y?Math.min(y,A.rank):A.rank;
if(!s||s.persist)if(g&&g.hasOwnProperty(v)){if(!l||x.isEqual(g[v],D))delete g[v],this.dirty=-1}else l&&(g||(this.modified=g={}),this.dirty=!0,g[v]=d);v===this.idField.name&&(t=!0,w=d,E=D)}if(!y)break;s=b[y-1];s.dirty=!1;k?delete F[a]:(F=this._singleProp,k=!0);a=s.name;F[a]=e[a];for(c=!0;y<C&&!b[y].dirty;++y);y<C?++y:y=0}while(1);if(0>this.dirty)for(u in this.dirty=!1,g)if(g.hasOwnProperty(u)){this.dirty=!0;break}k&&delete F[a];++this.generation;t&&(this.id=E,this.callJoined("onIdChanged",[w,E]));
p?this.commit(n,r):!n&&(!this.editing&&r)&&this.callJoined("afterEdit",[r]);return r},reject:function(a){var b=this.modified;this.rejecting=!0;b&&this.set(b,this._rejectOptions);delete this.rejecting;this.clearState();a||this.callJoined("afterReject")},commit:function(a,b){var c;this.clearState();this.rejecting||(this.phantom=!1);this.dropped&&(this.erased=c=!0);a||(c?this.callJoined("afterErase"):this.callJoined("afterCommit",[b]))},clearState:function(){this.dirty=this.editing=!1;this.editMemento=
this.modified=null},drop:function(a){var b=this.associations,c=this.session,d;if(!this.erased&&!this.dropped){this.dropped=!0;if(b&&!1!==a)for(d in b)b[d].onDrop(this,c);this.callJoined("afterDrop");this.phantom&&this.setErased()}},join:function(a){var b=this.joined;b?b.length?Ext.Array.include(b,a):b[0]=a:this.joined=[a];a.isStore&&(this.store=this.store||a)},unjoin:function(a){var b=this.joined,c=b&&b.length,d=this.store,e;1===c&&b[0]===a?b.length=0:c&&Ext.Array.remove(b,a);if(d===a){d=null;if(b){e=
0;for(c=b.length;e<c;++e)if(a=b[e],a.isStore){d=a;break}}this.store=d}},clone:function(a){var b=this.modified;a=this.copy(this.id,a);b&&(a.modified=Ext.apply({},b));a.dirty=this.dirty;a.dropped=this.dropped;a.phantom=this.phantom;return a},copy:function(a,b){var c=Ext.apply({},this.data),d=this.idProperty,e=this.self;a||0===a?c[d]=a:null===a&&delete c[d];return new e(c,b)},getProxy:function(){return this.self.getProxy()},getValidation:function(a){var b=this.validation;b||(this.validation=b=new Ext.data.Validation,
b.attach(this));(!0===a||!1!==a&&b.syncGeneration!==this.generation)&&b.refresh(a);return b},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return!this.getValidation().dirty},toUrl:function(){var a=this.$className.split(".");return a[a.length-1].toLowerCase()+"/"+this.getId()},erase:function(a){this.drop();return this.save(a)},setErased:function(){this.erased=!0;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},
getCriticalFields:function(){var a=this.self,b=a.criticalFields;b||(a.rankFields(),b=a.criticalFields);return b},getAssociatedData:function(a){var b=this.associations,c,d,e,g,h,j,k,l;a=a||{};this.$gathering=1;for(l in b)if(c=b[l],(e=c.getAssociatedItem(this))&&!e.$gathering){if(e.isStore){e.$gathering=1;g=e.getData().items;j=g.length;h=[];for(d=0;d<j;++d)k=g[d],c=!k.$gathering,k.$gathering=1,h.push(k.getData(c)),delete k.$gathering;delete e.$gathering}else h=e.getData(!0);a[l]=h}delete this.$gathering;
return a},getData:function(a){var b={},c=!0===a?this._getAssociatedOptions:a||b;a=this.data;var d=c.associated,e=c.changes,g=e&&c.critical,h=e?this.modified:a,e=this.fieldsMap,j=c.persist,c=c.serialize,k,l;if(h)for(k in h){l=a[k];if(h=e[k]){if(j&&!h.persist)continue;c&&h.serialize&&(l=h.serialize(l,this))}b[k]=l}if(g){g=this.self.criticalFields||this.getCriticalFields();for(e=g.length;0<e--;)k=(h=g[e]).name,k in b||(l=a[k],c&&h.serialize&&(l=h.serialize(l,this)),b[k]=l)}d&&this.getAssociatedData(b);
return b},getTransientFields:function(){var a=this.self,b=a.transientFields;b||(a.rankFields(),b=a.transientFields);return b},isLoading:function(){return!!this.loadOperation},abort:function(){var a=this.loadOperation;a&&a.abort()},load:function(a){a=Ext.apply({},a);var b=this,c=a.scope||b,d=b.getProxy(),e=a.callback,g=b.loadOperation,h=b.getId();if(g)return d=g.extraCalls,d||(d=g.extraCalls=[]),d.push(a),g;b.phantom&&Ext.Error.raise("Cannot load phantom model");a.id=h;a.recordCreator=function(a,c,
d){c=b.session;d.recordCreator=c?c.recordCreator:null;b.set(a,b._commitOptions);b.getId()!==h&&Ext.Error.raise("Invalid record id returned for "+h+"@"+b.entityName);return b};a.internalCallback=function(d){var g=d.wasSuccessful()&&0<d.getRecords().length,h=b.loadOperation.extraCalls,m=[b,d];d=[b,d,g];var n,p;b.loadOperation=null;g?Ext.callback(a.success,c,m):Ext.callback(a.failure,c,m);Ext.callback(e,c,d);if(h){n=0;for(p=h.length;n<p;++n)a=h[n],g?Ext.callback(a.success,c,m):Ext.callback(a.failure,
c,m),Ext.callback(a.callback,c,d)}b.callJoined("afterLoad")};delete a.callback;b.loadOperation=g=d.createOperation("read",a);g.execute();return g},save:function(a){a=Ext.apply({},a);var b=this,c=b.phantom,d=b.dropped,e=d?"destroy":c?"create":"update",g=a.scope||b,h=a.callback,j=b.getProxy();a.records=[b];a.internalCallback=function(c){var d=[b,c];(c=c.wasSuccessful())?Ext.callback(a.success,g,d):Ext.callback(a.failure,g,d);d.push(c);Ext.callback(h,g,d)};delete a.callback;e=j.createOperation(e,a);
d&&c?(e.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),b.setErased(),e.setSuccessful(!0)):e.execute();return e},inheritableStatics:{addFields:function(a){this.replaceFields(a)},replaceFields:function(a,b){var c=this.prototype,d=Ext.data.field.Field,e=this.fields,g=this.fieldsMap,h=this.fieldOrdinals,j,k,l,m,n;if(!0===b)e.length=0,this.fieldsMap=g={},this.fieldOrdinals=h={};else if(b){for(k=b.length;0<k--;)m=b[k],m in h&&(delete h[m],delete g[m]);k=0;for(l=e.length;k<l;++k)m=e[k].name,
m in h?h[m]=k:(e.splice(k,1),--k,--l)}k=0;for(l=a?a.length:0;k<l;k++)m=(j=a[k]).name,m in h||(h[m]=n=e.length,e.push(j=d.create(j)),g[m]=j,j.ordinal=n,j.definedBy=j.owner=this);this.idField=c.idField=c=g[c.idProperty];c.allowNull=c.critical=c.identifier=!0;this.initializeFn=this.rankedFields=this.transientFields=this.criticalFields=c.defaultValue=null},removeFields:function(a){this.replaceFields(null,a)},getIdFromData:function(a){var b=this.idField;return b.calculated?(new this(a)).id:a[b.name]},
createWithId:function(a,b,c){var d=b;if(a||0===a)d={},b&&Ext.apply(d,b),d[this.idField.name]=a;return new this(d,c)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var a=this.proxy,b;if(!a){a=this.proxyConfig;if(!a||!a.isProxy)"string"===typeof a&&(a={type:a}),b=this.schema.constructProxy(this),a=a?Ext.merge(b,a):b;a=this.setProxy(a)}return a},setProxy:function(a){var b;a&&(a.isProxy?
(b=a.getModel())&&b!==this&&(a=a.clone()):a=Ext.Factory.proxy(a),a.setModel(this));return this.prototype.proxy=this.proxy=a},load:function(a,b,c){var d={};d[this.prototype.idProperty]=a;a=new this(d,c);a.load(b);return a}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(a,b){var c=this.stores,d=c.length,e;for(e=0;e<d;++e)a.call(b,c[e])},join:function(a){var b=this.stores,c=this.joined;c?c.push(a):this.joined=[a];a.isStore&&(this.store=this.store||a,b||(b=this.stores=
[]),b.push(a))},unjoin:function(a){var b=this.stores,c=this.joined;1===c.length?c.length=0:Ext.Array.remove(c,a);a.isStore&&(Ext.Array.remove(b,a),this.store=b[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},copyFrom:function(a){var b=this.fields,c=b.length,d=[],e,g=0,h,j,k=this.idProperty,l;if(a){h=this.data;for(j=a.data;g<c;g++)e=b[g],e=e.name,
e!=k&&(l=j[e],void 0!==l&&!this.isEqual(h[e],l)&&(h[e]=l,d.push(e)));this.phantom&&!a.phantom&&(this.beginEdit(),this.setId(a.getId()),this.endEdit(!0),this.commit(!0))}return d},callJoined:function(a,b){var c=this.joined,d=this.session,e,g,h,j;if(c||d){b?b.unshift(this):b=[this];if(c){e=0;for(g=c.length;e<g;++e)(j=c[e])&&(h=j[a])&&h.apply(j,b)}(h=d&&d[a])&&h.apply(d,b)}},setSession:function(a){a&&(this.session&&Ext.Error.raise("This model already belongs to a session."),this.id||Ext.Error.raise("The model must have an id to participate in a session."));
(this.session=a)&&a.add(this)},getModifiedFieldNames:function(a){var b=this.data,c=[];a=a||this.editMemento.data;for(var d in b)b.hasOwnProperty(d)&&(this.isEqual(b[d],a[d],d)||c.push(d));return c},isEqual:function(a,b,c){return c&&(c=c.isField?c:this.fieldsMap[c])?0===c.compare(a,b):a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():a===b},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var a=this.prototype,b=this.fields,c=b.length,d=[],e=[],g=[],h,j;this.rankedFields=
a.rankedFields=d;this.criticalFields=a.criticalFields=e;this.transientFields=a.transientFields=g;for(a=0;a<c;++a)j=b[a],j.critical&&e.push(j),j.persist||g.push(j),j.evil?(h||(h=[])).push(j):j.depends||(d.push(j),j.rank=d.length);for(a=0;a<c;++a)!(j=b[a]).rank&&!j.evil&&this.topoAdd(j);if(h){a=0;for(c=h.length;a<c;++a)d.push(j=h[a]),j.rank=d.length}this.topoStack=null;return d},topoAdd:function(a){var b=a.depends,c=b?b.length:0,d=this.rankedFields,e,g,h=this.topoStack||(this.topoStack=[]);h.push(a.name);
0===a.rank&&Ext.Error.raise(this.$className+" has circular field dependencies: "+h.join(" --\x3e "));h.length&&a.evil&&Ext.Error.raise(this.$className+": Field "+h[h.length-1]+" cannot depend on depends-less field "+a.name);for(e=a.rank=0;e<c;++e)(g=this.fieldsMap[b[e]])||Ext.Error.raise(this.$className+": Field "+a.name+" depends on undefined field "+b[e]),(g.dependents||(g.dependents=[])).push(a),g.rank||this.topoAdd(g);d.push(a);a.rank=d.length;h.pop()},initFields:function(a,b,c){var d=Ext.data.field.Field,
e=a.fields,g=[],h={},j={},k=c.fields,l=a.versionProperty||c.versionProperty,m=a.idProperty||c.idProperty,n,p,q,r;b.fields=c.fields=g;b.fieldOrdinals=c.fieldOrdinals=h;b.fieldsMap=c.fieldsMap=j;b.references=c.references=[];if(k){p=0;for(q=k.length;p<q;++p)g[p]=n=Ext.Object.chain(k[p]),n.dependents=null,n.owner=b,h[r=n.name]=p,j[r]=n}if(e){delete a.fields;p=0;for(q=e.length;p<q;++p)n=e[p],(r=n.reference)&&"string"!==typeof r&&(r=Ext.merge({},r)),n.$reference=r,n=d.create(e[p]),r=n.name,(a=b.getField(r))&&
(!a.generated&&b.$className)&&Ext.log.warn('Redefining field "'+r+'" in '+b.$className),a=h[r],void 0===a&&(h[r]=a=g.length),j[r]=n,g[a]=n,n.definedBy=n.owner=b,n.ordinal=a,r===l&&(n.critical=!0)}if(!(e=j[m]))e=new d(m),a=g.length,g[a]=e,h[m]=a,j[m]=e,e.definedBy=b,e.ordinal=a,e.generated=!0;e.allowNull=e.critical=e.identifier=!0;e.defaultValue=null;b.idField=c.idField=e},initValidators:function(a,b,c){var d=c.validators,e,g,h,j,k;if(d)for(g in e={},d)e[g]=Ext.Array.clone(d[g]);d=a.validators||a.validations;
a.validations&&(delete a.validations,Ext.log.warn((b.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead."));if(d){delete a.validators;e=e||{};if(Ext.isArray(d)){a={};g=0;for(h=d.length;g<h;++g)k=d[g],j=k.field,a[j]||(a[j]=[]),k=k.fn||k,a[j].push(k);d=a}for(j in d)a=d[j],Ext.isArray(a)||(a=[a]),g=e[j],e[j]?Ext.Array.push(g,a):e[j]=a}if(e)for(j in e)(g=b.getField(j))&&g.setModelValidators(e[j]);b.validators=c.validators=e},initAssociations:function(a,b,c){var d=
b.associations,e=b.belongsTo,g=b.hasMany,h=b.hasOne,j=b.manyToMany,k;b.belongsTo&&(Ext.log.warn('Use of "belongsTo" is obsolete'+(c.$className?" in "+c.$className:"")),delete b.belongsTo);delete b.manyToMany;j&&a.addMatrices(c,j);delete b.associations;delete b.belongsTo;delete b.hasMany;delete b.hasOne;if(d){d=Ext.isArray(d)?d:[d];b=0;for(j=d.length;b<j;++b)switch(k=d[b],k.type){case "belongsTo":a.addLegacyBelongsTo(c,k);break;case "hasMany":a.addLegacyHasMany(c,k);break;case "hasOne":a.addLegacyHasOne(c,
k);break;default:Ext.Error.raise('Invalid association type: "'+k.type+'"')}}if(e){e=Ext.isArray(e)?e:[e];b=0;for(j=e.length;b<j;++b)a.addLegacyBelongsTo(c,e[b])}if(g){g=Ext.isArray(g)?g:[g];b=0;for(j=g.length;b<j;++b)a.addLegacyHasMany(c,g[b])}if(h){h=Ext.isArray(h)?h:[h];b=0;for(j=h.length;b<j;++b)a.addLegacyHasOne(c,h[b])}a.afterLegacyAssociations(c)},initIdentifier:function(a,b,c){var d=a.identifier||a.idgen,e=c.identifier||b.schema._defaultIdentifier;a.idgen&&Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead.");
d?(delete a.identifier,delete a.idgen,d=Ext.Factory.dataIdentifier(d)):e&&(d=e.clone&&!e.getId()?e.clone():e.isGenerator?e:Ext.Factory.dataIdentifier(e));b.identifier=c.identifier=d;d||((a=b.entityName)||(a=Ext.id(null,"extModel")),b.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:a+"-"}))},findValidator:function(a,b,c){c=c.type||c;a=a[b];var d,e;if(a){d=0;for(b=a.length;d<b;++d)if(e=a[d],e.type===c)return e}return null},makeInitializeFn:function(a){var b=["var "],c=["\nreturn function (e) {\n    var data \x3d e.data, v;\n"],
d=0,e,g,h,j,k,l,m,n,p;if(!(k=a.rankedFields))k=a.rankFields();n=0;for(p=k.length;n<p;++n)if(j=k[n],l="f"+n,g=j.convert,n&&b.push(",  \n    "),b.push(l," \x3d $fields["+n+"]"),b.push("  /*  ",j.name,"  */"),(m=void 0!==j.defaultValue)||g)h='data["'+j.name+'"]',++d,a=e="",j.cloneDefaultValue&&(a="Ext.clone(",e=")"),c.push("\n"),g&&m?c.push("    v \x3d ",h,";\n    if (v !\x3d\x3d undefined) {\n        v \x3d ",l,".convert(v, e);\n    }\n    if (v \x3d\x3d\x3d undefined) {\n        v \x3d ",a,l,".defaultValue",
e,";\n    }\n    ",h," \x3d v;"):g?c.push("    v \x3d ",l,".convert(",h,",e);\n    if (v !\x3d\x3d undefined) {\n        ",h," \x3d v;\n    }\n"):m&&c.push("    if (",h," \x3d\x3d\x3d undefined) {\n        ",h," \x3d ",a,l,".defaultValue",e,";\n    }\n");if(!d)return Ext.emptyFn;b.push(";\n");b.push.apply(b,c);b.push("}");b=b.join("");return(new Function("$fields",b))(k)}}}},function(){var a=this,b=a.prototype,c=Ext.data.schema.Schema,d;a.proxyConfig=b.proxy;delete b.proxy;a.fields=[];a.fieldsMap=
b.fieldsMap={};a.schema=b.schema=c.get(b.schema);b.idField=new Ext.data.field.Field(b.idProperty);a.identifier=new Ext.data.identifier.Sequential;a.onExtended(function(b,g){var h=b.prototype,j=g.schema,k=h.superclass.self,l;b.idProperty=h.idProperty;if(j)delete g.schema,j=c.get(j);else if(!(j=h.schema))j=d||(d=c.get("default"));b.rankFields=a.rankFields;b.topoAdd=a.topoAdd;h.schema=b.schema=j;if(!(l=g.entityName))h.entityName=l=j.getEntityName(b),l||(g.associations&&Ext.Error.raise('Anonymous entities cannot specify "associations"'),
g.belongsTo&&Ext.Error.raise('Anonymous entities cannot specify "belongsTo"'),g.hasMany&&Ext.Error.raise('Anonymous entities cannot specify "hasMany"'),g.hasOne&&Ext.Error.raise('Anonymous entities cannot specify "hasOne"'),g.matrices&&Ext.Error.raise('Anonymous entities cannot specify "manyToMany"'));b.entityName=l;b.fieldExtractors={};a.initIdentifier(g,b,h);a.initFields(g,b,h);a.initValidators(g,b,h);b.fields.items=b.fields;l&&(j.addEntity(b),a.initAssociations(j,g,b));(h=g.proxy)?delete g.proxy:
k!==a&&(h=k.proxyConfig||k.proxy);b.proxyConfig=h})});Ext.define("Ext.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,readRoot:!1},constructor:function(a){this.initConfig(a)},applyCount:function(a){return!a&&0!==a?this.getRecords().length:a},updateRecords:function(a){this.setCount(a.length)}});
Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null},isReader:!0,constructor:function(a){a&&a.hasOwnProperty("root")&&(a=Ext.apply({},a),a.rootProperty=a.root,delete a.root,
Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.'));this.duringInit=!0;this.mixins.observable.constructor.call(this,a);delete this.duringInit;this.buildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},applyTransform:function(a){return a?(Ext.isFunction(a)&&(a={fn:a}),a.fn.bind(a.scope||this)):a},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},
updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(a,b){var c;if(a)if(a.responseText){if((c=this.getResponseData(a))&&c.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:c.msg});c=this.readRecords(c,b)}else c=this.readRecords(a,b);return c||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(a){return{__$isError:!0,msg:a}},readRecords:function(a,
b){var c,d,e,g,h,j,k;(c=this.getTransform())&&(a=c(a));this.buildExtractors();this.rawData=a;a=this.getData(a);c=!0;d=0;e=[];if(this.getSuccessProperty()&&(j=this.getSuccess(a),!1===j||"false"===j))c=!1;this.getMessageProperty()&&(k=this.getMessage(a));if(this.getReadRecordsOnFailure()||c){if(g=Ext.isArray(a)?a:this.getRoot(a))h=g.length;this.getTotalProperty()&&(j=parseInt(this.getTotal(a),10),isNaN(j)||(h=j));g&&(e=this.extractData(g,b),d=e.length)}return new Ext.data.ResultSet({total:h||d,count:d,
records:e,success:c,message:k,readRoot:!!g})},extractData:function(a,b){var c=b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):this.getModel(),d=c.schema,e=d.hasAssociations(c)&&this.getImplicitIncludes(),g=this.getFieldExtractorInfo(c.fieldExtractors),h=a.length,j=Array(h),k=this.getTypeProperty(),l,m,n,p;!h&&Ext.isObject(a)&&(a=[a],h=1);for(p=0;p<h;p++){l=a[p];l.isModel||(m=l,k&&(n=this.getChildType(d,m,k))?(l=n.getProxy().getReader(),l=l.extractRecord(m,b,n,d.hasAssociations(n)&&l.getImplicitIncludes(),
l.getFieldExtractorInfo(n.fieldExtractors))):l=this.extractRecord(m,b,c,e,g),l.isModel&&(l.raw=m));if(l.onLoad)l.onLoad();j[p]=l}return j},getChildType:function(a,b,c){var d;switch(typeof c){case "string":return a.getEntity(b[c]);case "object":return d=c.namespace,a.getEntity((d?d+".":"")+b[c.name]);case "function":return a.getEntity(c(b))}},extractRecordData:function(a,b){var c=b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):this.getModel(),d=this.getFieldExtractorInfo(c.fieldExtractors);
return this.extractRecord(a,b,c,!1,d)},extractRecord:function(a,b,c,d,e){var g=b&&b.recordCreator||this.defaultRecordCreator;e=this.extractModelData(a,e);c=g.call(this,e,c||this.getModel(),b);d&&c.isModel&&this.readAssociated(c,a,b);return c},getFieldExtractorInfo:function(a){if(a){var b=this.$className,c=a[b];void 0===c&&(a[b]=c=this.buildFieldExtractors());return c}},buildFieldExtractors:function(){var a=this.getFields(),b=a.length,c=[],d=[],e=null,g=0,h,j,k;for(j=0;j<b;++j)if(h=a[j],k=this.createFieldAccessor(h))h=
h.name,c.push("data['"+h+"'] \x3d extractors["+g+"](raw);"),d.push(k),++g;c.length&&(e={extractors:d,fn:new Function("raw","data","extractors",c.join(""))});return e},defaultRecordCreator:function(a,b){var c=new b(a);c.phantom=!1;return c},getModelData:function(){return{}},extractModelData:function(a,b){var c=this.getModelData(a),d;b&&(d=b.fn,d(a,c,b.extractors));return c},readAssociated:function(a,b,c){var d=a.associations,e,g;for(e in d)d.hasOwnProperty(e)&&(g=d[e],g.cls&&g.read(a,b,this,c))},getFields:function(){return this.getModel().fields},
getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(a){var b=a.fields||this.getFields();this.metaData=a;a.root&&this.setRootProperty(a.root);a.totalProperty&&this.setTotalProperty(a.totalProperty);a.successProperty&&this.setSuccessProperty(a.successProperty);a.messageProperty&&this.setMessageProperty(a.messageProperty);a=Ext.define(null,{extend:"Ext.data.Model",
fields:b,clientIdProperty:a.clientIdProperty});this.setModel(a);(b=this.getProxy())&&b.setModel(a);this.buildExtractors(!0)},buildExtractors:function(a){var b=this.getTotalProperty(),c=this.getSuccessProperty(),d=this.getMessageProperty();if(a||!this.hasExtractors)return b&&(this.getTotal=this.createAccessor(b)),c&&(this.getSuccess=this.createAccessor(c)),d&&(this.getMessage=this.createAccessor(d)),this.hasExtractors=!0},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){delete this.model;
delete this.getTotal;delete this.getSuccess;delete this.getMessage}},function(){Ext.apply(this.prototype,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})})});
Ext.define("Ext.data.writer.Writer",{mixins:[Ext.mixin.Factoryable],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(a){this.initConfig(a)},applyTransform:function(a){return a?(Ext.isFunction(a)&&(a={fn:a}),a.fn.bind(a.scope||
this)):a},write:function(a){var b=a.getOperation(),c=b.getRecords()||[],d=c.length,e=[],g;for(g=0;g<d;g++)e.push(this.getRecordData(c[g],b));return this.writeRecords(a,e)},writeRecords:Ext.emptyFn,getRecordData:function(a,b){var c=this.getNameProperty(),d="name"!==c,e=a.self.idField,g=e.name,h=a.id,j=this.getWriteAllFields();e.serialize&&(h=e.serialize(h));if(!j&&b&&b.isDestroyOperation)j={},j[c?e[c]:g]=h;else{var e=this.getDateFormat(),k=a.phantom,j=k||j?this.getAllDataOptions():this.getPartialDataOptions(),
l=k&&this.getClientIdProperty(),k=a.getFieldsMap(),m;j.serialize=!1;m=a.getData(j);j=d?{}:m;l?(j[l]=h,delete m[g]):this.getWriteRecordId()||delete m[g];for(g in m)h=m[g],(l=k[g])?(l.isDateField&&e&&Ext.isDate(h)?h=Ext.Date.format(h,e):l.serialize&&(h=l.serialize(h,a)),d&&(g=l[c]||g),j[g]=h):d&&(j[g]=h)}return j}});
Ext.define("Ext.data.proxy.Proxy",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Observable],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(a){this.mixins.observable.constructor.call(this,a)},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(a){if(a){var b=
this.getReader();b&&!b.getModel()&&b.setModel(a)}},applyReader:function(a){return Ext.Factory.reader(a)},updateReader:function(a){if(a){var b=this.getModel();b?a.setModel(b):(b=a.getModel())&&this.setModel(b);a.onMetaChange&&(a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,this.onMetaChange,this))}},applyWriter:function(a){return Ext.Factory.writer(a)},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent("metachange",this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,
batch:function(a,b){var c=this.getBatchActions(),d,e,g,h,j,k,l,m,n;void 0===a.operations&&(a={operations:a,listeners:b});a.batch?Ext.isDefined(a.batch.runOperation)&&(d=Ext.applyIf(a.batch,{proxy:this,listeners:{}})):a.batch={proxy:this,listeners:a.listeners||{}};d||(d=new Ext.data.Batch(a.batch));d.on("complete",Ext.bind(this.onBatchComplete,this,[a],0));g=this.getBatchOrder().split(",");h=g.length;for(k=0;k<h;k++)if(j=g[k],e=a.operations[j])if(c)d.add(this.createOperation(j,{records:e,params:a.params}));
else{m=e.length;for(l=0;l<m;l++)n=e[l],d.add(this.createOperation(j,{records:[n],params:a.params}))}d.start();return d},onBatchComplete:function(a,b){var c=a.scope||this;b.hasException()?Ext.isFunction(a.failure)&&Ext.callback(a.failure,c,[b,a]):Ext.isFunction(a.success)&&Ext.callback(a.success,c,[b,a]);Ext.isFunction(a.callback)&&Ext.callback(a.callback,c,[b,a])},createOperation:function(a,b){var c=Ext.createByAlias("data.operation."+a,b);c.setProxy(this);return c},clone:function(){return new this.self(this.getInitialConfig())}});
Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});
Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:null},finishOperation:function(a){var b=0,c=a.getRecords(),d=c.length;for(b;b<d;b++)c[b].commit();a.setSuccessful(!0)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},erase:function(a){this.finishOperation(a)},read:function(a){var b=this.getReader().read(this.getData()),c=b.getRecords(),
d=a.getSorters(),e=a.getGrouper(),g=a.getFilters(),h=a.getStart(),j=a.getLimit();!1!==a.process(b,null,null,!1)&&(g&&g.length&&(b.setRecords(c=Ext.Array.filter(c,Ext.util.Filter.createFilterFn(g))),b.setTotal(c.length)),e&&(d=d?d.concat(e):d),d&&d.length&&b.setRecords(c=Ext.Array.sort(c,Ext.util.Sortable.createComparator(d))),this.getEnablePaging()&&(void 0!==h&&void 0!==j)&&(h>=b.getTotal()?b.setConfig({success:!1,records:[],total:0}):b.setRecords(Ext.Array.slice(c,h,h+j))),a.setCompleted())},clear:Ext.emptyFn});
Ext.define("Ext.data.ProxyStore",{extend:Ext.data.AbstractStore,config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0},onClassExtended:function(a,b,c){var d=b.model,e;"string"===typeof d&&(e=c.onBeforeCreated,c.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(d,function(){e.apply(a,b)})})},implicitModel:!1,blockLoadCounter:0,autoSyncSuspended:0,constructor:function(a){var b=this.model;this.removed=[];this.blockLoad();
this.callParent(arguments);this.unblockLoad();if(!this.getModel()&&!1!==this.useModelWarning&&"ext-empty-store"!==this.getStoreId()){var c=[Ext.getClassName(this)||"Store"," created with no model."];"string"===typeof b&&c.push(" The name '",b,"'"," does not correspond to a valid model.");Ext.log.warn(c.join(""))}},updateAutoLoad:function(a){var b;this.getData();a&&(b=this.loadTask||(this.loadTask=new Ext.util.DelayedTask(null,null,null,null,!1)),b.delay(1,this.attemptLoad,this,Ext.isObject(a)?[a]:
void 0))},getTotalCount:function(){return this.totalCount||0},applyFields:function(a){var b;a&&(this.implicitModel=!0,this.setModel(a=Ext.define(null,{extend:"Ext.data.Model",fields:a,proxy:b=this.getProxy()})),b&&!b.getModel()&&b.setModel(a))},applyModel:function(a){if(a)a=Ext.data.schema.Schema.lookupEntity(a);else return this.getFields(),this.getModel();return a},applyProxy:function(a){var b=this.getModel();a?a.isProxy?a.setModel(b):(Ext.isString(a)?a={type:a,model:b}:a.model||(a=Ext.apply({model:b},
a)),a=Ext.createByAlias("proxy."+a.type,a)):b&&(a=b.getProxy());a||(a=Ext.createByAlias("proxy.memory"));if(!this.disableMetaChangeEvent)a.on("metachange",this.onMetaChange,this);return a},updateTrackRemoved:function(a){this.removed=a?[]:null},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(a,b){var c=new this.model(a),d=this.getProxy();b=Ext.apply({},b);b.records||(b.records=[c]);b.internalScope=this;b.internalCallback=this.onProxyWrite;return d.createOperation("create",
b).execute()},read:function(){return this.load.apply(this,arguments)},update:function(a){var b=this.getProxy();a=Ext.apply({},a);a.records||(a.records=this.getUpdatedRecords());a.internalScope=this;a.internalCallback=this.onProxyWrite;return b.createOperation("update",a).execute()},onProxyWrite:function(a){var b=a.wasSuccessful(),c=a.getRecords();switch(a.getAction()){case "create":this.onCreateRecords(c,a,b);break;case "update":this.onUpdateRecords(c,a,b);break;case "destroy":this.onDestroyRecords(c,
a,b)}b&&(this.fireEvent("write",this,a),this.fireEvent("datachanged",this),this.fireEvent("refresh",this))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(a,b,c){c&&(this.removed.length=0)},erase:function(a){var b=this.getProxy();a=Ext.apply({},a);a.records||(a.records=this.getRemovedRecords());a.internalScope=this;a.internalCallback=this.onProxyWrite;return b.createOperation("destroy",a).execute()},onBatchOperationComplete:function(a,b){return this.onProxyWrite(b)},
onBatchComplete:function(a){a=a.operations;var b=a.length,c;if("operation"!=this.batchUpdateMode){this.suspendEvents();for(c=0;c<b;c++)this.onProxyWrite(a[c]);this.resumeEvents()}this.isSyncing=!1;this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},onBatchException:function(){},filterNew:function(a){return!0===a.phantom&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},
filterUpdated:function(a){return!0===a.dirty&&!0!==a.phantom&&a.isValid()},getRemovedRecords:function(){return this.removed},sync:function(a){var b={},c=this.getNewRecords(),d=this.getUpdatedRecords(),e=this.getRemovedRecords(),g=!1;this.isSyncing&&Ext.log.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false.");this.needsSync=!1;0<c.length&&(b.create=c,g=!0);0<d.length&&(b.update=d,g=!0);0<e.length&&(b.destroy=e,g=!0);g&&!1!==this.fireEvent("beforesync",
b)&&(this.isSyncing=!0,a=a||{},this.proxy.batch(Ext.apply(a,{operations:b,listeners:this.getBatchListeners()})));return this},getBatchListeners:function(){var a={scope:this,exception:this.onBatchException,complete:this.onBatchComplete};"operation"==this.batchUpdateMode&&(a.operationcomplete=this.onBatchOperationComplete);return a},save:function(){return this.sync.apply(this,arguments)},blockLoad:function(a){void 0!==a?this.blockLoadCounter=a:++this.blockLoadCounter},unblockLoad:function(a){var b=
this.blockLoadCounter;a?this.blockLoadCounter=0:b&&--this.blockLoadCounter;return b},isLoadBlocked:function(){return!!this.blockLoadCounter},attemptLoad:function(a){this.isLoadBlocked()||this.load(a)},load:function(a){if(!this.isLoadBlocked()){var b=this.getProxy(),c=this.loadTask,d={internalScope:this,internalCallback:this.onProxyLoad},e;this.getRemoteFilter()&&(e=this.getFilters(),e.getCount()&&(d.filters=e.getRange()));this.getRemoteSort()&&(e=this.getSorters(),e.getCount()&&(d.sorters=e.getRange()),
this.fireEvent("beforesort",this,d.sorters));Ext.apply(d,a);d.scope=d.scope||this;this.lastOptions=d;d=b.createOperation("read",d);!1!==this.fireEvent("beforeload",this,d)&&(this.loading=!0,c&&(c.cancel(),this.loadTask=null),d.execute());return this}},reload:function(a){a=Ext.apply({},a,this.lastOptions);return this.load(a)},onEndUpdate:function(){this.needsSync&&(this.autoSync&&!this.autoSyncSuspended)&&this.sync()},afterReject:function(a){this.contains(a)&&(this.onUpdate(a,Ext.data.Model.REJECT,
null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,b){b||(b=null);this.contains(a)&&(this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b))},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){this.blockLoad();this.clearData();this.setProxy(null);this.setModel(null)},hasPendingLoad:function(){return!!this.loadTask||this.isLoading()},isLoading:function(){return!!this.loading},
isLoaded:function(){return 0<this.loadCount},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(a){this.autoSyncSuspended||Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended.");this.autoSyncSuspended&&!--this.autoSyncSuspended&&a&&this.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn});
Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3E4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,
arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var b=Ext.apply({},a.getParams()),b=Ext.applyIf(b,this.getExtraParams()||{}),c,d;Ext.applyIf(b,this.getParams(a));c=a.getId();d=this.getIdParam();void 0!==c&&void 0===b[d]&&(b[d]=c);b=new Ext.data.Request({params:b,action:a.getAction(),
records:a.getRecords(),url:a.getUrl(),operation:a,proxy:this});b.setUrl(this.buildUrl(b));a.setRequest(b);return b},processResponse:function(a,b,c,d){var e;!0===a?(e=this.getReader(),e=204===d.status?e.getNullResultSet():e.read(this.extractResponseData(d),{recordCreator:b.getRecordCreator()}),b.process(e,c,d),e=!b.wasSuccessful()):(this.setException(b,d),e=!0);e&&this.fireEvent("exception",this,d,b);this.afterRequest(c,a)},setException:function(a,b){a.setException({status:b.status,statusText:b.statusText,
response:b})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(a,b){var c=[],d=a.length,e;for(e=0;e<d;e++)c[e]=a[e].serialize();return this.applyEncoding(b?c[0]:c)},encodeFilters:function(a){var b=[],c=a.length,d;for(d=0;d<c;d++)b[d]=a[d].serialize();return this.applyEncoding(b)},getParams:function(a){if(!a.isReadOperation)return{};var b={},c=a.getGrouper(),d=a.getSorters(),e=a.getFilters(),g=a.getPage(),h=a.getStart(),j=a.getLimit(),k=this.getSimpleSortMode(),
l=this.getSimpleGroupMode(),m=this.getPageParam(),n=this.getStartParam(),p=this.getLimitParam(),q=this.getGroupParam(),r=this.getGroupDirectionParam();a=this.getSortParam();var s=this.getFilterParam(),t=this.getDirectionParam();m&&g&&(b[m]=g);if(n&&(h||0===h))b[n]=h;p&&j&&(b[p]=j);if(g=q&&c)l?(b[q]=c.getProperty(),b[r]=c.getDirection()):b[q]=this.encodeSorters([c],!0);a&&(d&&0<d.length)&&(k?(c=0,1<d.length&&g&&(c=1),b[a]=d[c].getProperty(),b[t]=d[c].getDirection()):b[a]=this.encodeSorters(d));s&&
(e&&0<e.length)&&(b[s]=this.encodeFilters(e));return b},buildUrl:function(a){(a=this.getUrl(a))||Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.");this.getNoCache()&&(a=Ext.urlAppend(a,Ext.String.format("{0}\x3d{1}",this.getCacheString(),Ext.Date.now())));return a},getUrl:function(a){var b;a&&(b=a.getUrl()||this.getApi()[a.getAction()]);return b?b:this.callParent()},doRequest:function(){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},
afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}});
Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(a){var b=this.getWriter(),c=this.buildRequest(a),d=this.getMethod(c);b&&
a.allowWrite()&&(c=b.write(c));c.setConfig({binary:this.getBinary(),headers:this.getHeaders(),timeout:this.getTimeout(),scope:this,callback:this.createRequestCallback(c,a),method:d,useDefaultXhrHeader:this.getUseDefaultXhrHeader(),disableCaching:!1});if("GET"!==d.toUpperCase()&&this.getParamsAsJson()&&(b=c.getParams()))a=(a=c.getJsonData())?Ext.Object.merge({},a,b):b,c.setJsonData(a),c.setParams(void 0);this.getWithCredentials()&&(c.setWithCredentials(!0),c.setUsername(this.getUsername()),c.setPassword(this.getPassword()));
return this.sendRequest(c)},sendRequest:function(a){a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig()));return this.lastRequest=a},abort:function(a){(a=a||this.lastRequest)&&Ext.Ajax.abort(a.getRawRequest())},getMethod:function(a){var b=this.getActionMethods();a=a.getAction();var c;b&&(c=b[a]);return c||this.defaultActionMethods[a]},createRequestCallback:function(a,b){var c=this;return function(d,e,g){a===c.lastRequest&&(c.lastRequest=null);c.processResponse(e,b,a,g)}}});
Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(a,b){var c;if(this.getMeta){if(c=this.getMeta(a))this.onMetaChange(c)}else if(a.metaData)this.onMetaChange(a.metaData);return this.callParent([a,b])},
getResponseData:function(a){try{return Ext.decode(a.responseText)}catch(b){return Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.createReadError(b.message)}},buildExtractors:function(){var a=this.getMetaProperty(),b=this.getRootProperty();this.callParent(arguments)&&(this.getRoot=b?this.createAccessor(b):Ext.identityFn,a&&(this.getMeta=this.createAccessor(a)))},extractData:function(a,b){var c=this.getRecord(),d=[],e,g;if(c){e=a.length;!e&&Ext.isObject(a)&&(e=1,a=[a]);for(g=
0;g<e;g++)d[g]=a[g][c]}else d=a;return this.callParent([d,b])},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:function(){var a=/[\[\.]/;return function(b){var c=this.getUseSimpleAccessors(),d,e,g,h,j,k,l,m,n;if(b||0===b){if("function"===typeof b)return b;c||(d=String(b).search(a));if(!0===c||0>d)c=function(a){return a[b]};else{c="raw";d=[];e="";g=0;n=b.length;for(m=0;m<=n;++m)l=b[m],h="."===l,j="["===l,k="]"===l,h=h||j||k||!l,!h||1<g||g&&!k?e+=l:h&&(l=
!1,j?++g:k&&(--g,l=!0),e&&(e=l?"["+e+"]":"."+e,c+=e,d.push(""+c),e=""));c=d.join(" \x26\x26 ");c=Ext.functionFactory("raw","return "+c)}return c}}}(),createFieldAccessor:function(a){var b=this,c=a.mapping,d=c||0===c,c=d?c:a.name;if(d)return"function"===typeof c?function(c){return a.mapping(c,b)}:b.createAccessor(c)}});
Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},constructor:function(a){a&&a.hasOwnProperty("root")&&(a=Ext.apply({},a),a.rootProperty=a.root,delete a.root,Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.'));this.callParent([a])},getExpandedData:function(a){for(var b=a.length,c=0,d,e,g,h,j;c<b;c++)for(e in d=
a[c],d)if(d.hasOwnProperty(e)&&(g=e.split("."),h=g.length-1,0<h)){for(j=d[e];0<h;h--){var k={};k[g[h]]=j;j=k}d[g[0]]=d[g[0]]||{};Ext.Object.merge(d[g[0]],j);delete d[e]}return a},writeRecords:function(a,b){var c=this.getRootProperty(),d,e;this.getExpandData()&&(b=this.getExpandedData(b));this.getAllowSingle()&&1===b.length&&(b=b[0],d=!0);if(e=this.getTransform())b=e(b,a),a.setJsonData(b);if(this.getEncode())c?a.setParam(c,Ext.encode(b)):Ext.Error.raise("Must specify a root when using encode");else if(d||
b&&b.length)d=a.getJsonData()||{},c?d[c]=b:d=b,a.setJsonData(d);return a}});Ext.define("Ext.util.Group",{extend:Ext.util.Collection,config:{groupKey:null}});
Ext.define("Ext.util.SorterCollection",{extend:Ext.util.Collection,isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(a){this.sortFn=Ext.util.Sorter.createComparator(this);this.callParent([a]);this.setDecoder(this.decodeSorter)},addSort:function(a,b,c){var d,e,g,h,j;a?(e=this.getOptions(),a instanceof Array?(j=a,c=b,b=null):Ext.isString(a)?j=(h=this.get(a))?[h]:[{property:a,direction:b||e.getDefaultSortDirection()}]:Ext.isFunction(a)?
j=[{sorterFn:a,direction:b||e.getDefaultSortDirection()}]:(Ext.isObject(a)||Ext.Error.raise("Invalid sort descriptor: "+a),j=[a],c=b,b=null),c&&!this._sortModes[c]&&Ext.Error.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+c+'"'),c=this._sortModes[c||"replace"],g=this.getAt(0),a=this.length,d=c.append?a:0,this.beginUpdate(),this.splice(d,c.replace?a:0,j),c.multi&&(a=this.length,c=e.getMultiSortLimit(),a>c&&this.removeAt(c,a)),h&&b?h.setDirection(b):0===d&&(g&&g===this.getAt(0))&&
g.toggle()):this.beginUpdate();this.endUpdate()},getSortFn:function(){return this.sortFn},getByProperty:function(a){var b=this.items,c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.getProperty()===a)return e;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(a,b){var c=this.getOptions(),d=c.getRootProperty(),e=this.getSorterOptionsFn();if(a.isSorter)a.getRoot()||a.setRoot(d);else{c={direction:c.getDefaultSortDirection(),root:d};d=typeof a;
if("string"===d){if(d=this.get(a))return d;c.property=a}else"function"===d?c.sorterFn=a:(Ext.isObject(a)||Ext.Error.raise("Invalid sorter specified: "+a),c=Ext.apply(c,a),c.fn&&(c.sorterFn=c.fn,delete c.fn));a=Ext.create(b||"Ext.util.Sorter",c)}e&&e.call(this.getSorterOptionsScope()||this,a);return a},setSorterConfigure:function(a,b){this.setSorterOptionsFn(a);this.setSorterOptionsScope(b)},decodeRemoveItems:function(a,b){var c=void 0===b?a:a[b];if(!c||!c.$cloned){if(a.length>b+1||!Ext.isIterable(c))c=
Ext.Array.slice(a,b);var d=this.items,e=c.length,g=[],h,j,k,l;for(h=0;h<e;h++)if((l=c[h])&&l.isFilter)g.push(l);else if(j=typeof l,"string"===j)(l=this.get(l))&&g.push(l);else if("function"===j)for(k=d.length;0<k--;)j=d[k],j.getSorterFn()===l&&g.push(j);else Ext.Error.raise("Invalid sorter specification: "+l);c=g;c.$cloned=!0}return c},getOptions:function(){return this.$sortable||this}});
Ext.define("Ext.util.FilterCollection",{extend:Ext.util.Collection,isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(a){this.filterFn=Ext.util.Filter.createFilterFn(this);this.callParent([a]);this.setDecoder(this.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return!this.filterFn(a)},decodeFilter:function(a){var b=this.getOptions().getRootProperty();if(a.isFilter)a.getRoot()||
a.setRoot(b);else{b={root:b};if(Ext.isFunction(a))b.filterFn=a;else if(Ext.isObject(a)||Ext.Error.raise("Invalid filter specified: "+a),b=Ext.apply(b,a),b.fn&&(b.filterFn=b.fn,delete b.fn),Ext.util.Filter.isInvalid(b))return!1;a=new Ext.util.Filter(b)}return a},decodeRemoveItems:function(a,b){var c=void 0===b?a:a[b];if(!c.$cloned){if(a.length>b+1||!Ext.isIterable(c))c=Ext.Array.slice(a,b);var d=this.items,e=c.length,g=[],h,j,k,l,m,n,p,q;for(j=0;j<e;j++)if((h=c[j])&&h.isFilter)g.push(h);else{m=typeof h;
k="function"===m;l=void 0!==h.property&&void 0!==h.value;m="string"===m;!k&&(!l&&!m)&&Ext.Error.raise("Invalid filter specification: "+h);for(q=d.length;0<q--;)n=d[q],p=!1,m?p=n.getProperty()===h:k?p=n.getFilterFn()===h:l&&(p=n.getProperty()===h.property&&n.getValue()===h.value),p&&g.push(n)}c=g;c.$cloned=!0}return c},getOptions:function(){return this.$filterable||this}});
Ext.define("Ext.util.GroupCollection",{extend:Ext.util.Collection,isGroupCollection:!0,config:{itemRoot:null},observerPriority:-100,onCollectionAdd:function(a,b){this.addItemsToGroups(a,b.items)},onCollectionBeforeItemChange:function(a,b){var c=b.item,d=a.getKey(c);this.onCollectionAdd=this.onCollectionRemove=this.onCollectionUpdateKey=null;this.syncItemGrouping(a,c,d,b.oldKey)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(){delete this.onCollectionAdd;
delete this.onCollectionRemove;delete this.onCollectionUpdateKey},onCollectionRefresh:function(a){this.removeAll();this.addItemsToGroups(a,a.items)},onCollectionRemove:function(a,b){var c=this.groupItems(a,b.items,!1),d,e,g,h,j;g=0;for(h=c.length;g<h;++g)if(e=(d=c[g]).group)e.remove(d.items),e.length||(j||(j=[])).push(e);j&&this.remove(j)},onCollectionSort:function(a){a=a.getSorters();var b=this.items,c=this.length,d,e;for(d=0;d<c;++d)e=b[d],e.getSorters()!==a&&e.setSorters(a)},onCollectionUpdateKey:function(a,
b){this.syncItemGrouping(a,b.item,b.newKey,b.oldKey)},addItemsToGroups:function(a,b){var c=this.groupItems(a,b,!0),d,e,g;e=0;for(g=c.length;e<g;++e)d=c[e],d.group.add(d.items)},groupItems:function(a,b,c){var d={},e=[],g=a.getGrouper(),h=this.itemGroupKeys,j,k,l,m,n,p;l=0;for(n=b.length;l<n;++l){k=g.getGroupString(m=b[l]);j=a.getKey(m);c?(h||(this.itemGroupKeys=h={}))[j]=k:h&&delete h[j];if(!(j=d[k])){if(!(j=this.getByKey(k))&&c)(p||(p=[])).push(j=this.createGroup(a,k));e.push(d[k]=j={group:j,items:[]})}j.items.push(m)}p&&
this.add(p);return e},syncItemGrouping:function(a,b,c,d){var e=this.itemGroupKeys||(this.itemGroupKeys={}),g=a.getGrouper().getGroupString(b),h=0,j,k;d?(k=e[d],delete e[d]):k=e[c];e[c]=g;if(!(d=this.get(g)))d=this.createGroup(a,g),j=[d];d.get(c)!==b?d.add(b):d.itemChanged(b);if(g!==k&&(0===k||k))if(a=this.get(k))a.remove(b),a.length||(h=[a]);j?this.splice(0,h,j):h&&this.splice(0,h)},createGroup:function(a,b){return new Ext.util.Group({groupKey:b,rootProperty:this.getItemRoot(),sorters:a.getSorters()})},
getKey:function(a){return a.getGroupKey()},getGroupByRecord:function(a){var b=this.items,c=b.length,d,e;for(e=0;e<c;e++)if(d=b[e],d.indexOf(a))return d;return null}});
Ext.define("Ext.data.Store",{extend:Ext.data.ProxyStore,alias:"store.store",mixins:[Ext.data.LocalStore],config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,constructor:function(a){var b;if(a){if(a.buffered)return this.self!==Ext.data.Store&&Ext.Error.raise("buffered config not supported on derived Store classes. Please derive from Ext.data.BufferedStore."),new Ext.data.BufferedStore(a);a.remoteGroup&&
Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}this.callParent(arguments);this.getData().addObserver(this);if(b=this.inlineData)delete this.inlineData,this.loadInlineData(b)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(a,b){this.getFields();this.getModel();b||(b=this.constructDataCollection());a&&(this.isInitializing?this.inlineData=a:this.loadData(a));return b},loadInlineData:function(a){var b=
this.getProxy();b&&b.isMemoryProxy?(b.setData(a),a=this.unblockLoad(!0),this.suspendEvents(),this.read(),this.resumeEvents(),this.blockLoad(a)):(this.removeAll(!0),this.suspendEvents(),this.loadData(a),this.resumeEvents())},updateRemoteFilter:function(a){var b=this.getData(),c=this.getFilters();a?b.setFilters(null):b.setFilters(c);this.callParent(arguments)},updateRemoteSort:function(a){var b=this.getData(),c=this.getSorters();a?b.setSorters(null):b.setSorters(c);this.callParent(arguments)},insert:function(a,
b){var c,d;b&&(b=Ext.isIterable(b)?Ext.Array.clone(b):[b],c=b.length);if(!c)return[];for(d=0;d<c;++d)b[d]=this.createModel(b[d]);this.getData().insert(a,b);return b},onCollectionAdd:function(a,b){var c=b.items,d=c.length,e=!b.next,g=this.getRemovedRecords(),h=this.ignoreCollectionAdd,j=this.getSession(),k,l,m;for(k=0;k<d;++k)m=c[k],j&&j.adopt(m),h||(m.join(this),g&&g.length&&Ext.Array.remove(g,m),l=l||m.phantom||m.dirty);h||(this.fireEvent("add",this,c,b.at),e&&this.fireEvent("datachanged",this),
this.needsSync=this.needsSync||l)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(a,b){var c=b.item,d=b.modified||null,e=b.meta;this.onUpdate(c,e,d,b);this.fireEvent("update",this,c,e,d,b)},afterCommit:function(a,b){this.getData().itemChanged(a,b||null,void 0,Ext.data.Model.COMMIT)},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty;this.getData().itemChanged(a,b||null,void 0,Ext.data.Model.EDIT)},afterReject:function(a){this.getData().itemChanged(a,
null,void 0,Ext.data.Model.REJECT)},afterDrop:function(a){this.getData().remove(a)},onCollectionFilterAdd:function(a,b){var c=b.length,d=this.getSession(),e,g;for(e=0;e<c;++e)g=b[e],g.join(this),d&&d.adopt(g)},add:function(a){return this.insert(this.getCount(),1===arguments.length?a:arguments)},addSorted:function(a){var b=this.getRemoteSort(),c=this.getData(),d;b&&c.setSorters(this.getSorters());d=c.findInsertionIndex(a);b&&c.setSorters(null);return this.insert(d,a)},createModel:function(a){this.getSession();
a.isModel||(a=new (this.getModel())(a));return a},remove:function(a,b,c){var d=this.getData(),e,g,h,j;if(a)if(a.isModel)-1<this.indexOf(a)?(h=[a],e=1):e=0;else{h=[];g=0;for(e=a.length;g<e;++g){if((j=a[g])&&j.isEntity){if(!d.contains(j))continue}else if(!(j=d.getAt(j)))continue;h.push(j)}e=h.length}if(!e)return[];this.removeIsMove=!0===b;this.removeIsSilent=c;d.remove(h);this.removeIsSilent=!1;return h},onCollectionRemove:function(a,b){var c=this.removed,d=b.items,e=b.at,g=d.length,h=this.removeIsMove,
j=this.removeIsSilent,k=!b.next,l,m,n,p;if(!this.ignoreCollectionRemove){for(l=0;l<g;++l)m=d[l],m.unjoin(this),p=!m.phantom,c&&(!h&&p)&&(m.removedFrom=e+l,c.push(m)),n=n||p;j||(this.fireEvent("remove",this,d,e,h),k&&this.fireEvent("datachanged",this));this.needsSync=this.needsSync||n&&!h}},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},removeAt:function(a,b){var c=this.getData();a=Math.max(a,0);if(a<c.length){if(1===arguments.length)b=1;else if(!b)return;c.removeAt(a,
b)}},removeAll:function(a){var b=this.getData(),c=b.getRange();b.length&&(this.removeIsSilent=!0,this.callObservers("BeforeRemoveAll"),b.removeAll(),a||(this.fireEvent("clear",this,c),this.fireEvent("datachanged",this)),this.callObservers("AfterRemoveAll",[!!a]));return c},setRecords:function(a){var b=this.getCount();++this.loadCount;b?this.getData().splice(0,b,a):this.add(a)},splice:function(a,b,c){return this.getData().splice(a,b,c)},load:function(a){var b=this.getPageSize();a="function"===typeof a?
{callback:a}:Ext.apply({},a);this.getRemoteSort()&&(!a.grouper&&this.getGrouper())&&(a.grouper=this.getGrouper());if(b||"start"in a||"limit"in a||"page"in a)a.page=a.page||this.currentPage,a.start=void 0!==a.start?a.start:(a.page-1)*b,a.limit=a.limit||b;a.addRecords=a.addRecords||!1;if(!a.recordCreator&&(b=this.getSession()))a.recordCreator=b.recordCreator;return this.callParent([a])},onProxyLoad:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),e;this.isDestroyed||(b&&(this.totalCount=
b.getTotal()),this.loading=!1,d&&(b=this.getSession(),e=this.getAssociatedEntity(),b&&(e&&!e.phantom)&&(c=this.getRole().validateAssociationRecords(b,e,c)),this.loadRecords(c,a.getAddRecords()?{addRecords:!0}:void 0)),this.hasListeners.load&&this.fireEvent("load",this,c,d,a))},getUnfiltered:function(){var a=this.getData();return a.getSource()||a},getNewRecords:function(){return this.getUnfiltered().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getUnfiltered().createFiltered(this.filterUpdated).getRange()},
loadData:function(a,b){var c=a.length,d=[],e;for(e=0;e<c;e++)d.push(this.createModel(a[e]));this.loadRecords(d,b?this.addRecordsOptions:void 0)},loadRawData:function(a,b){var c=this.getSession(),c=this.getProxy().getReader().read(a,c?{recordCreator:c.recordCreator}:void 0),d=c.getRecords(),e=c.getSuccess();e&&(this.totalCount=c.getTotal(),this.loadRecords(d,b?this.addRecordsOptions:void 0));return e},loadRecords:function(a,b){var c=a.length,d=this.getData(),e,g,h;b&&(e=b.addRecords);if(h=this.getRemoteSort()||
!this.getSortOnLoad())g=d.getAutoSort(),d.setAutoSort(!1);e||this.clearData(!0);this.ignoreCollectionAdd=!0;this.callObservers("BeforeLoad");d.add(a);this.ignoreCollectionAdd=!1;for(e=0;e<c;e++)a[e].join(this);h&&d.setAutoSort(g);++this.loadCount;this.complete=!0;this.fireEvent("datachanged",this);this.fireEvent("refresh",this);this.callObservers("AfterLoad")},loadPage:function(a,b){var c=this.getPageSize();this.currentPage=a;b=Ext.apply({page:a,start:(a-1)*c,limit:c,addRecords:!this.getClearOnPageLoad()},
b);this.read(b)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(a,b){var c=this.removed,d,e,g;if(b=b||this.getData()){d=b.items;e=0;for(g=d.length;e<g;++e)d[e].unjoin(this);this.ignoreCollectionRemove=!0;this.callObservers("BeforeClear");b.removeAll();this.ignoreCollectionRemove=!1;this.callObservers("AfterClear")}if(c&&(!0!==a||this.getClearRemovedOnLoad()))c.length=0},onIdChanged:function(a,b,c){this.getData().updateKey(a,
b);this.fireEvent("idchanged",this,a,b,c)},commitChanges:function(){for(var a=this.getModifiedRecords(),b=a.length,c=this.removed,d=0;d<b;d++)a[d].commit();c&&(c.length=0)},filterNewOnly:function(a){return!0===a.phantom},filterRejects:function(a){return a.phantom||a.dirty},getRejectRecords:function(){return this.getData().createFiltered(this.filterRejects).getRange()},rejectChanges:function(){for(var a=this.getRejectRecords(),b=a.length,c=0,d;c<b;c++)d=a[c],d.reject(),d.phantom&&this.remove(d);if(a=
this.removed){b=a.length;for(c=b-1;0<=c;c--)d=a[c],this.insert(d.removedFrom||0,d),d.reject();a.length=0}},onDestroy:function(){var a=this.loadTask,b=this.getData(),c=b.getSource();this.callParent();this.setSession(null);this.observers=null;a&&(a.cancel(),this.loadTask=null);this.clearData(!1,c||b);b.destroy();c&&c.destroy();this.setData(null)}});
Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(a){var b=a.mapping,c=a.hasMapping()?b:a.ordinal;a.mapping=c;c=this.callParent(arguments);a.mapping=b;return c},getModelData:function(){return{}}});
Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(a,b){if(this.expandData){for(var c=[],d=0,e=a.length;d<e;d++)c[c.length]=[a[d]];a=c}this.callParent([a,b])}});
Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,config:{pageSize:0,rootProperty:""},clear:function(a){this.pageMapGeneration=(this.pageMapGeneration||0)+1;this.callParent(arguments)},forEach:function(a,b){var c=Ext.Object.getKeys(this.map),d=c.length,e=this.getPageSize(),g,h,j,k,l;for(g=0;g<d;g++)c[g]=Number(c[g]);Ext.Array.sort(c);b=b||this;for(g=0;g<d;g++){j=c[g];k=this.getPage(j);l=k.length;for(h=0;h<l;h++)if(!1===a.call(b,k[h],(j-1)*e+h))return}},findBy:function(a,b){var c=null;b=b||this;
this.forEach(function(d,e){if(a.call(b,d,e))return c=d,!1});return c},findIndexBy:function(a,b){var c=-1;b=b||this;this.forEach(function(d,e){if(a.call(b,d))return c=e,!1});return c},find:function(a,b,c,d,e,g){if(Ext.isEmpty(b,!1))return null;var h=Ext.String.createRegex(b,d,e,g),j=this.getRootProperty();return this.findBy(function(b){return b&&h.test((j?b[j]:b)[a])},null,c)},findIndex:function(a,b,c,d,e,g){if(Ext.isEmpty(b,!1))return null;var h=Ext.String.createRegex(b,d,e,g),j=this.getRootProperty();
return this.findIndexBy(function(b){return b&&h.test((j?b[j]:b)[a])},null,c)},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},addAll:function(a){this.getCount()&&Ext.Error.raise("Cannot addAll to a non-empty PageMap");this.addPage(1,a)},addPage:function(a,b){var c=this.getPageSize(),d=a+Math.floor((b.length-1)/c),e,g;for(e=0;a<=d;a++,e+=c)g=Ext.Array.slice(b,e,e+c),this.add(a,g),this.fireEvent("pageadded",a,g)},getCount:function(){var a=this.callParent();a&&(a=(a-1)*
this.getPageSize()+this.last.value.length);return a},indexOf:function(a){return a?a.index:-1},insert:function(){Ext.Error.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.Error.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.Error.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(a){var b=this.getPage(a);b&&b.value&&(b.value.length=0);return this.callParent(arguments)},getPage:function(a){return this.get(a)},
hasRange:function(a,b){for(var c=this.getPageFromRecordIndex(a),d=this.getPageFromRecordIndex(b);c<=d;c++)if(!this.hasPage(c))return!1;return!0},hasPage:function(a){return!!this.get(a)},getAt:function(a){return this.getRange(a,a+1)[0]},getRange:function(a,b){b--;this.hasRange(a,b)||Ext.Error.raise("PageMap asked for range which it does not have");for(var c=this.getPageSize(),d=this.getPageFromRecordIndex(a),e=this.getPageFromRecordIndex(b),g=(d-1)*c,h=e*c-1,j=d,k=[],l,m,n,p=0;j<=e;j++)j===d?(l=a-
g,n=!0):(l=0,n=!1),j===e&&(m=c-(h-b),n=!0),n?Ext.Array.push(k,Ext.Array.slice(this.getPage(j),l,m)):Ext.Array.push(k,this.getPage(j));for(c=k.length;p<c;p++)k[p].index=a++;return k}});
Ext.define("Ext.data.BufferedStore",{extend:Ext.data.ProxyStore,alias:"store.buffered",isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0},applyData:function(a){var b=this.data||(this.data=this.createDataCollection());a&&!0!==a&&Ext.Error.raise("Cannot load a buffered store with local data - the store is a map of remote data");return b},applyProxy:function(a){a=
this.callParent([a]);a.setEnablePaging&&a.setEnablePaging(!0);return a},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateRemoteFilter:function(a){!1===a&&Ext.Error.raise("Buffered stores are always remotely filtered.");this.callParent(arguments)},updateRemoteSort:function(a){!1===a&&Ext.Error.raise("Buffered stores are always remotely sorted.");this.callParent(arguments)},updateGroupField:function(a){this.isInitializing&&
this.blockLoad();this.group(a);this.isInitializing&&this.unblockLoad()},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var a=new Ext.data.PageMap({store:this,rootProperty:"data",pageSize:this.getPageSize(),maxSize:this.getPurgePageCount(),listeners:{clear:this.onPageMapClear,scope:this}});this.pageRequests={};return a},add:function(){Ext.Error.raise("add method may not be called on a buffered store - the store is a map of remote data")},
insert:function(){Ext.Error.raise("insert method may not be called on a buffered store - the store is a map of remote data")},removeAll:function(a){var b=this.getData();b&&(a&&this.suspendEvent("clear"),b.clear(),a&&this.resumeEvent("clear"))},load:function(a){a=a||{};this.getData().clear();a.page=1;a.start=0;a.limit=this.getViewSize()||this.getDefaultViewSize();a.loadCallback=a.callback;delete a.callback;return this.loadToPrefetch(a)},reload:function(a){var b=this,c,d,e,g,h,j,k=b.getData();a||(a=
{});delete b.totalCount;k.clear(!0);h=function(){b.rangeCached(c,d)&&(b.loading=!1,k.un("pageadded",h),j=k.getRange(c,d+1),b.fireEvent("load",b,j,!0))};g=Math.ceil((b.getLeadingBufferZone()+b.getTrailingBufferZone())/2);b.lastRequestStart?(c=b.lastRequestStart,d=b.lastRequestEnd):(c=a.start||0,d=c+(a.count||b.getPageSize())-1);e=b.getPageFromRecordIndex(Math.max(c-g,0));g=b.getPageFromRecordIndex(d+g);if(!1!==b.fireEvent("beforeload",b,a)){b.loading=!0;for(k.on("pageadded",h);e<=g;e++)b.prefetchPage(e,
a)}},filter:function(){this.remoteSort?(this.getData().clear(),this.callParent(arguments)):Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data");this.callParent(arguments)},clearFilter:function(){this.getData().clear();this.callParent(arguments)},filterBy:function(){Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(){Ext.Error.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},
loadPage:function(a,b){b=b||{};b.page=this.currentPage=a;b.start=(a-1)*this.getPageSize();b.limit=this.getViewSize()||this.getDefaultViewSize();b.loadCallback=b.callback;delete b.callback;return this.loadToPrefetch(b)},clearData:function(a){var b=this.getData();b&&b.clear();if(!0!==a||this.clearRemovedOnLoad)this.removed.length=0},getCount:function(){return this.totalCount||0},getRange:function(a,b,c){var d=this,e=d.totalCount-1,g=d.lastRequestStart,h=[],j=d.getData(),k,l,m;c=Ext.apply({prefetchStart:a,
prefetchEnd:b},c);b=b>=d.totalCount?e:b;l=0===a?0:a-1;m=b===e?b:b+1;d.lastRequestStart=a;d.lastRequestEnd=b;d.rangeCached(l,m)?(d.onRangeAvailable(c),h=j.getRange(a,b+1)):(d.fireEvent("cachemiss",d,a,b),k=function(){d.rangeCached(l,m)&&(d.fireEvent("cachefilled",d,a,b),j.un("pageadded",k),d.onRangeAvailable(c))},j.on("pageadded",k),d.prefetchRange(a,b));d.primeCache(a,b,a<g?-1:1);return h},getById:function(a){var b=this.data.findBy(function(b){return b.getId()===a});b||Ext.Error.raise("getById called for ID that is not present in local cache");
return b},getByInternalId:function(a){return this.data.findBy(function(b){return b.internalId===a})},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},group:function(a,b){var c=this,d;a&&"string"===typeof a?(d=c.grouper)?void 0===b?d.toggle():d.setDirection(b):c.grouper=new Ext.util.Grouper({property:a,direction:b||"ASC",root:"data"}):c.grouper=a?c.getSorters().decodeSorter(a,"Ext.util.Grouper"):null;c.isLoadBlocked()||(c.getData().clear(),
c.loadPage(1,{callback:function(){c.fireEvent("groupchange",c,c.getGrouper())}}))},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},loadToPrefetch:function(a){var b=this,c=a,d=b.getPurgePageCount(),e,g,h,j=a.start,k=a.start+a.limit-1,l=Math.min(k,a.start+(b.getViewSize()||a.limit)-1),m=b.getPageFromRecordIndex(Math.max(j-b.getTrailingBufferZone(),0)),n=b.getPageFromRecordIndex(k+b.getLeadingBufferZone()),p=b.getData(),q=function(){b.rangeCached(j,l)&&(b.loading=!1,g=p.getRange(j,
l+1),p.un("pageadded",q),b.hasListeners.guaranteedrange&&b.guaranteeRange(j,l,a.callback,a.scope),a.loadCallback&&a.loadCallback.call(a.scope||b,g,r,!0),a.callback&&a.callback.call(a.scope||b,g,j,k,a),b.fireEvent("datachanged",b),b.fireEvent("refresh",b),b.fireEvent("load",b,g,!0))},r;(isNaN(b.pageSize)||!b.pageSize)&&Ext.Error.raise("Buffered store configured without a pageSize",b);d&&p.setMaxSize(d=Math.max(d,n-m+1));!1!==b.fireEvent("beforeload",b,a)&&(delete b.totalCount,b.loading=!0,a.callback&&
(c=Ext.apply({},a),delete c.callback),b.on("prefetch",function(a,d,g,j){if(g)if(r=j,h=b.getTotalCount()){p.on("pageadded",q);l=Math.min(l,h-1);n=b.getPageFromRecordIndex(Math.min(l+b.getLeadingBufferZone(),h-1));for(e=m+1;e<=n;++e)b.prefetchPage(e,c)}else b.fireEvent("datachanged",b),b.fireEvent("refresh",b),b.fireEvent("load",b,d,!0);else b.fireEvent("load",b,d,!1)},null,{single:!0}),b.prefetchPage(m,c))},prefetch:function(a){var b=this.getPageSize(),c=this.getData(),d;b?(this.lastPageSize&&b!=this.lastPageSize&&
Ext.Error.raise("pageSize cannot be dynamically altered"),c.pageSize||c.setPageSize(b)):this.pageSize=c.setPageSize(b=a.limit);this.lastPageSize=b;a.page||(a.page=this.getPageFromRecordIndex(a.start),a.start=(a.page-1)*b,a.limit=Math.ceil(a.limit/b)*b);this.pageRequests[a.page]||(b=this.proxy,a=Ext.apply({action:"read",filters:this.getFilters().items,sorters:this.getSorters().items,grouper:this.getGrouper(),internalCallback:this.onProxyPrefetch,internalScope:this},a),d=b.createOperation("read",a),
d.pageMapGeneration=c.pageMapGeneration,!1!==this.fireEvent("beforeprefetch",this,d)&&(this.pageRequests[a.page]=d.execute(),b.isSynchronous&&delete this.pageRequests[a.page]));return this},onPageMapClear:function(){var a=this.wasLoading,b=this.pageRequests,c=this.getData(),d;c.clearListeners();c.on("clear",this.onPageMapClear,this);this.loading=!0;this.totalCount=0;for(d in b)b.hasOwnProperty(d)&&(c=b[d],delete b[d],delete c.callback);this.fireEvent("clear",this);this.loading=a},prefetchPage:function(a,
b){var c=this.getPageSize(),d=(a-1)*c,e=this.totalCount;void 0!==e&&this.data.getCount()===e||this.prefetch(Ext.applyIf({page:a,start:d,limit:c},b))},onProxyPrefetch:function(a){var b=a.getResultSet(),c=a.getRecords(),d=a.wasSuccessful(),e=a.getPage(),g=this.totalCount;a.pageMapGeneration===this.getData().pageMapGeneration&&(b&&(this.totalCount=b.getTotal(),this.totalCount!==g&&this.fireEvent("totalcountchange",this.totalCount)),void 0!==e&&delete this.pageRequests[e],this.loading=!1,this.fireEvent("prefetch",
this,c,d,a),d&&this.cachePage(c,a.getPage()),Ext.callback(a.getCallback(),a.getScope()||this,[c,a,d]))},cachePage:function(a,b){var c=a.length,d;Ext.isDefined(this.totalCount)||(this.totalCount=a.length,this.fireEvent("totalcountchange",this.totalCount));for(d=0;d<c;d++)a[d].join(this);this.getData().addPage(b,a)},rangeCached:function(a,b){return this.getData().hasRange(a,b)},pageCached:function(a){return this.getData().hasPage(a)},pagePending:function(a){return!!this.pageRequests[a]},rangeSatisfied:function(a,
b){return this.rangeCached(a,b)},onRangeAvailable:function(a){var b=this.getTotalCount(),c=a.prefetchStart,b=a.prefetchEnd>b-1?b-1:a.prefetchEnd,d,b=Math.max(0,b);c>b&&Ext.log({level:"warn",msg:"Start ("+c+") was greater than end ("+b+") for the range of records requested ("+c+"-"+a.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")});d=this.getData().getRange(c,b+1);!1!==a.fireEvent&&this.fireEvent("guaranteedrange",d,c,b,a);a.callback&&a.callback.call(a.scope||this,d,c,b,a)},guaranteeRange:function(a,
b,c,d,e){e=Ext.apply({callback:c,scope:d},e);this.getRange(a,b+1,e)},prefetchRange:function(a,b){var c=this.getPurgePageCount(),d,e;if(!this.rangeCached(a,b)){d=this.getPageFromRecordIndex(a);e=this.getPageFromRecordIndex(b);this.getData().setMaxSize(c?e-d+1+c:0);for(c=d;c<=e;c++)this.pageCached(c)||this.prefetchPage(c)}},primeCache:function(a,b,c){var d=this.getLeadingBufferZone(),e=this.getTrailingBufferZone(),g=this.getPageSize(),h=this.totalCount;-1===c?(a=Math.max(a-d,0),b=Math.min(b+e,h-1)):
1===c?(a=Math.max(Math.min(a-e,h-g),0),b=Math.min(b+d,h-1)):(a=Math.min(Math.max(Math.floor(a-(d+e)/2),0),h-this.pageSize),b=Math.min(Math.max(Math.ceil(b+(d+e)/2),0),h-1));this.prefetchRange(a,b)},sort:function(a,b,c){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(a,b,c)},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();b.length?a.clearAndLoad({callback:function(){a.fireEvent("sort",a,b)}}):a.fireEvent("sort",a,b)},clearAndLoad:function(a){this.getData().clear();
this.loadPage(1,a)}});
Ext.define("Ext.direct.Manager",{singleton:!0,mixins:{observable:Ext.util.Observable},exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},constructor:function(){this.transactions=new Ext.util.MixedCollection;this.providers=new Ext.util.MixedCollection;this.mixins.observable.constructor.call(this)},addProvider:function(a){var b=arguments,c=this.relayers||(this.relayers={}),d;if(1<b.length){c=0;for(d=b.length;c<d;++c)this.addProvider(b[c])}else return a.isProvider||(a=
Ext.create("direct."+a.type+"provider",a)),this.providers.add(a),a.on("data",this.onProviderData,this),a.relayedEvents&&(c[a.id]=this.relayEvents(a,a.relayedEvents)),a.isConnected()||a.connect(),a},getProvider:function(a){return a.isProvider?a:this.providers.get(a)},removeProvider:function(a){var b=this.providers,c=this.relayers,d;return(a=a.isProvider?a:b.get(a))?(a.un("data",this.onProviderData,this),d=a.id,c[d]&&(c[d].destroy(),delete c[d]),b.remove(a),a):null},addTransaction:function(a){this.transactions.add(a);
return a},removeTransaction:function(a){a=this.getTransaction(a);this.transactions.remove(a);return a},getTransaction:function(a){return"object"===typeof a?a:this.transactions.get(a)},onProviderData:function(a,b){var c,d;if(Ext.isArray(b)){c=0;for(d=b.length;c<d;++c)this.onProviderData(a,b[c])}else b.name&&"event"!=b.name&&"exception"!=b.name?this.fireEvent(b.name,b):!1===b.status&&this.fireEvent("exception",b),this.fireEvent("event",b,a)},parseMethod:function(a){if(Ext.isString(a)){a=a.split(".");
for(var b=0,c=a.length,d=Ext.global;d&&b<c;)d=d[a[b]],++b;a=Ext.isFunction(d)?d:null}return a||null}},function(){Ext.Direct=Ext.direct.Manager});
Ext.define("Ext.data.proxy.Direct",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:void 0},paramOrderRe:/[\s,|]/,applyParamOrder:function(a){Ext.isString(a)&&(a=a.split(this.paramOrderRe));return a},resolveMethods:function(){var a=this.getDirectFn(),b=this.getApi(),c=Ext.direct.Manager,d;if(a)this.setDirectFn(d=c.parseMethod(a)),Ext.isFunction(d)||Ext.Error.raise("Cannot resolve directFn "+a);
else if(b)for(a in b)b.hasOwnProperty(a)&&(d=b[a],b[a]=c.parseMethod(d),Ext.isFunction(b[a])||Ext.Error.raise("Cannot resolve Direct api "+a+" method "+d));this.methodsResolved=!0},doRequest:function(a){var b=this.getWriter(),c=this.buildRequest(a),d=c.getParams(),e=[],g=c.getAction(),h=this.getApi(),j;this.methodsResolved||this.resolveMethods();h&&(j=h[g]);(j=j||this.getDirectFn())||Ext.Error.raise("No direct function specified for this proxy");b&&a.allowWrite()&&(c=b.write(c));"read"===g?(b=j.directCfg.method,
e=b.getArgs(d,this.getParamOrder(),this.getParamsAsHash())):e.push(c.getJsonData());e.push(this.createRequestCallback(c,a),this);c.setConfig({args:e,directFn:j});j.apply(window,e);return c},applyEncoding:Ext.identityFn,createRequestCallback:function(a,b){var c=this;return function(d,e){c.processResponse(e.status,b,a,e)}},extractResponseData:function(a){return Ext.isDefined(a.result)?a.result:a.data},setException:function(a,b){a.setException(b.message)},buildUrl:function(){return""}});
Ext.define("Ext.data.DirectStore",{extend:Ext.data.Store,alias:"store.direct",constructor:function(a){a=Ext.apply({},a);if(!a.proxy){var b={type:"direct",reader:{type:"json"}};Ext.copyTo(b,a,"paramOrder,paramsAsHash,directFn,api,simpleSortMode");Ext.copyTo(b.reader,a,"totalProperty,root,idProperty");a.proxy=b}this.callParent([a])}});
Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3E4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(a){a=Ext.apply({},a);a.url||Ext.Error.raise("A url must be specified for a JSONP request.");var b=Ext.isDefined(a.disableCaching)?a.disableCaching:this.disableCaching,c=a.disableCachingParam||this.disableCachingParam,d=++this.requestCount,e=a.callbackName||"callback"+d,g=a.callbackKey||this.callbackKey,h=Ext.isDefined(a.timeout)?a.timeout:
this.timeout,j=Ext.apply({},a.params),k=a.url,l=Ext.name;b&&!j[c]&&(j[c]=Ext.Date.now());a.params=j;j[g]=l+".data.JsonP."+e;b=this.createScript(k,j,a);this.requests[d]=a={url:k,params:j,script:b,id:d,scope:a.scope,success:a.success,failure:a.failure,callback:a.callback,callbackKey:g,callbackName:e};0<h&&(a.timeout=Ext.defer(this.handleTimeout,h,this,[a]));this.setupErrorHandling(a);this[e]=Ext.bind(this.handleResponse,this,[a],!0);this.loadScript(a);return a},abort:function(a){var b=this.requests,
c;if(a)a.id||(a=b[a]),this.handleAbort(a);else for(c in b)b.hasOwnProperty(c)&&this.abort(b[c])},setupErrorHandling:function(a){a.script.onerror=Ext.bind(this.handleError,this,[a])},handleAbort:function(a){a.errorType="abort";this.handleResponse(null,a)},handleError:function(a){a.errorType="error";this.handleResponse(null,a)},cleanupErrorHandling:function(a){a.script.onerror=null},handleTimeout:function(a){a.errorType="timeout";this.handleResponse(null,a)},handleResponse:function(a,b){var c=!0,d=
Ext.GlobalEvents;b.timeout&&clearTimeout(b.timeout);delete this[b.callbackName];delete this.requests[b.id];this.cleanupErrorHandling(b);Ext.fly(b.script).destroy();b.errorType?(c=!1,Ext.callback(b.failure,b.scope,[b.errorType])):Ext.callback(b.success,b.scope,[a]);Ext.callback(b.callback,b.scope,[c,a,b.errorType]);d.hasListeners.idle&&d.fireEvent("idle")},createScript:function(a,b){var c=document.createElement("script");c.setAttribute("src",Ext.urlAppend(a,Ext.Object.toQueryString(b)));c.setAttribute("async",
!0);c.setAttribute("type","text/javascript");return c},loadScript:function(a){Ext.getHead().appendChild(a.script)}});
Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(a){var b=this.buildRequest(a),c=b.getParams();b.setConfig({callbackKey:this.callbackKey,timeout:this.timeout,scope:this,disableCaching:!1,callback:this.createRequestCallback(b,a)});this.getAutoAppendParams()&&b.setParams({});b.setRawRequest(Ext.data.JsonP.request(b.getCurrentConfig()));
b.setParams(c);return this.lastRequest=b},createRequestCallback:function(a,b){var c=this;return function(d,e){a===c.lastRequest&&(c.lastRequest=null);c.processResponse(d,b,a,e)}},setException:function(a){a.setException(a.getRequest().getRawRequest().errorType)},buildUrl:function(a){var b=this.callParent(arguments),c=a.getRecords(),d=this.getWriter(),e,g,h,j,k;d&&a.getOperation().allowWrite()&&(a=d.write(a));e=a.getParams();g=e.filters;delete e.filters;if(g&&g.length)for(j=0;j<g.length;j++)h=g[j],
(k=h.getValue())&&(e[h.getProperty()]=k);if(Ext.isArray(c)&&0<c.length&&(!d||!d.getEncode()))e[this.getRecordParam()]=this.encodeRecords(c);this.getAutoAppendParams()&&(b=Ext.urlAppend(b,Ext.Object.toQueryString(e)));return b},abort:function(a){(a=a||this.lastRequest)&&Ext.data.JsonP.abort(a.getRawRequest())},encodeRecords:function(a){for(var b=[],c=0,d=a.length;c<d;c++)b.push(Ext.encode(a[c].getData()));return b}});
Ext.define("Ext.data.JsonPStore",{extend:Ext.data.Store,alias:"store.jsonp",constructor:function(a){a=Ext.apply({proxy:{type:"jsonp",reader:"json"}},a);this.callParent([a])}});Ext.define("Ext.data.JsonStore",{extend:Ext.data.Store,alias:"store.json",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},a);this.callParent([a])}});
Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",singleton:!0,deprecated:{5:{methods:{clear:null,create:function(a,b,c){var d=b;d.isEntity||(d=this.getModel(b||a.name));return d.createWithId(c,a)},each:function(a,b){Ext.data.Model.schema.eachEntity(a,b)},get:function(a){return this.getModel(a)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},isRegistered:function(a){return!!this.getModel(a)}}}}});
Ext.define("Ext.data.NodeInterface",{statics:{decorate:function(a){a=Ext.data.schema.Schema.lookupEntity(a);var b=a.prototype,c;a.prototype.isObservable||a.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable);b.isNode||(b=b.idProperty,b=a.getField(b),c=b.type,a.override(this.getPrototypeBody()),a.addFields([{name:"parentId",type:c,defaultValue:null,allowNull:b.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,
convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",
defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",
defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var a=
{idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0};return{isNode:!0,constructor:function(){this.mixins.observable.constructor.call(this);this.callParent(arguments);this.firstChild=this.lastChild=this.parentNode=this.previousSibling=this.nextSibling=null;this.childNodes=[];return this},createNode:function(a){var c=this.childType,d,e=this.self;if(!a.isModel){if(c)e=this.schema.getEntity(c);
else if(c=(c=this.getTreeStore())&&c.getProxy().getReader(),d=(d=this.getProxy())?d.getReader():null,c=!c||d&&d.initialConfig.typeProperty?d:c)(d=c.getTypeProperty())&&(e=c.getChildType(this.schema,a,d));a=new e(a)}a.childNodes||(a.firstChild=a.lastChild=a.parentNode=a.previousSibling=a.nextSibling=null,a.childNodes=[]);return a},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},updateInfo:function(a,c){var d=this.data.depth,
e={},g=this.childNodes,h=g.length,e=this.phantom,j=this.data,k=this.fields,l=this.modified||(this.modified={}),m,n,p,q,r=c.parentId,s,t;c||Ext.Error.raise("NodeInterface expects update info to be passed");for(m in c)if(p=k[this.fieldOrdinals[m]],n=c[m],t=p&&p.persist,p=j[m],(s=t&&"index"===m&&-1!==p&&r&&r!==l.parentId)||!this.isEqual(p,n))if(j[m]=n,t)if(!s&&l.hasOwnProperty(m)){if(this.isEqual(l[m],n))for(q in delete l[m],this.dirty=!1,l)if(l.hasOwnProperty(q)){this.dirty=!0;break}}else this.dirty=
!0,l[m]=p;a&&(this.commit(),this.phantom=e);if(this.data.depth!==d){e={depth:this.data.depth+1};for(d=0;d<h;d++)g[d].updateInfo(a,e)}},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return this.get("expandable")?!(this.isLeaf()||this.isLoaded()&&!this.phantom&&!this.hasChildNodes()):!1},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(a,
c,d){var e,g,h,j,k={isLast:!0,parentId:this.getId(),depth:(this.data.depth||0)+1};e=this.getTreeStore();Ext.suspendLayouts();if(Ext.isArray(a)){g=a.length;h=Array(g);this.callTreeStore("beginFill");for(e=0;e<g;e++)h[e]=this.appendChild(a[e],c,d);this.callTreeStore("endFill",[h])}else{a=this.createNode(a);if(!0!==c&&!1===this.fireEventArgs("beforeappend",[this,a])||(g=a.parentNode)&&!1===g.removeChild(a,!1,c,g.getTreeStore()===this.getTreeStore()))return!1;e&&e.beginUpdate();h=this.childNodes.length;
0===h&&this.setFirstChild(a);this.childNodes[h]=a;a.parentNode=this;a.nextSibling=null;this.setLastChild(a);(j=this.childNodes[h-1])?(a.previousSibling=j,j.nextSibling=a,j.updateInfo(d,{isLast:!1}),j.triggerUIUpdate()):a.previousSibling=null;k.isFirst=0===h;k.index=h;a.updateInfo(d,k);this.isLeaf()&&this.set("leaf",!1);this.isLoaded()?1===this.childNodes.length&&this.triggerUIUpdate():this.set("loaded",!0);h&&this.childNodes[h-1].isExpanded()&&this.childNodes[h-1].cascadeBy(this.triggerUIUpdate);
!0!==c&&(this.fireEventArgs("append",[this,a,h]),g&&a.fireEventArgs("move",[a,g,this,h]));this.callTreeStore("onNodeAppend",[a,h]);h=a;e&&e.endUpdate()}Ext.resumeLayouts(!0);return h},getOwnerTree:function(){var a=this.getTreeStore();if(a)return a.ownerTree},getTreeStore:function(){for(var a=this;a&&!a.treeStore;)a=a.parentNode;return a&&a.treeStore},removeChild:function(a,c,d,e){var g=this.indexOf(a),h;if(-1===g||!0!==d&&!1===this.fireEventArgs("beforeremove",[this,a,!!e]))return!1;Ext.suspendLayouts();
Ext.Array.erase(this.childNodes,g,1);this.firstChild===a&&this.setFirstChild(a.nextSibling);this.lastChild===a&&this.setLastChild(a.previousSibling);if(h=a.previousSibling)a.previousSibling.nextSibling=a.nextSibling;if(a.nextSibling){a.nextSibling.previousSibling=a.previousSibling;0===g&&a.nextSibling.updateInfo(!1,{isFirst:!0});for(h=this.childNodes.length;g<h;g++)this.childNodes[g].updateInfo(!1,{index:g})}else h&&(h.updateInfo(!1,{isLast:!0}),h.isExpanded()?h.cascadeBy(this.triggerUIUpdate):h.triggerUIUpdate());
this.childNodes.length||this.triggerUIUpdate();Ext.resumeLayouts(!0);!0!==d&&(this.callTreeStore("beforeNodeRemove",[[a],!!e]),a.previousSibling=a.nextSibling=a.parentNode=null,this.fireEventArgs("remove",[this,a,!!e]),this.callTreeStore("onNodeRemove",[[a],!!e]));c?a.erase(!0):a.clear();return a},copy:function(a,c){var d=this.callParent([a,c]),e=this.childNodes?this.childNodes.length:0,g;if(c)for(g=0;g<e;g++)d.appendChild(this.childNodes[g].copy(void 0,!0));return d},clear:function(a){this.parentNode=
this.previousSibling=this.nextSibling=null;a&&(this.firstChild=this.lastChild=null)},drop:function(){var a=this.childNodes,c=this.parentNode,d=a?a.length:0,e;this.callParent();for(e=0;e<d;e++)a[e].drop();c&&c.removeChild(this)},erase:function(a){var c=this.destroyOptions,d=this.childNodes,e=d.length;if(!0===a){this.clear(!0);for(a=0;a<e;a++)d[a].erase(!0);this.childNodes=null;delete this.destroyOptions;this.callParent([c])}else this.destroyOptions=a,this.remove(!0)},insertBefore:function(a,c,d){var e=
this.indexOf(c),g=a.parentNode,h=e,j,k=this.getTreeStore();if(!c)return this.appendChild(a);if(a===c)return!1;a=this.createNode(a);if(!0!==d&&!1===this.fireEventArgs("beforeinsert",[this,a,c]))return!1;g===this&&this.indexOf(a)<e&&h--;if(g&&!1===g.removeChild(a,!1,d,g.getTreeStore()===this.getTreeStore()))return!1;k&&k.beginUpdate();0===h&&this.setFirstChild(a);Ext.Array.splice(this.childNodes,h,0,a);a.parentNode=this;a.nextSibling=c;c.previousSibling=a;(e=this.childNodes[h-1])?(a.previousSibling=
e,e.nextSibling=a):a.previousSibling=null;a.updateInfo(!1,{parentId:this.getId(),index:h,isFirst:0===h,isLast:!1,depth:(this.data.depth||0)+1});j=h+1;for(e=this.childNodes.length;j<e;j++)this.childNodes[j].updateInfo(!1,{index:j});this.isLoaded()?1===this.childNodes.length&&this.triggerUIUpdate():this.set("loaded",!0);!0!==d&&(this.fireEventArgs("insert",[this,a,c]),g&&a.fireEventArgs("move",[a,g,this,h,c]));this.callTreeStore("onNodeInsert",[a,h]);k&&k.endUpdate();return a},insertChild:function(a,
c){var d=this.childNodes[a];return d?this.insertBefore(c,d):this.appendChild(c)},isLastVisible:function(){var a=this.data.isLast,c=this.nextSibling;if(!a&&this.getTreeStore().isFiltered()){for(;c;){if(c.data.visible)return!1;c=c.nextSibling}return!0}return a},remove:function(a,c){var d=this.parentNode;d?d.removeChild(this,a,c):a&&this.erase(!0);return this},removeAll:function(a,c,d){var e=this.childNodes,g=0,h=e.length,j;if(h){for(d||this.callTreeStore("beforeNodeRemove",[e,!1]);g<h;++g)j=e[g],j.previousSibling=
j.nextSibling=j.parentNode=null,this.fireEventArgs("remove",[this,j,!1]),a?j.erase(!0):j.removeAll(!1,c,!0);d||this.callTreeStore("onNodeRemove",[e,!1]);this.firstChild=this.lastChild=null;this.childNodes.length=0;d||this.triggerUIUpdate();return this}},getChildAt:function(a){return this.childNodes[a]},replaceChild:function(a,c,d){var e=c?c.nextSibling:null;this.removeChild(c,!1,d);this.insertBefore(a,e,d);return c},indexOf:function(a){return Ext.Array.indexOf(this.childNodes,a)},indexOfId:function(a){for(var c=
this.childNodes,d=c.length,e=0;e<d;++e)if(c[e].getId()===a)return e;return-1},getPath:function(a,c){a=a||this.idProperty;c=c||"/";for(var d=[this.get(a)],e=this.parentNode;e;)d.unshift(e.get(a)),e=e.parentNode;return c+d.join(c)},getDepth:function(){return this.get("depth")},bubble:function(a,c,d){for(var e=this;e&&!1!==a.apply(c||e,d||[e]);)e=e.parentNode},cascade:function(){Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.Node: cascade has been deprecated. Please use cascadeBy instead.");
return this.cascadeBy.apply(this,arguments)},cascadeBy:function(a,c,d,e){1===arguments.length&&!Ext.isFunction(a)&&(e=a.after,c=a.scope,d=a.args,a=a.before);if(!a||!1!==a.apply(c||this,d||[this])){var g=this.childNodes,h=g.length,j;for(j=0;j<h;j++)g[j].cascadeBy.call(g[j],a,c,d,e);e&&e.apply(c||this,d||[this])}},eachChild:function(a,c,d){var e=this.childNodes,g=e.length,h;for(h=0;h<g&&!1!==a.apply(c||this,d||[e[h]]);h++);},findChild:function(a,c,d){return this.findChildBy(function(){return this.get(a)==
c},null,d)},findChildBy:function(a,c,d){for(var e=this.childNodes,g=e.length,h=0,j;h<g;h++)if(j=e[h],!0===a.call(c||j,j)||d&&(j=j.findChildBy(a,c,d),null!==j))return j;return null},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){for(var c=this.parentNode;c;){if(c===a)return!0;c=c.parentNode}return!1},sort:function(a,c,d){var e=this.childNodes,g=e.length,h,j,k={isFirst:!0};if(0<g){a||(a=this.getTreeStore().getSortFn());Ext.Array.sort(e,a);this.setFirstChild(e[0]);this.setLastChild(e[g-
1]);for(h=0;h<g;h++)j=e[h],j.previousSibling=e[h-1],j.nextSibling=e[h+1],k.isLast=h===g-1,k.index=h,j.updateInfo(!1,k),k.isFirst=!1,c&&!j.isLeaf()&&j.sort(a,!0,!0);!0!==d&&(this.fireEventArgs("sort",[this,e]),this.callTreeStore("onNodeSort",[e]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var a=this.parentNode;a;){if(!a.isExpanded())return!1;
a=a.parentNode}return!0},expand:function(a,c,d){var e=this;if(e.isLeaf())Ext.callback(c,d||e);else if(e.isLoading())e.on("expand",function(){e.expand(a,c,d)},e,{single:!0});else e.isExpanded()?a?e.expandChildren(!0,c,d):Ext.callback(c,d||e,[e.childNodes]):!1!==e.fireEventArgs("beforeexpand",[e])&&e.callTreeStore("onBeforeNodeExpand",[e.onChildNodesAvailable,e,[a,c,d]])},onChildNodesAvailable:function(a,c,d,e){Ext.suspendLayouts();this.set("expanded",!0);this.callTreeStore("onNodeExpand",[a,!1]);this.fireEventArgs("expand",
[this,a]);c?this.expandChildren(!0,d,e):Ext.callback(d,e||this,[this.childNodes]);Ext.resumeLayouts(!0)},expandChildren:function(a,c,d,e){var g,h,j,k;Ext.isBoolean(c)&&(g=c,c=d,d=e,e=g);void 0===e&&(e=(g=this.getTreeStore())&&g.singleExpand);g=this.childNodes;h=[];j=e?Math.min(g.length,1):g.length;for(e=0;e<j;++e)k=g[e],k.isLeaf()||(h[h.length]=k);j=h.length;for(e=0;e<j;++e)h[e].expand(a);c&&Ext.callback(c,d||this,[this.childNodes])},collapse:function(a,c,d){var e=this,g=e.isExpanded(),h=e.childNodes.length,
j;if(!e.isLeaf()&&(!g&&a||!1!==e.fireEventArgs("beforecollapse",[e]))){Ext.suspendLayouts();if(e.isExpanded())a?(a=function(){for(j=0;j<h;j++)e.childNodes[j].setCollapsed(!0)},c=c?Ext.Function.createSequence(a,Ext.Function.bind(c,d,[e.childNodes])):a):c&&(c=Ext.Function.bind(c,d,[e.childNodes])),e.set("expanded",!1),e.callTreeStore("onNodeCollapse",[e.childNodes,c,d]),e.fireEventArgs("collapse",[e,e.childNodes]),c=null;else if(a)for(j=0;j<h;j++)e.childNodes[j].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(c,
d||e,[e.childNodes])},setCollapsed:function(a){var c=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireEventArgs("beforecollapse",[this])&&(this.data.expanded=!1,this.fireEventArgs("collapse",[this,this.childNodes]),a))for(a=0;a<c;a++)this.childNodes[a].setCollapsed(!0)},collapseChildren:function(a,c,d){var e,g=this.childNodes,h=g.length,j=[],k;for(e=0;e<h;++e)k=g[e],!k.isLeaf()&&(k.isLoaded()&&k.isExpanded())&&j.push(k);if(h=j.length)for(e=0;e<h;++e)k=j[e],e===h-1?k.collapse(a,c,d):k.collapse(a);
else Ext.callback(c,d)},fireEvent:function(a){return this.fireEventArgs(a,Ext.Array.slice(arguments,1))},fireEventArgs:function(b,c){var d=Ext.mixin.Observable.prototype.fireEventArgs,e,g,h;if(a[b]){for(g=this;!1!==e&&g;g=(h=g).parentNode)g.hasListeners&&g.hasListeners[b]&&(e=d.call(g,b,c));if(!1!==e&&(g=h.getTreeStore())&&g.hasListeners&&g.hasListeners[b="node"+b])e=g.fireEventArgs(b,c);return e}return d.apply(this,arguments)},serialize:function(){var a=Ext.data.writer.Json.prototype.getRecordData(this),
c=this.childNodes,d=c.length,e,g;if(0<d){e=[];for(g=0;g<d;g++)e.push(c[g].serialize());a.children=e}return a},callTreeStore:function(a,c){var d=this.getTreeStore(),e=d&&d[a];d&&e&&((c||(c=[])).unshift(this),e.apply(d,c))},privates:{join:function(a){a.isTreeStore?this.isRoot()&&(this.treeStore=this.store=a):this.callParent([a])},callJoined:function(a,c){this.callParent([a,c]);this.callTreeStore(a,c)}}}}}});
Ext.define("Ext.data.NodeStore",{extend:Ext.data.Store,alias:"store.node",isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},isExpandingOrCollapsing:0,getTotalCount:function(){return this.getCount()},afterEdit:function(a,b){if(this.getNode()&&b){if(-1!==b.indexOf("loaded"))return this.add(this.retrieveChildNodes(a));if(-1!==b.indexOf("expanded"))return this.filter();if(-1!==b.indexOf("sorted"))return this.sort()}this.callParent(arguments)},afterReject:function(a){this.contains(a)&&
(this.onUpdate(a,Ext.data.Model.REJECT,null),this.fireEvent("update",this,a,Ext.data.Model.REJECT,null))},afterCommit:function(a,b){b||(b=null);this.contains(a)&&(this.onUpdate(a,Ext.data.Model.COMMIT,b),this.fireEvent("update",this,a,Ext.data.Model.COMMIT,b))},onNodeAppend:function(a,b){this.add([b].concat(this.retrieveChildNodes(b)))},onNodeInsert:function(a,b){this.add([b].concat(this.retrieveChildNodes(b)))},onNodeRemove:function(a,b){this.remove([b].concat(this.retrieveChildNodes(b)))},onNodeExpand:function(a,
b){this.loadRecords(b)},applyNode:function(a){a&&Ext.data.NodeInterface.decorate(a);return a},updateNode:function(a,b){var c;b&&!b.isDestroyed&&(b.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad",scope:this}),b.unjoin(this));a&&(a.on({scope:this,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",load:"onNodeLoad"}),a.join(this),c=[],a.childNodes.length&&(c=c.concat(this.retrieveChildNodes(a))),this.getRootVisible()?c.push(a):(a.isLoaded()||a.isLoading())&&
a.set("expanded",!0),this.getData().clear(),this.fireEvent("clear",this),this.suspendEvents(),this.add(c),this.resumeEvents(),0===c.length&&(this.loaded=a.loaded=!0),this.fireEvent("refresh",this,this.data))},retrieveChildNodes:function(a){var b=this.getNode(),c=this.getRecursive(),d=[],e=a;if(!a.childNodes.length||!c&&a!==b)return d;if(!c)return a.childNodes;for(;e;)if(e._added)if(delete e._added,e===a)break;else e=e.nextSibling||e.parentNode;else e!==a&&d.push(e),e.firstChild?(e._added=!0,e=e.firstChild):
e=e.nextSibling||e.parentNode;return d},isVisible:function(a){a=a.parentNode;if(!this.getRecursive()&&a!==this.getNode())return!1;for(;a;){if(!a.isExpanded())return!1;if(a===this.getNode())break;a=a.parentNode}return!0}});
Ext.define("Ext.data.Request",{config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3E4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(a){this.initConfig(a)},getParam:function(a){var b=this.getParams();if(b)return b[a]},setParam:function(a,b){var c=this.getParams()||
{};c[a]=b;this.setParams(c)}});
Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,register:function(){for(var a=0,b;b=arguments[a];a++)this.add(b)},unregister:function(){for(var a=0,b;b=arguments[a];a++)this.remove(this.lookup(b))},lookup:function(a){if(Ext.isArray(a)){var b=["field1"],c=!Ext.isArray(a[0]),d=a,e,g;if(c){d=[];e=0;for(g=a.length;e<g;++e)d.push([a[e]])}else{e=2;for(g=a[0].length;e<=g;++e)b.push("field"+e)}return new Ext.data.ArrayStore({data:d,
fields:b,autoDestroy:!0,autoCreated:!0,expanded:c})}return Ext.isString(a)?this.get(a):Ext.Factory.store(a)},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(a,c){var d;if(Ext.isObject(a))c=a;else{if(Ext.data.StoreManager.containsKey(a))return Ext.data.StoreManager.lookup(a);c.storeId=a}d=c instanceof Ext.data.Store?c:new Ext.data.Store(c);Ext.data.StoreManager.register(d);return d};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)};var a=Ext.regStore("ext-empty-store",
{proxy:"memory",useModelWarning:!1});a.isEmptyStore=!0;a.add=a.remove=a.insert=a.load=a.loadData=function(){Ext.Error.raise("Cannot modify ext-empty-store")}});
Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(a){return Ext.ComponentQuery.query(a||"*",this.getQueryRoot())},queryBy:function(a,b){for(var c=[],d=this.getQueryRoot().getRefItems(!0),e=0,g=d.length,h;e<g;++e)h=d[e],!1!==a.call(b||h,h)&&c.push(h);return c},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(a){var b=this.getQueryRoot().getRefItems();if(a&&a.isComponent)return this.matchById(b,a.getItemId());a&&(b=Ext.ComponentQuery.query(a,
b));return b.length?b[0]:null},down:function(a){return a&&a.isComponent?this.matchById(this.getRefItems(!0),a.getItemId()):this.query(a||"")[0]||null},visitPreOrder:function(a,b,c,d){Ext.ComponentQuery._visit(!0,a,this.getQueryRoot(),b,c,d)},visitPostOrder:function(a,b,c,d){Ext.ComponentQuery._visit(!1,a,this.getQueryRoot(),b,c,d)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(a,b){var c=a.length,d,e;for(d=0;d<c;++d)if(e=a[d],e.getItemId()===b)return e;
return null}}});Ext.define("Ext.data.TreeModel",{extend:Ext.data.Model,mixins:[Ext.mixin.Queryable],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode}},function(){Ext.data.NodeInterface.decorate(this)});
Ext.define("Ext.data.TreeStore",{extend:Ext.data.NodeStore,alias:"store.tree",isTreeStore:!0,config:{root:null,rootVisible:!1,recursive:!0,defaultRootProperty:"children",parentIdProperty:null},clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",fillCount:0,folderSort:!1,constructor:function(a){this.byIdMap={};this.byInternalIdMap={};this.callParent([a]);Ext.isDefined(this.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),
this.nodeParam=this.nodeParameter,delete this.nodeParameter)},applyFields:function(a){a&&(this.defaultRootProperty!==this.self.prototype.config.defaultRootProperty&&(a=a.concat({name:this.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),this.setModel(Ext.define(null,{extend:"Ext.data.TreeModel",fields:a,proxy:this.getProxy()})),this.implicitModel=!0)},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange(),c=a.getRoot();c&&b.length?a.getRemoteSort()?a.attemptLoad({callback:function(){a.fireEvent("sort",
a,b)}}):(c.sort(this.getSortFn(),!0),a.fireEvent("datachanged",a),a.fireEvent("refresh",a),a.fireEvent("sort",a,b)):a.fireEvent("sort",a,b)},updateRemoteFilter:function(){var a=this.getData(),b=this.getFilters();a.setFilters(null);b.on("endupdate",this.onFilterEndUpdate,this)},updateRemoteSort:function(){var a=this.getData(),b=this.getSorters();a.setSorters(null);b.on("endupdate",this.onSorterEndUpdate,this)},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var a=
this.sorters.getSortFn(),b=a;this.getFolderSort()&&(b=function(b,d){var e=b.get("leaf")?1:0,g=d.get("leaf")?1:0;return e-g||a(b,d)});return b},updateRootVisible:function(a){var b=this.getRoot(),c;b&&(c=this.getData(),a?c.insert(0,b):c.remove(b))},updateTrackRemoved:function(a){this.callParent(arguments);this.removedNodes=this.removed;this.removed=null},getRemovedRecords:function(){return this.removedNodes},onDestroyRecords:function(a,b,c){c&&(this.removedNodes.length=0)},applyProxy:function(a){var b;
this.changingProxy=!0;a=this.callParent(arguments);a.setIdParam&&a.setIdParam(this.nodeParam);Ext.isEmpty(a.getReader().getRootProperty())&&(b=a.getReader(),b.setRootProperty(this.defaultRootProperty),b.buildExtractors(!0));this.changingProxy=!1;return a},applyModel:function(a){return this.callParent(arguments)||Ext.data.TreeModel},updateModel:function(a){var b=a.prototype.isNode;Ext.data.NodeInterface.decorate(a);!b&&!this.changingProxy&&this.getProxy().getReader().buildExtractors(!0)},onFilterEndUpdate:function(a){var b,
c=a.length,d=a.getFilterFn(),e=this.getRoot(),g;if(c){g=[];e.cascadeBy({after:function(a){a.set("visible",d(a))}});b=0;for(c=e.childNodes.length;b<c;b++)e.childNodes[b].get("visible")&&g.push(e.childNodes[b])}else g=e.childNodes;this.onNodeFilter(e,g);e.fireEvent("filterchange",e,g);this.fireEvent("filterchange",this,a);this.callParent([a])},clearFilter:function(){var a=this.getRoot();this.callParent();this.filterFn=null;a.cascadeBy(function(a){a.set("visible",!0)});this.onNodeFilter(a,a.childNodes);
a.fireEvent("filterchange",a,a.childNodes);this.fireEvent("filterchange",this,[])},onNodeFilter:function(a,b){var c=this.getData(),d=[];this.handleNodeExpand(a,b,d);this.suspendEvents();c.splice(0,c.getCount(),d);this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},onBeforeNodeExpand:function(a,b,c,d){var e=this,g,h,j,k;if(a.isLoaded())j=[a.childNodes],d&&j.push.apply(j,d),Ext.callback(b,c||a,j);else if(a.isLoading())e.on("load",function(){j=[a.childNodes];d&&j.push.apply(j,
d);Ext.callback(b,c||a,j)},e,{single:!0,priority:1001});else g=e.getProxy().getReader(),g=(h=(h=a.getProxy())?h.getReader():null)&&h.initialConfig.rootProperty?h:g,(h=g.getRoot(a.raw||a.data))||a.phantom?(k=a.childType,h&&e.fillNode(a,g.extractData(h,k?{model:k}:void 0)),j=[a.childNodes],d&&j.push.apply(j,d),Ext.callback(b,c||a,j)):e.read({node:a,onChildNodesAvailable:function(){delete e.lastOptions.onChildNodesAvailable;j=[a.childNodes];d&&j.push.apply(j,d);Ext.callback(b,c||a,j)}})},onNodeExpand:function(a,
b){var c=this.indexOf(a)+1,d=[];this.handleNodeExpand(a,b,d);!this.refreshCounter&&a.isRoot()&&!a.get("visible")?this.loadRecords(d):this.insert(c,d)},handleNodeExpand:function(a,b,c){var d=b?b.length:0,e;if((a===this.getRoot()||this.isVisible(a))&&d)for(a=0;a<d;a++)e=b[a],e.get("visible")&&(c.push(e),e.isExpanded()&&(e.isLoaded()?this.handleNodeExpand(e,e.childNodes,c):(e.set("expanded",!1),e.expand())))},onNodeCollapse:function(a,b,c,d){var e=this.indexOf(a)+1;if(this.recursive||a===this.getRoot())!this.remoteFilter&&
this.getFilters().getCount()&&(b=Ext.Array.filter(b,this.filterVisible)),b.length&&this.data.contains(b[0])&&(a=this.indexOfNextVisibleNode(a),this.removeAt(e,a-e)),Ext.callback(c,d)},indexOfNextVisibleNode:function(a){for(var b;a.parentNode;){for(b=a.nextSibling;b&&!b.get("visible");b=b.nextSibling);if(b)return this.indexOf(b);a=a.parentNode}return this.getCount()},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),
this.filterUpdated)},beforeNodeRemove:function(a,b){Ext.isArray(b)||(b=[b]);var c=b.length,d,e;for(d=0;!e&&d<c;d++)b[d].get("visible")&&(e=b[d]);e?(this.startRemoveIndex=this.indexOf(b[0]),this.lastRemoveIndexPlusOne=this.indexOfNextVisibleNode(b[b.length-1])):(this.startRemoveIndex=-1,this.lastRemoveIndexPlusOne=0)},onNodeRemove:function(a,b,c){var d=this,e=d.removedNodes;a=b.length;var g=d.startRemoveIndex,h=d.lastRemoveIndexPlusOne;-1!==g&&(d.removeIsMove=c,d.removeAt(g,h-g),d.removeIsMove=!1);
for(g=0;g<a;g++)b[g].cascadeBy(function(a){e&&(!c&&!a.phantom&&!d.loading)&&(a.removedFrom=d.indexOf(a),e.push(a));d.unregisterNode(a)})},onNodeAppend:function(a,b,c){this.onNodeInsert(a,b,c)},onNodeInsert:function(a,b,c){var d=b.raw||b.data,e;this.filterFn&&(e=this.filterFn(b),b.set("visible",e),e&&a.set("visible",this.filterFn(a)));this.registerNode(b,!0);this.beginUpdate();if(this.isVisible(b)){if(0!==c&&b.previousSibling){for(a=b.previousSibling;a&&!a.get("visible");a=a.previousSibling);for(;a.isExpanded()&&
a.lastChild;)a=a.lastChild}this.insert(this.indexOf(a)+1,b);if(!b.isLeaf()&&b.isExpanded())if(b.isLoaded())this.onNodeExpand(b,b.childNodes);else this.fillCount||(b.set("expanded",!1),b.expand())}else this.needsSync=this.needsSync||b.phantom||b.dirty;if(!b.isLeaf()&&(!b.isLoaded()&&!this.lazyFill)&&(a=this.getProxy().getReader(),a=(c=(c=b.getProxy())?c.getReader():null)&&c.initialConfig.rootProperty?c:a,d=a.getRoot(d)))c=b.childType,this.fillNode(b,a.extractData(d,c?{model:c}:void 0));this.endUpdate()},
registerNode:function(a,b){var c,d,e;this.byIdMap[a.id]=a;this.byInternalIdMap[a.internalId]=a;if(!0===b){c=a.childNodes;d=c.length;for(e=0;e<d;e++)this.registerNode(c[e],!0)}},unregisterNode:function(a,b){var c,d,e;delete this.byIdMap[a.id];delete this.byInternalIdMap[a.internalId];if(!0===b){c=a.childNodes;d=c.length;for(e=0;e<d;e++)this.unregisterNode(c[e],!0)}},onNodeSort:function(a,b){this.suspendAutoSync();if(-1!==this.indexOf(a)||a===this.getRoot()&&!this.rootVisible&&a.isExpanded())Ext.suspendLayouts(),
this.onNodeCollapse(a,b),this.onNodeExpand(a,b),Ext.resumeLayouts(!0);this.resumeAutoSync(this.autoSync)},applyRoot:function(a){var b=this.getModel(),c=b.prototype.idProperty;a&&!a.isNode&&(a=Ext.apply({text:this.defaultRootText,root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},a),this.defaultRootId&&void 0===a[c]&&(a[c]=this.defaultRootId),a=new b(a),a.store=a.treeStore=this);return a},updateRoot:function(a,b){var c=this,d;c.byIdMap={};c.byInternalIdMap={};c.getTrackRemoved();
c.suspendEvents();c.getData().clear();if(a)if(!1===a.fireEventArgs("beforeappend",[null,a]))a=null;else{if(d=a.parentNode){if(!d.removeChild(a,!1,!1,d.getTreeStore()===c))return}else(d=a.getTreeStore())&&(d!==c&&a===d.getRoot())&&d.setRoot(null);a.set("root",!0);a.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null});a.fireEvent("append",null,a,!1);a.fireEvent("rootchange",a);c.onNodeAppend(null,a,0)}c.fireEvent("rootchange",a,b);b&&b.isModel&&(b.set("root",!1),c.remove(b),b.fireEvent("remove",
null,b,!1),b.fireEvent("rootchange",null),b.store=b.treeStore=null);c.resumeEvents();if(a&&(c.autoLoad||a.isExpanded()))a.isLoaded()?(c.onNodeExpand(a,a.childNodes),c.fireEvent("datachanged",c),c.fireEvent("refresh",c)):(a.data.expanded=!1,a.expand(!1,function(){c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}));return a},getNodeById:function(a){return this.byIdMap[a]||null},load:function(a){a=a||{};a.params=a.params||{};var b=this,c=a.node||b.getRoot(),d=b.getProxy(),e=a.callback,g=a.scope;
if(c)return c.data.expanded&&(c.data.loaded=!1,b.clearOnLoad&&(c.data.expanded=!1),a.callback=function(){b.clearOnLoad||c.collapse();c.expand();Ext.callback(e,g,arguments)}),a.id=c.getId(),a=Ext.apply({filters:b.getFilters().items,sorters:b.getSorters().items,node:a.node||c,internalScope:b,internalCallback:b.onProxyLoad},a),b.lastOptions=Ext.apply({},a),a=d.createOperation("read",a),!1!==b.fireEvent("beforeload",b,a)&&(b.loading=!0,b.clearOnLoad&&(b.clearRemovedOnLoad&&b.clearRemoved(c),c.removeAll(!1)),
a.execute()),b.loading&&c&&c.set("loading",!0),b;b.setRoot({expanded:!0})},clearRemoved:function(a){var b=this.removedNodes,c=a.getId(),d=b.length,e=d,g={},h=[],j={},k,l;if(a===this.getRoot())this.removedNodes=[];else{for(;e--;)a=b[e],j[a.getId()]=a;for(e=d;e--;){for(k=a=b[e];k&&k.getId()!==c;)l=k.get("parentId"),k=k.parentNode||this.getNodeById(l)||j[l];k&&(g[a.getId()]=a)}for(e=0;e<d;e++)a=b[e],g[a.getId()]||h.push(a);this.removedNodes=h}},fillNode:function(a,b){var c=b?b.length:0,d=this.getSorters(),
e,g=!1,h=this.sortOnLoad&&1<c&&!this.remoteSort&&d&&d.items&&d.items.length,j;if(c){!this.remoteFilter&&this.getFilters().getCount()&&b[0].set("visible",this.filterFn(b[0]));for(e=1;!g&&e<c;e++)g=b[e],j=b[e-1],this.filterFn&&g.set("visible",this.filterFn(g)),g=g.data.index!==j.data.index;h?(g&&(this.indexSorter=d.insert(0,this.indexSorter)),Ext.Array.sort(b,d.getSortFn()),g&&d.remove(this.indexSorter)):g&&Ext.Array.sort(b,this.sortByIndex)}a.set("loaded",!0);b.length&&a.appendChild(b,void 0,!0);return b},
beginFill:function(){this.fillCount++||(this.beginUpdate(),this.suspendEvent("add","update"),this.suspendAutoSync(),this.fillArray=[])},endFill:function(a,b){var c,d,e;this.fillArray.push(b);if(!--this.fillCount){this.resumeAutoSync();this.resumeEvent("add","update");c=0;for(d=this.fillArray.length;c<d;c++)e=this.indexOf(this.fillArray[c][0]),-1!==e&&this.fireEvent("add",this,this.fillArray[c],e);this.fillArray=null;this.endUpdate()}},sortByIndex:function(a,b){return a.data.index-b.data.index},onIdChanged:function(a,
b,c){var d=a.childNodes,e=d&&d.length,g;this.callParent(arguments);delete this.byIdMap[b];this.byIdMap[c]=a;for(g=0;g<e;g++)d[g].set("parentId",c)},onProxyLoad:function(a){var b=a.initialConfig,c=a.wasSuccessful(),d=a.getRecords(),e=b.node,g=a.getScope()||this,h=[d,a,c];this.isDestroyed||(this.loading=!1,e.set("loading",!1),c&&(this.clearOnLoad||(d=this.cleanRecords(e,d)),this.parentIdProperty&&(d=this.treeify(e,d)),d=this.fillNode(e,d)),Ext.callback(b.onChildNodesAvailable,g,h),this.fireEvent("load",
this,d,c,a,e))},treeify:function(a,b){var c=a.getId(),d=b.length,e,g,h,j=[],k={};for(e=0;e<d;e++)g=b[e],k[g.getId()]=g;for(e=0;e<d;e++)g=b[e],h=g.data[this.parentIdProperty],!h||h===c?j.push(g):k[h].appendChild(g);return j},cleanRecords:function(a,b){for(var c={},d=a.childNodes,e=0,g=d.length,h=[];e<g;++e)c[d[e].getId()]=!0;e=0;for(g=b.length;e<g;++e)d=b[e],c[d.getId()]||h.push(d);return h},removeAll:function(){this.suspendEvents();this.setRoot(null);this.resumeEvents();this.callParent()},doSort:function(a){this.remoteSort?
this.load():(this.tree.sort(a,!0),this.fireEvent("datachanged",this),this.fireEvent("refresh",this));this.fireEvent("sort",this,this.sorters.getRange())},filterVisible:function(a){return a.get("visible")},isVisible:function(a){for(var b=a.parentNode,c=a.data.visible,d=this.getRoot();c&&b;)c=b.data.expanded&&b.data.visible,b=b.parentNode;return c&&!(a===d&&!this.rootVisible)},getRootNode:function(){return this.getRoot()},setRootNode:function(a){this.setRoot(a);return this.getRoot()},deprecated:{5:{properties:{tree:null}}}},
function(){var a=this.prototype;a.indexSorter=new Ext.util.Sorter({sorterFn:a.sortByIndex})});
Ext.define("Ext.data.Types",{singleton:!0},function(a){var b=Ext.data.SortTypes;Ext.apply(a,{stripRe:/[\$,%]/g,AUTO:{sortType:b.none,type:"auto"},STRING:{convert:function(a){var b=this.getAllowNull()?null:"";return void 0===a||null===a?b:String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(b){return"number"==typeof b?parseInt(b):void 0!==b&&null!==b&&""!==b?parseInt(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"int"},FLOAT:{convert:function(b){return"number"===
typeof b?b:void 0!==b&&null!==b&&""!==b?parseFloat(String(b).replace(a.stripRe,""),10):this.getAllowNull()?null:0},sortType:b.none,type:"float"},BOOL:{convert:function(a){return"boolean"===typeof a?a:this.getAllowNull()&&(void 0===a||null===a||""===a)?null:"true"===a||1==a},sortType:b.none,type:"bool"},DATE:{convert:function(a){var b=this.getDateReadFormat()||this.getDateFormat();return!a?null:a instanceof Date?a:b?Ext.Date.parse(a,b):(a=Date.parse(a))?new Date(a):null},sortType:b.asDate,type:"date"}});
a.BOOLEAN=a.BOOL;a.INTEGER=a.INT;a.NUMBER=a.FLOAT});
Ext.define("Ext.data.Validation",{extend:Ext.data.Model,isValidation:!0,syncGeneration:0,attach:function(a){this.record=a;delete this.data.id},getValidation:function(){return null},isValid:function(){this.syncGeneration!==this.record.generation&&this.refresh();return this.dirty},refresh:function(a){var b=this.data,c=this.record,d=c.fields,e=c.generation,g=c.data,c=c.validationSeparator,h=null,j,k,l,m,n,p;if(a||this.syncGeneration!==e){this.syncGeneration=e;l=0;for(m=d.length;l<m;++l)k=d[l],p=k.name,
n=g[p],a=k.defaultInvalidMessage,e=0,p in b?j=b[p]:b[p]=j=!0,k.validate!==Ext.emptyFn&&(k=k.validate(n,c),!0!==k&&(e=k||a)),e||(e=!0),e!==j&&((h||(h={}))[p]=e);h&&this.set(h)}}});
Ext.define("Ext.dom.Helper",function(){var a=["BeforeBegin","previousSibling"],b=["AfterEnd","nextSibling"],c={beforebegin:a,afterend:b},d={beforebegin:a,afterend:b,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]},e=function(a,b,c){return b+"-"+c.toLowerCase()},g=/([a-z])([A-Z])/g,h={};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,
endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(a){return h[a]||(h[a]=a.replace(g,e))},generateMarkup:function(a,b){var c=typeof a,d,e;if("string"===c||"number"===c)b.push(a);else if(Ext.isArray(a))for(d=0;d<a.length;d++)a[d]&&this.generateMarkup(a[d],b);else{c=a.tag||"div";b.push("\x3c",c);for(d in a)a.hasOwnProperty(d)&&(e=a[d],void 0!==e&&!this.confRe.test(d)&&("object"===typeof e?(b.push(" ",d,'\x3d"'),
this.generateStyles(e,b,!0).push('"')):b.push(" ",this.attributeTransform[d]||d,'\x3d"',e,'"')));this.emptyTags.test(c)?b.push("/\x3e"):(b.push("\x3e"),(e=a.tpl)&&e.applyOut(a.tplData,b),(e=a.html)&&b.push(e),(e=a.cn||a.children)&&this.generateMarkup(e,b),d=this.closeTags,b.push(d[c]||(d[c]="\x3c/"+c+"\x3e")))}return b},generateStyles:function(a,b,c){var d=b||[],e,g;for(e in a)a.hasOwnProperty(e)&&(g=a[e],e=this.decamelizeName(e),c&&Ext.String.hasHtmlCharacters(g)&&(g=Ext.String.htmlEncode(g)),d.push(e,
":",g,";"));return b||d.join("")},markup:function(a){return"string"===typeof a?a:this.generateMarkup(a,[]).join("")},applyStyles:function(a,b){Ext.fly(a).applyStyles(b)},createContextualFragment:function(a){var b=this.detachedDiv,c=document.createDocumentFragment();b.innerHTML=a;b=b.childNodes;for(a=b.length;a--;)c.appendChild(b[0]);return c},createDom:function(a){a=this.markup(a);var b=this.detachedDiv;b.innerHTML=a;return b.firstChild},insertHtml:function(a,b,e){var g,h,p,q;a=a.toLowerCase();if(b.insertAdjacentHTML){if(this.ieInsertHtml&&
(q=this.ieInsertHtml(a,b,e)))return q;if(g=d[a])return b.insertAdjacentHTML(g[0],e),b[g[1]]}else{3===b.nodeType&&(a="afterbegin"===a?"beforebegin":a,a="beforeend"===a?"afterend":a);g=Ext.supports.CreateContextualFragment?b.ownerDocument.createRange():void 0;p="setStart"+(this.endRe.test(a)?"After":"Before");if(c[a])return g?(g[p](b),q=g.createContextualFragment(e)):q=this.createContextualFragment(e),b.parentNode.insertBefore(q,"beforebegin"===a?b:b.nextSibling),b[("beforebegin"===a?"previous":"next")+
"Sibling"];h=("afterbegin"===a?"first":"last")+"Child";if(b.firstChild){if(g)try{g[p](b[h]),q=g.createContextualFragment(e)}catch(r){q=this.createContextualFragment(e)}else q=this.createContextualFragment(e);"afterbegin"===a?b.insertBefore(q,b.firstChild):b.appendChild(q)}else b.innerHTML=e;return b[h]}Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:e,targetElement:b,msg:'Illegal insertion point reached: "'+a+'"'})},insertBefore:function(a,b,c){return this.doInsert(a,
b,c,"beforebegin")},insertAfter:function(a,b,c){return this.doInsert(a,b,c,"afterend")},insertFirst:function(a,b,c){return this.doInsert(a,b,c,"afterbegin")},append:function(a,b,c){return this.doInsert(a,b,c,"beforeend")},overwrite:function(a,b,c){var d;a=Ext.getDom(a);b=this.markup(b);this.ieOverwrite&&(d=this.ieOverwrite(a,b));d||(a.innerHTML=b,d=a.firstChild);return c?Ext.get(d):d},doInsert:function(a,b,d,e){a=a.dom||Ext.getDom(a);"innerHTML"in a?b=this.insertHtml(e,a,this.markup(b)):(b=this.createDom(b,
null),3===a.nodeType&&(e="afterbegin"===e?"beforebegin":e,e="beforeend"===e?"afterend":e),c[e]?a.parentNode.insertBefore(b,"beforebegin"===e?a:a.nextSibling):a.firstChild&&"afterbegin"===e?a.insertBefore(b,a.firstChild):a.appendChild(b));return d?Ext.get(b):b},createTemplate:function(a){a=this.markup(a);return new Ext.Template(a)},createHtml:function(a){return this.markup(a)}}});
Ext.define("Ext.overrides.dom.Helper",function(){var a=/^(?:table|thead|tbody|tr|td)$/i,b=/td|tr|tbody|thead/i;return{override:"Ext.dom.Helper",ieInsertHtml:function(b,d,e){var g=null;Ext.isIE9m&&a.test(d.tagName)&&(g=this.insertIntoTable(d.tagName.toLowerCase(),b,d,e));return g},ieOverwrite:function(b,d){if(Ext.isIE9m&&a.test(b.tagName)){for(;b.firstChild;)b.removeChild(b.firstChild);if(d)return this.insertHtml("afterbegin",b,d)}},ieTable:function(a,b,e,g){var h=-1,j=this.detachedDiv;for(j.innerHTML=
[b,e,g].join("");++h<a;)j=j.firstChild;if(a=j.nextSibling){a=j;for(j=document.createDocumentFragment();a;)b=a.nextSibling,j.appendChild(a),a=b}return j},insertIntoTable:function(a,d,e,g){var h="beforebegin"===d,j="afterbegin"===d,k="beforeend"===d,l="afterend"===d;if("td"===a&&(j||k)||!b.test(a)&&(h||l))return null;d=h?e:l?e.nextSibling:j?e.firstChild:null;if(h||l)e=e.parentNode;a="td"===a||"tr"===a&&(k||j)?this.ieTable(4,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e",g,"\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"):
("tbody"===a||"thead"===a)&&(k||j)||"tr"===a&&(h||l)?this.ieTable(3,"\x3ctable\x3e\x3ctbody\x3e",g,"\x3c/tbody\x3e\x3c/table\x3e"):this.ieTable(2,"\x3ctable\x3e",g,"\x3c/table\x3e");e.insertBefore(a,d);return a}}}());
Ext.define("Ext.dom.Query",function(){function a(a){if(!a)return[];var b=a.length,c,d,e=a,g=-1;if(!b||"undefined"!=typeof a.nodeType||1==b)return a;if(t&&"undefined"!=typeof a[0].selectSingleNode){e=++u;a[0].setAttribute("_nodup",e);g=[a[0]];b=1;for(d=a.length;b<d;b++)c=a[b],!c.getAttribute("_nodup")!=e&&(c.setAttribute("_nodup",e),g[g.length]=c);b=0;for(d=a.length;b<d;b++)a[b].removeAttribute("_nodup");return g}b=++u;a[0]._nodup=b;for(d=1;c=a[d];d++)if(c._nodup!=b)c._nodup=b;else{e=[];for(c=0;c<
d;c++)e[++g]=a[c];for(c=d+1;d=a[c];c++)d._nodup!=b&&(d._nodup=b,e[++g]=d);break}return e}var b,c=document,d,e,g,h=!!c.documentElement.classList,j=!!c.documentElement.firstElementChild,k=function(){var a=c.createElement("div");a.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e";return a.children&&0===a.children.length}(),l=/^\s+|\s+$/g,m=/\{(\d+)\}/g,n=/^(\s?[\/>+~]\s?|\s|$)/,p=/^(#)?([\w\-\*\|\\]+)/,q=/(\d*)n\+?(\d*)/,r=/\D/,s=/^\s*#/,t=window.ActiveXObject?!0:!1,u=30803,v=/\\([0-9a-fA-F]{6})/g,w=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,
x=/\\([^0-9a-fA-F]{1})/g,A=/\\/g,z,B;(function(){var a;window.DOMParser?a=(new DOMParser).parseFromString('\x3cr\x3e\x3ca:b xmlns:a\x3d"n"\x3e\x3c/a:b\x3e\x3c/r\x3e',"application/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML('\x3cr\x3e\x3ca:b xmlns:a\x3d"n"\x3e\x3c/a:b\x3e\x3c/r\x3e'));return!!a.getElementsByTagName("a:b").length})();var y=function(a,b){return String.fromCharCode(parseInt(b,16))},C=function(a,b){for(;6>b.length;)b="0"+b;return"\\"+b},E=function(a,b){z=b.charCodeAt(0).toString(16);
1===z.length&&(z="0"+z);return"\\0000"+z},D=function(a){(B=-1<a.indexOf("\\"))&&(a=a.replace(w,C).replace(x,E).replace(A,"\\\\"));return a};eval("var batch \x3d 30803, child, next, prev, byClassName;");child=k?function(a,b){return a.children[b]}:function(a,b){for(var c=0,d=a.firstChild;d;){if(1==d.nodeType&&++c==b)return d;d=d.nextSibling}return null};next=j?function(a){return a.nextElementSibling}:function(a){for(;(a=a.nextSibling)&&1!=a.nodeType;);return a};prev=j?function(a){return a.previousElementSibling}:
function(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a};byClassName=h?function(a,b){b=B?b.replace(v,y):b;if(!b)return a;var c=[],d=-1,e,g,h;for(e=0;g=a[e];e++)(h=g.classList)?h.contains(b)&&(c[++d]=g):-1!==(" "+g.className+" ").indexOf(b)&&(c[++d]=g);return c}:function(a,b){b=B?b.replace(v,y):b;if(!b)return a;var c=[],d=-1,e,g;for(e=0;g=a[e];e++)-1!==(" "+g.className+" ").indexOf(b)&&(c[++d]=g);return c};return{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],_init:function(){b=
this;b.operators=Ext.Object.chain(Ext.util.Operators);b._cache=d=new Ext.util.LruCache({maxSize:200});b._valueCache=g=new Ext.util.LruCache({maxSize:200});b._simpleCache=e=new Ext.util.LruCache({maxSize:200})},clearCache:function(){d.clear();g.clear();e.clear()},getStyle:function(a,b){return Ext.fly(a,"_DomQuery").getStyle(b)},compile:function(a,c){c=c||"select";var d=["var f \x3d function(root) {\n var mode; ++batch; var n \x3d root || document;\n"],e,g=b.matchers,h=g.length,j;j=a.match(n);var k,
q,r;a=D(a);j&&j[1]&&(d[d.length]='mode\x3d"'+j[1].replace(l,"")+'";',a=a.replace(j[1],""));for(;"/"==a.substr(0,1);)a=a.substr(1);for(;a&&e!=a;){e=a;j=a.match(p);"select"==c?j?(d[d.length]="#"==j[1]?'n \x3d quickId(n, mode, root, "'+j[2]+'");':'n \x3d getNodes(n, mode, "'+j[2]+'");',a=a.replace(j[0],"")):"@"!=a.substr(0,1)&&(d[d.length]='n \x3d getNodes(n, mode, "*");'):j&&(d[d.length]="#"==j[1]?'n \x3d byId(n, "'+j[2]+'");':'n \x3d byTag(n, "'+j[2]+'");',a=a.replace(j[0],""));for(;!(j=a.match(n));){j=
!1;for(k=0;k<h;k++)if(q=g[k],r=a.match(q.re)){d[d.length]=q.select.replace(m,function(a,b){return r[b]});a=a.replace(r[0],"");j=!0;break}j||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+a+'"'})}j[1]&&(d[d.length]='mode\x3d"'+j[1].replace(l,"")+'";',a=a.replace(j[1],""))}d[d.length]="return nodup(n);\n}";eval(d.join(""));return f},jsSelect:function(e,g,h){g=g||c;"string"==typeof g&&(g=c.getElementById(g));e=Ext.splitAndUnescape(e,
",");var j=[],k,m,n,p;m=0;for(n=e.length;m<n;m++)p=e[m].replace(l,""),(k=d.get(p))?D(p):((k=b.compile(p,h))||Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:p+" is not a valid selector"}),d.add(p,k)),(k=k(g))&&k!==c&&(j=j.concat(k));return 1<e.length?a(j):j},isXml:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},select:c.querySelectorAll?function(a,d,e,g){d=d||c;if(!b.isXml(d))try{return d.parentNode&&(9!==d.nodeType&&-1===a.indexOf(",")&&
!s.test(a))&&(a=Ext.makeIdSelector(Ext.id(d))+" "+a,d=d.parentNode),g?[d.querySelector(a)]:Ext.Array.toArray(d.querySelectorAll(a))}catch(h){}return b.jsSelect.call(this,a,d,e)}:function(a,c,d){return b.jsSelect.call(this,a,c,d)},selectNode:function(a,b){return Ext.DomQuery.select(a,b,null,!0)[0]},selectValue:function(a,c){a=a.replace(l,"");var d=g.get(a);d?D(a):(d=b.compile(a,"select"),g.add(a,d));d=d(c);return b.getNodeValue(d[0]?d[0]:d)},getNodeValue:function(a,b){"function"==typeof a.normalize&&
a.normalize();var c=a&&a.firstChild?a.firstChild.nodeValue:null;return null===c||void 0===c||""===c?b:c},selectNumber:function(a,c,d){a=b.selectValue(a,c,d||0);return parseFloat(a)},is:function(a,d){"string"==typeof a&&(a=c.getElementById(a));var e=Ext.isArray(a),g=b.filter(e?a:[a],d);return e?g.length==a.length:0<g.length},filter:function(a,c,d){c=c.replace(l,"");var g=e.get(c);g?D(c):(g=b.compile(c,"simple"),e.add(c,g));c=g(a);if(d){var h=c.length;d=++u;var g=[],j;if(h){if(t&&"undefined"!=typeof c[0].selectSingleNode){d=
++u;g=[];j=0;for(h=c.length;j<h;j++)c[j].setAttribute("_qdiff",d);j=0;for(h=a.length;j<h;j++)a[j].getAttribute("_qdiff")!=d&&(g[g.length]=a[j]);j=0;for(h=c.length;j<h;j++)c[j].removeAttribute("_qdiff")}else{for(j=0;j<h;j++)c[j]._qdiff=d;j=0;for(c=a.length;j<c;j++)a[j]._qdiff!=d&&(g[g.length]=a[j])}a=g}}else a=c;return a},matchers:[{re:/^\.([\w\-\\]+)/,select:h?'n \x3d byClassName(n, "{1}");':'n \x3d byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n \x3d byPseudo(n, "{1}", "{2}");'},
{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n \x3d byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n \x3d byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.previousSibling)&&1!=d.nodeType;);d||(b[++c]=g)}return b},"last-child":function(a){var b=[],c=-1,d,e,g;for(e=0;g=d=a[e];e++){for(;(d=d.nextSibling)&&
1!=d.nodeType;);d||(b[++c]=g)}return b},"nth-child":function(a,b){var c=[],d=-1,e=q.exec("even"==b&&"2n"||"odd"==b&&"2n+1"||!r.test(b)&&"n+"+b||b),g=(e[1]||1)-0,e=e[2]-0,h,j,k,l,m;for(h=0;j=a[h];h++){m=j.parentNode;if(batch!=m._batch){k=0;for(l=m.firstChild;l;l=l.nextSibling)1==l.nodeType&&(l.nodeIndex=++k);m._batch=batch}if(1==g){if(0===e||j.nodeIndex==e)c[++d]=j}else 0===(j.nodeIndex+e)%g&&(c[++d]=j)}return c},"only-child":function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)!prev(e)&&!next(e)&&(b[++c]=
e);return b},empty:function(a){var b=[],c=-1,d,e,g,h,j,k;for(d=0;e=a[d];d++){g=e.childNodes;h=0;for(k=!0;j=g[h];)if(++h,1==j.nodeType||3==j.nodeType){k=!1;break}k&&(b[++c]=e)}return b},contains:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)if(-1!=(g.textContent||g.innerText||g.text||"").indexOf(b))c[++d]=g;return c},nodeValue:function(a,b){var c=[],d=-1,e,g;for(e=0;g=a[e];e++)g.firstChild&&g.firstChild.nodeValue==b&&(c[++d]=g);return c},checked:function(a){var b=[],c=-1,d,e;for(d=0;e=a[d];d++)!0===
e.checked&&(b[++c]=e);return b},not:function(a,c){return b.filter(a,c,!0)},any:function(a,c){var d=c.split("|"),e=[],g=-1,h,j,k,l;for(j=0;k=a[j];j++)for(l=0;h=d[l];l++)if(b.is(k,h)){e[++g]=k;break}return e},odd:function(a){return this["nth-child"](a,"odd")},even:function(a){return this["nth-child"](a,"even")},nth:function(a,b){return a[b-1]||[]},first:function(a){return a[0]||[]},last:function(a){return a[a.length-1]||[]},has:function(a,c){var d=b.select,e=[],g=-1,h,j;for(h=0;j=a[h];h++)0<d(c,j).length&&
(e[++g]=j);return e},next:function(a,c){var d=b.is,e=[],g=-1,h,j,k;for(h=0;j=a[h];h++)(k=next(j))&&d(k,c)&&(e[++g]=j);return e},prev:function(a,c){var d=b.is,e=[],g=-1,h,j,k;for(h=0;j=a[h];h++)(k=prev(j))&&d(k,c)&&(e[++g]=j);return e},focusable:function(a){for(var b=a.length,c=[],d=0,e;d<b;d++)e=a[d],Ext.fly(e,"_DomQuery").isFocusable()&&c.push(e);return c},visible:function(a,b){for(var c=a.length,d=[],e=0,g;e<c;e++)g=a[e],Ext.fly(g,"_DomQuery").isVisible(b)&&d.push(g);return d},isScrolled:function(a){var b=
[],c=-1,d,e,g;for(d=0;e=a[d];d++)if(g=Ext.fly(e,"_DomQuery").getScroll(),0<g.top||0<g.left)b[++c]=e;return b}}}},function(){this._init()});
Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(a){var b=this;return Ext.isEmpty(a)?Ext.emptyFn:Ext.isFunction(a)?a:function(c){return b.getNodeValue(Ext.DomQuery.selectNode(a,c))}},getNodeValue:function(a){if(a&&("function"===typeof a.normalize&&a.normalize(),a=a.firstChild))return a.nodeValue},getResponseData:function(a){a=a.responseXML;return!a?(Ext.Logger.warn("XML data not found in the response"),
this.createReadError("XML data not found in the response")):a},getData:function(a){return a.documentElement||a},getRoot:function(a){var b=a.nodeName,c=this.getRootProperty();if(!c||b&&b==c)return a;if(Ext.DomQuery.isXml(a))return Ext.DomQuery.selectNode(c,a)},extractData:function(a,b){var c=this.getRecord();c||Ext.Error.raise("Record is a required parameter");a=c!==a.nodeName?Ext.DomQuery.select(c,a):[a];return this.callParent([a,b])},readRecords:function(a,b){Ext.isArray(a)&&(a=a[0]);this.xmlData=
a;return this.callParent([a,b])},createFieldAccessor:function(a){var b=this,c=b.getNamespace(),d;d=a.mapping||(c?c+"|":"")+a.name;return"function"===typeof d?function(c){return a.mapping(c,b)}:function(a){return b.getNodeValue(Ext.DomQuery.selectNode(d,a))}}});
Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},writeRecords:function(a,b){var c=[],d=0,e=b.length,g=this.getDocumentRoot(),h=this.getRecord(),j=1!==b.length,k,l;(l=this.getTransform())&&(b=l(b,a));c.push(this.getHeader()||"");!g&&j&&(g=this.getDefaultDocumentRoot());for(g&&c.push("\x3c",g,"\x3e");d<e;++d){j=b[d];c.push("\x3c",h,"\x3e");
for(k in j)j.hasOwnProperty(k)&&c.push("\x3c",k,"\x3e",j[k],"\x3c/",k,"\x3e");c.push("\x3c/",h,"\x3e")}g&&c.push("\x3c/",g,"\x3e");a.setXmlData(c.join(""));return a}});Ext.define("Ext.data.XmlStore",{extend:Ext.data.Store,alias:"store.xml",constructor:function(a){a=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},a);this.callParent([a])}});Ext.define("Ext.data.identifier.Negative",{extend:Ext.data.identifier.Sequential,alias:"data.identifier.negative",config:{increment:-1,seed:-1}});
Ext.define("Ext.data.identifier.Uuid",{extend:Ext.data.identifier.Generator,alias:"data.identifier.uuid",isUnique:!0,config:{id:null},constructor:function(a){this.callParent([a]);this.reconfigure(a)},reconfigure:function(a){var b=this.self;this.generate=a&&1===a.version?b.createSequential(a.salt,a.timestamp,a.clockSeq):b.createRandom()},clone:null,statics:{createRandom:function(){var a="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),b="0123456789abcdef".split(""),c=a.length,d=[];return function(){for(var e,
g,h=0;h<c;++h)g=a[h],"-"!==g&&"4"!==g&&(e=16*Math.random(),e="R"===g?e&3|8:e|("M"===g?1:0),g=b[e]),d[h]=g;return d.join("")}},createSequential:function(a,b,c){var d=[],e=Math.pow(2,32),g=a.lo,h=a.hi,j=b.lo,k=b.hi,l=function(a,b){var c=a.toString(16).toLowerCase();c.length>b?c=c.substring(c.length-b):c.length<b&&(c=Ext.String.leftPad(c,b,"0"));return c};"number"===typeof a&&(h=Math.floor(a/e),g=Math.floor(a-h*e));"number"===typeof b&&(k=Math.floor(b/e),j=Math.floor(b-k*e));h|=256;d[3]=l(128|c>>>8&
63,2)+l(c&255,2);d[4]=l(h,4)+l(g,8);return function(){d[0]=l(j,8);d[1]=l(k&65535,4);d[2]=l(k>>>16&4095|4096,4);++j;j>=e&&(j=0,++k);return d.join("-")}}}},function(){this.Global=new this({id:"uuid"})});
Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",config:{id:void 0},constructor:function(a){this.callParent(arguments);this.cache={};void 0===this.getStorageObject()&&Ext.Error.raise("Local Storage is not supported in this browser, please use another type of data proxy");void 0===this.getId()&&Ext.Error.raise("No unique id was provided to the local storage proxy. See Ext.data.proxy.LocalStorage documentation for details");this.initialize()},
create:function(a){var b=a.getRecords(),c=b.length,d=this.getIds(),e,g,h;a.setStarted();void 0===this.isHierarchical&&(this.isHierarchical=!!b[0].isNode)&&this.getStorageObject().setItem(this.getTreeKey(),!0);for(h=0;h<c;h++)g=b[h],g.phantom?(g.phantom=!1,e=this.getNextId()):e=g.getId(),this.setRecord(g,e),g.commit(),d.push(e);this.setIds(d);a.setSuccessful(!0)},read:function(a){var b,c=[],d=!0,e=this.getModel(),g=0,h=a.getRecordCreator(),j,k,l,m,n,p,q,r;a.setStarted();if(this.isHierarchical)c=this.getTreeData();
else if(n=this.getIds(),p=n.length,b=a.getId())q=this.getRecord(b),null!==q&&(m=h?h(q,e):new e(q)),m?c.push(m):d=!1;else{k=a.getSorters();j=a.getFilters();l=a.getLimit();b=[];for(r=0;r<p;r++)q=this.getRecord(n[r]),m=h?h(q,e):new e(q),b.push(m);k&&Ext.Array.sort(b,Ext.util.Sorter.createComparator(k));for(r=a.getStart()||0;r<p;r++){m=b[r];h=!0;if(j){n=0;for(e=j.length;n<e;n++)h=j[n].filter(m)}h&&(c.push(m),g++);if(l&&g===l)break}}d?(a.setResultSet(new Ext.data.ResultSet({records:c,total:c.length,loaded:!0})),
a.setSuccessful(!0)):a.setException("Unable to load records")},update:function(a){var b=a.getRecords(),c=b.length,d=this.getIds(),e,g;a.setStarted();for(g=0;g<c;g++)e=b[g],this.setRecord(e),e.commit(),e=e.getId(),void 0!==e&&-1===Ext.Array.indexOf(d,e)&&d.push(e);this.setIds(d);a.setSuccessful(!0)},erase:function(a){var b=a.getRecords(),c=this.getIds(),d=c.length,e=[],g={},h=b.length;for(a.setStarted();h--;)Ext.apply(g,this.removeRecord(b[h]));for(h=0;h<d;h++)b=c[h],g[b]||e.push(b);this.setIds(e);
a.setSuccessful(!0)},getRecord:function(a){var b=this.cache,c=!b[a]?Ext.decode(this.getStorageObject().getItem(this.getRecordKey(a))):b[a];if(!c)return null;b[a]=c;c[this.getModel().prototype.idProperty]=a;return Ext.merge({},c)},setRecord:function(a,b){b?a.set("id",b,{commit:!0}):b=a.getId();for(var c=a.getData(),d={},e=this.getModel(),g=e.getFields(),h=g.length,j=0,k,l;j<h;j++)k=g[j],l=k.name,k.persist&&(d[l]=c[l]);delete d[e.prototype.idProperty];a.isNode&&1===a.get("depth")&&delete d.parentId;
c=this.getStorageObject();e=this.getRecordKey(b);this.cache[b]=d;c.removeItem(e);c.setItem(e,Ext.encode(d))},removeRecord:function(a){var b=a.getId(),c={};c[b]=a;this.getStorageObject().removeItem(this.getRecordKey(b));delete this.cache[b];if(a.childNodes){b=a.childNodes;for(a=b.length;a--;)Ext.apply(c,this.removeRecord(b[a]))}return c},getRecordKey:function(a){a.isModel&&(a=a.getId());return Ext.String.format("{0}-{1}",this.getId(),a)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",
this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var a=(this.getStorageObject().getItem(this.getId())||"").split(","),b=a.length,c=this.getIdField().isStringField,d;if(1===b&&""===a[0])a=[];else for(d=0;d<b;d++)a[d]=c?a[d]:+a[d];return a},getIdField:function(){return this.getModel().prototype.idField},setIds:function(a){var b=this.getStorageObject();a=a.join(",");var c=this.getId();b.removeItem(c);Ext.isEmpty(a)||b.setItem(c,a)},getNextId:function(){var a=
this.getStorageObject(),b=this.getRecordCounterKey(),c=this.getIdField().isStringField,d;d=this.idGenerator.generate();a.setItem(b,d);c&&(d+="");return d},getTreeData:function(){for(var a=this.getIds(),b=a.length,c=[],d={},e=[],g=0,h=this.getModel(),j=h.prototype.idProperty,k,l,m,n;g<b;g++)m=a[g],k=this.getRecord(m),c.push(k),d[m]=k,k.parentId||e.push(k);a=e.length;Ext.Array.sort(c,this.sortByParentId);for(g=a;g<b;g++){k=c[g];m=k.parentId;if(!l||l[j]!==m)l=d[m],l.children=n=[];n.push(k)}for(g=b;g--;)k=
c[g],!k.children&&!k.leaf&&(k.loaded=!0);for(g=a;g--;)k=e[g],e[g]=new h(k);return e},sortByParentId:function(a,b){return(a.parentId||0)-(b.parentId||0)},initialize:function(){var a=this.getStorageObject(),b=+a.getItem(this.getRecordCounterKey()),c=this.getId();a.setItem(c,a.getItem(c)||"");a.getItem(this.getTreeKey())&&(this.isHierarchical=!0);this.idGenerator=new Ext.data.identifier.Sequential({seed:b?b+1:1})},clear:function(){var a=this.getStorageObject(),b=this.getIds(),c=b.length,d;for(d=0;d<
c;d++)a.removeItem(this.getRecordKey(b[d]));a.removeItem(this.getRecordCounterKey());a.removeItem(this.getTreeKey());a.removeItem(this.getId());this.cache={}},getStorageObject:function(){Ext.Error.raise("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}});Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});
Ext.define("Ext.data.proxy.Rest",{extend:Ext.data.proxy.Ajax,alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(a){var b=a.getOperation(),c=b.getRecords(),d=c?c[0]:null,c=this.getFormat(),e=this.getUrl(a),b=d&&!d.phantom?d.getId():b.getId();this.getAppendId()&&
this.isValidId(b)&&(e.match(this.slashRe)||(e+="/"),e+=b,(b=a.getParams())&&delete b[this.getIdParam()]);c&&(e.match(this.periodRe)||(e+="."),e+=c);a.setUrl(e);return this.callParent([a])},isValidId:function(a){return a||0===a}});Ext.define("Ext.data.proxy.SessionStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}});
Ext.define("Ext.data.proxy.Sql",{alias:"proxy.sql",extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.proxy.SQL",isSQLProxy:!0,config:{reader:null,writer:null,table:null,database:"Sencha",columns:"",uniqueIdStrategy:!1,tableExists:!1,defaultDateFormat:"Y-m-d H:i:s.u"},updateModel:function(a){if(a){var b=a.modelName,c=this.getDefaultDateFormat(),b=b.slice(b.lastIndexOf(".")+1);a.getFields().each(function(a){a.isDateField&&!a.getDateFormat()&&(a.dateFormat=c)});this.setUniqueIdStrategy(a.getIdentifier().isUnique);
this.getTable()||this.setTable(b);this.setColumns(this.getPersistedModelColumns(a))}this.callParent(arguments)},setException:function(a,b){a.setException(b)},create:function(a,b,c){var d=this,e=d.getDatabaseObject(),g=a.getRecords(),h=d.getTableExists();a.setStarted();e.transaction(function(b){h||d.createTable(b);d.insertRecords(g,b,function(b,c){!1===a.process(a.getAction(),b)&&d.fireEvent("exception",d,a);c&&a.setException(c)},d)},function(e,g){d.setException(a,g);"function"==typeof b&&b.call(c||
d,a)},function(){"function"==typeof b&&b.call(c||d,a)})},read:function(a,b,c){var d=this,e=d.getDatabaseObject(),g=d.getModel().getIdProperty(),h=d.getTableExists(),j=a.getParams()||{},k=j[g],g=a.getSorters(),l=a.getFilters(),m=a.getPage(),n=a.getStart(),p=a.getLimit(),q,r,s,j=Ext.apply(j,{page:m,start:n,limit:p,sorters:g,filters:l});a.setStarted();e.transaction(function(b){h||d.createTable(b);d.selectRecords(b,void 0!==k?k:j,function(b,c){!1===a.process(a.getAction(),b)&&d.fireEvent("exception",
d,a);c&&a.setException(c);if(l&&l.length){q=Ext.create("Ext.util.Collection",function(a){return a.getId()});q.setFilterRoot("data");r=0;for(s=l.length;r<s;r++)null===l[r].getProperty()&&q.addFilter(l[r]);q.addAll(a.getRecords());a.setRecords(q.items.slice());b.setRecords(a.getRecords());b.setCount(q.items.length);b.setTotal(q.items.length)}})},function(e,g){d.setException(a,g);"function"==typeof b&&b.call(c||d,a)},function(){"function"==typeof b&&b.call(c||d,a)})},update:function(a,b,c){var d=this,
e=a.getRecords(),g=d.getDatabaseObject(),h=d.getTableExists();a.setStarted();g.transaction(function(b){h||d.createTable(b);d.updateRecords(b,e,function(b,c){!1===a.process(a.getAction(),b)&&d.fireEvent("exception",d,a);c&&a.setException(c)})},function(e,g){d.setException(a,g);"function"==typeof b&&b.call(c||d,a)},function(){"function"==typeof b&&b.call(c||d,a)})},erase:function(a,b,c){var d=this,e=a.getRecords(),g=d.getDatabaseObject(),h=d.getTableExists();a.setStarted();g.transaction(function(b){h||
d.createTable(b);d.destroyRecords(b,e,function(b,c){!1===a.process(a.getAction(),b)&&d.fireEvent("exception",d,a);c&&a.setException(c)})},function(e,g){d.setException(a,g);"function"==typeof b&&b.call(c||d,a)},function(){"function"==typeof b&&b.call(c||d,a)})},createTable:function(a){a.executeSql("CREATE TABLE IF NOT EXISTS "+this.getTable()+" ("+this.getSchemaString()+")");this.setTableExists(!0)},insertRecords:function(a,b,c,d){var e=this,g=e.getTable(),h=e.getColumns(),j=a.length,k=0,l=[],m=[],
n=[],p=e.getUniqueIdStrategy(),q,r,s,t;t=new Ext.data.ResultSet({records:m,success:!0});q=0;for(r=h.length;q<r;q++)l.push("?");s=l.join(", ");Ext.each(a,function(a){var l=a.getId(),q=e.getRecordData(a);a=e.getColumnValues(h,q);b.executeSql("INSERT INTO "+g+" ("+h.join(", ")+") VALUES ("+s+")",a,function(a,b){k++;m.push({clientId:l,id:p?l:b.insertId,data:q,node:q});k===j&&"function"==typeof c&&c.call(d||e,t,0<n.length?n:null)},function(a,b){k++;n.push({clientId:l,error:b});k===j&&"function"==typeof c&&
c.call(d||e,t,n)})})},selectRecords:function(a,b,c,d){var e=this,g=e.getTable(),h=e.getModel().getIdProperty(),g="SELECT * FROM "+g,j=[],k=" WHERE ",l=" ORDER BY ",m,n,p,q,r,s,t,u,v;q=new Ext.data.ResultSet({records:j,success:!0});if(Ext.isObject(b)){if(n=b.filters&&b.filters.length)for(m=0;m<n;m++)t=b.filters[m],u=t.getProperty(),v=t.getValue(),null!==u&&(g+=k+u+" "+(t.getAnyMatch()?"LIKE '%"+v+"%'":"\x3d '"+v+"'"),k=" AND ");if(n=b.sorters&&b.sorters.length)for(m=0;m<n;m++)k=b.sorters[m],u=k.getProperty(),
null!==u&&(g+=l+u+" "+k.getDirection(),l=", ");void 0!==b.page&&(g+=" LIMIT "+parseInt(b.start,10)+", "+parseInt(b.limit,10))}else g+=k+h+" \x3d "+b;a.executeSql(g,null,function(a,b){s=b.rows;r=s.length;m=0;for(n=r;m<n;m++)p=s.item(m),j.push({clientId:null,id:p[h],data:p,node:p});q.setSuccess(!0);q.setTotal(r);q.setCount(r);"function"==typeof c&&c.call(d||e,q)},function(a,b){q.setSuccess(!1);q.setTotal(0);q.setCount(0);"function"==typeof c&&c.call(d||e,q,b)})},updateRecords:function(a,b,c,d){var e=
this,g=e.getTable(),h=e.getColumns(),j=b.length,k=e.getModel().getIdProperty(),l=0,m=[],n=[],p,q,r;r=new Ext.data.ResultSet({records:m,success:!0});Ext.each(b,function(b){var t=b.getId(),u=e.getRecordData(b);b=e.getColumnValues(h,u);var v=[];p=0;for(q=h.length;p<q;p++)v.push(h[p]+" \x3d ?");a.executeSql("UPDATE "+g+" SET "+v.join(", ")+" WHERE "+k+" \x3d ?",b.concat(t),function(){l++;m.push({clientId:t,id:t,data:u,node:u});l===j&&"function"==typeof c&&c.call(d||e,r,0<n.length?n:null)},function(a,
b){l++;n.push({clientId:t,error:b});l===j&&"function"==typeof c&&c.call(d||e,r,n)})})},destroyRecords:function(a,b,c,d){var e=this,g=e.getTable(),h=e.getModel().getIdProperty(),j=[],k=[],l=[],m,n,p,q;m=0;for(n=b.length;m<n;m++)j.push(h+" \x3d ?"),k.push(b[m].getId());p=new Ext.data.ResultSet({records:l,success:!0});a.executeSql("DELETE FROM "+g+" WHERE "+j.join(" OR "),k,function(){m=0;for(n=b.length;m<n;m++)q=b[m],l.push({id:q.getId()});"function"==typeof c&&c.call(d||e,p)},function(a,b){"function"==
typeof c&&c.call(d||e,p,b)})},getRecordData:function(a){var b=this,c=a.getFields(),d=a.getIdProperty(),e=b.getUniqueIdStrategy(),g={},h,j;c.each(function(c){if(c.persist&&(h=c.name,h!==d||e))j=a.get(h),c.isDateField&&(j=b.writeDate(c,j)),g[h]=j},b);return g},getColumnValues:function(a,b){var c=a.length,d=[],e,g;for(e=0;e<c;e++)g=a[e],g=b[g],void 0!==g&&d.push(g);return d},getSchemaString:function(){var a=[],b=this.getModel(),c=b.getIdProperty(),b=b.getFields().items,d=this.getUniqueIdStrategy(),e=
b.length,g,h,j;for(g=0;g<e;g++)h=b[g],j=h.getType(),h=h.name,h===c?d?(j=this.convertToSqlType(j),a.unshift(c+" "+j)):a.unshift(c+" INTEGER PRIMARY KEY AUTOINCREMENT"):(j=this.convertToSqlType(j),a.push(h+" "+j));return a.join(", ")},getPersistedModelColumns:function(a){var b=a.getFields().items,c=this.getUniqueIdStrategy();a=a.getIdProperty();var d=[],e=b.length,g,h,j;for(g=0;g<e;g++)h=b[g],j=h.name,(j!==a||c)&&h.persist&&d.push(h.name);return d},convertToSqlType:function(a){switch(a.toLowerCase()){case "date":case "string":case "auto":return"TEXT";
case "int":return"INTEGER";case "float":return"REAL";case "bool":return"NUMERIC"}},writeDate:function(a,b){if(Ext.isEmpty(b))return null;var c=a.getDateFormat()||this.getDefaultDateFormat();switch(c){case "timestamp":return b.getTime()/1E3;case "time":return b.getTime();default:return Ext.Date.format(b,c)}},dropTable:function(a){var b=this,c=b.getTable(),d=a?a.callback:null,e=a?a.scope||b:null;b.getDatabaseObject().transaction(function(a){a.executeSql("DROP TABLE "+c)},function(a,h){"function"==typeof d&&
d.call(e||b,!1,c,h)},function(){"function"==typeof d&&d.call(e||b,!0,c)});b.setTableExists(!1)},getDatabaseObject:function(){return openDatabase(this.getDatabase(),"1.0","Sencha Database",5242880)}});
Ext.define("Ext.data.validator.Bound",{extend:Ext.data.validator.Validator,alias:"data.validator.bound",type:"bound",config:{min:void 0,max:void 0,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){this.preventConfigure=!0;this.callParent(arguments);delete this.preventConfigure;this.configure()},setConfig:function(){this.preventConfigure=!0;this.callParent(arguments);delete this.preventConfigure;this.configure()},configure:function(){var a,
b,c,d;this.preventConfigure||(c=this.getMin(),d=this.getMax(),a=this.hasMin=void 0!==c,b=this.hasMax=void 0!==d,a&&b?this._bothMsg=Ext.String.format(this.getBothMessage(),c,d):a?this._minMsg=Ext.String.format(this.getMinOnlyMessage(),c):b&&(this._maxMsg=Ext.String.format(this.getMaxOnlyMessage(),d)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},
validate:function(a){var b=this.hasMin,c=this.hasMax,d=this.getMin(),e=this.getMax(),g=this.validateValue(a);if(!0!==g)return g;a=this.getValue(a);if(b&&c){if(a<d||a>e)g=this._bothMsg}else b?a<d&&(g=this._minMsg):c&&a>e&&(g=this._maxMsg);return g},validateValue:function(a){return void 0===a||null===a?this.getEmptyMessage():!0},getValue:Ext.identityFn});
Ext.define("Ext.data.validator.Format",{extend:Ext.data.validator.Validator,alias:"data.validator.format",type:"format",config:{message:"Is in the wrong format",matcher:void 0},constructor:function(){this.callParent(arguments);this.getMatcher()||Ext.Error.raise("validator.Format must be configured with a matcher")},validate:function(a){var b=this.getMatcher();return(a=b&&b.test(a))?a:this.getMessage()}});
Ext.define("Ext.data.validator.Email",{extend:Ext.data.validator.Format,alias:"data.validator.email",type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}});
Ext.define("Ext.data.validator.List",{extend:Ext.data.validator.Validator,alias:"data.validator.list",type:"list",config:{list:null},inclusion:null,validate:function(a){a=Ext.Array.contains(this.getList(),a);var b=this.inclusion;return b&&a||!b&&!a||this.getMessage()}});
Ext.define("Ext.data.validator.Exclusion",{extend:Ext.data.validator.List,alias:"data.validator.exclusion",type:"exclusion",config:{message:"Is a value that has been excluded"},constructor:function(){this.callParent(arguments);this.getList()||Ext.Error.raise("validator.Exclusion requires a list")},inclusion:!1});
Ext.define("Ext.data.validator.Inclusion",{extend:Ext.data.validator.List,alias:"data.validator.inclusion",type:"inclusion",config:{message:"Is not in the list of acceptable values"},constructor:function(){this.callParent(arguments);this.getList()||Ext.Error.raise("validator.Inclusion requires a list")},inclusion:!0});
Ext.define("Ext.data.validator.Length",{extend:Ext.data.validator.Bound,alias:"data.validator.length",type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(a){return String(a).length}});
Ext.define("Ext.data.validator.Presence",{extend:Ext.data.validator.Validator,alias:"data.validator.presence",type:"presence",config:{message:"Must be present",allowEmpty:!1},validate:function(a){var b=!(void 0===a||null===a);b&&!this.getAllowEmpty()&&(b=""!==a);return b?!0:this.getMessage()}});
Ext.define("Ext.data.validator.Range",{extend:Ext.data.validator.Bound,alias:"data.validator.range",type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(a){var b=this.callParent([a]);!0===b&&isNaN(a)&&(b=this.getNanMessage());return b}});
Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(a){Ext.apply(this,a)},getName:function(){return this.name},getData:function(){return this.data}});Ext.define("Ext.direct.RemotingEvent",{extend:Ext.direct.Event,alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}});Ext.define("Ext.direct.ExceptionEvent",{extend:Ext.direct.RemotingEvent,alias:"direct.exception",status:!1});
Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:{observable:Ext.util.Observable},isProvider:!0,constructor:function(a){Ext.apply(this,a);Ext.applyIf(this,{id:Ext.id(null,"provider-")});this.mixins.observable.constructor.call(this,a)},isConnected:function(){return!1},connect:Ext.emptyFn,disconnect:Ext.emptyFn});
Ext.define("Ext.direct.JsonProvider",{extend:Ext.direct.Provider,alias:"direct.jsonprovider",parseResponse:function(a){return!Ext.isEmpty(a.responseText)?Ext.isObject(a.responseText)?a.responseText:Ext.decode(a.responseText):null},createEvents:function(a){var b=null,c=[],d;try{b=this.parseResponse(a)}catch(e){return b=new Ext.direct.ExceptionEvent({data:e,xhr:a,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+e}),[b]}if(Ext.isArray(b)){a=0;for(d=b.length;a<d;++a)c.push(this.createEvent(b[a]))}else Ext.isObject(b)&&
c.push(this.createEvent(b));return c},createEvent:function(a){return"object"!==typeof a||!("type"in a)?new Ext.direct.ExceptionEvent({data:a,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"}):Ext.create("direct."+a.type,a)}});
Ext.define("Ext.direct.PollingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.pollingprovider",interval:3E3,isConnected:function(){return!!this.pollTask},connect:function(){var a=this.url;a&&!this.pollTask?(this.pollTask=Ext.TaskManager.start({run:this.runPoll,interval:this.interval,scope:this}),this.fireEvent("connect",this)):a||Ext.Error.raise("Error initializing PollingProvider, no url configured.")},disconnect:function(){this.pollTask&&(Ext.TaskManager.stop(this.pollTask),delete this.pollTask,
this.fireEvent("disconnect",this))},runPoll:function(){var a=this.url;!1!==this.fireEvent("beforepoll",this)&&(Ext.isFunction(a)?a(this.baseParams):Ext.Ajax.request({url:a,callback:this.onData,scope:this,params:this.baseParams}),this.fireEvent("poll",this))},onData:function(a,b,c){if(b){c=this.createEvents(c);a=0;for(b=c.length;a<b;++a)this.fireEvent("data",this,c[a])}else c=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",
xhr:c}),this.fireEvent("data",this,c)}});
Ext.define("Ext.direct.RemotingMethod",{constructor:function(a){var b=Ext.isDefined(a.params)?a.params:a.len,c,d;this.name=a.name;this.formHandler=a.formHandler;if(Ext.isNumeric(b))this.len=b,this.ordered=!0;else{this.strict=void 0!==a.strict?a.strict:!0;this.params={};a=b.length;for(d=0;d<a;d++)c=b[d],c=Ext.isObject(c)?c.name:c,this.params[c]=!0}},getArgs:function(a,b,c){var d=[],e;if(this.ordered){if(0<this.len)if(b){c=0;for(e=b.length;c<e;c++)d.push(a[b[c]])}else c&&d.push(a)}else d.push(a);return d},
getCallData:function(a){var b=null,c=this.len,d=this.params,e=this.strict,g,h,j,k;if(this.ordered)g=a[c],h=a[c+1],k=a[c+2],0!==c&&(b=a.slice(0,c));else if(b=Ext.apply({},a[0]),g=a[1],h=a[2],k=a[3],e)for(j in b)b.hasOwnProperty(j)&&!d[j]&&delete b[j];return{data:b,callback:g,scope:h,options:k}}});
Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",alternateClassName:"Ext.Direct.Transaction",statics:{TRANSACTION_ID:0},constructor:function(a){Ext.apply(this,a);this.id=this.tid=++this.self.TRANSACTION_ID;this.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}});
Ext.define("Ext.direct.RemotingProvider",{extend:Ext.direct.JsonProvider,alias:"direct.remotingprovider",enableBuffer:10,maxRetries:1,constructor:function(a){this.callParent(arguments);this.namespace=Ext.isString(this.namespace)?Ext.ns(this.namespace):this.namespace||Ext.global;this.transactions=new Ext.util.MixedCollection;this.callBuffer=[]},getNamespace:function(a,b){var c,d,e,g;a=a||Ext.global;c=b.toString().split(".");e=0;for(g=c.length;e<g&&!(d=c[e],a=a[d],"undefined"===typeof a);e++);return a},
createNamespaces:function(a,b){var c,d;a=a||Ext.global;c=b.toString().split(".");for(var e=0,g=c.length;e<g;e++)d=c[e],a[d]=a[d]||{},a=a[d];return a},initAPI:function(){var a=this.actions,b=this.namespace,c,d,e,g,h,j;for(c in a)if(a.hasOwnProperty(c)){this.disableNestedActions?(d=b[c])||(d=b[c]={}):(d=this.getNamespace(b,c))||(d=this.createNamespaces(b,c));e=a[c];g=0;for(h=e.length;g<h;++g)j=new Ext.direct.RemotingMethod(e[g]),d[j.name]=this.createHandler(c,j)}},createHandler:function(a,b){var c=
this,d=Array.prototype.slice,e;e=b.formHandler?function(e,h,j){c.configureFormRequest(a,b,d.call(arguments,0))}:function(){c.configureRequest(a,b,d.call(arguments,0))};e.directCfg={action:a,method:b};return e},isConnected:function(){return!!this.connected},connect:function(){this.url?(this.initAPI(),this.connected=!0,this.fireEvent("connect",this)):this.url||Ext.Error.raise('Error initializing RemotingProvider "'+this.id+'", no url configured.')},disconnect:function(){this.connected&&(this.connected=
!1,this.fireEvent("disconnect",this))},runCallback:function(a,b){var c=!!b.status,d=c?"success":"failure",e,g,h;a&&a.callback&&(e=a.callback,g=a.callbackOptions,h="undefined"!==typeof b.result?b.result:b.data,Ext.isFunction(e)?e(h,b,c,g):(Ext.callback(e[d],e.scope,[h,b,c,g]),Ext.callback(e.callback,e.scope,[h,b,c,g])))},onData:function(a,b,c){var d,e,g;if(b){c=this.createEvents(c);a=0;for(b=c.length;a<b;++a)d=c[a],e=this.getTransaction(d),this.fireEvent("data",this,d),e&&!1!==this.fireEvent("beforecallback",
this,d,e)&&(this.runCallback(e,d,!0),Ext.direct.Manager.removeTransaction(e))}else{g=[].concat(a.transaction);a=0;for(b=g.length;a<b;++a)(e=this.getTransaction(g[a]))&&e.retryCount<this.maxRetries?e.retry():(d=new Ext.direct.ExceptionEvent({data:null,transaction:e,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:c}),this.fireEvent("data",this,d),e&&!1!==this.fireEvent("beforecallback",this,e)&&(this.runCallback(e,d,!1),Ext.direct.Manager.removeTransaction(e)))}},
getTransaction:function(a){return a&&a.tid?Ext.direct.Manager.getTransaction(a.tid):null},configureRequest:function(a,b,c){var d,e,g,h;d=b.getCallData(c);e=d.data;g=d.callback;h=d.scope;d=d.options||{};a=Ext.apply({},{provider:this,args:c,action:a,method:b.name,data:e,callbackOptions:d,callback:h&&Ext.isFunction(g)?Ext.Function.bind(g,h):g});d.timeout&&Ext.applyIf(a,{timeout:d.timeout});a=new Ext.direct.Transaction(a);!1!==this.fireEvent("beforecall",this,a,b)&&(Ext.direct.Manager.addTransaction(a),
this.queueTransaction(a),this.fireEvent("call",this,a,b))},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.id}},sendRequest:function(a){var b,c,d=this.enableUrlEncode,e,g;b={url:this.url,callback:this.onData,scope:this,transaction:a,timeout:this.timeout};a.timeout&&(b.timeout=a.timeout);if(Ext.isArray(a)){c=[];e=0;for(g=a.length;e<g;++e)c.push(this.getCallData(a[e]))}else c=this.getCallData(a);d?(a={},a[Ext.isString(d)?d:"data"]=Ext.encode(c),b.params=a):
b.jsonData=c;Ext.Ajax.request(b)},queueTransaction:function(a){var b=this.enableBuffer;a.form?this.sendFormRequest(a):!1===b||"undefined"!==typeof a.timeout?this.sendRequest(a):(this.callBuffer.push(a),b?(this.callTask||(this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)),this.callTask.delay(Ext.isNumber(b)?b:10)):this.combineAndSend())},combineAndSend:function(){var a=this.callBuffer,b=a.length;0<b&&(this.sendRequest(1==b?a[0]:a),this.callBuffer=[])},configureFormRequest:function(a,
b,c){var d=c[0],e=c[1];c=c[2];var g;c=new Ext.direct.Transaction({provider:this,action:a,method:b.name,args:[d,e,c],callback:c&&Ext.isFunction(e)?Ext.Function.bind(e,c):e,isForm:!0});!1!==this.fireEvent("beforecall",this,c,b)&&(Ext.direct.Manager.addTransaction(c),g="multipart/form-data"==String(d.getAttribute("enctype")).toLowerCase(),a={extTID:c.id,extAction:a,extMethod:b.name,extType:"rpc",extUpload:String(g)},Ext.apply(c,{form:Ext.getDom(d),isUpload:g,params:e&&Ext.isObject(e.params)?Ext.apply(a,
e.params):a}),this.fireEvent("call",this,c,b),this.sendFormRequest(c))},sendFormRequest:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,transaction:a})}});
Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(a){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(a)},bindListeners:function(a){this.monitorElement[a?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){this.monitorElement=Ext.Element.create({classList:["x-paint-monitor",
this.monitorClass]},!0);a.appendChild(this.monitorElement);a.addCls("x-paint-monitored");this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var a=this.monitorElement,b=a.parentNode,c=this.getElement();this.bindListeners(!1);delete this.monitorElement;c&&!c.isDestroyed&&(c.removeCls("x-paint-monitored"),delete this._element);b&&b.removeChild(a);this.callParent()}});
Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(a){"x-paint-monitor-helper"===a.animationName&&this.getCallback().apply(this.getScope(),this.getArgs())}});
Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(){this.getCallback().apply(this.getScope(),this.getArgs())}});Ext.define("Ext.util.PaintMonitor",{constructor:function(a){return Ext.browser.is.Firefox||Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry?new Ext.util.paintmonitor.OverflowChange(a):new Ext.util.paintmonitor.CssAnimation(a)}});
Ext.define("Ext.event.publisher.ElementPaint",{extend:Ext.event.publisher.Publisher,targetType:"element",handledEvents:["painted"],constructor:function(){this.monitors={};this.callSuper(arguments)},subscribe:function(a){var b=a.match(this.idSelectorRegex),c=this.subscribers;if(!b)return!1;b=b[1];if(c.hasOwnProperty(b))return c[b]++,!0;c[b]=1;c=Ext.get(b);this.monitors[b]=new Ext.util.PaintMonitor({element:c,callback:this.onElementPainted,scope:this,args:[a,c]});return!0},unsubscribe:function(a,b,
c){b=a.match(this.idSelectorRegex);a=this.subscribers;if(!b)return!1;b=b[1];if(!a.hasOwnProperty(b)||!c&&0<--a[b])return!0;delete a[b];this.monitors[b].destroy();delete this.monitors[b];return!0},onElementPainted:function(a,b){Ext.TaskQueue.requestRead("dispatch",this,[a,"painted",[b]])}});
Ext.define("Ext.mixin.Templatable",{extend:Ext.Mixin,mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var a=document.createDocumentFragment();a.appendChild(Ext.Element.create(this.getElementConfig(),!0));return a},initElement:function(){var a=this.self.prototype;a.elementTemplate=this.getElementTemplate();a.initElement=a.doInitElement;this.initElement.apply(this,
arguments)},linkElement:function(a,b){this.link(a,b)},doInitElement:function(){var a=this.referenceAttributeName,b,c,d,e,g;b=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector);c=0;for(d=b.length;c<d;c++)e=b[c],g=e.getAttribute(a),e.removeAttribute(a),this.linkElement(g,e)}});
Ext.define("Ext.util.sizemonitor.Abstract",{mixins:[Ext.mixin.Templatable],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(a){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(a);this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){a.append(this.detectorsContainer);
a.addCls("x-size-monitored")},applyArgs:function(a){return a.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var a=this.getElement();if(!a||a.isDestroyed)return!1;var b=a.getWidth(),
a=a.getHeight(),c=this.getContentWidth(),d=this.getContentHeight(),e=this.contentWidth,g=this.contentHeight,h=this.info,j=!1;this.width=b;this.height=a;this.contentWidth=c;this.contentHeight=d;e=(e!==c?1:0)+(g!==d?2:0);0<e&&(h.width=b,h.height=a,h.contentWidth=c,h.contentHeight=d,h.flag=e,j=!0,this.getCallback().apply(this.getScope(),this.getArgs()));return j},refresh:function(a){(this.refreshSize()||a)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var a=this.getElement();
this.bindListeners(!1);a&&!a.isDestroyed&&a.removeCls("x-size-monitored");delete this._element;this.callParent()}});Ext.define("Ext.util.sizemonitor.Default",{extend:Ext.util.sizemonitor.Abstract,updateElement:function(){},bindListeners:function(a){var b=this.getElement().dom;b&&(a?b.onresize=this.refresh:delete b.onresize)},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}});
Ext.define("Ext.util.sizemonitor.Scroll",{extend:Ext.util.sizemonitor.Abstract,getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(a){this.onScroll=Ext.Function.bind(this.onScroll,this);this.callSuper(arguments)},bindListeners:function(a){a=a?"addEventListener":"removeEventListener";this.expandMonitor[a]("scroll",this.onScroll,
!0);this.shrinkMonitor[a]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var a=this.expandMonitor,b=this.shrinkMonitor;a&&!a.isDestroyed&&(a.scrollLeft=1E6,a.scrollTop=1E6);b&&!b.isDestroyed&&(b.scrollLeft=1E6,b.scrollTop=1E6)}});
Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:Ext.util.sizemonitor.Abstract,constructor:function(a){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);this.callSuper(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:["x-size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},
bindListeners:function(a){a=a?"addEventListener":"removeEventListener";this.expandMonitor[a](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0);this.shrinkMonitor[a](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(a){(!Ext.browser.is.Webkit||!a.horizontalOverflow||!a.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(a){(!Ext.browser.is.Webkit||a.horizontalOverflow||a.verticalOverflow)&&Ext.TaskQueue.requestRead("refresh",
this)},refreshMonitors:function(){if(!this.isDestroyed){var a=this.expandHelper,b=this.shrinkHelper,c=this.getContentBounds(),d=c.width,c=c.height;a&&!a.isDestroyed&&(a=a.style,a.width=d+1+"px",a.height=c+1+"px");b&&!b.isDestroyed&&(a=b.style,a.width=d+"px",a.height=c+"px");Ext.TaskQueue.requestRead("refresh",this)}}});
Ext.define("Ext.util.SizeMonitor",{constructor:function(a){var b=Ext.util.sizemonitor;return Ext.browser.is.Firefox?new b.OverflowChange(a):Ext.browser.is.WebKit?!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")?new b.OverflowChange(a):new b.Scroll(a):Ext.browser.is.IE11?new b.Scroll(a):new b.Default(a)}});
Ext.define("Ext.event.publisher.ElementSize",{extend:Ext.event.publisher.Publisher,targetType:"element",handledEvents:["resize"],constructor:function(){this.monitors={};this.callSuper(arguments)},subscribe:function(a){var b=a.match(this.idSelectorRegex),c=this.subscribers;if(!b||"#ext-window"===a)return!1;b=b[1];if(c.hasOwnProperty(b))return c[b]++,!0;c[b]=1;c=Ext.get(b);this.monitors[b]=c=new Ext.util.SizeMonitor({element:c,callback:this.onElementResize,scope:this,args:[a,c]});this.dispatcher.addListener("element",
a,"painted","forceRefresh",c);return!0},unsubscribe:function(a,b,c){var d=a.match(this.idSelectorRegex),e=this.subscribers;b=this.monitors;if(!d)return!1;d=d[1];if(!e.hasOwnProperty(d)||!c&&0<--e[d])return!0;delete e[d];c=b[d];this.dispatcher.removeListener("element",a,"painted","forceRefresh",c);c.destroy();delete b[d];return!0},onElementResize:function(a,b,c){Ext.TaskQueue.requestRead("dispatch",this,[a,"resize",[b,c]])}});
Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,
"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(a){this.data={};this.set(a)},setConfig:function(a){this.set(a);return this},setRaw:function(a){this.data=
a;return this},clear:function(){return this.setRaw({})},setTransform:function(a,b){var c=this.data,d=Ext.isArray(b),e=c.transform,g;e||(e=c.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if("string"==typeof a)switch(a){case "translate":if(d){c=b.length;if(0==c)break;e.translateX=b[0];if(1==c)break;e.translateY=b[1];if(2==c)break;e.translateZ=b[2]}else e.translateX=b;break;case "rotate":if(d){c=b.length;if(0==c)break;
e.rotateX=b[0];if(1==c)break;e.rotateY=b[1];if(2==c)break;e.rotateZ=b[2]}else e.rotate=b;break;case "scale":if(d){c=b.length;if(0==c)break;e.scaleX=b[0];if(1==c)break;e.scaleY=b[1];if(2==c)break;e.scaleZ=b[2]}else e.scaleX=b,e.scaleY=b;break;case "skew":if(d){c=b.length;if(0==c)break;e.skewX=b[0];if(1==c)break;e.skewY=b[1]}else e.skewX=b;break;default:e[a]=b}else for(g in a)a.hasOwnProperty(g)&&(b=a[g],this.setTransform(g,b))},set:function(a,b){var c=this.data,d;if("string"!=typeof a)for(d in a)b=
a[d],"transform"===d?this.setTransform(b):c[d]=b;else"transform"===a?this.setTransform(b):c[a]=b;return this},unset:function(a){var b=this.data;b.hasOwnProperty(a)&&delete b[a];return this},getData:function(){return this.data}});
Ext.define("Ext.fx.animation.Abstract",{extend:Ext.Evented,isAnimation:!0,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states=
{};this.callParent(arguments);return this},applyElement:function(a){return Ext.get(a)},applyBefore:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},applyAfter:function(a,b){if(a)return Ext.factory(a,Ext.fx.State,b)},setFrom:function(a){return this.setState(this.STATE_FROM,a)},setTo:function(a){return this.setState(this.STATE_TO,a)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(a){var b=this.stateNameRegex,
c;for(c in a)b.test(c)&&this.setState(c,a[c]);return this},getStates:function(){return this.states},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();this.callParent()},setState:function(a,b){var c=this.getStates(),d;(d=Ext.factory(b,Ext.fx.State,c[a]))?c[a]=d:a===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+b);return this},getState:function(a){return this.getStates()[a]},getData:function(){var a=this.getStates(),b={},c=this.getBefore(),
d=this.getAfter(),e=a[this.STATE_TO],g=a[this.STATE_FROM].getData(),e=e.getData(),h,j;for(j in a)a.hasOwnProperty(j)&&(h=a[j],h=h.getData(),b[j]=h);Ext.browser.is.AndroidStock2&&(b["0.0001%"]=g);return{before:c?c.getData():{},after:d?d.getData():{},states:b,from:g,to:e,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),
preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});
Ext.define("Ext.fx.animation.Slide",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(a){return"auto"===a?"ease-"+(this.getOut()?"in":"out"):a},getContainerBox:function(){var a=this._containerBox;"auto"===
a&&(a=this.getElement().getParent().getBox());return a},getElementBox:function(){var a=this._elementBox;if(this.getIsElementBoxFit())return this.getContainerBox();"auto"===a&&(a=this.getElement().getBox());return a},getData:function(){var a=this.getElementBox(),b=this.getContainerBox(),c=a?a:b,d=this.getFrom(),a=this.getTo(),e=this.getOut(),g=this.getOffset(),h=this.getDirection(),j=this.getUseCssTransform(),k=0,l=0;this.getReverse()&&(h=this.reverseDirectionMap[h]);switch(h){case this.DIRECTION_UP:l=
e?b.top-c.top-c.height-g:b.bottom-c.bottom+c.height+g;break;case this.DIRECTION_DOWN:l=e?b.bottom-c.bottom+c.height+g:b.top-c.height-c.top-g;break;case this.DIRECTION_RIGHT:k=e?b.right-c.right+c.width+g:b.left-c.left-c.width-g;break;case this.DIRECTION_LEFT:k=e?b.left-c.left-c.width-g:b.right-c.right+c.width+g}b=e?0:k;c=e?0:l;j?d.setTransform({translateX:b,translateY:c}):(d.set("left",b),d.set("top",c));d=e?k:0;e=e?l:0;j?a.setTransform({translateX:d,translateY:e}):(a.set("left",d),a.set("top",e));
return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:Ext.fx.animation.Slide,alias:["animation.slideOut"],config:{out:!0}});
Ext.define("Ext.fx.animation.Fade",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(a){var b=this.getTo(),c=this.getFrom();a?(c.set("opacity",1),b.set("opacity",0)):(c.set("opacity",0),b.set("opacity",1))}});Ext.define("Ext.fx.animation.FadeOut",{extend:Ext.fx.animation.Fade,alias:"animation.fadeOut",config:{out:!0,before:{}}});
Ext.define("Ext.fx.animation.Flip",{extend:Ext.fx.animation.Abstract,alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var a=this.getFrom(),b=this.getTo(),c=this.getDirection(),d=this.getOut(),e=this.getHalf()?90:180,g=1,h=1,j=0,k=0,l=0,m=0;d?h=0.8:g=0.8;switch(c){case this.DIRECTION_UP:d?l=e:j=-e;break;case this.DIRECTION_DOWN:d?l=-e:j=e;break;case this.DIRECTION_RIGHT:d?m=e:k=-e;break;case this.DIRECTION_LEFT:d?m=-e:k=e}a.setTransform({rotateX:j,
rotateY:k,scale:g});b.setTransform({rotateX:l,rotateY:m,scale:h});return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.Pop",{extend:Ext.fx.animation.Abstract,alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var a=this.getTo(),b=this.getFrom();this.getOut()?(b.set("opacity",1),b.setTransform({scale:1}),a.set("opacity",0),a.setTransform({scale:0})):(b.set("opacity",0),b.setTransform({scale:0}),a.set("opacity",1),a.setTransform({scale:1}));return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.PopOut",{extend:Ext.fx.animation.Pop,alias:"animation.popOut",config:{out:!0,before:{}}});Ext.define("Ext.fx.Animation",{constructor:function(a){var b=Ext.fx.animation.Abstract,c;"string"==typeof a?(c=a,a={}):a&&a.type&&(c=a.type);c&&(Ext.browser.is.AndroidStock2&&("pop"==c&&(c="fade"),"popIn"==c&&(c="fadeIn"),"popOut"==c&&(c="fadeOut")),(b=Ext.ClassManager.getByAlias("animation."+c))||Ext.Logger.error("Invalid animation type of: '"+c+"'"));return Ext.factory(a,b)}});
Ext.define("Ext.fx.runner.Css",{extend:Ext.Evented,prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,
"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0},durationProperties:{"transition-duration":!0,
"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){this.transformMethods=Ext.feature.has.Css3dTransforms?"translateX translateY translateZ rotate rotateX rotateY rotateZ skewX skewY scaleX scaleY scaleZ".split(" "):"translateX translateY rotate skewX skewY scaleX scaleY".split(" ");
this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};return this},getStyleSheet:function(){var a=this.styleSheet;a||(a=document.createElement("style"),a.type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(a),a=document.styleSheets,this.styleSheet=a=a[a.length-1]);return a},applyRules:function(a){var b=this.getStyleSheet(),c=this.ruleStylesCache,d=b.cssRules,e,g,h,j,k,l;for(e in a)for(k in g=a[e],h=c[e],void 0===h&&(h=d.length,b.insertRule(e+
"{}",h),h=c[e]=d.item(h).style),j=h.$cache,j||(j=h.$cache={}),g)l=this.formatValue(g[k],k),k=this.formatName(k),j[k]!==l&&(j[k]=l,null===l?h.removeProperty(k):h.setProperty(k,l,"important"));return this},applyStyles:function(a){var b,c,d,e,g;for(b in a)if(a.hasOwnProperty(b)){c=document.getElementById(b);if(!c)break;c=c.style;d=a[b];for(e in d)d.hasOwnProperty(e)&&(g=this.formatValue(d[e],e),e=this.formatName(e),null===g?c.removeProperty(e):c.setProperty(e,g,"important"))}return this},formatName:function(a){var b=
this.formattedNameCache,c=b[a];c||(c=(Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[a]?this.vendorPrefix+a:a,b[a]=c);return c},formatValue:function(a,b){var c=typeof a,d=this.DEFAULT_UNIT_LENGTH,e,g,h;if(null===a)return"";if("string"==c){if(this.lengthProperties[b])if(c=a.match(this.lengthUnitRegex)[1],0<c.length)c!==d&&Ext.Logger.error("Length unit: '"+c+"' in value: '"+a+"' of property: '"+b+"' is not valid for animation. Only 'px' is allowed");else return a+d}else if("number"==
c){if(0==a)return"0";if(this.lengthProperties[b])return a+d;if(this.angleProperties[b])return a+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[b])return a+this.DEFAULT_UNIT_DURATION}else{if("transform"===b){e=this.transformMethods;h=[];d=0;for(c=e.length;d<c;d++)g=e[d],h.push(g+"("+this.formatValue(a[g],g)+")");return h.join(" ")}if(Ext.isArray(a)){e=[];d=0;for(c=a.length;d<c;d++)e.push(this.formatValue(a[d],b));return 0<e.length?e.join(", "):"none"}}return a}});
Ext.define("Ext.fx.runner.CssTransition",{extend:Ext.fx.runner.Css,listenersAttached:!1,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0;this.getEventDispatcher().addListener("element","*","transitionend","onTransitionEnd",this)},onTransitionEnd:function(a){var b=a.target,c=b.id;c&&this.runningAnimationsData.hasOwnProperty(c)&&this.refreshRunningAnimationsData(Ext.get(b),[a.browserEvent.propertyName])},onAnimationEnd:function(a,
b,c,d,e){var g=a.getId(),h=this.runningAnimationsData[g],j={},k={},l,m;c.un("stop","onAnimationStop",this);h&&(l=h.nameMap);j[g]=k;b.onBeforeEnd&&b.onBeforeEnd.call(b.scope||this,a,d);c.fireEvent("animationbeforeend",c,a,d);this.fireEvent("animationbeforeend",this,c,a,d);if(e||!d&&!b.preserveEndState){e=b.toPropertyNames;g=0;for(h=e.length;g<h;g++)m=e[g],l&&!l.hasOwnProperty(m)&&(k[m]=null)}b.after&&Ext.merge(k,b.after);this.applyStyles(j);b.onEnd&&b.onEnd.call(b.scope||this,a,d);c.fireEvent("animationend",
c,a,d);this.fireEvent("animationend",this,c,a,d);Ext.AnimationQueue.stop(Ext.emptyFn,c)},onAllAnimationsEnd:function(a){var b=a.getId(),c={};delete this.runningAnimationsData[b];c[b]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(c);this.fireEvent("animationallend",this,a)},hasRunningAnimations:function(a){a=a.getId();var b=this.runningAnimationsData;return b.hasOwnProperty(a)&&0<b[a].sessions.length},refreshRunningAnimationsData:function(a,
b,c,d){var e=a.getId(),g=this.runningAnimationsData[e];if(g){var e=g.nameMap,h=g.nameList,j=g.sessions,k,l,m,n,p,q,r,s=!1;c=Boolean(c);d=Boolean(d);if(!j)return this;k=j.length;if(0===k)return this;if(d){g.nameMap={};for(n=h.length=0;n<k;n++)p=j[n],this.onAnimationEnd(a,p.data,p.animation,c,d);j.length=0}else for(n=0;n<k;n++){p=j[n];q=p.map;r=p.list;g=0;for(l=b.length;g<l;g++)m=b[g],q[m]&&(delete q[m],Ext.Array.remove(r,m),p.length--,0==--e[m]&&(delete e[m],Ext.Array.remove(h,m)));0==p.length&&(j.splice(n,
1),n--,k--,s=!0,this.onAnimationEnd(a,p.data,p.animation,c))}if(!d&&!c&&0==j.length&&s)this.onAllAnimationsEnd(a)}},getRunningData:function(a){var b=this.runningAnimationsData;b.hasOwnProperty(a)||(b[a]={nameMap:{},nameList:[],sessions:[]});return b[a]},getTestElement:function(){var a=this.testElement,b;a||(a=document.createElement("iframe"),a.setAttribute("tabindex",-1),b=a.style,b.setProperty("visibility","hidden","important"),b.setProperty("width","0px","important"),b.setProperty("height","0px",
"important"),b.setProperty("position","absolute","important"),b.setProperty("border","0px","important"),b.setProperty("zIndex","-1000","important"),document.body.appendChild(a),b=a.contentDocument,b.open(),b.writeln("\x3c/body\x3e"),b.close(),this.testElement=a=b.createElement("div"),a.style.setProperty("position","absolute","important"),b.body.appendChild(a),this.testElementComputedStyle=window.getComputedStyle(a));return a},getCssStyleValue:function(a,b){var c=this.getTestElement(),d=this.testElementComputedStyle,
e=c.style;e.setProperty(a,b);Ext.browser.is.Firefox&&c.offsetHeight;b=d.getPropertyValue(a);e.removeProperty(a);return b},run:function(a){var b=this,c=this.lengthProperties,d={},e={},g={},h,j,k,l,m,n,p,q,r,s,t,u,v,w,x,A,z,B,y;this.listenersAttached||this.attachListeners();a=Ext.Array.from(a);t=0;for(v=a.length;t<v;t++){w=a[t];w=Ext.factory(w,Ext.fx.Animation);h=w.getElement();Ext.AnimationQueue.start(Ext.emptyFn,w);s=window.getComputedStyle(h.dom);j=h.getId();g=Ext.merge({},w.getData());w.onBeforeStart&&
w.onBeforeStart.call(w.scope||this,h);w.fireEvent("animationstart",w);this.fireEvent("animationstart",this,w);g[j]=g;m=g.before;k=g.from;l=g.to;g.fromPropertyNames=n=[];g.toPropertyNames=p=[];for(B in l)l.hasOwnProperty(B)&&(l[B]=x=this.formatValue(l[B],B),z=this.formatName(B),(u=c.hasOwnProperty(B))||(x=this.getCssStyleValue(z,x)),k.hasOwnProperty(B)?(k[B]=y=this.formatValue(k[B],B),u||(y=this.getCssStyleValue(z,y)),x!==y&&(n.push(z),p.push(z))):(y=s.getPropertyValue(z),x!==y&&p.push(z)));x=p.length;
if(0===x)this.onAnimationEnd(h,g,w);else{s=this.getRunningData(j);z=s.sessions;0<z.length&&this.refreshRunningAnimationsData(h,Ext.Array.merge(n,p),!0,g.replacePrevious);y=s.nameMap;s=s.nameList;A={};for(u=0;u<x;u++)B=p[u],A[B]=!0,y.hasOwnProperty(B)?y[B]++:(y[B]=1,s.push(B));h={element:h,map:A,list:p.slice(),length:x,data:g,animation:w};z.push(h);w.on("stop","onAnimationStop",this);m=Ext.apply({},m);Ext.apply(m,k);0<s.length&&(n=Ext.Array.difference(s,n),p=Ext.Array.merge(n,p),m["transition-property"]=
n);d[j]=m;e[j]=Ext.apply({},l);e[j]["transition-property"]=p;e[j]["transition-duration"]=g.duration;e[j]["transition-timing-function"]=g.easing;e[j]["transition-delay"]=g.delay;w.startTime=Date.now()}}r=this.$className;this.applyStyles(d);q=function(a){a.data===r&&a.source===window&&(window.removeEventListener("message",q,!1),b.applyStyles(e))};Ext.browser.is.IE?Ext.Function.requestAnimationFrame(function(){window.addEventListener("message",q,!1);window.postMessage(r,"*")}):(window.addEventListener("message",
q,!1),window.postMessage(r,"*"))},onAnimationStop:function(a){var b=this.runningAnimationsData,c,d,e,g,h;for(c in b)if(b.hasOwnProperty(c)){d=b[c];d=d.sessions;e=0;for(g=d.length;e<g;e++)h=d[e],h.animation===a&&this.refreshRunningAnimationsData(h.element,h.list.slice(),!1)}}});Ext.define("Ext.fx.Runner",{constructor:function(){return new Ext.fx.runner.CssTransition}});
Ext.define("Ext.fx.animation.Cube",{extend:Ext.fx.animation.Abstract,alias:"animation.cube",config:{before:{},after:{},direction:"right",out:!1},getData:function(){var a=this.getTo(),b=this.getFrom(),c=this.getBefore(),d=this.getAfter(),e=this.getOut(),g=this.getDirection(),h=this.getElement(),j=h.getWidth();h.getHeight();var k=h=1,l={rotateY:0,translateZ:0},m={rotateY:0,translateZ:0};if("left"==g||"right"==g)e?(k=0.5,m.translateZ=j,m.rotateY=-90):(h=0.5,l.translateZ=j,l.rotateY=90);c["transform-origin"]=
e?"100% 100%":"0% 0%";d["transform-origin"]=null;a.set("transform",m);b.set("transform",l);b.set("opacity",h);a.set("opacity",k);return this.callParent(arguments)}});
Ext.define("Ext.fx.animation.Wipe",{extend:Ext.fx.Animation,alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var a=this.getElement().dom.getBoundingClientRect(),b=a.width,a=a.height,c=this.getFrom(),d=this.getTo(),e=this.getOut(),g=0,h=0,j=0,k=0,l;switch(this.getDirection()){case "up":e?(l="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",h=3*a+"px",
k=a+"px"):(l="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",h=2*-a+"px",k=0);break;case "down":e?(l="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",h=2*-a+"px",k=0):(l="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",h=3*a+"px",k=a+"px");break;case "right":e?
(l="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",g=2*-b+"px",j=0):(l="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",j=2*-b+"px");break;case "left":e?(l="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",j=2*-b+"px"):(l="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",
g=2*-b+"px",j=0)}e||(e=h,h=k,k=e,e=g,g=j,j=e);c.set("mask-image",l);c.set("mask-size",3*b+"px "+3*a+"px");c.set("mask-position-x",g);c.set("mask-position-y",h);d.set("mask-position-x",j);d.set("mask-position-y",k)}});Ext.define("Ext.fx.animation.WipeOut",{extend:Ext.fx.animation.Wipe,config:{out:!0}});
Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){a||(a=Ext.Date.now());return a},updateStartTime:function(){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn});
Ext.define("Ext.fx.easing.Bounce",{extend:Ext.fx.easing.Abstract,config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var a=(Ext.Date.now()-this.getStartTime())/this.getAcceleration(),a=a*Math.pow(Math.E,-this.getSpringTension()*a);return this.getStartValue()+this.getStartVelocity()*a}});
Ext.define("Ext.fx.easing.Momentum",{extend:Ext.fx.easing.Abstract,config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(a){this.theta=a=Math.log(1-a/10);this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=
Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});
Ext.define("Ext.fx.easing.BoundMomentum",{extend:Ext.fx.easing.Abstract,config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},
reset:function(){this.lastValue=null;this.isOutOfBound=this.isBouncingBack=!1;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),b=this.getBounce(),c=a.getStartVelocity(),d=0<c?1:-1,e=this.getMinMomentumValue(),g=this.getMaxMomentumValue(),h=1==d?g:e,j=this.lastValue;if(0===c)return this.getStartValue();if(!this.isOutOfBound){c=a.getValue();a=a.getVelocity();Math.abs(a)<this.getMinVelocity()&&(this.isEnded=!0);if(c>=e&&c<=g)return c;this.isOutOfBound=!0;b.setStartTime(Ext.Date.now()).setStartVelocity(a).setStartValue(h)}c=
b.getValue();if(!this.isEnded)if(this.isBouncingBack)Math.round(c)==h&&(this.isEnded=!0);else if(null!==j&&(1==d&&c<j||-1==d&&c>j))this.isBouncingBack=!0;return this.lastValue=c}});
Ext.define("Ext.fx.easing.Linear",{extend:Ext.fx.easing.Abstract,alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();return a>b?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+a/b*this.distance}});
Ext.define("Ext.fx.easing.EaseIn",{extend:Ext.fx.easing.Linear,alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),c=this.getStartValue(),d=this.getEndValue(),e=this.distance,g=Math.pow(a/b,this.getExponent());return a>=b?(this.isEnded=!0,d):c+g*e}});
Ext.define("Ext.fx.easing.EaseOut",{extend:Ext.fx.easing.Linear,alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration(),c=this.getStartValue(),d=this.getEndValue(),e=this.distance,g=1-Math.pow(1-a/b,this.getExponent());return a>=b?(this.isEnded=!0,d):c+g*e}});Ext.define("Ext.fx.easing.Easing",{constructor:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")}});
Ext.define("Ext.fx.layout.card.Abstract",{extend:Ext.Evented,isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(){this.enable()},enable:function(){var a=this.getLayout();if(a)a.onBefore("activeitemchange","onActiveItemChange",this)},disable:function(){var a=this.getLayout();this.isAnimating&&this.stopAnimation();a&&a.unBefore("activeitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var a=this.getLayout();this.isAnimating&&
this.stopAnimation();a&&a.unBefore("activeitemchange","onActiveItemChange",this);this.setLayout(null);this.observableId&&(this.fireEvent("destroy",this),this.clearListeners(),this.clearManagedListeners())}});
Ext.define("Ext.fx.layout.card.Style",{extend:Ext.fx.layout.card.Abstract,config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(a){var b;this.callParent([a]);this.endAnimationCounter=0;a=this.getInAnimation();b=this.getOutAnimation();a.on("animationend","incrementEnd",this);b.on("animationend","incrementEnd",this)},updateDirection:function(a){this.getInAnimation().setDirection(a);this.getOutAnimation().setDirection(a)},
updateDuration:function(a){this.getInAnimation().setDuration(a);this.getOutAnimation().setDuration(a)},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)},incrementEnd:function(){this.endAnimationCounter++;1<this.endAnimationCounter&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},applyOutAnimation:function(a,b){return Ext.factory(a,Ext.fx.Animation,b)},updateInAnimation:function(a){a.setScope(this)},
updateOutAnimation:function(a){a.setScope(this)},onActiveItemChange:function(a,b,c,d,e){a=this.getInAnimation();d=this.getOutAnimation();var g;b&&(c&&c.isPainted())&&(g=b.renderElement,c=c.renderElement,a.setElement(g),d.setElement(c),d.setOnBeforeEnd(function(a,b){if(b||Ext.Animator.hasRunningAnimations(a))e.firingArguments[1]=null,e.firingArguments[2]=null}),d.setOnEnd(function(){e.resume()}),g.dom.style.setProperty("visibility","hidden","important"),b.show(),Ext.Animator.run([d,a]),e.pause())},
destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation());this.callParent(arguments)}});Ext.define("Ext.fx.layout.card.Slide",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Cover",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1},out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Reveal",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:0.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(a){this.getInAnimation().setReverse(a);this.getOutAnimation().setReverse(a)}});
Ext.define("Ext.fx.layout.card.Fade",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}});
Ext.define("Ext.fx.layout.card.Flip",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(a,b,c,d,e){var g=b.element.getParent();g.addCls("x-layout-card-perspective");this.on("animationend",
function(){g.removeCls("x-layout-card-perspective")},this,{single:!0});this.callParent(arguments)},updateDuration:function(a){a/=2;var b=this.getInAnimation(),c=this.getOutAnimation();b.setDelay(a);b.setDuration(a);c.setDuration(a)}});
Ext.define("Ext.fx.layout.card.Pop",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(a){a/=2;var b=this.getInAnimation(),c=this.getOutAnimation();b.setDelay(a);b.setDuration(a);c.setDuration(a)}});
Ext.define("Ext.fx.layout.card.Scroll",{extend:Ext.fx.layout.card.Abstract,alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(a){this.initConfig(a)},getEasing:function(){var a=this.easing;a||(this.easing=a=new Ext.fx.easing.Linear);return a},updateDuration:function(a){this.getEasing().setDuration(a)},onActiveItemChange:function(a,b,c,d,e){a=this.getDirection();d=this.getEasing();var g,h,j,k,l;b&&c&&(this.isAnimating&&this.stopAnimation(),b.setWidth("100%"),b.setHeight("100%"),
g=this.getLayout().container.innerElement,k=g.getWidth(),l=g.getHeight(),h=b.renderElement,j=c.renderElement,this.oldItem=c,this.newItem=b,this.currentEventController=e,this.containerElement=g,this.isReverse=c=this.getReverse(),b.show(),"right"==a?(a="left",this.isReverse=c=!c):"down"==a&&(a="up",this.isReverse=c=!c),"left"==a?c?(d.setConfig({startValue:k,endValue:0}),g.dom.scrollLeft=k,j.setLeft(k)):(d.setConfig({startValue:0,endValue:k}),h.setLeft(k)):c?(d.setConfig({startValue:l,endValue:0}),g.dom.scrollTop=
l,j.setTop(l)):(d.setConfig({startValue:0,endValue:l}),h.setTop(l)),this.startAnimation(),e.pause())},startAnimation:function(){this.isAnimating=!0;this.getEasing().setStartTime(Date.now());Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var a=this.getEasing(),b=this.getDirection(),c="scrollTop";if("left"==b||"right"==b)c="scrollLeft";a.isEnded?this.stopAnimation():(a=a.getValue(),this.containerElement.dom[c]=a)},stopAnimation:function(){var a=this.getDirection(),
b="setTop",c=this.oldItem,d=this.newItem;if("left"==a||"right"==a)b="setLeft";this.currentEventController.resume();if(this.isReverse&&c&&c.renderElement&&c.renderElement.dom)c.renderElement[b](null);else if(d&&d.renderElement&&d.renderElement.dom)d.renderElement[b](null);Ext.AnimationQueue.stop(this.doAnimationFrame,this);this.isAnimating=!1;this.fireEvent("animationend",this)}});
Ext.define("Ext.fx.layout.Card",{constructor:function(a){var b=Ext.fx.layout.card.Abstract,c;if(!a)return null;"string"==typeof a?(c=a,a={}):a.type&&(c=a.type);a.elementBox=!1;c&&(Ext.browser.is.AndroidStock2&&"fade"!=c&&(c="scroll"),(b=Ext.ClassManager.getByAlias("fx.layout.card."+c))||Ext.Logger.error("Unknown card animation type: '"+c+"'"));return Ext.factory(a,b)}});
Ext.define("Ext.fx.layout.card.Cube",{extend:Ext.fx.layout.card.Style,alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}});
Ext.define("Ext.fx.layout.card.ScrollCover",{extend:Ext.fx.layout.card.Scroll,alias:"fx.layout.card.scrollcover",onActiveItemChange:function(a,b,c,d,e){var g;this.lastController=e;if((this.inItem=b)&&c)a=this.getLayout().container.innerElement,a=a.getSize(),a=this.calculateXY(a),d={easing:this.getEasing(),duration:this.getDuration()},b.renderElement.dom.style.setProperty("visibility","hidden","important"),g=b.setTranslatable(!0).getTranslatable(),c=c.setTranslatable(!0).getTranslatable(),c.translate({x:0,
y:0}),g.translate({x:a.left,y:a.top}),g.getWrapper().dom.style.setProperty("z-index","100","important"),b.show(),g.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),g.translateAnimated({x:0,y:0},d),e.pause()},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}});
Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:Ext.fx.layout.card.Scroll,alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(a,b,c,d,e){var g;this.lastController=e;this.outItem=c;if((this.inItem=b)&&c)a=this.getLayout().container.innerElement,a=a.getSize(),a=this.calculateXY(a),d={easing:this.getEasing(),duration:this.getDuration()},c=c.setTranslatable(!0).getTranslatable(),g=b.setTranslatable(!0).getTranslatable(),c.getWrapper().dom.style.setProperty("z-index","100","important"),
c.translate({x:0,y:0}),g.translate({x:0,y:0}),b.show(),c.on({animationend:"onOutAnimationEnd",scope:this}),c.translateAnimated({x:a.x,y:a.y},d),e.pause()},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index");this.lastController.resume()}});
Ext.define("Ext.fx.runner.CssAnimation",{extend:Ext.fx.runner.Css,constructor:function(){this.runningAnimationsMap={};this.elementEndStates={};this.animationElementMap={};this.keyframesRulesCache={};this.uniqueId=0;return this.callParent(arguments)},attachListeners:function(){var a=this.getEventDispatcher();this.listenersAttached=!0;a.addListener("element","*","animationstart","onAnimationStart",this);a.addListener("element","*","animationend","onAnimationEnd",this)},onAnimationStart:function(a){a=
a.browserEvent.animationName;var b=this.animationElementMap[a],c=this.runningAnimationsMap[b][a],d=this.elementEndStates,e=d[b],g={};console.log("START\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d "+a);e&&(delete d[b],g[b]=e,this.applyStyles(g));c.before&&(g[b]=c.before,this.applyStyles(g))},onAnimationEnd:function(a){var b=a.target;a=a.browserEvent.animationName;var c=this.animationElementMap,d=this.runningAnimationsMap[c[a]],e=d[a];console.log("END\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d "+
a);e.onBeforeEnd&&e.onBeforeEnd.call(e.scope||this,b);e.onEnd&&e.onEnd.call(e.scope||this,b);delete c[a];delete d[a];this.removeKeyframesRule(a)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(a){var b={},c=this.elementEndStates,d=this.animationElementMap,e=this.runningAnimationsMap,g,h,j,k,l,m,n,p,q,r,s,t,u,v;this.listenersAttached||this.attachListeners();a=Ext.Array.from(a);l=0;for(m=a.length;l<m;l++){n=a[l];n=Ext.factory(n,Ext.fx.Animation);j=n.getElement().getId();
k=n.getName()||this.generateAnimationId();d[k]=j;n=n.getData();h=n.states;this.addKeyframesRule(k,h);(g=e[j])||(g=e[j]={});g[k]=n;q=[];r=[];s=[];t=[];u=[];v=[];for(p in g)g.hasOwnProperty(p)&&(k=g[p],q.push(p),r.push(k.duration),s.push(k.easing),t.push(k.delay),u.push(k.direction),v.push(k.iteration));b[j]={"animation-name":q,"animation-duration":r,"animation-timing-function":s,"animation-delay":t,"animation-direction":u,"animation-iteration-count":v};n.preserveEndState&&(c[j]=h["100%"])}this.applyStyles(b)},
addKeyframesRule:function(a,b){var c,d,e,g,h,j,k;d=this.getStyleSheet();g=d.cssRules;h=g.length;d.insertRule("@"+this.vendorPrefix+"keyframes "+a+"{}",h);e=g[h];for(c in b){d=b[c];g=e.cssRules;h=g.length;g=[];for(j in d)k=this.formatValue(d[j],j),j=this.formatName(j),g.push(j+":"+k);e.insertRule(c+"{"+g.join(";")+"}",h)}return this},removeKeyframesRule:function(a){var b=this.getStyleSheet(),c=b.cssRules,d,e,g;d=0;for(e=c.length;d<e;d++)if(g=c[d],g.name===a){b.removeRule(d);break}return this}});
Ext.define("Ext.mixin.Hookable",{extend:Ext.Mixin,mixinConfig:{id:"hookable"},bind:function(a,b,c,d,e){c||(c=b);var g=a[b],h,j;if(g&&g.hasOwnProperty("$binding")&&(j=g.$binding,j.bindingMethod===c&&j.bindingScope===this))return this;a[b]=h=function(){var a=h.$binding,b=a.bindingScope,c=Array.prototype.slice.call(arguments);c.push(arguments);e&&c.push.apply(c,e);if(!a.preventDefault&&!1!==b[a.bindingMethod].apply(b,c))return a.boundFn.apply(this,arguments)};h.$binding={preventDefault:!!d,boundFn:g,
bindingMethod:c,bindingScope:this};return this},unbind:function(a,b,c){c||(c=b);for(var d=a[b].$binding,e,g;d;){e=d.boundFn;if(d.bindingMethod===c&&d.bindingScope===this){g?g.boundFn=e:a[b]=e;break}g=d;d=e.$binding}return this}});
Ext.define("Ext.mixin.Mashup",function(a){return{extend:Ext.Mixin,mixinConfig:{id:"mashup",extended:function(b,c){a.process(c)}},statics:{process:function(a){var c=a.prototype,d=c.requiredScripts,e=a._classHooks,g=e.onCreated;d&&(delete c.requiredScripts,e.onCreated=function(){var a=this,b=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:d,cache:!0,onLoad:function(){e.onCreated=g;e.onCreated.call(a,b)}})})}},onClassMixedIn:function(b){a.process(b)}}});
Ext.define("Ext.mixin.Responsive",function(a){return{extend:Ext.Mixin,mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(a,c,d,e){if(!a)return c;c=c?Ext.Object.chain(c):{};for(var g in a)if(!e||!(g in c))c[g]={fn:null,config:a[g]};return c}},responsiveFormulas:{$value:0,merge:function(a,c,d,e){return this.mergeNew(a,c,d,e)}}},destroy:function(){a.unregister(this);this.callParent()},privates:{statics:{active:!1,all:{},context:{},count:0,nextId:0,
activate:function(){a.active=!0;a.updateContext();Ext.on("resize",a.onResize,a)},createRuleFn:function(a){return new Function("$c","with($c) { return ("+a+"); }")},deactivate:function(){a.active=!1;Ext.un("resize",a.onResize,a)},notify:function(){var b=a.all,c=a.context,d=Ext.GlobalEvents,e=a.timer,g;e&&(a.timer=null,Ext.Function.cancelAnimationFrame(e));a.updateContext();Ext.suspendLayouts();d.fireEvent("beforeresponsiveupdate",c);for(g in b)b[g].setupResponsiveContext();d.fireEvent("beginresponsiveupdate",
c);for(g in b)b[g].updateResponsiveState();d.fireEvent("responsiveupdate",c);Ext.resumeLayouts(!0)},onResize:function(){a.timer||(a.timer=Ext.Function.requestAnimationFrame(a.onTimer))},onTimer:function(){a.timer=null;a.notify()},processConfig:function(a,c,d){c=c&&c[d];var e=a.config,g;c&&(g=a.getConfigurator(),g=g.configs[d],e[d]=g.merge(c,e[d],a))},register:function(b){var c=b.$responsiveId;c||(b.$responsiveId=c=++a.nextId,a.all[c]=b,1===++a.count&&a.activate())},unregister:function(b){var c=b.$responsiveId;
c in a.all&&(b.$responsiveId=null,delete a.all[c],0===--a.count&&a.deactivate())},updateContext:function(){var b=Ext.Element,c=b.getViewportWidth(),b=b.getViewportHeight(),d=Ext.Microloader,e=a.context;e.width=c;e.height=b;e.tall=c<b;e.wide=!e.tall;e.landscape=e.portrait=!1;e.platform||(e.platform=d&&d.platformTags||{desktop:!0});!e.platform.desktop||Ext.supports.OrientationChange?e[Ext.dom.Element.getOrientation()]=!0:e.landscape=!0}},afterClassMixedIn:function(a){var c=a.prototype,d=c.responsiveConfig,
e=c.responsiveFormulas,g;if(d||e)g={},d&&(delete c.responsiveConfig,g.responsiveConfig=d),e&&(delete c.responsiveFormulas,g.responsiveFormulas=e),a.getConfigurator().add(g)},applyResponsiveConfig:function(b){for(var c in b)b[c].fn=a.createRuleFn(c);return b},applyResponsiveFormulas:function(b){var c={},d,e;if(b)for(e in b){if(Ext.isString(d=b[e]))d=a.createRuleFn(d);c[e]=d}return c},getResponsiveState:function(){var b=a.context,c=this.getResponsiveConfig(),d={},e,g;if(c)for(g in c)e=c[g],e.fn.call(this,
b)&&Ext.merge(d,e.config);return d},setupResponsiveContext:function(){var b=this.getResponsiveFormulas(),c=a.context,d;if(b)for(d in b)c[d]=b[d].call(this,c)},transformInstanceConfig:function(b){var c;a.register(this);b&&(a.processConfig(this,b,"responsiveConfig"),a.processConfig(this,b,"responsiveFormulas"));this.setupResponsiveContext();c=this.getResponsiveState();b&&(c=Ext.merge({},b,c),delete c.responsiveConfig,delete c.responsiveFormulas);return c},updateResponsiveState:function(){var a=this.getResponsiveState();
this.setConfig(a)}}}});
Ext.define("Ext.mixin.Selectable",{extend:Ext.Mixin,mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{addrecords:"onSelectionStoreAdd",removerecords:"onSelectionStoreRemove",updaterecord:"onSelectionStoreUpdate",load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection;
this.callParent(arguments)},applyMode:function(a){a=a?a.toUpperCase():"SINGLE";return this.modes[a]?a:"SINGLE"},updateStore:function(a,b){var c=Ext.apply({},this.selectableEventHooks,{scope:this});b&&(Ext.isObject(b)&&b.isStore)&&(b.autoDestroy?b.destroy():(b.un(c),a&&a.un("clear","onSelectionStoreClear",this)));a&&(a.on(c),a.onBefore("clear","onSelectionStoreClear",this),this.refreshSelection())},selectAll:function(a){var b=this.getStore().getRange();this.select(b,!0,a)},deselectAll:function(a){var b=
this.getStore().getRange();this.deselect(b,a);this.selected.clear();this.setLastSelected(null);this.setLastFocused(null)},selectWithEvent:function(a){var b=this.isSelected(a);switch(this.getMode()){case "MULTI":case "SIMPLE":b?this.deselect(a):this.select(a,!0);break;case "SINGLE":this.getAllowDeselect()&&b?this.deselect(a):this.select(a,!1)}},selectRange:function(a,b,c){var d=this.getStore(),e=[],g;if(!this.getDisableSelection()){a>b&&(g=b,b=a,a=g);for(;a<=b;a++)e.push(d.getAt(a));this.doMultiSelect(e,
c)}},select:function(a,b,c){this.getDisableSelection()||("number"===typeof a&&(a=[this.getStore().getAt(a)]),a&&("SINGLE"==this.getMode()&&a?(a=a.length?a[0]:a,this.doSingleSelect(a,c)):this.doMultiSelect(a,b,c)))},doSingleSelect:function(a,b){var c=this.selected;!this.getDisableSelection()&&!this.isSelected(a)&&(0<c.getCount()&&this.deselect(this.getLastSelected(),b),c.add(a),this.setLastSelected(a),this.onItemSelect(a,b),this.setLastFocused(a),b||this.fireSelectionChange([a]))},doMultiSelect:function(a,
b,c){if(!(null===a||this.getDisableSelection())){a=!Ext.isArray(a)?[a]:a;var d=this.selected,e=a.length,g=!1,h=0,j;!b&&0<d.getCount()&&(g=!0,this.deselect(this.getSelection(),!0));for(;h<e;h++)if(j=a[h],!b||!this.isSelected(j))g=!0,this.setLastSelected(j),d.add(j),c||this.setLastFocused(j),this.onItemSelect(j,c);g&&!c&&this.fireSelectionChange(a)}},deselect:function(a,b){if(!this.getDisableSelection()){a=Ext.isArray(a)?a:[a];for(var c=this.selected,d=!1,e=0,g=this.getStore(),h=a.length,j;e<h;e++)if(j=
a[e],"number"===typeof j&&(j=g.getAt(j)),c.remove(j)&&(this.getLastSelected()==j&&this.setLastSelected(c.last()),d=!0),j)this.onItemDeselect(j,b);d&&!b&&this.fireSelectionChange(a)}},updateLastFocused:function(a,b){this.onLastFocusChanged(b,a)},fireSelectionChange:function(a){var b=this;b.fireAction("beforeselectionchange",[b],function(){b.fireAction("selectionchange",[b,a],"getSelection")})},getSelection:function(){return this.selected.getRange()},isSelected:function(a){a=Ext.isNumber(a)?this.getStore().getAt(a):
a;return-1!==this.selected.indexOf(a)},hasSelection:function(){return 0<this.selected.getCount()},refreshSelection:function(){var a=this.getSelection();this.deselectAll(!0);a.length&&this.select(a,!1,!0)},onSelectionStoreRemove:function(a,b){var c=this.selected,d=b.length,e,g;if(!this.getDisableSelection())for(g=0;g<d;g++)e=b[g],c.remove(e)&&(this.getLastSelected()==e&&this.setLastSelected(null),this.getLastFocused()==e&&this.setLastFocused(null),this.fireSelectionChange([e]))},onSelectionStoreClear:function(a){var b=
a.getData().items;this.onSelectionStoreRemove(a,b)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){});
Ext.define("Ext.mixin.Traversable",{extend:Ext.Mixin,mixinConfig:{id:"traversable"},setParent:function(a){this.parent=a;return this},hasParent:function(){return Boolean(this.parent)},getParent:function(){return this.parent},getAncestors:function(){for(var a=[],b=this.getParent();b;)a.push(b),b=b.getParent();return a},getAncestorIds:function(){for(var a=[],b=this.getParent();b;)a.push(b.getId()),b=b.getParent();return a}});
Ext.define("Ext.perf.Accumulator",function(){function a(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function b(b){b=b?b:j()-this.time;var c=this.accum;++c.count;--c.depth||a(c.total,b);a(c.pure,b-this.childTime);if(e=this.parent)++e.accum.childCount,e.childTime+=b}function c(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function d(a,b,c,d){var e={avg:0,min:d.min,max:d.max,sum:0};a&&(e.sum=d.sum-b*(c||0),e.avg=e.sum/a);return e}var e=null,g=
Ext.global.chrome,h,j=function(){j=Ext.now;var a,b;if(Ext.isChrome&&g&&g.Interval)a=new g.Interval,a.start(),j=function(){return a.microseconds()/1E3};else if(window.ActiveXObject)try{b=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=b,j=function(){return b.milliseconds}}catch(c){}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=j;return j()};return{constructor:function(a){this.count=this.childCount=this.depth=this.maxDepth=0;this.pure={min:Number.MAX_VALUE,max:0,sum:0};this.total=
{min:Number.MAX_VALUE,max:0,sum:0};this.name=a},statics:{getTimestamp:j},format:function(a){h||(h=new Ext.XTemplate('{name} - {count} call(s)\x3ctpl if\x3d"count"\x3e\x3ctpl if\x3d"childCount"\x3e ({childCount} children)\x3c/tpl\x3e\x3ctpl if\x3d"depth - 1"\x3e ({depth} deep)\x3c/tpl\x3e\x3ctpl for\x3d"times"\x3e, {type}: {[this.time(values.sum)]} msec (avg\x3d{[this.time(values.sum / parent.count)]})\x3c/tpl\x3e\x3c/tpl\x3e',{time:function(a){return Math.round(100*a)/100}}));a=this.getData(a);a.name=
this.name;a.pure.type="Pure";a.total.type="Total";a.times=[a.pure,a.total];return h.apply(a)},getData:function(a){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:d(this.count,this.childCount,a,this.pure),total:d(this.count,this.childCount,a,this.total)}},enter:function(){var a={accum:this,leave:b,childTime:0,parent:e};++this.depth;this.maxDepth<this.depth&&(this.maxDepth=this.depth);e=a;a.time=j();return a},monitor:function(a,b,c){var d=this.enter();c?a.apply(b,c):a.call(b);
d.leave()},report:function(){Ext.log(this.format())},tap:function(a,b){var d=this,e="string"==typeof b?[b]:b,g,h,j,s,t,u,v;Ext.ClassManager.onCreated(function(){if("string"==typeof a){g=Ext.global;s=a.split(".");j=0;for(t=s.length;j<t;++j)g=g[s[j]]}else g=a;j=0;for(t=e.length;j<t;++j)u=e[j],(h="!"==u.charAt(0))?u=u.substring(1):h=!(u in g.prototype),v=h?g:g.prototype,v[u]=c(d,v[u])},d,a);return d}}},function(){Ext.perf.getTimestamp=this.getTimestamp});
Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var a=new Ext.perf.Accumulator("$"),b=a.total,c=Ext.perf.Accumulator.getTimestamp,d=0,e,g;g=c();do e=a.enter(),e.leave(),++d;while(100>b.sum);return(c()-g)/d},get:function(a){var b=this.accumulatorsByName[a];b||(this.accumulatorsByName[a]=b=new Ext.perf.Accumulator(a),this.accumulators.push(b));return b},enter:function(a){return this.get(a).enter()},
monitor:function(a,b,c){this.get(a).monitor(b,c)},report:function(){var a=this.accumulators,b=this.calibrate();a.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});this.updateGC();Ext.log("Calibration: "+Math.round(100*b)/100+" msec/sample");Ext.each(a,function(a){Ext.log(a.format(b))})},getData:function(a){var b={};Ext.each(this.accumulators,function(c){if(a||c.count)b[c.name]=c.getData()});return b},reset:function(){Ext.each(this.accumulators,function(a){a.count=a.childCount=a.depth=
a.maxDepth=0;a.pure={min:Number.MAX_VALUE,max:0,sum:0};a.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;a&&(a.count=b.garbageCollectionCounter||0,a.count&&(c=a.pure,a.total.sum=c.sum=b.garbageCollectionMilliseconds,c.min=c.max=c.sum/a.count,c=a.total,c.min=c.max=c.sum/a.count))},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;a&&(this.get("GC"),a.watchGarbageCollector(!1))},setup:function(a){a||(a={render:{"Ext.Component":"render"},
layout:{"Ext.layout.Context":"run"}});this.currentConfig=a;var b,c,d,e,g;for(b in a)if(a.hasOwnProperty(b))for(e in c=a[b],d=Ext.Perf.get(b),c)c.hasOwnProperty(e)&&(g=c[e],d.tap(e,g));this.watchGC()}});
Ext.define("Ext.util.translatable.Abstract",{extend:Ext.Evented,config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.position={x:0,y:0}},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){this.getEasingX()||this.setEasingX(this.factoryEasing(a));this.getEasingY()||this.setEasingY(this.factoryEasing(a))},
applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},doTranslate:Ext.emptyFn,translate:function(a,b,c){if(c)return this.translateAnimated(a,b,c);this.isAnimating&&this.stopAnimation();!isNaN(a)&&"number"==typeof a&&(this.x=a);!isNaN(b)&&"number"==typeof b&&(this.y=b);this.doTranslate(a,b)},translateAxis:function(a,b,c){var d,e;"x"==a?d=b:e=b;return this.translate(d,e,c)},getPosition:function(){var a=this.position;a.x=-this.x;a.y=-this.y;return a},
animate:function(a,b){this.activeEasingX=a;this.activeEasingY=b;this.isAnimating=!0;this.lastY=this.lastX=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(a,b,c){Ext.isObject(c)||(c={});this.isAnimating&&this.stopAnimation();this.callback=c.callback;this.callbackScope=c.scope;var d=Ext.Date.now(),e=c.easing,g="number"==typeof a?c.easingX||e||this.getEasingX()||!0:null,e="number"==typeof b?c.easingY||
e||this.getEasingY()||!0:null;g&&(g=this.factoryEasing(g),g.setStartTime(d),g.setStartValue(this.x),g.setEndValue(a),"duration"in c&&g.setDuration(c.duration));e&&(e=this.factoryEasing(e),e.setStartTime(d),e.setStartValue(this.y),e.setEndValue(b),"duration"in c&&e.setDuration(c.duration));return this.animate(g,e)},doAnimationFrame:function(){var a=this.activeEasingX,b=this.activeEasingY,c=Date.now();if(this.isAnimating)if(this.lastRun=c,null===a&&null===b)this.stopAnimation();else{null!==a?(this.x=
c=Math.round(a.getValue()),a.isEnded&&(this.activeEasingX=null,this.fireEvent("axisanimationend",this,"x",c))):c=this.x;null!==b?(this.y=a=Math.round(b.getValue()),b.isEnded&&(this.activeEasingY=null,this.fireEvent("axisanimationend",this,"y",a))):a=this.y;if(this.lastX!==c||this.lastY!==a)this.doTranslate(c,a),this.lastX=c,this.lastY=a;this.fireEvent("animationframe",this,c,a)}},stopAnimation:function(){this.isAnimating&&(this.activeEasingY=this.activeEasingX=null,this.isAnimating=!1,Ext.AnimationQueue.stop(this.doAnimationFrame,
this),this.fireEvent("animationend",this,this.x,this.y),this.callback&&(this.callback.call(this.callbackScope),this.callback=null))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.isAnimating&&this.stopAnimation();this.callParent(arguments)}});Ext.define("Ext.util.translatable.Dom",{extend:Ext.util.translatable.Abstract,config:{element:null},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(){this.refresh()}});
Ext.define("Ext.util.translatable.CssTransform",{extend:Ext.util.translatable.Dom,doTranslate:function(a,b){var c=this.getElement();!this.isDestroyed&&!c.isDestroyed&&c.translate(a,b)},destroy:function(){var a=this.getElement();a&&!a.isDestroyed&&(a.dom.style.webkitTransform=null);this.callSuper()}});
Ext.define("Ext.util.translatable.ScrollPosition",{extend:Ext.util.translatable.Dom,type:"scrollposition",config:{useWrapper:!0},getWrapper:function(){var a=this.wrapper,b=this.getElement();if(!a){a=b.getParent();if(!a)return null;a.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")&&(a=a.getParent());a=this.getUseWrapper()?b.wrap():a;b.addCls("x-translatable");a.addCls("x-translatable-container");this.wrapper=a;a.on("painted",function(){this.isAnimating||this.refresh()},this);this.refresh()}return a},
doTranslate:function(a,b){var c=this.getWrapper();c&&(c=c.dom,"number"==typeof a&&(c.scrollLeft=5E5-a),"number"==typeof b&&(c.scrollTop=5E5-b))},destroy:function(){var a=this.getElement(),b=this.wrapper;b&&(a.isDestroyed||(this.getUseWrapper()&&b.doReplaceWith(a),a.removeCls("x-translatable")),b.isDestroyed||(b.removeCls("x-translatable-container"),b.un("painted","refresh",this)),delete this.wrapper,delete this._element);this.callSuper()}});
Ext.define("Ext.util.translatable.ScrollParent",{extend:Ext.util.translatable.Dom,applyElement:function(a){a=Ext.get(a);this.parent=a.parent();return a},doTranslate:function(a,b){var c=this.parent;c.setScrollLeft(Math.round(-a));c.setScrollTop(Math.round(-b))},getPosition:function(){var a=this.position,b=this.parent;a.x=b.getScrollLeft();a.y=b.getScrollTop();return a}});
Ext.define("Ext.util.translatable.CssPosition",{extend:Ext.util.translatable.Dom,doTranslate:function(a,b){var c=this.getElement().dom.style;"number"==typeof a&&(c.left=a+"px");"number"==typeof b&&(c.top=b+"px")},destroy:function(){var a=this.getElement().dom.style;a.left=null;a.top=null;this.callParent(arguments)}});
Ext.define("Ext.util.Translatable",{constructor:function(a){var b=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(a)){case "scrollposition":return new b.ScrollPosition(a);case "scrollparent":return new b.ScrollParent(a);case "csstransform":return new b.CssTransform(a);case "cssposition":return new b.CssPosition(a)}}});
Ext.define("Ext.scroll.Scroller",{extend:Ext.Evented,config:{element:null,direction:"auto",fps:"auto",disabled:null,directionLock:!1,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",size:"auto",autoRefresh:!0,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},
translatable:{translationMethod:"auto",useWrapper:!1},mouseEnabled:!1,snapToBoundary:!0},statics:{instances:{}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:!1,isAnimating:!1,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},constructor:function(a){var b=a&&a.element;this.listenerMap={touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"};this.listeners={touchstart:"onEvent",
touchend:"onEvent",dragstart:"onEvent",drag:"onEvent",dragend:"onEvent",scope:this};this.minPosition={x:0,y:0};this.startPosition={x:0,y:0};this.lastMaxPosition={x:0,y:0};this.velocity={x:0,y:0};this.isAxisEnabledFlags={x:!1,y:!1};this.flickStartPosition={x:0,y:0};this.flickStartTime={x:0,y:0};this.lastDragPosition={x:0,y:0};this.dragDirection={x:0,y:0};this.initialConfig=a;b&&this.setElement(b);this.self.instances[this.id]=this;return this},initialize:function(){this.initialized||(this.mixins.observable.constructor.call(this,
this.initialConfig),this.initialized=!0)},applyElement:function(a){if(a)return Ext.get(a)},updateElement:function(a){var b=this;b.initialize();b.FixedHBoxStretching||a.addCls(b.cls);b.getDisabled()||b.attachListeners();a=function(){b.refreshMaxPosition()};var c=Ext.Function.createSequence,d=b.updateContainerSize,e=b.updateSize;b.updateContainerSize=d?c(d,a):a;b.updateSize=e?c(e,a):a;b.on({maxpositionchange:"snapToBoundary",minpositionchange:"snapToBoundary",scope:b});return b},applyTranslatable:function(a,
b){return Ext.factory(a,Ext.util.Translatable,b)},updateTranslatable:function(a){a.setConfig({element:this.getElement(),listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this}})},updateFps:function(a){"auto"!==a&&this.getTranslatable().setFps(a)},attachListeners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){a?this.detachListeners():this.attachListeners()},updateInitialOffset:function(a){"number"==
typeof a&&(a={x:a,y:a});this.getTranslatable().translate(-a.x,-a.y)},applyDirection:function(a){var b=this.getMinPosition(),c=this.getMaxPosition();this.givenDirection=a;"auto"===a&&(a=c.x>b.x,b=c.y>b.y,a=a&&b?"both":a?"horizontal":"vertical");return a},updateDirection:function(a,b){var c=this.isAxisEnabledFlags,d=this.cls+"-vertical",e=this.cls+"-horizontal",g=this.getElement();("both"===b||"horizontal"===b)&&g.removeCls(e);("both"===b||"vertical"===b)&&g.removeCls(d);c.x=c.y=!1;if("both"===a||"horizontal"===
a)c.x=!0,g.addCls(e);if("both"===a||"vertical"===a)c.y=!0,g.addCls(d)},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(a){var b=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},applyBounceEasing:function(a){var b=Ext.fx.easing.EaseOut;return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},updateBounceEasing:function(a){this.getTranslatable().setEasingX(a.x).setEasingY(a.y)},applySlotSnapEasing:function(a){var b=Ext.fx.easing.EaseOut;
return{x:Ext.factory(a,b),y:Ext.factory(a,b)}},getPosition:function(){return this.getTranslatable().getPosition()},getMinPosition:function(){var a=this.minPosition;a||(this.minPosition=a={x:0,y:0},this.fireEvent("minpositionchange",this,a));return a},getMaxPosition:function(){var a=this.maxPosition,b;if(!a&&(a=this.getSize(),b=this.getContainerSize(),this.maxPosition=a={x:Math.max(0,a.x-b.x),y:Math.max(0,a.y-b.y)},a.x!==this.lastMaxPosition.x||a.y!==this.lastMaxPosition.y))this.fireEvent("maxpositionchange",
this,a),this.lastMaxPosition.x=a.x,this.lastMaxPosition.y=a.y;return a},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(a){var b=this.getContainer().dom,c;if(b)return this.givenContainerSize=a,"auto"===a?(c=b.clientWidth,a=b.clientHeight):(c=a.x,a=a.y),{x:c,y:a}},applySize:function(a){var b=this.getElement().dom,c=this.getContainer().dom,d;if(b)return this.givenSize=a,"auto"===a?(d=Math.max(b.offsetWidth,c.clientWidth),a=Math.max(b.offsetHeight,
c.clientHeight)):"number"==typeof a?d=a:(d=a.x,a=a.y),{x:d,y:a}},updateAutoRefresh:function(a){this.getElement().toggleListener(a,"resize","onElementResize",this);this.getContainer().toggleListener(a,"resize","onContainerResize",this)},applySlotSnapSize:function(a){return"number"==typeof a?{x:a,y:a}:a},applySlotSnapOffset:function(a){return"number"==typeof a?{x:a,y:a}:a},getContainer:function(){var a=this.container;a||(a=this.getElement().getParent(),(this.container=a=this.FixedHBoxStretching?a.getParent():
a)||Ext.Logger.error("Making an element scrollable that doesn't have any container"),a.addCls(this.containerCls));return a},refresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setDirection(this.givenDirection);this.fireEvent("refresh",this);return this},onElementResize:function(a,b){this.setSize({x:b.width,y:b.height});this.refresh()},onContainerResize:function(a,b){this.setContainerSize({x:b.width,
y:b.height});this.refresh()},scrollTo:function(a,b,c){var d=this,e;if(d.isDestroyed)return d;"number"!=typeof a&&1===arguments.length&&(Ext.Logger.deprecate("Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead",d),b=a.y,a=a.x);var g=d.getTranslatable();e=d.getPosition();var h=!1,j,k;d.isAxisEnabled("x")&&(isNaN(a)||"number"!=typeof a?a=e.x:e.x!==a&&(h=!0),j=this.convertX(-a));d.isAxisEnabled("y")&&(isNaN(b)||"number"!=typeof b?b=e.y:e.y!==b&&(h=!0),k=-b);
h&&(void 0!==c&&!1!==c?(e=function(){d.fireEvent("scroll",d,a,b)},!0===c?c={callback:e}:c.callback=c.callback?Ext.Function.createSequence(c.callback,e):e,g.translateAnimated(j,k,c)):(g.translate(j,k),d.fireEvent("scroll",d,a,b)));return this},scrollToTop:function(a){var b=this.getInitialOffset();return this.scrollTo(b.x,b.y,a)},scrollToEnd:function(a){var b=this.getSize(),c=this.getContainerSize();return this.scrollTo(b.x-c.x,b.y-c.y,a)},scrollBy:function(a,b,c){var d=this.getPosition();a="number"==
typeof a?a+d.x:null;b="number"==typeof b?b+d.y:null;return this.scrollTo(a,b,c)},onEvent:function(a){var b=a.browserEvent;if(!Ext.supports.Touch||this.getMouseEnabled()||!this.isMouseEvent[b.type]&&"mouse"!==b.pointerType)this[this.listenerMap[a.type]](a)},onTouchStart:function(){this.isTouching=this.self.isTouching=!0;this.stopAnimation()},onTouchEnd:function(){var a=this.getPosition();this.isTouching=this.self.isTouching=!1;!this.isDragging&&this.snapToSlot()&&this.fireEvent("scrollstart",this,
a.x,a.y)},onDragStart:function(a){var b=this.getDirection(),c=a.absDeltaX,d=a.absDeltaY,e=this.getDirectionLock(),g=this.startPosition,h=this.flickStartPosition,j=this.flickStartTime,k=this.lastDragPosition,l=this.getPosition(),m=this.dragDirection,n=l.x,l=l.y,p=Ext.Date.now();this.isDragging=!0;if(e&&"both"!==b)if("horizontal"===b&&c>d||"vertical"===b&&d>c)a.stopPropagation();else{this.isDragging=!1;return}k.x=n;k.y=l;h.x=n;h.y=l;g.x=n;g.y=l;j.x=p;j.y=p;m.x=0;m.y=0;this.dragStartTime=p;this.isDragging=
!0;this.fireEvent("scrollstart",this,n,l)},onAxisDrag:function(a,b){if(this.isAxisEnabled(a)){var c=this.flickStartPosition,d=this.flickStartTime,e=this.lastDragPosition,g=this.dragDirection,h=this.getPosition()[a],j=this.getMinPosition()[a],k=this.getMaxPosition()[a],l=e[a],m=this.startPosition[a]-b,n=g[a],p=this.getOutOfBoundRestrictFactor(),q=this.getStartMomentumResetTime(),r=Ext.Date.now();m<j?m*=p:m>k&&(m=k+(m-k)*p);m>l?g[a]=1:m<l&&(g[a]=-1);if(0!==n&&g[a]!==n||r-d[a]>q)c[a]=h,d[a]=r;e[a]=m}},
onDrag:function(a){if(this.isDragging){var b=this.lastDragPosition;this.onAxisDrag("x",this.convertX(a.deltaX));this.onAxisDrag("y",a.deltaY);this.scrollTo(b.x,b.y)}},onDragEnd:function(a){var b;if(this.isDragging)if(this.dragEndTime=Ext.Date.now(),this.onDrag(a),this.isDragging=!1,b=this.getAnimationEasing("x",a),a=this.getAnimationEasing("y",a),b||a)this.getTranslatable().animate(b,a);else this.onScrollEnd()},getAnimationEasing:function(a,b){if(!this.isAxisEnabled(a))return null;var c=this.getPosition()[a],
d=this.getMinPosition()[a],e=this.getMaxPosition()[a],g=this.getMaxAbsoluteVelocity(),h=null,j=this.dragEndTime,k=b.flick.velocity[a],l="x"===a;c<d?h=d:c>e&&(h=e);l&&(c=this.convertX(c),h=this.convertX(h));if(null!==h)return d=this.getBounceEasing()[a],d.setConfig({startTime:j,startValue:-c,endValue:-h}),d;if(0===k)return null;k<-g?k=-g:k>g&&(k=g);Ext.browser.is.IE&&(k*=2);d=this.getMomentumEasing()[a];c={startTime:j,startValue:-c,startVelocity:1.5*k,minMomentumValue:-e,maxMomentumValue:0};l&&this.convertEasingConfig(c);
d.setConfig(c);return d},onAnimationFrame:function(){var a=this.getPosition();this.fireEvent("scroll",this,this.convertX(a.x),a.y)},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.getPosition();(this.isTouching||!this.snapToSlot())&&this.fireEvent("scrollend",this,a.x,a.y)},snapToSlot:function(){var a=this.getSnapPosition("x"),b=this.getSnapPosition("y"),c=this.getSlotSnapEasing();
return null!==a||null!==b?(this.scrollTo(a,b,{easingX:c.x,easingY:c.y}),!0):!1},getSnapPosition:function(a){var b=this.getSlotSnapSize()[a],c=null,d,e;0!==b&&this.isAxisEnabled(a)&&(d=this.getPosition()[a],e=this.getSlotSnapOffset()[a],a=this.getMaxPosition()[a],e=Math.floor((d-e)%b),0!==e&&(c=d!==a?Math.abs(e)>b/2?Math.min(a,d+(0<e?b-e:e-b)):d-e:d-e));return c},snapToBoundary:function(){if(this.getSnapToBoundary()){var a=this.getPosition(),b=this.getMinPosition(),c=this.getMaxPosition(),d=b.x,b=
b.y,e=c.x,c=c.y,g=Math.round(a.x),a=Math.round(a.y);g<d?g=d:g>e&&(g=e);a<b?a=b:a>c&&(a=c);this.scrollTo(g,a)}},destroy:function(){var a=this.getElement(),b=this.sizeMonitors;b&&(b.element.destroy(),b.container.destroy());a&&!a.isDestroyed&&(a.removeCls(this.cls),(a=this.getContainer())&&!a.isDestroyed&&a.removeCls(this.containerCls));Ext.destroy(this.getTranslatable());delete this.self.instances[this.id];this.callParent(arguments)},convertX:function(a){return a},convertEasingConfig:function(a){return a}},
function(){this.override({constructor:function(a){var b;a||(a={});"string"==typeof a&&(a={direction:a});2==arguments.length&&(Ext.Logger.deprecate("Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead"),b=a,(a=arguments[1])||(a={}),a.element=b);a.hasOwnProperty("acceleration")&&(b=a.acceleration,delete a.acceleration,Ext.Logger.deprecate("'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead"),
Ext.merge(a,{momentumEasing:{momentum:{acceleration:b},bounce:{acceleration:b}}}));a.hasOwnProperty("snap")&&(a.slotSnapOffset=a.snap,Ext.Logger.deprecate("'snap' config is deprecated, please use the 'slotSnapOffset' config instead"));a.hasOwnProperty("friction")&&(b=a.friction,delete a.friction,Ext.Logger.deprecate("'friction' config is deprecated, set momentumEasing.momentum.friction config instead"),Ext.merge(a,{momentumEasing:{momentum:{friction:b}}}));a.hasOwnProperty("springTension")&&(b=a.springTension,
delete a.springTension,Ext.Logger.deprecate("'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead"),Ext.merge(a,{momentumEasing:{momentum:{springTension:b}}}));a.hasOwnProperty("minVelocityForAnimation")&&(b=a.minVelocityForAnimation,delete a.minVelocityForAnimation,Ext.Logger.deprecate("'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead"),Ext.merge(a,{momentumEasing:{minVelocity:b}}));this.callOverridden(arguments)},
scrollToAnimated:function(a,b,c){Ext.Logger.deprecate("scrollToAnimated() is deprecated, please use `scrollTo()` and pass 'animation' as the third argument instead");return this.scrollTo.apply(this,arguments)},scrollBy:function(a,b,c){Ext.isObject(a)&&(Ext.Logger.deprecate("calling `scrollBy()` with an object of `x` and `y` properties is no longer supported. Please pass `x` and `y` values as two separate arguments instead"),b=a.y,a=a.x);return this.callOverridden([a,b,c])},setOffset:function(a){return this.scrollToAnimated(-a.x,
-a.y)}})});Ext.define("Ext.rtl.scroll.Scroller",{override:"Ext.scroll.Scroller",convertX:function(a){a&&this.rtl&&(a=-a);return a},convertEasingConfig:function(a){var b=a.minMomentumValue,c=a.maxMomentumValue;this.rtl&&(a.minMomentumValue=c,a.maxMomentumValue=-b)}});
Ext.define("Ext.util.Base64",{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var b="",c,d,e,g,h,j,k=0;a=this._utf8_encode(a);for(var l=a.length;k<l;)c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=a.charCodeAt(k++),g=c>>2,c=(c&3)<<4|d>>4,h=(d&15)<<2|e>>6,j=e&63,isNaN(d)?h=j=64:isNaN(e)&&(j=64),b=b+this._str.charAt(g)+this._str.charAt(c)+this._str.charAt(h)+this._str.charAt(j);return b},decode:function(a){var b="",c,d,e,g,h,j=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");for(var k=a.length;j<k;)c=this._str.indexOf(a.charAt(j++)),d=this._str.indexOf(a.charAt(j++)),g=this._str.indexOf(a.charAt(j++)),h=this._str.indexOf(a.charAt(j++)),c=c<<2|d>>4,d=(d&15)<<4|g>>2,e=(g&3)<<6|h,b+=String.fromCharCode(c),64!=g&&(b+=String.fromCharCode(d)),64!=h&&(b+=String.fromCharCode(e));return b=this._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);128>e?b+=String.fromCharCode(e):(127<e&&2048>e?b+=String.fromCharCode(e>>
6|192):(b+=String.fromCharCode(e>>12|224),b+=String.fromCharCode(e>>6&63|128)),b+=String.fromCharCode(e&63|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=0,e=0,g=0,h=a.length;c<h;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c++):191<d&&224>d?(g=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|g&63),c+=2):(g=a.charCodeAt(c+1),e=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(g&63)<<6|e&63),c+=3);return b}});
Ext.define("Ext.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(a){var b=this.cache,c={_users:1};Ext.isString(a)?c.id=a:Ext.apply(c,a);(a=b[c.id])?(!0===a&&Ext.Error.raise('Creating a shared instance of private local store "'+this.id+'".'),++a._users):a=new this(c);return a},supported:!0},constructor:function(a){Ext.apply(this,a);this.hasOwnProperty("id")||Ext.Error.raise("No id was provided to the local store.");
this._users?Ext.util.LocalStorage.cache[this.id]=this:(Ext.util.LocalStorage.cache[this.id]&&Ext.Error.raise('Cannot create duplicate instance of local store "'+this.id+'". Use Ext.util.LocalStorage.get() to share instances.'),Ext.util.LocalStorage.cache[this.id]=!0);this.init()},init:function(){var a=this.id;!this.prefix&&a&&(this.prefix=a+"-");this._store=this.session?window.sessionStorage:window.localStorage},destroy:function(){this._users&&Ext.log.warn("LocalStorage(id\x3d"+this.id+") destroyed while in use");
delete Ext.util.LocalStorage.cache[this.id];this._store=this._keys=null;this.destroyed=!0;this.destroy=Ext.emptyFn},getKeys:function(){var a=this._store,b=this.prefix,c=this._keys,d=b.length,e,g;if(!c){this._keys=c=[];for(e=a.length;e--;)g=a.key(e),g.length>d&&b===g.substring(0,d)&&c.push(g.substring(d))}return c},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){var a=this._store,b=this.prefix,c=this._keys||this.getKeys(),d;for(d=c.length;d--;)a.removeItem(b+c[d]);
c.length=0},key:function(a){var b=this._keys||this.getKeys();return 0<=a&&a<b.length?b[a]:null},getItem:function(a){return this._store.getItem(this.prefix+a)},removeItem:function(a){var b=this._store,c=this._keys,d=b.length;b.removeItem(this.prefix+a);c&&d!==b.length&&(this.lazyKeys?this._keys=null:Ext.Array.remove(c,a))},setItem:function(a,b){var c=this._store,d=c.length,e=this._keys;c.setItem(this.prefix+a,b);e&&d!==c.length&&e.push(a)}},function(){"localStorage"in window||(Ext.isIE?this.override({data:null,
flushDelay:1,init:function(){var a=this,b=a.data;a.el=b=document.createElement("div");b.id=a.id||(a.id="extjs-localstore");b.addBehavior("#default#userdata");Ext.getHead().dom.appendChild(b);b.load(a.id);b=b.getAttribute("xdata");a.data=b=b?Ext.decode(b):{};a._flushFn=function(){a._timer=null;a.save(0)}},destroy:function(){var a=this.el;a&&(this._timer&&this.save(),a.parentNode.removeChild(a),this.data=this.el=null,this.callParent())},getKeys:function(){var a=this._keys;a||(this._keys=a=Ext.Object.getKeys(this.data));
return a},save:function(a){a?this._timer||(this._timer=Ext.defer(this._flushFn,a)):(this._timer&&(clearTimeout(this._timer),this._timer=null),this.el.setAttribute("xdata",Ext.encode(this.data)),this.el.save(this.id))},clear:function(){this.data={};this._keys=null;this.save(this.flushDelay)},getItem:function(a){var b=this.data;return a in b?b[a]:null},removeItem:function(a){var b=this._keys,c=this.data;a in c&&(delete c[a],b&&(this.lazyKeys?this._keys=null:Ext.Array.remove(b,a)),this.save(this.flushDelay))},
setItem:function(a,b){var c=this.data,d=this._keys;d&&!(a in c)&&d.push(a);c[a]=b;this.save(this.flushDelay)}}):(this.supported=!1,this.prototype.init=function(){Ext.Error.raise("Local storage is not supported on this browser")}))});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:!0});
Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,b,c){var d=this.shared;d||(d=this.shared=new this(a,c));d.bind(a);d.setFixedWidth(c||"auto");return d.getSize(b)},destroy:function(){Ext.destroy(this.shared);this.shared=null}},constructor:function(a,b){var c=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});this.measure=c;a&&this.bind(a);c.position("absolute");c.setLocalXY(-1E3,-1E3);c.hide();b&&c.setWidth(b)},getSize:function(a){var b=
this.measure;b.setHtml(a);a=b.getSize();b.setHtml("");return a},bind:function(a){this.el=Ext.get(a);this.measure.setStyle(this.el.getStyle("font-size font-style font-weight font-family line-height text-transform letter-spacing word-break".split(" ")))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){this.measure.destroy();delete this.el;
delete this.measure}},function(){Ext.Element.override({getTextWidth:function(a,b,c){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(a,this.dom.innerHTML,!0)).width,b||0,c||1E6)}})});
Ext.define("Ext.Action",{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=a.itemId||a.id||Ext.id();this.items=[]},isAction:!0,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconCls:function(a){this.initialConfig.iconCls=a;this.callEach("setIconCls",[a])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(!1)},
disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(a,b){this.initialConfig.handler=a;this.initialConfig.scope=b;this.callEach("setHandler",[a,b])},each:function(a,b){Ext.each(this.items,a,b)},callEach:function(a,b){var c=this.items,
d=0,e=c.length,g;for(Ext.suspendLayouts();d<e;d++)g=c[d],g[a].apply(g,b);Ext.resumeLayouts(!0)},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){Ext.Array.remove(this.items,a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}});
Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(a,b,c){a.getTarget().setHtml(b.responseText,!0===c.scripts);return!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(a){a=a||{};Ext.apply(this,a);this.mixins.observable.constructor.call(this);this.setTarget(this.target);this.autoLoad&&(a=this.autoLoad,!0===a&&(a=null),this.load(a))},setTarget:function(a){a=
Ext.get(a);this.target&&this.target!=a&&this.abort();this.target=a},getTarget:function(){return this.target||null},abort:function(){var a=this.active;void 0!==a&&(Ext.Ajax.abort(a.request),a.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(!0===a?null:a)},load:function(a){this.target||Ext.Error.raise("A valid target is required when loading content");a=Ext.apply({},a);var b=Ext.isDefined(a.loadMask)?a.loadMask:this.loadMask,
c=Ext.apply({},a.params),d=Ext.apply({},a.ajaxOptions),e=a.callback||this.callback,g=a.scope||this.scope||this,h=a.rendererScope||this.rendererScope||this;Ext.applyIf(d,this.ajaxOptions);Ext.applyIf(a,d);Ext.applyIf(c,this.params);Ext.apply(c,this.baseParams);Ext.applyIf(a,{url:this.url});a.url||Ext.Error.raise("You must specify the URL from which content should be loaded");Ext.apply(a,{scope:this,params:c,callback:this.onComplete});!1!==this.fireEvent("beforeload",this,a)&&(b&&this.addMask(b),this.active=
{options:a,mask:b,scope:g,rendererScope:h,callback:e,success:a.success||this.success,failure:a.failure||this.failure,renderer:a.renderer||this.renderer,scripts:Ext.isDefined(a.scripts)?a.scripts:this.scripts},this.active.request=Ext.Ajax.request(a),this.setOptions(this.active,a))},setOptions:Ext.emptyFn,onComplete:function(a,b,c){var d=this.active,e,g;d&&(g=d.scope,e=d.rendererScope,b&&(b=!1!==this.getRenderer(d.renderer).call(e,this,c,d)),b?(Ext.callback(d.success,g,[this,c,a]),this.fireEvent("load",
this,c,a)):(Ext.callback(d.failure,g,[this,c,a]),this.fireEvent("exception",this,c,a)),Ext.callback(d.callback,g,[this,b,c,a]),d.mask&&this.removeMask());delete this.active},getRenderer:function(a){return Ext.isFunction(a)?a:this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=Ext.interval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},
destroy:function(){this.stopAutoRefresh();delete this.target;this.abort();this.clearListeners()}});
Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(a,b){var c=!0;try{a.getTarget().update(Ext.decode(b.responseText))}catch(d){c=!1}return c},Component:function(a,b,c){var d=!0;a=a.getTarget();var e=[];a.isContainer||Ext.Error.raise({target:a,msg:"Components can only be loaded into a container"});try{e=Ext.decode(b.responseText)}catch(g){d=!1}d&&(a.suspendLayouts(),c.removeAll&&a.removeAll(),a.add(e),a.resumeLayouts(!0));return d}}},target:null,loadOnRender:!1,
loadMask:!1,renderer:"html",setTarget:function(a){Ext.isString(a)&&(a=Ext.getCmp(a));this.target&&this.target!=a&&this.abort();(this.target=a)&&this.loadOnRender&&(a.rendered?this.doLoadOnRender():this.mon(a,"render",this.doLoadOnRender,this))},doLoadOnRender:function(){var a=this.loadOnRender;this.load(Ext.isObject(a)?a:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(a){this.target.setLoading(a)},setOptions:function(a,b){a.removeAll=Ext.isDefined(b.removeAll)?b.removeAll:
this.removeAll},getRenderer:function(a){if(Ext.isFunction(a))return a;var b=this.statics().Renderer;switch(a){case "component":return b.Component;case "data":return b.Data;default:return Ext.ElementLoader.Renderer.Html}}});
Ext.define("Ext.layout.SizeModel",{constructor:function(a){var b=this.self,c=b.sizeModelsArray;Ext.apply(this,a);this[a=this.name]=!0;this.fixed=!(this.auto=this.natural||this.shrinkWrap);c[this.ordinal=c.length]=b[a]=b.sizeModels[a]=this},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var a=this.sizeModelsArray,
b,c,d,e,g;new this({name:"calculated"});new this({name:"configured",names:{width:"width",height:"height"}});new this({name:"natural"});new this({name:"shrinkWrap"});new this({name:"calculatedFromConfigured",configured:!0,names:{width:"width",height:"height"}});new this({name:"calculatedFromNatural",natural:!0});new this({name:"calculatedFromShrinkWrap",shrinkWrap:!0});new this({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}});new this({name:"constrainedMin",
configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}});new this({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});b=0;for(d=a.length;b<d;++b){g=a[b];g.pairsByHeightOrdinal=e=[];for(c=0;c<d;++c)e.push({width:g,height:a[c]})}});
Ext.define("Ext.layout.Layout",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(a){this.id=Ext.id(null,this.type+"-");this.initConfig(a);delete this.type;this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(a){var b=this.context,c;this.lastWidthModel!=a.widthModel&&(this.lastWidthModel&&
(c=!0),this.lastWidthModel=a.widthModel);this.lastHeightModel!=a.heightModel&&(this.lastWidthModel&&(c=!0),this.lastHeightModel=a.heightModel);c&&((b=a.context).clearTriggers(this,!1),b.clearTriggers(this,!0),this.triggerCount=0)},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},
getScrollerEl:Ext.emptyFn,isItemBoxParent:function(){return!1},isItemLayoutRoot:function(a){var b=a.getSizeModel(),c=b.width,b=b.height;return!a.componentLayout.lastComponentSize&&(c.calculated||b.calculated)?!1:!c.shrinkWrap&&!b.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(a,b){var c=a.length,d,e,g,h;if(c){h=[];for(d=0;d<c;++d)e=a[d],e.rendered||(b&&void 0!==b[e.id]?g=b[e.id]:(this.configureItem(e),g=e.getRenderTree(),
b&&(b[e.id]=g)),g&&h.push(g))}return h},finishRender:Ext.emptyFn,finishRenderItems:function(a,b){var c=b.length,d,e;for(d=0;d<c;d++)e=b[d],e.rendering&&e.finishRender(d)},renderChildren:function(){var a=this.getLayoutItems(),b=this.getRenderTarget();this.renderItems(a,b)},renderItems:function(a,b){var c=a.length,d=0,e;if(c){for(Ext.suspendLayouts();d<c;d++)(e=a[d])&&!e.rendered?this.renderItem(e,b,d):this.isValidParent(e,b,d)?this.configureItem(e):this.moveItem(e,b,d);Ext.resumeLayouts(!0)}},isValidParent:function(a,
b,c){b=b&&b.dom||b;return(a=this.getItemLayoutEl(a))&&b?"number"==typeof c?(c=this.getPositionOffset(c),a===b.childNodes[c]):a.parentNode===b:!1},getItemLayoutEl:function(a){a=a.el?a.el.dom:Ext.getDom(a);var b=a.parentNode;if(b&&(b=b.className)&&-1!==b.indexOf(Ext.baseCSSPrefix+"resizable-wrap"))a=a.parentNode;return a},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(a,b,c){a.rendered||(this.configureItem(a),a.render(b,c))},moveItem:function(a,
b,c){b=b.dom||b;"number"==typeof c&&(c=b.childNodes[c]);b.insertBefore(a.el.dom,c||null);a.container=Ext.get(b);this.configureItem(a)},onContentChange:function(){this.owner.updateLayout();return!0},initLayout:function(){this.initialized=!0},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(a){var b=a.el,c=this.owner,d;a.rendered&&(d=[].concat(this.itemCls||[]),c.itemCls&&(d=Ext.Array.push(d,
c.itemCls)),d.length&&b.removeCls(d));delete a.ownerLayout},destroy:function(){var a;this.targetCls&&(a=this.getTarget())&&a.removeCls(this.targetCls);this.onDestroy()},sortWeightedItems:function(a,b){for(var c=0,d=a.length;c<d;++c)a[c].$i=c;Ext.Array.sort(a,function(a,c){var d=c.weight-a.weight;d||(d=a.$i-c.$i,a[b]&&(d=-d));return d});for(c=0;c<d;++c)delete a[c].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels});
Ext.define("Ext.layout.container.Container",{extend:Ext.layout.Layout,alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:[Ext.util.ElementContainer],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();
this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(a,b){this.callParent(arguments);b&&(this.usesContainerHeight&&++a.consumersContainerHeight,this.usesContainerWidth&&++a.consumersContainerWidth)},cacheChildItems:function(a){var b,c,d,e;if(this.needsItemSize||this.setsItemSize){b=a.context;c=a.childItems=[];a=a.visibleItems=this.getVisibleItems();
d=a.length;for(e=0;e<d;++e)c.push(b.getCmp(a[e]))}},cacheElements:function(){var a=this.owner;this.attachChildEls(a.el,a)},calculate:function(a){var b=a.props,c=a.el;a.widthModel.shrinkWrap&&isNaN(b.width)&&a.setContentWidth(c.getWidth());a.heightModel.shrinkWrap&&isNaN(b.height)&&a.setContentHeight(c.getHeight())},configureItem:function(a){var b=this.itemCls,c=this.owner.itemCls,d,e;a.ownerLayout=this;b&&("string"===typeof b?e=[b]:(e=b,d=!!e));c&&(d&&(e=Ext.Array.clone(e)),e=Ext.Array.push(e||[],
c));e&&a.addCls(e)},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(a,b){var c=b.$comp.layout,d=c.getRenderTpl(),c=c.getRenderData();d.applyOut(c,a)},doRenderItems:function(a,b){var c=b.$layout.getRenderTree();c&&Ext.DomHelper.generateMarkup(c,a)},finishRender:function(){var a,b;this.callParent();this.cacheElements();a=this.getRenderTarget();b=this.getLayoutItems();this.finishRenderItems(a,b)},notifyOwner:function(){!this._hasTargetWarning&&(this.targetCls&&
!this.getTarget().hasCls(this.targetCls))&&(this._hasTargetWarning=!0,Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+this.owner.id));this.owner.afterLayout(this)},getContainerSize:function(a,b){var c=a.targetContext,d=c.getFrameInfo(),e=a.paddingContext.getPaddingInfo(),g=0,h=0,j,k,l,m;if(!a.widthModel.shrinkWrap&&(++h,l=b?c.getDomProp("width"):c.getProp("width"),j="number"==typeof l))++g,l-=d.width+e.width,0>l&&(l=0);if(!a.heightModel.shrinkWrap&&
(++h,m=b?c.getDomProp("height"):c.getProp("height"),k="number"==typeof m))++g,m-=d.height+e.height,0>m&&(m=0);return{width:l,height:m,needed:h,got:g,gotAll:g==h,gotWidth:j,gotHeight:k}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;b&&(a+=b)}return a},getLayoutItems:function(){var a=this.owner;return(a=a&&a.items)&&a.items||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var a=this.getRenderTarget(),
b=this.getLayoutItems(),c=b.length,d=[],e,g;for(e=0;e<c;e++)g=b[e],g.rendered&&this.isValidParent(g,a,e)&&d.push(g);return d},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=Ext.XTemplate.getTpl(this,"renderTpl");a.renderContent||this.owner.setupRenderTpl(a);return a},getRenderTree:function(){var a,b=this.owner.items,c,d={};do c=b.generation,a=this.getItemsRenderTree(this.getLayoutItems(),d);while(b.generation!==
c);return a},renderChildren:function(){var a=this.owner.items,b=this.getRenderTarget(),c,d;do c=a.generation,d=this.getLayoutItems(),this.renderItems(d,b);while(a.generation!==c)},getScrollbarsNeeded:function(a,b,c,d){var e=Ext.getScrollbarSize(),g="number"==typeof a,h="number"==typeof b,j=0,k=0;if(!e.width)return 0;h&&b<d&&(k=2,a-=e.width);g&&a<c&&(j=1,!k&&h&&(b-=e.height,b<d&&(k=2)));return k+j},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var a=this.getRenderTarget(),
b=this.getLayoutItems(),c=b.length,d=[],e,g;for(e=0;e<c;e++)g=b[e],g.rendered&&(this.isValidParent(g,a,e)&&!0!==g.hidden&&!g.floated)&&d.push(g);return d},getMoveAfterIndex:function(a){return this.owner.items.indexOf(a)+1},moveItemBefore:function(a,b){var c=this.owner,d=a.ownerCt,e=c.items;if(a===b)return a;d&&d.remove(a,!1);d=b?e.indexOf(b):e.length;return c.insert(d,a)},setupRenderTpl:function(a){a.renderBody=this.doRenderBody;a.renderContainer=this.doRenderContainer;a.renderItems=this.doRenderItems},
getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(a){a.liquidLayout||++this.activeItemCount;this.callParent([a])},onRemove:function(a){a.liquidLayout||--this.activeItemCount;this.callParent([a])}});
Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:'\x3cdiv id\x3d"{ownerId}-outerCt" data-ref\x3d"outerCt" class\x3d"{outerCtCls}" role\x3d"presentation"\x3e;\x3cdiv id\x3d"{ownerId}-innerCt" data-ref\x3d"innerCt" style\x3d"{%this.renderPadding(out, values)%}" ;class\x3d"{innerCtCls}" role\x3d"presentation"\x3e;{%this.renderBody(out,values)%};\x3c/div\x3e;\x3c/div\x3e'.split(";"),
beginLayout:function(a){this.callParent(arguments);this.initContextItems(a)},beforeLayoutCycle:function(a){var b=this.owner,c=b.inheritedState,d=b.inheritedStateInner;if(!c||c.invalid)b.getInherited(),d=b.inheritedStateInner;a.widthModel.shrinkWrap?d.inShrinkWrapTable=!0:delete d.inShrinkWrapTable},beginLayoutCycle:function(a){var b=this.outerCt,c=this.lastOuterCtWidth||"",d=this.lastOuterCtHeight||"",e=this.lastOuterCtTableLayout||"",g=a.state,h,j,k,l;this.callParent(arguments);j=k=h="";a.widthModel.shrinkWrap||
(j="100%",l=this.owner.inheritedStateInner,h=this.getOverflowXStyle(a),h=l.inShrinkWrapTable||"auto"===h||"scroll"===h?"":"fixed");!a.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug&&(k="100%");if(j!==c||this.hasOuterCtPxWidth)b.setStyle("width",j),this.lastOuterCtWidth=j,this.hasOuterCtPxWidth=!1;h!==e&&(b.setStyle("table-layout",h),this.lastOuterCtTableLayout=h);if(k!==d||this.hasOuterCtPxHeight)b.setStyle("height",k),this.lastOuterCtHeight=k,this.hasOuterCtPxHeight=!1;this.hasInnerCtPxHeight&&
(this.innerCt.setStyle("height",""),this.hasInnerCtPxHeight=!1);g.overflowAdjust=g.overflowAdjust||this.lastOverflowAdjust},calculate:function(a){var b=a.state,c=this.getContainerSize(a,!0),b=b.calculatedItems||(b.calculatedItems=this.calculateItems?this.calculateItems(a,c):!0);this.setCtSizeIfNeeded(a,c);if(b&&a.hasDomProp("containerChildrenSizeDone")&&(this.calculateContentSize(a),c.gotAll)){this.manageOverflow&&(!a.state.secondPass&&!this.reserveScrollbar)&&this.calculateOverflow(a,c);return}this.done=
!1},calculateContentSize:function(a){var b=(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),c=b&1||void 0,b=b&2||void 0,d=0,e=a.props;c&&(isNaN(e.contentWidth)?++d:c=void 0);b&&(isNaN(e.contentHeight)?++d:b=void 0);d&&(c&&!a.setContentWidth(this.measureContentWidth(a))&&(this.done=!1),b&&!a.setContentHeight(this.measureContentHeight(a))&&(this.done=!1))},calculateOverflow:function(a){var b,c,d,e,g;e="auto"===this.getOverflowXStyle(a);b="auto"===this.getOverflowYStyle(a);if(e||b)if(c=Ext.getScrollbarSize(),
g=a.overflowContext.el.dom,d=0,g.scrollWidth>g.clientWidth&&(d|=1),g.scrollHeight>g.clientHeight&&(d|=2),b=b&&d&2?c.width:0,c=e&&d&1?c.height:0,b!==this.lastOverflowAdjust.width||c!==this.lastOverflowAdjust.height)this.done=!1,a.invalidate({state:{overflowAdjust:{width:b,height:c},overflowState:d,secondPass:!0}})},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderBody:function(a,b){var c=b.$layout,d=Ext.XTemplate,e=c.afterBodyTpl;c.beforeBodyTpl&&d.getTpl(c,"beforeBodyTpl").applyOut(b,
a);this.renderItems(a,b);this.renderContent(a,b);e&&d.getTpl(c,"afterBodyTpl").applyOut(b,a)},doRenderPadding:function(a,b){var c=b.$layout.owner,d=c[c.contentPaddingProperty];b.$layout.managePadding&&d&&a.push("padding:",c.unitizeBox(d))},finishedLayout:function(a){var b=this.innerCt;this.callParent(arguments);Ext.isIE8&&b.repaint();Ext.isOpera&&(b.setStyle("position","relative"),b.dom.scrollWidth,b.setStyle("position",""))},getContainerSize:function(a,b){var c=this.callParent(arguments),d=a.state.overflowAdjust;
d&&(c.width-=d.width,c.height-=d.height);return c},getRenderData:function(){var a=this.callParent();a.innerCtCls=this.innerCtCls;a.outerCtCls=this.outerCtCls;return a},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||
a.overflowContext.getStyle("overflow-y"))},initContextItems:function(a){var b=a.target,c=this.owner.customOverflowEl;a.outerCtContext=a.getEl("outerCt",this);a.innerCtContext=a.getEl("innerCt",this);a.overflowContext=c?a.getEl(c):a.targetContext;void 0!==b[b.contentPaddingProperty]&&(a.paddingContext=a.innerCtContext)},initLayout:function(){var a=Ext.getScrollbarSize().width,b=this.owner;this.callParent();if(a&&(this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust"))&&(b.autoScroll||this.reserveScrollbar))this.lastOverflowAdjust=
{width:a,height:0}},measureContentHeight:function(a){var b=this.outerCt.getHeight(),c=a.target;this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().height);return b},measureContentWidth:function(a){var b,c,d;this.chromeCellMeasureBug&&(b=this.innerCt.dom,c=b.style,d=c.display,"table-cell"==d&&(c.display="",b.offsetWidth,c.display=d));Ext.isSafari&&(b=this.outerCt.dom,c=b.style,c.display="table-cell",b.offsetWidth,b.style.display="");b=this.outerCt.getWidth();
c=a.target;this.managePadding&&void 0===c[c.contentPaddingProperty]&&(b+=a.targetContext.getPaddingInfo().width);return b},setCtSizeIfNeeded:function(a,b){var c=b.height,d=a.paddingContext.getPaddingInfo(),e=this.getTarget(),g=this.getOverflowXStyle(a),g="auto"===g||"scroll"===g,h=Ext.getScrollbarSize(),j,k;if(c&&!a.heightModel.shrinkWrap){Ext.supports.PercentageHeightOverflowBug&&(j=!0);Ext.isIE8&&(k=!0);if((j||k)&&g&&e.dom.scrollWidth>e.dom.clientWidth)c=Math.max(c-h.height,0);j&&(a.outerCtContext.setProp("height",
c+d.height),this.hasOuterCtPxHeight=!0);k&&(a.innerCtContext.setProp("height",c),this.hasInnerCtPxHeight=!0)}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&26<=Ext.chromeVersion});
Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9E3,activeCounter:0},constructor:function(a){var b=this;b.id=Ext.id(null,"zindex-mgr-");b.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(a,b){var e=(a.alwaysOnTop||0)-(b.alwaysOnTop||0);e||(e=a.getActiveCounter()-b.getActiveCounter());return e}},filters:{filterFn:function(a){return a.isVisible()}}});b.zIndexStack.addObserver(b);b.front=null;b.globalListeners=Ext.globalEvents.on({hide:b.onComponentShowHide,
show:b.onComponentShowHide,scope:b,destroyable:!0});a?a.isContainer?(a.on("resize",b._onContainerResize,b),b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):void 0,b.getNextZSeed()),b.targetEl=a.getTargetEl(),b.container=a):(Ext.on("resize",b._onContainerResize,b),b.zseed=b.getNextZSeed(),b.targetEl=Ext.get(a)):(b.zseed=b.getNextZSeed(),Ext.onReady(function(){Ext.on("resize",b._onContainerResize,b);b.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=
1E4},setBase:function(a){this.zseed=a;return this.onCollectionSort()},onCollectionSort:function(){var a=this.front,b=this.zIndexStack.getRange(),c=b.length,d,e=this.zseed,g,h;for(d=0;d<c;d++)g=b[d],e=g.setZIndex(e),g.modal&&(h=g);g&&g!==a&&(a&&!a.destroying&&a.setActive(!1,g),a=g.modal||g.focusOnToFront&&!g.preventFocusOnActivate,g.setActive(!0,null,a));this.front=g;h?this._showModalMask(h):this._hideModalMask();return e},onComponentUpdate:function(a){this.zIndexStack.contains(a)&&this.zIndexStack.sort()},
onComponentShowHide:function(a){var b=this.zIndexStack;if(a.isFloating()&&!this.hidingAll&&(b.getSource()||b).contains(a))b.itemChanged(a,"hidden"),b.sort(),a.isVisible()||a.setActive(!1)},_showModalMask:function(a){var b=a.el.getStyle("zIndex")-4;a=a.floatParent?a.floatParent.getTargetEl():a.container;var c=this.mask,d=this.maskShim,e;c||(c=this.mask=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"}),c.setVisibilityMode(Ext.Element.DISPLAY),
c.on("click",this._onMaskClick,this));c.maskTarget=a;e=this._getMaskBox();d&&(d.setStyle("zIndex",b),d.show(),d.setBox(e));c.setStyle("zIndex",b);b="data-savedtabindex-"+a.getId();a.saveTabbableState(b);a.saveChildrenTabbableState(b);c.show();c.setBox(e)},_hideModalMask:function(){var a=this.mask,b=this.maskShim,c,d;a&&a.isVisible()&&(c=a.maskTarget,d="data-savedtabindex-"+c.getId(),c.restoreChildrenTabbableState(d),c.restoreTabbableState(d),a.maskTarget=void 0,a.hide(),b&&b.hide())},_onMaskClick:function(){this.front&&
this.front.focus()},_getMaskBox:function(){var a=this.mask.maskTarget;return a.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:a.getBox()},_onContainerResize:function(){var a=this.mask,b=this.maskShim,c;a&&a.isVisible()&&(a.hide(),b&&b.hide(),c=this._getMaskBox(),b&&(b.setSize(c),b.show()),a.setSize(c),a.show())},register:function(a){a.zIndexManager&&a.zIndexManager.unregister(a);
a.zIndexManager=this;this.zIndexStack.add(a)},unregister:function(a){delete a.zIndexManager;this.zIndexStack.remove(a);this.onCollectionSort()},get:function(a){return a.isComponent?a:this.zIndexStack.get(a)},bringToFront:function(a,b){var c=this.zIndexStack,d=c.last(),e=a.preventFocusOnActivate;if(c.find("alwaysOnTop",!0))return!1;a=this.get(a);a.preventFocusOnActivate=b;a.setActiveCounter(++Ext.ZIndexManager.activeCounter);a.preventFocusOnActivate=e;c=c.last();return c===a&&c!==d},sendToBack:function(a){a=
this.get(a);a.setActiveCounter(0);return a},hideAll:function(){var a=this.zIndexStack.getRange(),b=a.length,c;this.hidingAll=!0;for(c=0;c<b;c++)a[c].hide();this.hidingAll=!0},hide:function(){var a=this.tempHidden=this.zIndexStack.getRange(),b=a.length,c,d;for(c=0;c<b;c++)d=a[c],d.el.hide(),d.hidden=!0},show:function(){var a,b=this.tempHidden,c=b?b.length:0,d;for(a=0;a<c;a++)d=b[a],d.el.show(),d.hidden=!1,d.setPosition(d.x,d.y);this.tempHidden=null},getActive:function(){return this.zIndexStack.last()},
getBy:function(a,b){return this.zIndexStack.filterBy(a,b).getRange()},each:function(a,b){this.zIndexStack.each(a,b)},eachBottomUp:function(a,b){var c=this.zIndexStack.getRange(),d,e=c.length,g;for(d=0;d<e&&!(g=c[d],g.isComponent&&!1===a.call(b||g,g));d++);},eachTopDown:function(a,b){var c=this.zIndexStack.getRange(),d,e;for(d=c.length;0<d--&&!(e=c[d],e.isComponent&&!1===a.call(b||e,e)););},destroy:function(){var a=this.zIndexStack.getRange(),b=a.length,c;for(c=0;c<b;c++)Ext.destroy(a[c]);Ext.destroy(this.mask,
this.maskShim,this.zIndexStack,this.globalListeners);this.zIndexStack=this.container=this.targetEl=this.globalListeners=null}},function(){Ext.WindowManager=Ext.WindowMgr=new this});
Ext.define("Ext.container.Container",{extend:Ext.Component,xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],mixins:[Ext.mixin.Queryable],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:!0,autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:void 0,layout:"auto",suspendLayout:!1,_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var a=Ext.Array.slice(arguments),b=
"number"==typeof a[0]?a.shift():-1,c=this.getLayout(),d=!1,e,g,h,j,k,l;1==a.length&&Ext.isArray(a[0])&&(a=a[0],e=!0);this.rendered&&Ext.suspendLayouts();k=a=this.prepareItems(a,!0);g=a.length;!e&&1==g&&(k=a[0]);for(e=0;e<g;e++)if((h=a[e])||Ext.Error.raise("Cannot add null item to Container with itemId/id: "+this.getItemId()),h.isDestroyed&&Ext.Error.raise("Cannot add destroyed item '"+h.getId()+"' to Container '"+this.getId()+"'"),j=0>b?this.items.length:b+e,l=!!h.instancedCmp,delete h.instancedCmp,
h.floating)this.floatingItems.add(h),h.onAdded(this,j,l),delete h.initOwnerCt,this.hasListeners.add&&this.fireEvent("add",this,h,j);else if((!this.hasListeners.beforeadd||!1!==this.fireEvent("beforeadd",this,h,j))&&!1!==this.onBeforeAdd(h))this.items.insert(j,h),h.onAdded(this,j,l),delete h.initOwnerCt,this.onAdd(h,j),c.onAdd(h,j),d=!0,this.hasListeners.add&&this.fireEvent("add",this,h,j);d&&this.updateLayout();this.rendered&&Ext.resumeLayouts(!0);return k},onAdded:function(a,b,c){this.callParent(arguments);
c&&Ext.ComponentManager.markReferencesDirty()},onRemoved:function(a){var b;if(!a&&(b=this.lookupReferenceHolder()))Ext.ComponentManager.markReferencesDirty(),b.clearReferences();this.callParent(arguments)},afterComponentLayout:function(){var a=this.floatingItems.items,b=a.length,c,d;this.callParent(arguments);for(c=0;c<b;c++)d=a[c],!d.rendered&&d.autoShow&&d.show()},afterLayout:function(a){var b=this.scrollManager;++this.layoutCounter;b&&1<this.layoutCounter&&b.refresh();this.hasListeners.afterlayout&&
this.fireEvent("afterlayout",this,a)},onDestroy:function(){this.callParent();this.refs=null},beforeDestroy:function(){var a=this.items,b=this.floatingItems,c;if(a)for(;c=a.first();)this.doRemove(c,!0);if(b)for(;c=b.first();)this.doRemove(c,!0);Ext.destroy(this.layout);this.callParent()},beforeRender:function(){var a=this.getLayout();this.callParent();a.initialized||a.initLayout();(a=a.targetCls)&&this.applyTargetCls(a)},cascade:function(a,b,c){var d=this.items?this.items.items:[],e=d.length,g=0,h,
j=c?c.concat(this):[this],k=j.length-1;if(!1!==a.apply(b||this,j))for(;g<e;g++)h=d[g],h.cascade?h.cascade(a,b,c):(j[k]=h,a.apply(b||h,j));return this},contains:function(a,b){var c=!1;return b?(this.cascade(function(b){if(b.contains&&b.contains(a))return c=!0,!1}),c):this.items.contains(a)||this.floatingItems.contains(a)},disable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++)c=a[d],!1!==c.resetDisable&&!c.disabled&&(c.disable(),c.resetDisable=
!0);return this},doLayout:function(){this.updateLayout();return this},enable:function(){this.callParent(arguments);var a=this.getChildItemsToDisable(),b=a.length,c,d;for(d=0;d<b;d++)c=a[d],c.resetDisable&&c.enable();return this},getChildByElement:function(a,b){var c,d,e=0,g=this.getRefItems(),h=g.length;for(a=Ext.getDom(a);e<h;e++)if(c=g[e],(d=c.getEl())&&(d.dom===a||d.contains(a)))return b&&c.getChildByElement?c.getChildByElement(a,b):c;return null},getComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());
var b=this.items.get(a);!b&&"number"!=typeof a&&(b=this.floatingItems.get(a));return b},getLayout:function(){var a=this.layout;(!a||!a.isLayout)&&this.setLayout(a);return this.layout},getRefItems:function(a){for(var b=this.items.items,c=b.length,d=0,e,g=[];d<c;d++)e=b[d],g[g.length]=e,a&&e.getRefItems&&g.push.apply(g,e.getRefItems(!0));b=this.floatingItems.items;c=b.length;for(d=0;d<c;d++)e=b[d],g[g.length]=e,a&&e.getRefItems&&g.push.apply(g,e.getRefItems(!0));return g},initComponent:function(){this.callParent();
this.getLayout();this.constructing=!0;this.initItems();delete this.constructing},getReferences:function(){var a=Ext.ComponentManager;a.referencesDirty&&a.fixReferences();return this.refs||null},lookupReference:function(a){var b=this.getReferences();return b&&b[a]||null},initItems:function(){var a=this.items;if(!a||!a.isMixedCollection)this.items=new Ext.util.AbstractMixedCollection(!1,this.getComponentId),this.floatingItems=new Ext.util.MixedCollection(!1,this.getComponentId),a&&(Ext.isArray(a)||
(a=[a]),this.add(a))},initInheritedState:function(a,b){var c=this.controller,d=this.layout,e=this.session,g=this.viewModel,h=this.reference,j=this.referenceHolder;this.callParent([a,b]);this.collapsed&&(a.collapsed=!0);c?(a.referenceHolder=c,j=!0):j&&(a.referenceHolder=this);j?a.referencePath="":h&&this.isParentReference&&(a.referencePath=this.referenceKey+".");e&&(a.session=e);g?a.viewModelPath="":h&&this.isParentReference&&(a.viewModelPath=this.viewModelKey+".");d&&d.initInheritedState&&d.initInheritedState(a,
b)},insert:function(a,b){var c;return b&&b.isComponent&&(c=this.items.indexOf(b),-1!==c)?this.move(c,a):this.add(a,b)},isAncestor:function(a){for(;a;){if(a.ownerCt===this)return!0;a=a.ownerCt}},lookupComponent:function(a){a.isComponent||(a="string"===typeof a?Ext.ComponentManager.get(a):Ext.ComponentManager.create(a,this.defaultType));return a},move:function(a,b){var c=this.items,d;a.isComponent&&(a=c.indexOf(a));d=c.getAt(a);if(a!==b){d=c.removeAt(a);if(!1===d)return!1;c.insert(b,d);this.onMove(d,
a,b);this.hasListeners.move&&this.fireEvent("move",this,d,a,b);this.updateLayout()}return d},moveBefore:function(a,b){return this.layout.moveItemBefore(a,b)},moveAfter:function(a,b){var c=this.items,d=this.layout,e=b?d.getMoveAfterIndex(b):0,c=c.getAt(e);return d.moveItemBefore(a,c)},nextChild:function(a,b){var c=this.items,d=c.indexOf(a),e=0,g=c.length,h;if(-1!==d){if(b)for(;e<g&&!(h=c.getAt(d+e),!h||Ext.ComponentQuery.is(h,b));e++);else h=c.getAt(d+1);!h&&this.ownerCt&&(h=this.ownerCt.nextChild(this,
b))}return h},onAdd:Ext.emptyFn,onBeforeAdd:function(a){var b=a.ownerCt;b&&b!==this&&b.remove(a,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},prevChild:function(a,b){var c=this.items,d=c.indexOf(a),e=0,g=c.length,h;if(-1!==d){if(b)for(;e<g&&!(h=c.getAt(d-e),!h||Ext.ComponentQuery.is(h,b));e++);else h=c.getAt(d-1);!h&&this.ownerCt&&(h=this.ownerCt.nextChild(this,
b))}return h},remove:function(a,b){var c=this.getComponent(a);arguments.length||Ext.log.warn("Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.");if(c&&(!this.hasListeners.beforeremove||!1!==this.fireEvent("beforeremove",this,c)))this.doRemove(c,b),this.hasListeners.remove&&this.fireEvent("remove",this,c),!this.destroying&&!c.floating&&this.updateLayout();return c},removeAll:function(a){var b=this.items.items.slice().concat(this.floatingItems.items),
c=[],d=0,e=b.length,g;Ext.suspendLayouts();for(this.removingAll=!0;d<e;d++)g=b[d],this.remove(g,a),g.ownerCt!==this&&c.push(g);this.removingAll=!1;Ext.resumeLayouts(!!e);return c},setLayout:function(a){var b=this.layout,c=b&&b.isLayout,d;"string"===typeof a&&(a={type:a});d=a.type;c&&(!d||d===b.type)?(delete a.type,b.setConfig(a)):(c&&b.setOwner(null),b=this.self.prototype.layout,"string"===typeof b?a.type=d||b:Ext.merge(Ext.merge({},b),a),a=this.layout=Ext.Factory.layout(a),a.setOwner(this));this.rendered&&
this.updateLayout()},setActiveItem:function(a){return this.getLayout().setActiveItem(a)},privates:{applyDefaults:function(a){var b=this.defaults;b&&(Ext.isFunction(b)&&(b=b.call(this,a)),Ext.isString(a)&&(a=Ext.ComponentManager.get(a)),a.isComponent?a.setConfig(b,null,this._applyDefaultsOptions):a=this.getConfigurator().merge(this,Ext.Object.fork(b),a));return a},applyReference:function(a){var b;if(a&&"\x3e"===a.charAt(b=a.length-1))this.isParentReference=!0,a=a.substring(0,b);a&&!this.validIdRe.test(a)&&
Ext.Error.raise('Invalid reference "'+a+'" for '+this.getId()+" - not a valid identifier");return a},applyTargetCls:function(a){this.addCls(a)},attachReference:function(a){var b,c;!this.destroying&&!this.isDestroyed&&(c=this.refs||(this.refs={}),b=a.referenceKey,c[b]&&c[b]!==a&&Ext.log.warn('Duplicate reference: "'+b+'" on '+this.id),c[b]=a)},clearReference:function(a){var b=this.refs,c=a.referenceKey;b&&c&&(a.viewModelKey=a.referenceKey=b[c]=null)},clearReferences:function(){this.refs=null},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},
doRemove:function(a,b){b=!0===b||!1!==b&&this.autoDestroy;var c=this.layout,d=c&&this.rendered,e=a.destroying||b,g=a.floating;g?this.floatingItems.remove(a):this.items.remove(a);d&&!g&&(c.running&&Ext.Component.cancelLayout(a,e),c.onRemove(a,e));a.onRemoved(e);this.onRemove(a,e);b?a.destroy():(d&&!g&&c.afterRemove(a),this.detachOnRemove&&a.rendered&&this.detachComponent(a))},finishRenderChildren:function(){this.callParent();var a=this.getLayout();a&&a.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],button")},
getComponentId:function(a){return a.getItemId&&a.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){return this.getTargetEl()},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(a,b){a=Ext.isArray(a)?a.slice():[a];for(var c=0,d=a.length,e;c<d;c++)e=a[c],null==e?(Ext.Array.erase(a,c,1),--c,--d):(b&&(e=this.applyDefaults(e)),e.initOwnerCt=this,
e.isComponent&&(e.instancedCmp=!0),a[c]=this.lookupComponent(e),delete e.initOwnerCt);return a},repositionFloatingItems:function(){var a=this.floatingItems.items,b=a.length,c,d;for(c=0;c<b;c++)d=a[c],d.el&&!d.hidden&&d.setPosition(d.x,d.y)},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var a=this.items.items,b=a.length,c=this._noMargin,d;b--;)d=a[b],d.margin$=null,d.el.setStyle(c)},setupRenderTpl:function(a){this.callParent(arguments);
this.getLayout().setupRenderTpl(a)}}});
Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:Ext.layout.container.Container,autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(){var a=this.owner.autoSize,b=a&&a.width,c=this.sizePolicies,
c=c[b]||c.$,b=a&&a.height;return c=c[b]||c.$},calculate:function(a){var b=this.owner,c=b.autoSize,d,e;!0===c&&(c=this.autoSizeDefault);c&&(d=this.getDimension(b,c.width,"getWidth",b.width),e=this.getDimension(b,c.height,"getHeight",b.height));a.childItems[0].setSize(d,e);a.setWidth(d);a.setHeight(e);a.setContentSize(d||b.field.getWidth(),e||b.field.getHeight())},getDimension:function(a,b,c,d){switch(b){case "boundEl":return a.boundEl[c]();case "field":break;default:return d}}});
Ext.define("Ext.Editor",{extend:Ext.container.Container,xtype:"editor",layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,hidden:!0,baseCls:Ext.baseCSSPrefix+"editor",initComponent:function(){var a=this.field=Ext.ComponentManager.create(this.field,"textfield");a.inEditor=!0;a.msgTarget=a.msgTarget||"qtip";this.mon(a,{scope:this,blur:this.onFieldBlur,specialkey:this.onSpecialKey});
a.grow&&this.mon(a,"autosize",this.onFieldAutosize,this,{delay:1});this.floating={constrain:this.constrain};this.items=a;this.callParent(arguments)},onFieldAutosize:function(){this.updateLayout()},afterRender:function(a,b){var c=this.field.inputEl;this.callParent(arguments);c&&(c.dom.name="",this.swallowKeys&&c.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(a,b){var c=this,d=b.getKey(),e=c.completeOnEnter&&d==b.ENTER,d=c.cancelOnEsc&&d==b.ESC;if(e||d)b.stopEvent(),Ext.defer(function(){e?
c.completeEdit():c.cancelEdit()},1);c.fireEvent("specialkey",c,a,b)},startEdit:function(a,b){var c=this.field,d;this.completeEdit();this.boundEl=Ext.get(a);d=this.boundEl.dom;b=Ext.isDefined(b)?b:Ext.String.trim(d.textContent||d.innerText||d.innerHTML);!this.rendered&&(!this.renderTo&&this.ownerCt)&&(this.renderTo=this.ownerCt.el).position();!1!==this.fireEvent("beforestartedit",this,this.boundEl,b)&&(this.startValue=b,this.show(),c.suspendEvents(),c.reset(),c.setValue(b),c.resumeEvents(),this.realign(!0),
c.focus([c.getRawValue().length]),c.autoSize&&c.autoSize(),this.editing=!0)},realign:function(a){!0===a&&this.updateLayout();this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){var b=this.field,c;if(this.editing)if(b.assertValue&&b.assertValue(),c=this.getValue(),b.isValid())if(String(c)===String(this.startValue)&&this.ignoreNoChange)this.onEditComplete(a);else!1!==this.fireEvent("beforecomplete",this,c,this.startValue)&&(c=this.getValue(),this.updateEl&&this.boundEl&&
this.boundEl.setHtml(c),this.onEditComplete(a),this.fireEvent("complete",this,c,this.startValue));else!1!==this.revertInvalid&&this.cancelEdit(a)},onShow:function(){this.callParent(arguments);!1!==this.hideEl&&this.boundEl.hide();this.fireEvent("startedit",this,this.boundEl,this.startValue)},cancelEdit:function(a){var b=this.startValue,c=this.field,d;this.editing&&(c&&(d=this.editedValue=this.getValue(),c.suspendEvents(),this.setValue(b),c.resumeEvents()),this.onEditComplete(a),this.fireEvent("canceledit",
this,d,b),delete this.editedValue)},onEditComplete:function(a){this.editing=!1;!0!==a&&this.hide()},onFieldBlur:function(){var a=Ext.Element.getActiveElement();!0===this.allowBlur&&(this.editing&&!0!==this.selectSameEditor)&&this.completeEdit();(Ext.fly(a).isFocusable()||a.getAttribute("tabindex"))&&a.focus()},onHide:function(){var a=this.field;this.editing?this.completeEdit():(a.collapse&&a.collapse(),!1!==this.hideEl&&this.boundEl.show(),this.callParent(arguments))},setValue:function(a){this.field.setValue(a)},
getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroy(this.field);delete this.field;delete this.boundEl;this.callParent(arguments)}});
Ext.define("Ext.EventManager",{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(a,b,c,d,e){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#addListener to attach an event listener.");Ext.get(a).addListener(b,c,d,e)},onWindowResize:function(a,b,c){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to attach a window resize listener.");Ext.GlobalEvents.on("resize",a,b,c)},onWindowUnload:function(a,b,c){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().on('unload', fn) to attach a window unload listener.");
Ext.getWin().on("unload",a,b,c)},purgeElement:function(a){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners.");Ext.get(a).clearListeners()},removeAll:function(a){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners.");Ext.get(a).clearListeners()},removeListener:function(a,b,c,d,e){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#removeListener to remove an event listener.");
Ext.get(a).removeListener(b,c,d,e)},removeResizeListener:function(a,b){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to detach a window resize listener.");Ext.GlobalEvents.un("resize",a,b)},removeUnloadListener:function(a,b){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().un('unload', fn) to detach a window unload listener.");Ext.getWin().un("unload",a,b)},stopEvent:function(a){Ext.log.warn("Ext.EventManager.stopEvent() is deprecated. Call stopEvent() directly on the Ext.event.Event instance instead.");
this.stopPropagation(a);this.preventDefault(a)},stopPropagation:function(a){Ext.log.warn("Ext.EventManager.stopPropagation() is deprecated. Call stopPropagation() directly on the Ext.event.Event instance instead.");a=a.browserEvent||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},preventDefault:function(a){Ext.log.warn("Ext.EventManager.preventDefault() is deprecated. Call preventDefault() directly on the Ext.event.Event instance instead.");a=a.browserEvent||a;if(a.preventDefault)a.preventDefault();
else{a.returnValue=!1;try{if(a.ctrlKey||111<a.keyCode&&124>a.keyCode)a.keyCode=-1}catch(b){}}},getId:function(a){Ext.log.warn("Ext.EventManager.getId() is deprecated. Call Ext.get() to assign ids to elements.");a=Ext.get(a);return a.id},getRelatedTarget:function(a){Ext.log.warn("Ext.EventManager.getRelatedTarget() is deprecated. Call getRelatedTarget() directly on the Ext.event.Event instance instead.");a=a.browserEvent||a;var b=a.relatedTarget;b||(this.mouseLeaveRe.test(a.type)?b=a.toElement:this.mouseEnterRe.test(a.type)&&
(b=a.fromElement));return this.resolveTextNode(b)},getPageX:function(a){Ext.log.warn("Ext.EventManager.getPageX() is deprecated. Call getX() directly on the Ext.event.Event instance instead.");return this.getPageXY(a)[0]},getPageXY:function(a){Ext.log.warn("Ext.EventManager.getPageXY() is deprecated. Call getXY() directly on the Ext.event.Event instance instead.");a=a.browserEvent||a;var b=a.pageX,c=a.pageY,d=doc.documentElement,e=doc.body;!b&&0!==b&&(b=a.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||
0)-(d&&d.clientLeft||e&&e.clientLeft||0),c=a.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0));return[b,c]},getPageY:function(a){Ext.log.warn("Ext.EventManager.getPageY() is deprecated. Call getY() directly on the Ext.event.Event instance instead.");return this.getPageXY(a)[1]},getTarget:function(a){Ext.log.warn("Ext.EventManager.getTarget() is deprecated. Call getTarget() directly on the Ext.event.Event instance instead.");a=a.browserEvent||a;return EventManager.resolveTextNode(a.target||
a.srcElement)},resolveTextNode:Ext.isGecko?function(a){if(a){var b=HTMLElement.prototype.toString.call(a);if("[xpconnect wrapped native prototype]"!==b&&"[object XULElement]"!==b)return 3==a.nodeType?a.parentNode:a}}:function(a){return a&&3==a.nodeType?a.parentNode:a}},function(a){a.on=a.addListener;a.un=a.removeListener});
Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",inputTagRe:/input|textarea/i,eventName:"keydown",constructor:function(a){1!==arguments.length||"string"===typeof a||a.dom||a.tagName||a===document||a.isComponent?this.legacyConstructor.apply(this,arguments):(Ext.apply(this,a),this.bindings=[],this.target.isComponent||(this.target=Ext.get(this.target)),this.binding?this.addBinding(this.binding):a.key&&this.addBinding(a),this.enable())},legacyConstructor:function(a,b,c){Ext.apply(this,{target:Ext.get(a),
eventName:c||this.eventName,bindings:[]});b&&this.addBinding(b);this.enable()},addBinding:function(a){var b=a.key,c;this.processing&&(this.bindings=bindings.slice(0));if(Ext.isArray(a)){b=0;for(c=a.length;b<c;b++)this.addBinding(a[b])}else this.bindings.push(Ext.apply({keyCode:this.processKeys(b)},a))},removeBinding:function(a){var b=this.bindings,c=b.length,d,e,g;this.processing&&(this.bindings=b.slice(0));g=this.processKeys(a.key);for(d=0;d<c;++d)if(e=b[d],(e.fn||e.handler)===(a.fn||a.handler)&&
e.scope===a.scope&&a.alt===e.alt&&(a.crtl===e.crtl&&a.shift===e.shift)&&Ext.Array.equals(e.keyCode,g)){Ext.Array.erase(this.bindings,d,1);break}},processKeys:function(a){var b=!1,c,d;if(Ext.isString(a)){c=[];a=a.toUpperCase();d=0;for(b=a.length;d<b;++d)c.push(a.charCodeAt(d));a=c;b=!0}Ext.isArray(a)||(a=[a]);if(!b){d=0;for(b=a.length;d<b;++d)c=a[d],Ext.isString(c)&&(a[d]=c.toUpperCase().charCodeAt(0))}return a},handleTargetEvent:function(a){var b=this.inputTagRe,c,d,e,g,h;if(this.enabled){c=this.bindings;
d=0;e=c.length;this.lastKeyEvent=a=this.processEvent.apply(this||this.processEventScope,arguments);if(this.ignoreInputFields&&(g=a.target,h=g.contentEditable,b.test(g.tagName)&&"button"!==g.type||""===h||"true"===h))return;if(!a.getKey)return a;for(this.processing=!0;d<e;++d)this.processBinding(c[d],a);this.processing=!1}},processEvent:Ext.identityFn,processBinding:function(a,b){if(this.checkModifiers(a,b)){var c=b.getKey(),d=a.fn||a.handler,e=a.scope||this,g=a.keyCode,h=a.defaultEventAction,j,k;
j=0;for(k=g.length;j<k;++j)if(c===g[j]){if(!0!==d.call(e,c,b)&&h)b[h]();break}}},checkModifiers:function(a,b){for(var c=["shift","ctrl","alt"],d=0,e=c.length,g,h;d<e;++d)if(h=c[d],g=a[h],!(void 0===g||g===b[h+"Key"]))return!1;return!0},on:function(a,b,c){var d,e,g,h;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,g=a.ctrl,h=a.alt):d=a;this.addBinding({key:d,shift:e,ctrl:g,alt:h,fn:b,scope:c})},un:function(a,b,c){var d,e,g,h;Ext.isObject(a)&&!Ext.isArray(a)?(d=a.key,e=a.shift,g=a.ctrl,h=a.alt):
d=a;this.removeBinding({key:d,shift:e,ctrl:g,alt:h,fn:b,scope:c})},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this,{capture:this.capture}),this.enabled=!0)},disable:function(){this.enabled&&(this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(a){a?this.disable():this.enable()},destroy:function(a){var b=this.target;this.bindings=[];this.disable();a&&b.destroy();
delete this.target}});
Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){2===arguments.length?this.legacyConstructor.apply(this,arguments):this.setConfig(a)},legacyConstructor:function(a,b){this.setConfig(Ext.apply({target:a},b))},setConfig:function(a){var b={target:a.target,ignoreInputFields:a.ignoreInputFields,eventName:this.getKeyEvent("forceKeyDown"in a?
a.forceKeyDown:this.forceKeyDown,a.eventName),capture:a.capture};this.map&&this.map.destroy();a.processEvent&&(b.processEvent=a.processEvent,b.processEventScope=a.processEventScope||this);a.keyMap?b=this.map=a.keyMap:(b=this.map=new Ext.util.KeyMap(b),this.destroyKeyMap=!0);this.addBindings(a);b.disable();a.disabled||b.enable()},addBindings:function(a){var b,c,d=this.map,e=Ext.util.KeyNav.keyOptions,g=a.scope||this;for(b in a)if((c=a[b])&&(1===b.length||(b=e[b])||!isNaN(b=parseInt(b,10))))"function"===
typeof c&&(c={handler:c,defaultEventAction:void 0!==a.defaultEventAction?a.defaultEventAction:this.defaultEventAction}),d.addBinding({key:b,ctrl:c.ctrl,shift:c.shift,alt:c.alt,handler:Ext.Function.bind(this.handleEvent,c.scope||g,[c.handler||c.fn,this],!0),defaultEventAction:void 0!==c.defaultEventAction?c.defaultEventAction:this.defaultEventAction})},handleEvent:function(a,b,c,d){d.lastKeyEvent=b;return c.call(this,b)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",
destroy:function(a){this.destroyKeyMap&&this.map.destroy(a);delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable();this.disabled=!0},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(a,b){return a||Ext.supports.SpecialKeyDownRepeat&&!b?"keydown":b||this.eventName}});
Ext.define("Ext.FocusManager",{singleton:!0,alternateClassName:["Ext.FocusMgr"],mixins:{observable:Ext.util.Observable},enabled:!1,focusElementCls:Ext.baseCSSPrefix+"focus-element",focusFrameCls:Ext.baseCSSPrefix+"focus-frame",whitelist:["textfield"],constructor:function(a){var b=this,c=Ext.ComponentQuery;b.mixins.observable.constructor.call(b,a);b.focusTask=new Ext.util.DelayedTask(b.handleComponentFocus,b);Ext.override(Ext.Component,{onBlur:function(){this.callParent(arguments);b.enabled&&!this.hasFocus&&
(Array.prototype.unshift.call(arguments,this),b.onComponentBlur.apply(b,arguments))},onDestroy:function(){this.callParent(arguments);b.enabled&&(Array.prototype.unshift.call(arguments,this),b.onComponentDestroy.apply(b,arguments))},onFocus:function(){this.callParent(arguments);b.enabled&&this.hasFocus&&(Array.prototype.unshift.call(arguments,this),b.onComponentFocus.apply(b,arguments))}});Ext.override(Ext.Component,{afterHide:function(){this.callParent(arguments);b.enabled&&(Array.prototype.unshift.call(arguments,
this),b.onComponentHide.apply(b,arguments))}});b.focusData={};b.subscribers=new Ext.util.HashMap;b.focusChain={};Ext.apply(c.pseudos,{nextFocus:function(a,b,c){c=c||1;b=parseInt(b,10);for(var h=a.length,j=b,k;;){(j+=c)>=h?j=0:0>j&&(j=h-1);if(j===b)break;if((k=a[j]).isFocusable())return[k]}return[]},prevFocus:function(a,b){return this.nextFocus(a,b,-1)},root:function(a){for(var b=a.length,c=[],h=0,j;h<b;h++)j=a[h],j.ownerCt||c.push(j);return c}})},getKeyNav:function(){return this.keyNav=this.keyNav||
new Ext.util.KeyNav(Ext.getDoc(),{disabled:!0,scope:this,backspace:this.focusLast,enter:this.navigateIn,esc:this.navigateOut,tab:this.navigateSiblings,space:this.navigateIn,del:this.focusLast,left:this.navigateSiblings,right:this.navigateSiblings,down:this.navigateSiblings,up:this.navigateSiblings})},addXTypeToWhitelist:function(a){Ext.isArray(a)?Ext.Array.forEach(a,this.addXTypeToWhitelist,this):Ext.Array.contains(this.whitelist,a)||this.whitelist.push(a)},clearComponent:function(a){clearTimeout(this.cmpFocusDelay);
a.isDestroyed||a.blur()},disable:function(){this.enabled&&(delete this.options,this.enabled=!1,this.removeDOM(),this.getKeyNav().disable(),this.fireEvent("disable",this))},enable:function(a){!0===a&&(a={focusFrame:!0});this.options=a=a||{};this.enabled||(this.enabled=Ext.enableFocusManager=!0,this.initDOM(a),this.getKeyNav().enable(),this.focusEl.focus(),delete this.focusedCmp,this.fireEvent("enable",this))},focusLast:function(){if(this.isWhitelisted(this.focusedCmp))return!0;this.previousFocusedCmp&&
this.previousFocusedCmp.focus()},getRootComponents:function(){var a=Ext.ComponentQuery,b=a.query(":focusable:root:not([floating])"),a=a.query(":focusable:root[floating]");a.sort(function(a,b){return a.el.getZIndex()>b.el.getZIndex()});return a.concat(b)},initDOM:function(a){var b=this.focusFrameCls,c=Ext.ComponentQuery.query("{getFocusEl()}:not([focusListenerAdded])"),d=0,e=c.length;if(!Ext.isReady)return Ext.onReady(this.initDOM,this);for(;d<e;d++)c[d].addFocusListener();this.focusEl||(this.focusEl=
Ext.getBody(),this.focusEl.dom.tabIndex=-1);!this.focusFrame&&a.focusFrame&&(this.focusFrame=Ext.getBody().createChild({cls:b,children:[{cls:b+"-top"},{cls:b+"-bottom"},{cls:b+"-left"},{cls:b+"-right"}],style:"top: -100px; left: -100px;"}),this.focusFrame.setVisibilityMode(Ext.Element.DISPLAY),this.focusFrame.hide().setLocalXY(0,0))},isWhitelisted:function(a){return a&&Ext.Array.some(this.whitelist,function(b){return a.isXType(b)})},navigateIn:function(a){var b=this.focusedCmp,c;if(this.isWhitelisted(b))return!0;
if(b)(c=b.hasFocus?Ext.ComponentQuery.query("\x3e:focusable",b)[0]:b)?c.focus():Ext.isFunction(b.onClick)&&(a.button=0,b.onClick(a),b.isVisible(!0)?b.focus():this.navigateOut());else if(a=this.getRootComponents()[0])a.getFocusEl()===this.focusEl&&this.focusEl.blur(),a.focus()},navigateOut:function(){var a;!this.focusedCmp||!(a=this.focusedCmp.up(":focusable"))?this.focusEl.focus():a.focus();return!0},navigateSiblings:function(a,b,c){var d=b||this,e=a.getKey();b=e===a.LEFT||e===a.RIGHT||e===a.UP||
e===a.DOWN;a=a.shiftKey||e==a.LEFT||e==a.UP?"prev":"next";var g,d=d.focusedCmp&&d.focusedCmp.comp||d.focusedCmp;if(!d&&!c||b&&this.isWhitelisted(d))return!0;!d||d.is(":root")?g=this.getRootComponents():(c=c||d.up())&&(g=c.getRefItems());if(g&&(c=d?Ext.Array.indexOf(g,d):-1,(g=Ext.ComponentQuery.query(":"+a+"Focus("+c+")",g)[0])&&d!==g))return g.focus(),g},onComponentBlur:function(a){this.focusedCmp===a&&(this.previousFocusedCmp=a,delete this.focusedCmp);this.focusFrame&&this.focusFrame.hide()},onComponentFocus:function(a){var b=
this.focusChain,c;if(a.isFocusable())this.focusChain={},this.focusTask.delay(10,null,null,[a,a.getFocusEl()]);else if(this.clearComponent(a),!b[a.id]&&(c=a.up()))b[a.id]=!0,c.focus()},handleComponentFocus:function(a,b){var c,d,e,g,h,j,k,l,m;!1===this.fireEvent("beforecomponentfocus",this,a,this.previousFocusedCmp)?this.clearComponent(a):(this.focusedCmp=a,this.shouldShowFocusFrame(a)&&(c="."+this.focusFrameCls+"-",d=this.focusFrame,e=(b.dom?b:b.el).getBox(),g=e.top,h=e.left,j=e.width,e=e.height,k=
d.child(c+"top"),l=d.child(c+"bottom"),m=d.child(c+"left"),c=d.child(c+"right"),k.setWidth(j).setLocalXY(h,g),l.setWidth(j).setLocalXY(h,g+e-2),m.setHeight(e-2).setLocalXY(h,g+2),c.setHeight(e-2).setLocalXY(h+j-2,g+2),d.show()),this.fireEvent("componentfocus",this,a,this.previousFocusedCmp))},onComponentHide:function(a){var b=!1,c;this.focusedCmp&&(b=a.hasFocus||a.isContainer&&a.isAncestor(this.focusedCmp));this.clearComponent(a);b&&(c=a.up(":focusable"))?c.focus():this.focusEl.focus()},onComponentDestroy:function(){},
removeDOM:function(){!this.enabled&&!this.subscribers.length&&(Ext.destroy(this.focusFrame),delete this.focusEl,delete this.focusFrame)},removeXTypeFromWhitelist:function(a){Ext.isArray(a)?Ext.Array.forEach(a,this.removeXTypeFromWhitelist,this):Ext.Array.remove(this.whitelist,a)},setupSubscriberKeys:function(a,b){var c=this,d=a.getFocusEl(),e=b.scope,g={backspace:c.focusLast,enter:c.navigateIn,esc:c.navigateOut,scope:c};Ext.iterate(b,function(b,d){g[b]=function(b){var g;g=c.focusedCmp===a?c.navigateSiblings(b,
c,a):c.navigateSiblings(b);return Ext.isFunction(d)&&!0===d.call(e||a,b,g)?!0:g}},c);return new Ext.util.KeyNav(d,g)},shouldShowFocusFrame:function(a){return!this.focusFrame||!a?!1:(this.options||{}).focusFrame||this.focusData[a.id].focusFrame?!0:!1}});
Ext.define("Ext.Img",{extend:Ext.Component,alias:["widget.image","widget.imagecomponent"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",src:"",alt:"",title:"",imgCls:"",ariaRole:"img",maskOnDisable:!1,initComponent:function(){this.glyph&&(this.autoEl="div");this.callParent()},getElConfig:function(){var a=this.autoEl,b=this.callParent(),c=Ext._glyphFontFamily,d=this.glyph,e;"img"===a||Ext.isObject(a)&&"img"===a.tag?e=b:this.glyph?("string"===typeof d&&(a=d.split("@"),d=a[0],c=a[1]),b.html="\x26#"+d+
";",c&&(b.style="font-family:"+c)):b.cn=[e={tag:"img",role:this.ariaRole,id:this.id+"-img"}];e&&(this.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+this.imgCls),e.src=this.src||Ext.BLANK_IMAGE_URL);this.alt&&((e||b).alt=this.alt);this.title&&((e||b).title=this.title);return b},onRender:function(){var a=this.autoEl,b;this.callParent(arguments);b=this.el;this.imgEl="img"===a||Ext.isObject(a)&&"img"===a.tag?b:b.getById(this.id+"-img")},onDestroy:function(){Ext.destroy(this.imgEl);this.imgEl=null;this.callParent()},
setSrc:function(a){var b=this.imgEl;this.src=a;b&&(b.dom.src=a||Ext.BLANK_IMAGE_URL)},setGlyph:function(a){var b=Ext._glyphFontFamily,c;a!=this.glyph&&("string"===typeof a&&(b=a.split("@"),a=b[0],b=b[1]),c=this.el.dom,c.innerHTML="\x26#"+a+";",b&&(c.style="font-family:"+b))}});
Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(a,b,c){c=c||"store";var d=this[c];!b&&d&&(this.onUnbindStore(d,b,c),a!==d&&("store"===c&&d.autoDestroy?d.destroy():this.unbindStoreListeners(d)));a?(this[c]=a=Ext.data.StoreManager.lookup(a),this.bindStoreListeners(a),this.onBindStore(a,b,c,d)):this[c]=null;return this},getStore:function(){return this.store},setStore:function(a){this.bindStore(a)},unbindStoreListeners:function(a){var b=this.storeListeners;b&&a.un(b)},bindStoreListeners:function(a){var b=
this.getStoreListeners(a);b&&(b=Ext.apply({},b),b.scope||(b.scope=this),this.storeListeners=b,a.on(b))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});
Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:[Ext.util.StoreHolder],isLoadMask:!0,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",cls:Ext.baseCSSPrefix+"mask-msg",useMsg:!0,useTargetEl:!1,ariaRole:"presentation",childEls:["msgEl","msgTextEl"],renderTpl:['\x3cdiv id\x3d"{id}-msgEl" data-ref\x3d"msgEl" role\x3d"{role}"','\x3ctpl if\x3d"ariaAttr"\x3e {ariaAttr}\x3c/tpl\x3e',' class\x3d"{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,
'mask-msg-inner {childElCls}"\x3e','\x3cdiv id\x3d"{id}-msgTextEl" data-ref\x3d"msgTextEl" class\x3d"',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}"\x3e{msg}\x3c/div\x3e',"\x3c/div\x3e"],constructor:function(a){var b;2===arguments.length?(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config"),b=this.target=a,a=arguments[1]):b=a.target;this.callParent([a]);b.isComponent?(this.ownerCt=b,this.hidden=!0,this.renderTo=
this.getMaskTarget(),this.external=this.renderTo===Ext.getBody(),this.bindComponent(b)):(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask \x26 Ext.dom.Element.unmask"),Ext.get(b),this.isElement=!0,this.renderTo=this.target);this.render(this.renderTo);this.store&&this.bindStore(this.store,!0)},getRenderTree:function(){return[{cls:this.maskCls,style:"display:none"},this.callParent()]},onRender:function(){this.callParent(arguments);
this.maskEl=this.el.prev()},initRenderData:function(){var a=this.callParent(arguments);a.msg=this.msg||"";return a},bindComponent:function(a){var b={scope:this,resize:this.sizeMask};if(this.external)if(b.added=this.onComponentAdded,b.removed=this.onComponentRemoved,a.floating)b.move=this.sizeMask,this.activeOwner=a;else if(a.ownerCt)this.onComponentAdded(a.ownerCt);this.mon(a,b);this.external&&this.mon(Ext.GlobalEvents,{show:this.onContainerShow,hide:this.onContainerHide,expand:this.onContainerExpand,
collapse:this.onContainerCollapse,scope:this})},onComponentAdded:function(a){delete this.activeOwner;this.floatParent=a;a.floating||(a=a.up("[floating]"));a?(this.activeOwner=a,this.mon(a,"move",this.sizeMask,this),this.mon(a,"tofront",this.onOwnerToFront,this)):this.preventBringToFront=!0;a=this.floatParent.ownerCt;this.rendered&&(this.isVisible()&&a)&&(this.floatOwner=a,this.mon(a,"afterlayout",this.sizeMask,this,{single:!0}))},onComponentRemoved:function(){var a=this.activeOwner,b=this.floatOwner;
a&&(this.mun(a,"move",this.sizeMask,this),this.mun(a,"tofront",this.onOwnerToFront,this));b&&this.mun(b,"afterlayout",this.sizeMask,this);delete this.activeOwner;delete this.floatOwner},afterRender:function(){this.callParent(arguments);this.el.skipGarbageCollection=!0;this.maskEl.skipGarbageCollection=!0},onOwnerToFront:function(a,b){this.maskEl.setStyle("zIndex",b+1);this.el.setStyle("zIndex",b+2)},onContainerShow:function(){this.onComponentShow()},onContainerHide:function(){this.onComponentHide()},
onContainerExpand:function(){this.onComponentShow()},onContainerCollapse:function(){this.onComponentHide()},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show();delete this.showNext},sizeMask:function(){var a=this.target,b=this.external?this.getOwner().el:this.getMaskTarget();if(this.rendered&&this.isVisible()){if(this.external){if(!this.isElement&&a.floating)this.onOwnerToFront(a,a.el.getZIndex());this.maskEl.setSize(b.getSize()).alignTo(b,
"tl-tl")}this.el.center(this.maskEl)}},bindStore:function(a,b){this.mixins.storeholder.bindStore.apply(this,arguments);if((a=this.store)&&a.isLoading())this.onBeforeLoad()},getStoreListeners:function(a){var b=this.onLoad,c=this.onBeforeLoad,d={cachemiss:c,cachefilled:b};a.proxy.isSynchronous||(d.beforeload=c,d.load=b);return d},onDisable:function(){this.callParent(arguments);if(this.loading)this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var a=
this.getOwner();return this.isElement?this.target:this.useTargetEl?a.getTargetEl():a.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var a=this,b=a.getOwner(),c;a.disabled||(a.loading=!0,b.componentLayoutCounter?a.maybeShow():(c=b.afterComponentLayout,b.afterComponentLayout=function(){b.afterComponentLayout=c;c.apply(b,arguments);a.maybeShow()}))},maybeShow:function(){var a=this.getOwner();a.isVisible(!0)?this.loading&&a.rendered&&this.show():this.showNext=!0},hide:function(){if(this.isElement)this.ownerCt.unmask(),
this.fireEvent("hide",this);else return this.ownerCt.enableTabbing(),delete this.showNext,this.maskEl.setDisplayed(!1),this.ownerCt.setMasked(!1),this.callParent(arguments)},show:function(){if(this.isElement)this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),this.fireEvent("show",this);else return this.ownerCt.disableTabbing(),this.maskEl.setDisplayed(!0),this.ownerCt.setMasked(!0),this.callParent(arguments)},afterShow:function(){this.loading=!0;this.callParent(arguments);this.hasOwnProperty("maskCls")&&
(this.maskEl.dom.className=this.maskCls);this.useMsg?this.msgTextEl.setHtml(this.msg):this.el.hide();this.sizeMask()},onLoad:function(){this.loading=!1;this.hide()},beforeDestroy:function(){this.ownerCt=null;this.bindStore(null);this.callParent()},onDestroy:function(){this.isElement&&this.ownerCt.unmask();Ext.destroy(this.maskEl);this.callParent()}});
Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(a,b){var c=this.owner,d=a.ownerCtContext,e=a.heightModel,g=a.widthModel,h=c.el.dom===document.body,j=c.lastBox||this.nullBox,k=c.el.lastBox||this.nullBox,l=!h;this.callParent(arguments);if(b&&(this.usesContentWidth&&++a.consumersContentWidth,this.usesContentHeight&&
++a.consumersContentHeight,this.usesWidth&&++a.consumersWidth,this.usesHeight&&++a.consumersHeight,d&&!d.hasRawContent&&(d=c.ownerLayout)))d.usesWidth&&++a.consumersWidth,d.usesHeight&&++a.consumersHeight;g.configured?(d=g.names.width,h||(l=this.setWidthInDom||(b?c[d]!==k.width:g.constrained)),a.setWidth(c[d],l)):a.isTopLevel&&(g.calculated&&(g=j.width,a.setWidth(g,g!=k.width)),g=j.x,a.setProp("x",g,g!=k.x));e.configured?(j=e.names.height,h||(l=b?c[j]!==k.height:e.constrained),a.setHeight(c[j],l)):
a.isTopLevel&&(e.calculated&&(g=j.height,a.setHeight(g,g!=k.height)),g=j.y,a.setProp("y",g,g!=k.y))},finishedLayout:function(a){var b=a.children,c=this.owner,d,e,g;if(b){d=b.length;for(e=0;e<d;e++)g=b[e],g.el.lastBox=g.props}a.previousSize=this.lastComponentSize;this.lastComponentSize=c.el.lastBox=b=a.props;c=c.lastBox||(c.lastBox={});c.x=b.x;c.y=b.y;c.width=b.width;c.height=b.height;c.invalid=!1;this.callParent(arguments)},notifyOwner:function(a){var b=this.lastComponentSize;a=a.previousSize;b=[b.width,
b.height];a&&b.push(a.width,a.height);this.owner.afterComponentLayout.apply(this.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(a){var b=this.targetInfo;b||(a=a.getEl("getTarget",this),this.targetInfo=b={padding:a.getPaddingInfo(),border:a.getBorderInfo()});return b},measureAutoDimensions:function(a,b){var c=this.owner,d=c.layout,e=a.heightModel,g=a.widthModel,h=a.boxParent,j=a.isBoxParent,k=a.target,l=a.props,m,n={gotWidth:!1,
gotHeight:!1,isContainer:m=!a.hasRawContent},p=b||3,q,r=0,s=0,t;if(g.shrinkWrap&&a.consumersContentWidth)if(++r,q=!(p&1),m)if(q)n.contentWidth=0,n.gotWidth=!0,++s;else{if(void 0!==(n.contentWidth=a.getProp("contentWidth")))n.gotWidth=!0,++s}else if(t=l.contentWidth,"number"==typeof t)n.contentWidth=t,n.gotWidth=!0,++s;else{if(t=q?!0:a.hasDomProp("containerChildrenSizeDone")?j||!h||h.widthModel.shrinkWrap?!0:h.hasDomProp("width"):!1)if(q?q=0:d&&d.measureContentWidth?q=d.measureContentWidth(a):k.cacheWidth?
(q=k.xtype+"-"+k.ui,t=this.widthCache,q=t[q]||(t[q]=this.measureContentWidth(a))):q=this.measureContentWidth(a),!isNaN(n.contentWidth=q))a.setContentWidth(q,!0),n.gotWidth=!0,++s}else if(g.natural&&a.consumersWidth)if(++r,t=l.width,"number"==typeof t)n.width=t,n.gotWidth=!0,++s;else if((t=j||!h?!0:h.hasDomProp("width"))&&!isNaN(n.width=this.measureOwnerWidth(a)))a.setWidth(n.width,!1),n.gotWidth=!0,++s;if(e.shrinkWrap&&a.consumersContentHeight)if(++r,e=!(p&2),m)if(e)n.contentHeight=0,n.gotHeight=
!0,++s;else{if(void 0!==(n.contentHeight=a.getProp("contentHeight")))n.gotHeight=!0,++s}else if(t=l.contentHeight,"number"==typeof t)n.contentHeight=t,n.gotHeight=!0,++s;else{if(t=e?!0:a.hasDomProp("containerChildrenSizeDone")?c.noWrap?!0:g.shrinkWrap?j||!h||h.widthModel.shrinkWrap?!0:h.hasDomProp("width"):(a.bodyContext||a).hasDomProp("width"):!1)if(e?q=0:d&&d.measureContentHeight?q=d.measureContentHeight(a):k.cacheHeight?(q=k.xtype+"-"+k.ui,t=this.heightCache,q=t[q]||(t[q]=this.measureContentHeight(a))):
q=this.measureContentHeight(a),!isNaN(n.contentHeight=q))a.setContentHeight(q,!0),n.gotHeight=!0,++s}else if(e.natural&&a.consumersHeight)if(++r,t=l.height,"number"==typeof t)n.height=t,n.gotHeight=!0,++s;else if((t=j||!h?!0:h.hasDomProp("width"))&&!isNaN(n.height=this.measureOwnerHeight(a)))a.setHeight(n.height,!1),n.gotHeight=!0,++s;if(h)a.onBoxMeasured();n.gotAll=s==r;return n},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-
a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});
Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner.el;this.callParent(arguments);c&&(c.fixed&&a.widthModel.shrinkWrap)&&e.setWidth(null);d&&(d.fixed&&a.heightModel.shrinkWrap)&&e.setHeight(null)},calculate:function(a){var b=this.measureAutoDimensions(a),
c=a.heightModel,d=a.widthModel;b.gotWidth?d.shrinkWrap?this.publishOwnerWidth(a,b.contentWidth):this.publishInnerWidth&&this.publishInnerWidth(a,b.width):!d.auto&&this.publishInnerWidth&&(d=this.waitForOuterWidthInDom?a.getDomProp("width"):a.getProp("width"),void 0===d?this.done=!1:this.publishInnerWidth(a,d));b.gotHeight?c.shrinkWrap?this.publishOwnerHeight(a,b.contentHeight):this.publishInnerHeight&&this.publishInnerHeight(a,b.height):!c.auto&&this.publishInnerHeight&&(c=this.waitForOuterHeightInDom?
a.getDomProp("height"):a.getProp("height"),void 0===c?this.done=!1:this.publishInnerHeight(a,c));b.gotAll||(this.done=!1)},calculateOwnerHeightFromContentHeight:function(a,b){return b+a.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(a,b){return b+a.getFrameInfo().width},publishOwnerHeight:function(a,b){var c=this.owner,d=this.calculateOwnerHeightFromContentHeight(a,b),e,g;isNaN(d)?this.done=!1:(c=Ext.Number.constrain(d,c.minHeight,c.maxHeight),c==d?e=this.setHeightInDom:(g=this.sizeModels[c<
d?"constrainedMax":"constrainedMin"],d=c,a.heightModel.calculatedFromShrinkWrap?a.heightModel=g:a.invalidate({heightModel:g})),a.setHeight(d,e))},publishOwnerWidth:function(a,b){var c=this.owner,d=this.calculateOwnerWidthFromContentWidth(a,b),e,g;isNaN(d)?this.done=!1:(c=Ext.Number.constrain(d,c.minWidth,c.maxWidth),c==d?e=this.setWidthInDom:(g=this.sizeModels[c<d?"constrainedMax":"constrainedMin"],d=c,a.widthModel.calculatedFromShrinkWrap?a.widthModel=g:a.invalidate({widthModel:g})),a.setWidth(d,
e))}});
Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(a){var b,c;this.callParent(arguments);if(!a.textEls)if(c=this.owner.textEl,c.isComposite){a.textEls=[];c=c.elements;for(b=c.length;b--;)a.textEls[b]=a.getEl(Ext.get(c[b]))}else a.textEls=[a.getEl("textEl")]},calculate:function(a){var b,c,d;this.callParent(arguments);if(Ext.isNumber(d=a.getProp("width"))){d-=a.getBorderInfo().width;c=a.textEls;for(b=c.length;b--;)c[b].setWidth(d)}else this.done=
!1}});
Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",config:{value:0,textTpl:null},baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:'\x3ctpl if\x3d"internalText"\x3e;\x3cdiv class\x3d"{baseCls}-text {baseCls}-text-back"\x3e{text}\x3c/div\x3e;\x3c/tpl\x3e;\x3cdiv id\x3d"{id}-bar" data-ref\x3d"bar" class\x3d"{baseCls}-bar {baseCls}-bar-{ui}" role\x3d"presentation" style\x3d"width:{percentage}%"\x3e;\x3ctpl if\x3d"internalText"\x3e;\x3cdiv class\x3d"{baseCls}-text"\x3e;\x3cdiv\x3e{text}\x3c/div\x3e;\x3c/div\x3e;\x3c/tpl\x3e;\x3c/div\x3e'.split(";"),componentLayout:"progressbar",
ariaRole:"progressbar",initRenderData:function(){return Ext.apply(this.callParent(),{internalText:!this.hasOwnProperty("textEl"),text:this.text||"\x26#160;",percentage:this.value?100*this.value:0})},onRender:function(){this.callParent(arguments);this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):this.textEl=this.el.select("."+this.baseCls+"-text")},updateValue:function(a){this.updateProgress(a,Math.round(100*a)+"%")},updateProgress:function(a,b,c){var d=this.value,e=this.getTextTpl();
this.value=a||(a=0);null!=b?this.updateText(b):e&&this.updateText(e.apply({value:a,percent:100*a}));this.rendered&&!this.isDestroyed&&(!0===c||!1!==c&&this.animate?(this.bar.stopAnimation(),this.bar.animate(Ext.apply({from:{width:100*d+"%"},to:{width:100*a+"%"}},this.animate))):this.bar.setStyle("width",100*a+"%"));this.fireEvent("update",this,a,b);return this},updateText:function(a){this.text=a;this.rendered&&this.textEl.setHtml(this.text);return this},applyTextTpl:function(a){a.isTemplate||(a=new Ext.XTemplate(a));
return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(a){var b=this;b.waitTimer||(a=a||{},b.updateText(a.text),b.waitTimer=Ext.TaskManager.start({run:function(c){var d=a.increment||10;b.updateProgress(0.01*((c-1+d)%d+1)*(100/d),null,a.animate)},interval:a.interval||1E3,duration:a.duration,onStop:function(){a.fn&&a.fn.apply(a.scope||b);b.reset()},scope:b}));return b},isWaiting:function(){return null!==this.waitTimer},reset:function(a){this.updateProgress(0);
this.clearTimer();!0===a&&this.hide();return this},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},onDestroy:function(){var a=this.bar;this.clearTimer();this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar"),a&&this.animate&&a.stopAnimation());this.callParent()}});
Ext.define("Ext.ProgressBarWidget",{extend:Ext.Widget,alias:"widget.progressbarwidget",config:{text:null,value:0,animate:!1,textTpl:null},cachedConfig:{baseCls:Ext.baseCSSPrefix+"progress",textCls:Ext.baseCSSPrefix+"progress-text",ui:"default"},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateUi:function(a,b){var c=this.getBaseCls()+"-";b&&(this.element.removeCls(c+b),this.barEl.removeCls(c+"bar-"+b));this.element.addCls(c+
a);this.barEl.addCls(c+"bar-"+a)},updateBaseCls:function(a,b){b&&Ext.Error.raise("You cannot configure baseCls - use a subclass");this.element.addCls(a);this.barEl.addCls(a+"-bar")},updateTextCls:function(a){this.backgroundEl.addCls(a+" "+a+"-back");this.textEl.addCls(a)},updateValue:function(a,b){var c=this.getTextTpl();c&&this.setText(c.apply({value:a,percent:100*a}));this.getAnimate()?(this.barEl.stopAnimation(),this.barEl.animate(Ext.apply({from:{width:100*b+"%"},to:{width:100*a+"%"}},this.animate))):
this.barEl.setStyle("width",100*a+"%")},updateText:function(a){this.backgroundEl.setHtml(a);this.textEl.setHtml(a)},applyTextTpl:function(a){a.isTemplate||(a=new Ext.XTemplate(a));return a}});
Ext.define("Ext.ShadowPool",{singleton:!0,markup:function(){return Ext.String.format('\x3cdiv class\x3d"{0}{1}-shadow" role\x3d"presentation"\x3e\x3c/div\x3e',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}(),shadows:[],pull:function(){var a=this.shadows.shift();a||(a=Ext.get(Ext.DomHelper.insertHtml("afterBegin",document.body,this.markup)),a.autoBoxAdjust=!1,a.dom.setAttribute("data-sticky",!0));return a},push:function(a){this.shadows.push(a)},reset:function(){var a=[].concat(this.shadows),
b,c=a.length;for(b=0;b<c;b++)a[b].destroy();this.shadows=[]}});
Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a){var b,c;Ext.apply(this,a);Ext.isString(this.mode)||(this.mode=this.defaultMode);a=this.offset;c=Math.floor(a/2);this.opacity=50;switch(this.mode.toLowerCase()){case "drop":b=Ext.supports.CSS3BoxShadow?{t:a,l:a,h:-a,w:-a}:{t:-c,l:-c,h:-c,w:-c};break;case "sides":b=Ext.supports.CSS3BoxShadow?{t:a,l:0,h:-a,w:0}:{t:-(1+c),l:1+c-2*a,h:-1,w:c-1};break;case "frame":b=Ext.supports.CSS3BoxShadow?{t:0,l:0,h:0,
w:0}:{t:1+c-2*a,l:1+c-2*a,h:a-c-1,w:a-c-1};break;case "bottom":b=Ext.supports.CSS3BoxShadow?{t:a,l:0,h:-a,w:0}:{t:a,l:0,h:0,w:0}}this.adjusts=b},getShadowSize:function(){var a=this.el?this.offset:0,a=[a,a,a,a],b=this.mode.toLowerCase();this.el&&"frame"!==b&&(a[0]=0,"drop"==b&&(a[3]=0));return a},offset:4,defaultMode:"drop",boxShadowProperty:function(){var a="boxShadow",b=document.documentElement.style;"boxShadow"in b||("WebkitBoxShadow"in b?a="WebkitBoxShadow":"MozBoxShadow"in b&&(a="MozBoxShadow"));
return a}(),show:function(a){var b,c;a=Ext.get(a);b=parseInt(a.getStyle("z-index"),10)-1||0;c=a[this.localXYNames.get]();this.el||(this.el=Ext.ShadowPool.pull(),this.el.dom.style.position=this.fixed?"fixed":"",this.el.dom.nextSibling!=a.dom&&this.el.insertBefore(a));this.el.setStyle("z-index",this.zIndex||b);Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity\x3d"+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d"+
this.offset+")");this.realign(c[0],c[1],a.dom.offsetWidth,a.dom.offsetHeight);this.el.dom.style.display="block"},isVisible:function(){return this.el?!0:!1},realign:function(a,b,c,d){if(this.el){var e=this.adjusts,g=this.el,h=g.dom.style;g[this.localXYNames.set](a+e.l,b+e.t);a=Math.max(c+e.w,0);d=Math.max(d+e.h,0);e=a+"px";d+="px";if(h.width!=e||h.height!=d)h.width=e,h.height=d,Ext.supports.CSS3BoxShadow&&(h[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888")}},hide:function(){this.el&&(this.el.dom.style.display=
"none",Ext.ShadowPool.push(this.el),delete this.el)},setZIndex:function(a){this.zIndex=a;this.el&&this.el.setStyle("z-index",a)},setOpacity:function(a){this.el&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(a=Math.floor(100*a/2)/100),this.opacity=a,this.el.setOpacity(a))}});
Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){this.isInstance||(Ext.app.EventDomain.instances[this.type]=this);this.bus={};this.monitoredClasses=[]},dispatch:function(a,b,c){b=this.bus[b];var d,e,g,h,j,k,l;if(!b)return!0;for(d in b)if(b.hasOwnProperty(d)&&this.match(a,d,this.controller))for(g in e=b[d],e)if(e.hasOwnProperty(g)&&(h=e[g],h.controller.isActive())){h=h.list;j=h.length;for(k=0;k<j;k++)if(l=h[k],!1===l.fire.apply(l,c))return!1}return!0},
listen:function(a,b){var c=this.bus,d=this.idProperty,e=this.monitoredClasses,g=e.length,h=b.getId(),j=Ext.$eventNameMap,k,l,m,n,p,q,r;for(l in a)if(q=a[l])for(r in d&&(/^[*#]/.test(l)||Ext.Error.raise("Selectors containing id should begin with #"),l="*"===l?l:l.substring(1)),q){k=null;m=q[r];n=b;r=j[r]||(j[r]=r.toLowerCase());p=new Ext.util.Event(b,r);Ext.isObject(m)&&(k=m,m=k.fn,n=k.scope||b,delete k.fn,delete k.scope);(!k||!k.scope)&&"string"===typeof m?n=null:"string"===typeof m&&(m=n[m]);p.addListener(m,
n,k);for(k=0;k<g;++k)(m=e[k].hasListeners)&&m._incr_(r);k=c[r]||(c[r]={});k=k[l]||(k[l]={});k=k[h]||(k[h]={controller:b,list:[]});k.list.push(p)}},match:function(a,b){var c=this.idProperty;return c?"*"===b||a[c]===b:!1},monitor:function(a){var b=this,c=a.isInstance?a:a.prototype,d=c.doFireEvent;b.monitoredClasses.push(a);c.doFireEvent=function(a,c){var h=d.apply(this,arguments);!1!==h&&!this.isSuspended(a)&&(h=b.dispatch(this,a,c));return h}},unlisten:function(a){var b=this.bus,c=a,d=this.monitoredClasses,
e=d.length,g=Ext.$eventNameMap,h,j,k,l,m,n,p,q,r;a.isController&&(c=a.getId());for(h in b)if(h=g[h]||(g[h]=h.toLowerCase()),b.hasOwnProperty(h)&&(n=b[h]))for(m in n)if(a=n[m],j=a[c])if(j=j.list){p=0;for(k=j.length;p<k;++p){l=j[p];l.clearListeners();for(q=0;q<e;++q)(r=d[q].hasListeners)&&r._decr_(l.name)}delete a[c]}},destroy:function(){this.monitoredClasses=this.bus=null}});
Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:!0,type:"component",constructor:function(){var a=Ext.Component;this.callParent();this.monitor(Ext.Widget);a.prototype.isWidget||this.monitor(a)},dispatch:function(a,b,c){for(var d=a.lookupController(!1),e;d;){if((e=d.compDomain)&&!1===e.dispatch(a,b,c))return!1;d=(d=d.getView())?d.lookupController(!0):null}return this.callParent(arguments)},match:function(a,b){return a.is(b)}});
Ext.define("Ext.app.EventBus",{singleton:!0,constructor:function(){var a=Ext.app.EventDomain.instances;this.callParent();this.domains=a;this.bus=a.component.bus},control:function(a,b){return this.domains.component.listen(a,b)},listen:function(a,b){var c=this.domains,d;for(d in a)a.hasOwnProperty(d)&&c[d].listen(a[d],b)},unlisten:function(a){var b=Ext.app.EventDomain.instances,c;for(c in b)b[c].unlisten(a)}});
Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:!0,type:"global",listen:function(a,b){a.scope=a.scope||b;Ext.on(a)},match:Ext.returnTrue});
Ext.define("Ext.app.BaseController",{mixins:{observable:Ext.util.Observable},isController:!0,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(a){this.mixins.observable.constructor.call(this,a);delete this.control;delete this.listen;this.eventbus=Ext.app.EventBus;this.initConfig(a)},applyListen:function(a){Ext.isObject(a)&&(a=Ext.clone(a));return a},applyControl:function(a){Ext.isObject(a)&&(a=Ext.clone(a));return a},updateControl:function(a){a&&this.control(a)},
updateListen:function(a){a&&this.listen(a)},updateRoutes:function(a){if(a){var b=this.getBefore()||{},c=Ext.app.route.Router,d,e,g;for(d in a)e=a[d],Ext.isString(e)&&(e={action:e}),g=e.action,e.before?b[g]&&Ext.log.warn('You have a before method configured on a route ("'+d+'") and in the before object property also in the "'+this.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.'):e.before=b[g],c.connect(d,e,this)}},isActive:function(){return!0},
control:function(a,b,c){var d;Ext.isString(a)?(d={},d[a]=b):(d=a,c=b);this.eventbus.control(d,c||this)},listen:function(a,b){this.eventbus.listen(a,b||this)},destroy:function(){var a=this.eventbus;Ext.app.route.Router.disconnectAll(this);a&&(a.unlisten(this),this.eventbus=null);this.clearListeners();this.callParent()},redirectTo:function(a,b){if(b)Ext.app.route.Router.onStateChange(a);else if(Ext.util.History.getToken()===a)return!1;Ext.util.History.add(a);return!0}});
Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(a){var b=Ext.app.namespaces,c,d;Ext.isArray(a)||(a=[a]);c=0;for(d=a.length;c<d;c++)b[a[c]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(a){var b=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),c="",d;for(d in b)b.hasOwnProperty(d)&&(d.length>c.length&&d+"."===a.substring(0,d.length+1))&&(c=d);return""===c?void 0:c}})});
Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:!0,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){this.callParent();this.monitor(Ext.data.AbstractStore)},match:function(a,b){var c=!1,d=a.alias;"*"===b?c=!0:this.idMatchRe.test(b)?c=a.getStoreId()===b.substring(1):d&&(c=-1<Ext.Array.indexOf(d,this.prefix+b));return c}});
Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(a){Ext.apply(this,a);this.queue=new Ext.util.MixedCollection},queueAction:function(a,b){this.queue.add({route:a,args:b})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var a=this.queue.removeAt(0),b;a&&(b=a&&a.route,b.execute(this.token,a.args,this.onActionExecute,this))},onActionExecute:function(a){a?this.clearQueue():this.runQueue()}});
Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(a){Ext.apply(this,a,{conditions:{}});a=this.url;this.paramMatchingRegex=RegExp(/:([0-9A-Za-z\_]*)/g);this.paramsInMatchString=a.match(this.paramMatchingRegex)||[];this.matcherRegex=this.createMatcherRegex(a)},recognize:function(a){var b=this.controller,c,d;return(this.allowInactive||
b.isActive())&&this.recognizes(a)?(c=this.matchesFor(a),d=a.match(this.matcherRegex),d.shift(),Ext.applyIf(c,{controller:b,action:this.action,historyUrl:a,args:d})):!1},recognizes:function(a){return this.matcherRegex.test(a)},execute:function(a,b,c,d){a=b.args||[];var e=this.before,g=this.controller;b=this.createCallback(b,c,d);e?(a.push(b),Ext.isString(e)&&(e=this.before=g[e]),e?e.apply(g,a):Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")):
b.resume()},matchesFor:function(a){var b={},c=this.paramsInMatchString;a=a.match(this.matcherRegex);var d=0,e=c.length;for(a.shift();d<e;d++)b[c[d].replace(":","")]=a[d];return b},createMatcherRegex:function(a){for(var b=this.paramsInMatchString,c=this.conditions,d=0,e=b.length,g=Ext.util.Format.format,h=this.caseInsensitive?"i":"",j,k;d<e;d++)j=b[d],k=c[j],k=g("{0}",k||"([%a-zA-Z0-9\\-\\_\\s,]+)"),a=a.replace(RegExp(j),k);return RegExp("^"+a+"$",h)},createCallback:function(a,b,c){var d=this;c=c||
d;return{resume:function(){var e=d.controller,g=d.action,h;Ext.isString(g)&&(g=e[g]);a=a&&a.args?a.args:[];(h=a.pop())&&!Ext.isObject(h)&&a.push(h);g?(d.action=g,g.apply(e,a)):Ext.log.warn("The action: "+d.action+" was not found on the controller.");b&&b.call(c)},stop:function(a){b&&b.call(c,a)}}}});
Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:!1,constructor:function(){this.hiddenField=null;this.ready=!1;this.currentToken=null;this.mixins.observable.constructor.call(this)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(a){try{this.currentToken=this.win.location.hash=a}catch(b){}},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},startUp:function(){this.currentToken=
this.getHash();if(Ext.supports.Hashchange)Ext.get(this.win).on("hashchange",this.onHashChange,this);else Ext.TaskManager.start({fireIdleEvent:!1,run:this.onHashChange,interval:50,scope:this});this.ready=!0;this.fireEvent("ready",this)},onHashChange:function(){var a=this.getHash();a!==this.hash&&(this.hash=a,this.handleStateChange(a))},init:function(a,b){var c=this;if(c.ready)Ext.callback(a,b,[c]);else if(Ext.isReady){c.win=c.useTopWindow?window.top:window;c.hash=c.getHash();if(a)c.on("ready",a,b,
{single:!0});c.startUp()}else Ext.onReady(function(){c.init(a,b)})},add:function(a,b){var c=!1;if(!1===b||this.getToken()!==a)this.setHash(a),c=!0;return c},back:function(){(this.useTopWindow?window.top:window).history.go(-1)},forward:function(){(this.useTopWindow?window.top:window).history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});
Ext.define("Ext.app.route.Router",{singleton:!0,multipleToken:"|",queueRoutes:!0,constructor:function(){var a=Ext.util.History;a.ready||a.init();a.on("change",this.onStateChange,this);this.clear()},onStateChange:function(a){for(var b=this.application,c=this.routes,d=c.length,e=this.queueRoutes,g=a.split(this.multipleToken),h=0,j=g.length,k,l,m,n,p;h<j;h++){a=g[h];p=!1;e&&(l=new Ext.app.route.Queue({token:a}));for(k=0;k<d;k++)if(m=c[k],n=m.recognize(a))p=!0,e?l.queueAction(m,n):m.execute(a,n);e&&l.runQueue();
!p&&b&&b.fireEvent("unmatchedroute",a)}},connect:function(a,b,c){a={url:a,action:b,controller:c};Ext.isObject(b)&&Ext.merge(a,b);this.routes.push(new Ext.app.route.Route(a))},disconnectAll:function(a){var b=this.routes,c=b.length,d=[],e,g;for(e=0;e<c;++e)g=b[e],g.controller!==a&&d.push(g);this.routes=d},recognize:function(a){for(var b=this.routes||[],c=0,d=b.length,e,g;c<d;c++)if(e=b[c],g=e.recognize(a))return{route:e,args:g};return!1},draw:function(a){a.call(this,this)},clear:function(){this.routes=
[]}});
Ext.define("Ext.app.Controller",{extend:Ext.app.BaseController,statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(a,b){var c="get",d=a.split("."),e=d.length,g;for(g=0;g<e;g++)c+=Ext.String.capitalize(d[g]);return c+b},processDependencies:function(a,b,
c,d,e){if(e&&e.length){var g=this.strings[d],h,j,k,l,m;Ext.isArray(e)||(e=[e]);l=0;for(m=e.length;l<m;l++)k=e[l],h=this.getFullName(k,d,c),j=h.absoluteName,h=h.shortName,b.push(j),j=this.getGetterName(h,g.upper),a[j]=k=this.createGetter(g.getter,k),"controller"!==d&&(k["Ext.app.getter"]=!0)}},getFullName:function(a,b,c){var d=a,e;0<(e=a.indexOf("@"))?(d=a.substring(0,e),b=a.substring(e+1)+"."+d):0<a.indexOf(".")&&(Ext.ClassManager.isCreated(a)||this.hasRegisteredPrefix(a))?b=a:(c||Ext.log.warn("Cannot find namespace for "+
b+" "+a+", assuming it is fully qualified class name"),c?(b=c+"."+b+"."+a,d=a):b=a);return{absoluteName:b,shortName:d}},hasRegisteredPrefix:function(a){var b=Ext.ClassManager.getPrefix(a);return b&&b!==a}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(a,b,c){var d=c.onBeforeCreated;c.onBeforeCreated=function(a,b){var c=Ext.app.Controller,j=c.controllerRegex,k=[],l,m,n;m=a.prototype;l=Ext.getClassName(a);
(j=b.$namespace||b.namespace||Ext.app.getNamespace(l)||(n=j.exec(l))&&n[1])?m.$namespace=j:Ext.log.warn("Missing namespace for "+l+", please define it in namespaces property of your Application class.");c.processDependencies(m,k,j,"model",b.models);c.processDependencies(m,k,j,"view",b.views);c.processDependencies(m,k,j,"store",b.stores);c.processDependencies(m,k,j,"controller",b.controllers);Ext.require(k,Ext.Function.pass(d,arguments,this))}},constructor:function(a){this.callParent(arguments);this.initAutoGetters();
this.ensureId()},normalizeRefs:function(a){var b=[];a&&(Ext.isObject(a)?Ext.Object.each(a,function(a,d){Ext.isString(d)&&(d={selector:d});d.ref=a;b.push(d)}):Ext.isArray(a)&&(b=Ext.Array.merge(b,a)));if(a=this.refs)this.refs=null,(a=this.normalizeRefs(a))&&(b=Ext.Array.merge(b,a));return b},applyRefs:function(a){return this.normalizeRefs(Ext.clone(a))},updateRefs:function(a){a&&this.ref(a)},initAutoGetters:function(){var a=this.self.prototype,b,c;for(b in a)(c=a[b])&&c["Ext.app.getter"]&&c.call(this)},
updateControl:function(a){this.ensureId();this.callParent([a])},updateListen:function(a){this.ensureId();this.callParent([a])},doInit:function(a){this._initialized||(this.init(a),this._initialized=!0)},finishInit:function(a){var b=this.controllers,c,d,e;if(this._initialized&&b&&b.length){d=0;for(e=b.length;d<e;d++)c=this.getController(b[d]),c.finishInit(a)}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},
ref:function(a){var b=0,c=a.length,d,e,g;a=Ext.Array.from(a);for(this.references=this.references||[];b<c;b++)d=a[b],e=d.ref,g="get"+Ext.String.capitalize(e),this[g]||(this[g]=Ext.Function.pass(this.getRef,[e,d],this)),this.references.push(e.toLowerCase())},addRef:function(a){this.ref(a)},getRef:function(a,b,c){var d=this.refCache||(this.refCache={}),e=d[a];b=b||{};c=c||{};Ext.apply(b,c);if(b.forceCreate)return Ext.ComponentManager.create(b,"component");if(!e&&(b.selector&&(d[a]=e=Ext.ComponentQuery.query(b.selector)[0]),
!e&&b.autoCreate&&(d[a]=e=Ext.ComponentManager.create(b,"component")),e))e.on("beforedestroy",function(){d[a]=null});return e},hasRef:function(a){var b=this.references;return b&&-1!==Ext.Array.indexOf(b,a.toLowerCase())},getController:function(a){var b=this.application;return a===this.getId()?this:b&&b.getController(a)},getStore:function(a){var b,c;b=-1===a.indexOf("@")?a:a.split("@")[0];c=Ext.StoreManager.get(b);c||(a=Ext.app.Controller.getFullName(a,"store",this.$namespace))&&(c=Ext.create(a.absoluteName,
{storeId:b}));return c},getModel:function(a){var b=Ext.app.Controller.getFullName(a,"model",this.$namespace);(b=Ext.ClassManager.get(b.absoluteName))||(b=Ext.data.schema.Schema.lookupEntity(a));return b},getView:function(a){return(a=Ext.app.Controller.getFullName(a,"view",this.$namespace))&&Ext.ClassManager.get(a.absoluteName)},ensureId:function(){this.getId()||this.setId(this.getModuleClassName(this.$className,"controller"))},destroy:function(a,b){var c=this.application,d;!b&&c&&c.unregister(this);
this.application=null;if(a)for(d in c=this.refCache,c)c.hasOwnProperty(d)&&Ext.destroy(c[d]);this.callParent()}});
Ext.define("Ext.panel.Bar",{extend:Ext.container.Container,vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var a=this.vertical;this.dock=this.dock||(a?"left":"top");this.layout=Ext.apply(a?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},this.layout);this.callParent()},onAdded:function(a,b,c){this.initOrientation();this.callParent([a,b,c])},onRemoved:function(a){this.removeClsWithUI(this.uiCls);this.callParent([a])},
beforeRender:function(){this.ownerCt||this.initOrientation();this.callParent()},setDock:function(a){var b;a!==this.dock&&(Ext.suspendLayouts(),this.clearOrientation(),this.callParent([a]),this.initOrientation(),b=this.vertical,a=this.layout,a.setVertical(b),a.setAlignRoundingMethod(b?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var a=
this.dock;this.vertical=a?a in this._verticalSides:this.vertical;this.addClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])}}});
Ext.define("Ext.rtl.panel.Bar",{override:"Ext.panel.Bar",rtlPositions:{top:"top",right:"left",bottom:"bottom",left:"right"},_rtlRotationClasses:{1:Ext.baseCSSPrefix+"title-rotate-left",2:Ext.baseCSSPrefix+"title-rotate-right"},_rtlRotationAngles:{1:270,2:90},onAdded:function(a,b,c){this.isParentRtl()&&(this._rotationClasses=this._rtlRotationClasses,this._rotationAngles=this._rtlRotationAngles);this.callParent([a,b,c])},privates:{getDockName:function(){var a=this.dock;return this.isParentRtl()?this.rtlPositions[a]:
a}}});
Ext.define("Ext.panel.Title",{extend:Ext.Component,xtype:"title",isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"\x26#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'\x3ctpl if\x3d"iconMarkup \x26\x26 iconBeforeTitle"\x3e{iconMarkup}\x3c/tpl\x3e\x3cdiv id\x3d"{id}-textEl" data-ref\x3d"textEl" class\x3d"{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable\x3d"on"\x3ctpl if\x3d"headerRole"\x3e role\x3d"{headerRole}"\x3c/tpl\x3e\x3e{text}\x3c/div\x3e\x3ctpl if\x3d"iconMarkup \x26\x26 !iconBeforeTitle"\x3e{iconMarkup}\x3c/tpl\x3e',iconTpl:'\x3cdiv id\x3d"{id}-iconWrapEl" data-ref\x3d"iconWrapEl" role\x3d"presentation" class\x3d"{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"\x3ctpl if\x3d"iconWrapStyle"\x3e style\x3d"{iconWrapStyle}"\x3c/tpl\x3e\x3e\x3cdiv id\x3d"{id}-iconEl" data-ref\x3d"iconEl" role\x3d"presentation" unselectable\x3d"on" class\x3d"{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style\x3d"\x3ctpl if\x3d"iconUrl"\x3ebackground-image:url({iconUrl});\x3c/tpl\x3e\x3ctpl if\x3d"glyph \x26\x26 glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e\x3ctpl if\x3d"glyph"\x3e\x26#{glyph};\x3c/tpl\x3e\x3ctpl if\x3d"iconCls || iconUrl"\x3e\x26#160;\x3c/tpl\x3e\x3c/div\x3e\x3c/div\x3e',
_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{"0":Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,
2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var a=this.getRotation(),b,c,d;a&&!Ext.isIE8&&(d=this.el,b=this.lastBox,c=b.x,d.setStyle(this._getVerticalAdjustDirection(),c+(1===a?b.width:-b.height)+"px"));this.callParent()},onRender:function(){var a=
this.getRotation(),b=this.el;this.callParent();a&&b.setVertical(this._rotationAngles[a]);Ext.supports.FixedTableWidthBug&&(b._needsTableWidthFix=!0)},applyText:function(a){a||(a="\x26#160;");return a},beforeRender:function(){this.callParent();this.addCls(this._rotationClasses[this.getRotation()]);this.addCls(this._textAlignClasses[this.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var a=this.getIcon(),b=this.getIconCls(),
c=this.getGlyph(),d=Ext._glyphFontFamily,e=this.getIconAlign();"string"===typeof c&&(d=c.split("@"),c=d[0],d=d[1]);return{id:this.id,ui:this.ui,itemCls:this._itemCls,iconUrl:a,iconCls:b,iconWrapCls:this._iconWrapCls,baseIconCls:this._baseIconCls,iconAlignCls:this._iconAlignClasses[e],glyph:c,glyphCls:c?this._glyphCls:"",glyphFontFamily:d}},initRenderData:function(){var a,b;b=Ext.apply({text:this.getText(),headerRole:this.headerRole,id:this.id,ui:this.ui,itemCls:this._itemCls,textCls:this._textCls,
iconMarkup:null,iconBeforeTitle:null},this.callParent());this._hasIcon()&&(a=this.getIconAlign(),b.iconMarkup=this.getIconMarkup(),b.iconBeforeTitle="top"===a||"left"===a);return b},onAdded:function(a,b,c){var d=this._titleSuffix,e=a.baseCls;this.addCls([e+d,e+d+"-"+a.ui]);this.callParent([a,b,c])},updateGlyph:function(a,b){a=a||0;var c=this._glyphCls,d,e;this.glyph=a;this.rendered&&(this._syncIconVisibility(),d=this.iconEl,"string"===typeof a&&(e=a.split("@"),a=e[0],e=e[1]||Ext._glyphFontFamily),
a?b!=a&&(d.dom.innerHTML="\x26#"+a+";",d.addCls(c)):(d.dom.innerHTML="",d.removeCls(c)),e&&d.setStyle("font-family",e),this._didIconStateChange(b,a)&&this.updateLayout())},updateIcon:function(a,b){a=a||"";var c;this.rendered&&a!=b&&(this._syncIconVisibility(),c=this.iconEl,c.setStyle("background-image",a?"url("+a+")":""),this._didIconStateChange(b,a)&&this.updateLayout())},updateIconAlign:function(a,b){var c=this.iconWrapEl,d,e;this.iconWrapEl&&(d=this.el,e=this._iconAlignClasses,b&&c.removeCls(e[b]),
c.addCls(e[a]),"top"===a||"left"===a?d.insertFirst(c):d.appendChild(c),this.updateLayout())},updateIconCls:function(a,b){a=a||"";var c;this.rendered&&b!=a&&(this._syncIconVisibility(),c=this.iconEl,b&&c.removeCls(b),c.addCls(a),this._didIconStateChange(b,a)&&this.updateLayout())},updateRotation:function(a,b){var c,d;this.rendered&&(c=this.el,d=this._rotationClasses,this.removeCls(d[b]),this.addCls(d[a]),c.setHorizontal(),a&&c.setVertical(this._rotationAngles[a]),c.setStyle({right:"",left:"",top:"",
height:"",width:""}),this.lastBox=null,this.updateLayout())},updateText:function(a){this.rendered&&this.textEl.setHtml(a)},updateTextAlign:function(a,b){var c=this._textAlignClasses;this.rendered&&(b&&this.removeCls(c[b]),this.addCls(c[a]),this.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},_hasIcon:function(){return!(!this.getIcon()&&!this.getIconCls()&&!this.getGlyph())},_syncIconVisibility:function(){var a=
this.el,b=this._hasIcon(),c=this.iconWrapEl;b&&!c&&(c=this.iconAlign,c="left"===c||"top"===c,a.dom.insertAdjacentHTML(c?"afterbegin":"beforeend",this.getIconMarkup()),c=this.iconWrapEl=a[c?"first":"last"](),this.iconEl=c.first());c&&c.setDisplayed(b)}}});
Ext.define("Ext.rtl.panel.Title",{override:"Ext.panel.Title",getIconRenderData:function(){var a=this.callParent(),b=this.ownerCt;b&&b.isParentRtl()&&(a.childElCls=" "+this._rtlCls);return a},privates:{_getVerticalAdjustDirection:function(){var a=this.ownerCt;return a&&a.isParentRtl()?"right":"left"}}});
Ext.define("Ext.panel.Tool",{extend:Ext.Component,xtype:"tool",isTool:!0,focusable:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['\x3cimg id\x3d"{id}-toolEl" data-ref\x3d"toolEl" src\x3d"{blank}" class\x3d"{baseCls}-img {baseCls}-{type}{childElCls}" role\x3d"presentation"/\x3e'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,
cacheHeight:!0,cacheWidth:!0,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){this.id&&this._toolTypes[this.id]&&Ext.Error.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component");this.type=this.type||this.id;Ext.applyIf(this.renderData,{baseCls:this.baseCls,blank:Ext.BLANK_IMAGE_URL,
type:this.type});this.tooltip=this.tooltip||this.qtip;this.callParent()},afterRender:function(){var a;this.callParent(arguments);this.el.on({click:this.onClick,mousedown:this.onMouseDown,mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});(a=this.tooltip)&&this.setTooltip(a)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(a,b){var c=this.tooltip,d=this.tooltipType,e=this.id,g=this.el;c&&(Ext.quickTipsActive&&Ext.isObject(c))&&Ext.tip.QuickTipManager.unregister(e);this.tooltip=a;b&&(this.tooltipType=
b);a&&(Ext.quickTipsActive&&Ext.isObject(a)?Ext.tip.QuickTipManager.register(Ext.apply({target:e},a)):g&&(b&&(d&&b!==d)&&(c=this.tipAttrs[d]||"title",g.dom.removeAttribute(c)),c=this.tipAttrs[b||d]||"title",g.dom.setAttribute(c,a)))},setType:function(a){var b=this.type;this.type=a;this.rendered?(b&&this.toolEl.removeCls(this.baseCls+"-"+b),this.toolEl.addCls(this.baseCls+"-"+a)):this.renderData.type=a;return this},onDestroy:function(){var a=this.keyMap;this.setTooltip(null);a&&(a.destroy(),this.keyMap=
null);delete this.toolOwner;this.callParent()},privates:{getFocusEl:function(){return this.el},onClick:function(a,b){if(this.disabled)return!1;this.el.removeCls(this.toolPressedCls+" "+this.toolOverCls);!1!==this.stopEvent&&a.stopEvent();this.handler?Ext.callback(this.handler,this.scope,[a,b,this.ownerCt,this],0,this):this.callback&&Ext.callback(this.callback,this.scope,[this.toolOwner||this.ownerCt,this,a],0,this);this.fireEvent("click",this,a,this.toolOwner||this.ownerCt);return!0},onMouseDown:function(){if(this.disabled)return!1;
this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}});
Ext.define("Ext.panel.Header",{extend:Ext.panel.Bar,xtype:"header",isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",xtype:"title",flex:1},merge:function(a,b){"string"==typeof a&&(a={text:a});return Ext.merge(b?Ext.Object.chain(b):{},a)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+
"header",initComponent:function(){var a=this.items,b=this.itemPosition,c=[this.headerCls];this.tools=this.tools||[];this.items=a=a?a.slice():[];void 0!==b&&(this._userItems=a.slice(),this.items=a=[]);this.indicateDragCls=this.headerCls+"-draggable";this.indicateDrag&&c.push(this.indicateDragCls);this.addCls(c);this.syncNoBorderCls();Ext.Array.push(a,this.tools);this.tools.length=0;this.callParent();this.on({dblclick:this.onDblClick,click:this.onClick,element:"el",scope:this})},addTool:function(a){this.add(Ext.ComponentManager.create(a,
"tool"))},afterLayout:function(){var a,b,c;if(this.vertical&&(b=this.frameTR))a=this.frameBR,c=this.frameTL,c=this.getWidth()-b.getPadding("r")-(c?c.getPadding("l"):this.el.getBorderWidth("l"))+"px",a.setStyle("background-position-x",c),b.setStyle("background-position-x",c);this.callParent()},applyTitle:function(a,b){var c;a=a||"";"string"===typeof a&&(a={text:a});b?(Ext.suspendLayouts(),b.setConfig(a),Ext.resumeLayouts(!0),a=b):(a.ui=this.ui,a.headerRole=this.headerRole,c="rotation"in a,a=Ext.create(a),
!c&&(this.vertical&&"default"===this.titleRotation)&&(a.rotation=1));return a},applyTitlePosition:function(a){var b=this.items.getCount();this._titleInItems&&--b;return Math.max(Math.min(a,b),0)},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},beforeRender:function(){var a=this.itemPosition;this.protoEl.unselectable();this.callParent();void 0!==a&&this.insert(a,this._userItems)},getTools:function(){return this.tools.slice()},onAdd:function(a,b){var c=this.tools;this.callParent([a,
b]);a.isTool&&(c.push(a),c[a.type]=a)},onAdded:function(a,b,c){this.syncNoBorderCls();this.callParent([a,b,c])},onRemoved:function(a,b,c){this.syncNoBorderCls();this.callParent([a,b,c])},setDock:function(a){var b=this.getTitle(),c=this.getTitleRotation(),d=b.getRotation();Ext.suspendLayouts();this.callParent([a]);"default"===c&&(c=this.vertical?1:0,c!==d&&b.setRotation(c),this.rendered&&this.resetItemMargins());Ext.resumeLayouts(!0)},updateGlyph:function(a){this.getTitle().setGlyph(a)},updateIcon:function(a){this.getTitle().setIcon(a)},
updateIconAlign:function(a){this.getTitle().setIconAlign(a)},updateIconCls:function(a){this.getTitle().setIconCls(a)},updateTitle:function(a,b){b||(this.insert(this.getTitlePosition(),a),this._titleInItems=!0);this.titleCmp=a},updateTitleAlign:function(a){this.getTitle().setTextAlign(a)},updateTitlePosition:function(a){this.insert(a,this.getTitle())},updateTitleRotation:function(a){"default"===a&&(a=this.vertical?1:0);this.getTitle().setRotation(a)},privates:{fireClickEvent:function(a,b){b.getTarget("."+
Ext.panel.Tool.prototype.baseCls)||this.fireEvent(a,this,b)},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var a=this.callParent(),b=this.ownerCt;if(!this.expanding&&b&&(b.collapsed||this.isCollapsedExpander))a+="-"+b.collapsedCls;return a+"-"+this.dock},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},syncBeforeAfterTitleClasses:function(a){var b=this.items,c=b.items,d=this.getTitlePosition(),e=c.length,g=b.generation,
b=this.syncBeforeAfterGen,h,j;if(a||b!==g){this.syncBeforeAfterGen=g;for(h=0;h<e;++h)j=c[h],a=j.afterTitleCls||(j.afterTitleCls=j.baseCls+"-after-title"),g=j.beforeTitleCls||(j.beforeTitleCls=j.baseCls+"-before-title"),!this.title||h<d?(b&&j.removeCls(a),j.addCls(g)):h>d&&(b&&j.removeCls(g),j.addCls(a))}},syncNoBorderCls:function(){var a=this.ownerCt,b=this.headerCls+"-noborder";(a?!1===a.border&&!a.frame:!1===this.border)?this.addCls(b):this.removeCls(b)}}});
Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1});
Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(a){this.initConfig(a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(a){var b=a.state.boxPlan;b&&b.tooNarrow?(b=this.handleOverflow(a))&&
b.reservedSpace&&this.layout.publishInnerCtSize(a,b.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(){var a=this.layout.owner,b,c;a.hasListeners.overflowchange&&(b=a.query("\x3e[hidden]"),c=b.length,c!==this.lastHiddenCount&&(a.fireEvent("overflowchange",this.lastHiddenCount,c,b),this.lastHiddenCount=c))},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){return a.isToolbar?"toolbar":a.isTabBar?"tab-bar":
a.isMenu?"menu":a.isBreadcrumb?"breadcrumb":a.getXType()},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var a=this.layout,b=a.innerCt;b.removeCls(this.getOverflowCls(a.oppositeDirection));b.addCls(this.getOverflowCls(a.direction))}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});
Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"});
Ext.define("Ext.dom.ButtonElement",{extend:Ext.dom.Element,setSize:function(a,b,c){var d=this.component;this.callParent([a,b,c]);d.btnWrap.setStyle("table-layout",!a||"auto"===a?"":"fixed");d.btnEl.setStyle("height",!b||"auto"===b?"":"auto");return this},setStyle:function(a,b){var c=this.component,d;this.callParent([a,b]);if(a){if("width"===a||"string"!==typeof a&&"width"in a)d=b||a.width,c.btnWrap.setStyle("table-layout",!d||"auto"===d?"":"fixed");if("height"===a||"string"!==typeof a&&"height"in
a)d=b||a.height,c.btnEl.setStyle("height",!d||"auto"===d?"":"auto")}return this},setHeight:function(a,b){this.callParent([a,b]);this.component.btnEl.setStyle("height",!a||"auto"===a?"":"auto");return this},setWidth:function(a,b){this.callParent([a,b]);this.component.btnWrap.setStyle("table-layout",!a||"auto"===a?"":"fixed");return this}});
Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){this.initialized||(Ext.getDoc().on({keydown:this.onDocumentKeyDown,mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onDocumentKeyDown:function(a){var b=a.getKey();if(b===a.SPACE||b===a.ENTER)if(b=a.getTarget(this.buttonSelector))Ext.getCmp(b.id).onClick(a)},onButtonMousedown:function(a,b){var c=this.pressedButton;
if(c)c.onMouseUp(b);this.pressedButton=a},onDocumentMouseUp:function(a){var b=this.pressedButton;b&&(b.onMouseUp(a),this.pressedButton=null)},toggleGroup:function(a,b){if(b){var c=this.groups[a.toggleGroup],d=c.length,e;for(e=0;e<d;e++)c[e]!==a&&c[e].toggle(!1)}},register:function(a){var b=this.groups,c=b[a.toggleGroup];this.init();a.toggleGroup&&(c||(c=b[a.toggleGroup]=[]),c.push(a),a.on("toggle",this.toggleGroup,this))},unregister:function(a){if(a.toggleGroup){var b=this.groups[a.toggleGroup];b&&
(Ext.Array.remove(b,a),a.un("toggle",this.toggleGroup,this))}},getPressed:function(a){a=this.groups[a];var b=0,c;if(a)for(c=a.length;b<c;b++)if(!0===a[b].pressed)return a[b];return null}});
Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:!1,lastShow:new Date,constructor:function(){this.active=new Ext.util.MixedCollection},init:function(){var a=this;if(!a.initialized)Ext.onReady(function(){Ext.getDoc().addKeyListener(27,a.hideAll,a)});a.initialized=!0},hideAll:function(){var a=this.active,b,c;if(0<a.length){a=Ext.Array.slice(a.items);c=a.length;for(b=0;b<c;b++)a[b].hide();return!0}return!1},
onHide:function(a){var b=this.active;b.remove(a);1>b.length&&(Ext.un("mousedown",this.onMouseDown,this),this.attached=!1)},onShow:function(a){var b=this.active,c=this.attached;this.lastShow=new Date;b.add(a);c||(Ext.on("mousedown",this.onMouseDown,this,{buffer:Ext.isIE9m?10:void 0}),this.attached=!0);a.toFront()},onBeforeHide:function(a){a.activeChild&&a.activeChild.hide();a.autoHideTimer&&(clearTimeout(a.autoHideTimer),delete a.autoHideTimer)},onBeforeShow:function(a){var b=a.parentMenu;this.active.remove(a);
!b&&!a.allowOtherMenus?this.hideAll():b&&(b.activeChild&&a!=b.activeChild)&&b.activeChild.hide()},onMouseDown:function(a){var b=this.active,c=b.length,d;if(50<Ext.Date.getElapsed(this.lastShow)&&c&&(!Ext.isIE9m||Ext.getDoc().contains(a.target))){for(d=0;d<c;d++)if(b.items[d].owns(a.target))return;this.hideAll()}},register:function(a){this.init();a.floating&&(this.menus[a.id]=a,a.on({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this}))},get:function(a,
b){var c=this.menus;"string"==typeof a?a=c?c[a]:null:Ext.isArray(a)?(b=Ext.apply({items:a},b),a=new Ext.menu.Menu(b)):a.isComponent||(b=Ext.apply({},a,b),a=Ext.ComponentManager.create(b,"menu"));return a},unregister:function(a){var b=this.active;delete this.menus[a.id];b.remove(a);a.un({beforehide:this.onBeforeHide,hide:this.onHide,beforeshow:this.onBeforeShow,show:this.onShow,scope:this})},registerCheckable:function(a){var b=this.groups,c=a.group;c&&(b[c]||(b[c]=[]),b[c].push(a))},unregisterCheckable:function(a){var b=
this.groups,c=a.group;c&&Ext.Array.remove(b[c],a)},onCheckChange:function(a,b){var c=this.groups,d=a.group,e=0,g;if(d&&b){c=c[d];for(d=c.length;e<d;e++)g=c[e],g!=a&&g.setChecked(!1)}}});
Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(a,b){this.el=Ext.get(a);this.el.unselectable();Ext.apply(this,b);this.callParent();this.disabled||(this.disabled=!0,this.enable());if(this.handler)this.on("click",this.handler,this.scope||this)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8)this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||
this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=!1},disable:function(a){if(a||!this.disabled)clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners();this.disabled=!0},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){this.preventDefault&&a.preventDefault();this.stopDefault&&a.stopEvent()},destroy:function(){this.disable(!0);this.clearListeners()},
handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);this.accelerate&&(this.delay=400);this.timer=Ext.defer(this.click,
this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12E3):this.interval,this,[a])},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(a){this.el.un("mouseover",
this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click(a)},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",this,a)}});
Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:[Ext.mixin.Queryable],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:!0,focusable:!0,
ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},menuClickBuffer:250,_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",
overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_operaArrowCls:Ext.baseCSSPrefix+"opera12m-btn-arrow",renderTpl:'\x3cspan id\x3d"{id}-btnWrap" data-ref\x3d"btnWrap" role\x3d"presentation" unselectable\x3d"on" style\x3d"{btnWrapStyle}" class\x3d"{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"\x3e\x3cspan id\x3d"{id}-btnEl" data-ref\x3d"btnEl" role\x3d"presentation" unselectable\x3d"on" style\x3d"{btnElStyle}" class\x3d"{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"\x3e\x3ctpl if\x3d"iconBeforeText"\x3e{[values.$comp.renderIcon(values)]}\x3c/tpl\x3e\x3cspan id\x3d"{id}-btnInnerEl" data-ref\x3d"btnInnerEl" unselectable\x3d"on" class\x3d"{innerCls} {innerCls}-{ui}{childElCls}"\x3e{text}\x3c/span\x3e\x3ctpl if\x3d"!iconBeforeText"\x3e{[values.$comp.renderIcon(values)]}\x3c/tpl\x3e\x3c/span\x3e\x3c/span\x3e{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}\x3ctpl if\x3d"closable"\x3e\x3cspan id\x3d"{id}-closeEl" data-ref\x3d"closeEl" class\x3d"{baseCls}-close-btn"\x3e\x3ctpl if\x3d"closeText"\x3e {closeText}\x3c/tpl\x3e\x3c/span\x3e\x3c/tpl\x3e',
iconTpl:'\x3cspan id\x3d"{id}-btnIconEl" data-ref\x3d"btnIconEl" role\x3d"presentation" unselectable\x3d"on" class\x3d"{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style\x3d"\x3ctpl if\x3d"iconUrl"\x3ebackground-image:url({iconUrl});\x3c/tpl\x3e\x3ctpl if\x3d"glyph \x26\x26 glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e\x3ctpl if\x3d"glyph"\x3e\x26#{glyph};\x3c/tpl\x3e\x3ctpl if\x3d"iconCls || iconUrl"\x3e\x26#160;\x3c/tpl\x3e\x3c/span\x3e',scale:"small",
allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){this.addCls(Ext.baseCSSPrefix+"unselectable");
Ext.isOpera12m&&((this.split||this.menu)&&this.getArrowVisible())&&this.addCls(this._operaArrowCls+"-"+this.arrowAlign);this.callParent();this.menu&&(this.split=!0,this.setMenu(this.menu,!1,!0));this.url&&(this.href=this.url);this.configuredWithPreventDefault=this.hasOwnProperty("preventDefault");this.href&&!this.configuredWithPreventDefault&&(this.preventDefault=!1);Ext.isString(this.toggleGroup)&&""!==this.toggleGroup&&(this.enableToggle=!0);this.html&&!this.text&&(this.text=this.html,delete this.html)},
getElConfig:function(){var a=this.callParent(),b=this.getHref(),c=this.hrefTarget;"a"===a.tag&&(this.disabled||(a.tabIndex=this.tabIndex),b&&(this.disabled||(a.href=b),c&&(a.target=c)));return a},beforeRender:function(){this.callParent();this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(a,b,c){var d=this.menu;d&&!c&&(!1!==b&&this.destroyMenu&&d.destroy(),d.ownerCmp=
null);a?(a=Ext.menu.Manager.get(a,{ownerCmp:this}),a.ownerCmp=this,this.mon(a,{scope:this,show:this.onMenuShow,hide:this.onMenuHide}),!d&&this.getArrowVisible()&&(this.split=!0,this.rendered&&(this._addSplitCls(),this.updateLayout())),this.menu=a):(this.rendered&&(this._removeSplitCls(),this.updateLayout()),this.split=!1,this.menu=null)},onRender:function(){var a,b,c;this.doc=Ext.getDoc();this.callParent(arguments);b=this.el;this.tooltip&&this.setTooltip(this.tooltip,!0);this.handleMouseEvents?(c=
{scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut,mousedown:this.onMouseDown},this.split&&(c.mousemove=this.onMouseMove)):c={scope:this};Ext.supports.Touch&&(c.touchstart=this.onTouchStart);this.menu&&(this.keyMap=new Ext.util.KeyMap({target:this.el,key:Ext.event.Event.prototype.DOWN,handler:this.onDownKey,scope:this}));this.repeat?this.mon(new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{}),"click",this.onRepeatClick,this):c[this.clickEvent]?a=!0:c[this.clickEvent]=
this.onClick;this.mon(b,c);this.hasFrameTable()&&this.mon(this.frameTable,"click",this.frameTableListener,this);a&&this.mon(b,this.clickEvent,this.onClick,this);Ext.button.Manager.register(this)},getTemplateArgs:function(){var a=this._btnCls,b=this._baseIconCls,c=this.getIconAlign(),d=this.glyph,e=Ext._glyphFontFamily,g=this.text,h=this._hasIcon(),j=this._hasIconCls;"string"===typeof d&&(e=d.split("@"),d=e[0],e=e[1]);return{innerCls:this._innerCls,splitCls:this.getArrowVisible()?this.getSplitCls():
"",iconUrl:this.icon,iconCls:this.iconCls,glyph:d,glyphCls:d?this._glyphCls:"",glyphFontFamily:e,text:g||"\x26#160;",closeText:this.closeText,textCls:g?this._textCls:"",noTextCls:g?"":this._noTextCls,hasIconCls:h?j:"",btnWrapCls:this._btnWrapCls,btnWrapStyle:this.width?"table-layout:fixed;":"",btnElStyle:this.height?"height:auto;":"",btnCls:a,baseIconCls:b,iconBeforeText:"left"===c||"top"===c,iconAlignCls:h?j+"-"+c:"",textAlignCls:a+"-"+this.getTextAlign()}},renderIcon:function(a){return this.getTpl("iconTpl").apply(a)},
setHref:function(a){this.href=a;this.configuredWithPreventDefault||(this.preventDefault=!a);this.rendered&&(!a||this.disabled?this.el.dom.removeAttribute("href"):this.el.dom.href=this.getHref())},getHref:function(){var a=this.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams))):!1},setParams:function(a){this.params=a;this.disabled?this.el.dom.removeAttribute("href"):this.el.dom.href=this.getHref()},getSplitCls:function(){return this.split?this.baseCls+
"-"+this.arrowCls+" "+(this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign):""},setIcon:function(a){a=a||"";var b=this.btnIconEl,c=this.icon||"";this.icon=a;a!=c&&(b&&(b.setStyle("background-image",a?"url("+a+")":""),this._syncHasIconCls(),this.didIconStateChange(c,a)&&this.updateLayout()),this.fireEvent("iconchange",this,c,a));return this},setIconCls:function(a){a=a||"";var b=this.btnIconEl,c=this.iconCls||"";this.iconCls=a;c!=a&&(b&&(b.removeCls(c),b.addCls(a),this._syncHasIconCls(),this.didIconStateChange(c,
a)&&this.updateLayout()),this.fireEvent("iconchange",this,c,a));return this},setGlyph:function(a){a=a||0;var b=this.btnIconEl,c=this.glyph,d=this._glyphCls,e;this.glyph=a;b&&("string"===typeof a&&(e=a.split("@"),a=e[0],e=e[1]||Ext._glyphFontFamily),a?c!=a&&(b.dom.innerHTML="\x26#"+a+";",b.addCls(d)):(b.dom.innerHTML="",b.removeCls(d)),e&&b.setStyle("font-family",e),this._syncHasIconCls(),this.didIconStateChange(c,a)&&this.updateLayout());this.fireEvent("glyphchange",this,this.glyph,c);return this},
setTooltip:function(a,b){this.rendered?((!b||!a)&&this.clearTip(),a&&(Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.el.id},a)),this.tooltip=a):this.el.dom.setAttribute(this.getTipAttr(),a))):this.tooltip=a;return this},updateIconAlign:function(a,b){var c,d,e;this.rendered&&(c=this.btnEl,d=this.btnIconEl,e=this._hasIconCls,b&&c.removeCls(e+"-"+b),c.addCls(e+"-"+a),"top"===a||"left"===a?c.insertFirst(d):c.appendChild(d),this.updateLayout())},updateTextAlign:function(a,
b){var c=this.btnEl,d=this._btnCls;this.rendered&&(c.removeCls(d+"-"+b),c.addCls(d+"-"+a))},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},getRefItems:function(a){var b=this.menu,c;b&&(c=b.getRefItems(a),c.unshift(b));return c||[]},clearTip:function(){var a=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(a):a.dom.removeAttribute(this.getTipAttr())},beforeDestroy:function(){this.rendered&&this.clearTip();this.menu&&this.destroyMenu&&
this.menu.destroy();Ext.destroy(this.repeater);this.callParent()},onDestroy:function(){this.rendered&&(this.doc.un("mouseover",this.monitorMouseOver,this),delete this.doc,Ext.destroy(this.keyMap),delete this.keyMap);Ext.button.Manager.unregister(this);this.callParent()},setHandler:function(a,b){this.handler=a;1<arguments.length&&(this.scope=b);return this},applyText:function(a){a=null==a?"":String(a);var b=this.btnInnerEl,c=this.btnEl,d=this.text||"";a!=d&&(this.text=a,this.rendered&&(b.setHtml(a||
"\x26#160;"),c[a?"addCls":"removeCls"](this._textCls),c[a?"removeCls":"addCls"](this._noTextCls),this.updateLayout()),this.fireEvent("textchange",this,d,a))},didIconStateChange:function(a,b){var c=Ext.isEmpty(b);return Ext.isEmpty(a)?!c:c},setPressed:function(a){return this.toggle(!1!==a)},toggle:function(a,b){a=void 0===a?!this.pressed:!!a;a!==this.pressed&&(this[a?"addCls":"removeCls"](this._pressedCls),this.pressed=a,b||(this.fireEvent("toggle",this,a),Ext.callback(this.toggleHandler,this.scope,
[this,a],0,this),this.reference&&this.publishState&&this.publishState("pressed",a)));return this},maybeShowMenu:function(){this.menu&&(!this.hasVisibleMenu()&&!this.ignoreNextClick)&&this.showMenu(!0)},showMenu:function(a){var b=this.menu;this.rendered&&(this.tooltip&&(Ext.quickTipsActive&&"title"!=this.getTipAttr())&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el),b.isVisible()&&b.hide(),(!a||this.showEmptyMenu||0<b.items.getCount())&&b.showBy(this.el,this.menuAlign));return this},hideMenu:function(){this.hasVisibleMenu()&&
this.menu.hide();return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onTouchStart:function(a){this.doPreventDefault(a)},onClick:function(a){this.doPreventDefault(a);!("keydown"!==a.type&&a.button)&&!this.disabled&&(this.doToggle(),this.maybeShowMenu(),this.fireHandler(a))},doPreventDefault:function(a){a&&(this.preventDefault||this.disabled&&this.getHref())&&a.preventDefault()},fireHandler:function(a){!1!==this.fireEvent("click",
this,a)&&Ext.callback(this.handler,this.scope,[this,a],0,this)},doToggle:function(){this.enableToggle&&(!1!==this.allowDepress||!this.pressed)&&this.toggle()},onMouseOver:function(a){if(!this.disabled&&!a.within(this.el,!0,!0))this.onMouseEnter(a)},onMouseOut:function(a){if(!a.within(this.el,!0,!0)){if(this.overMenuTrigger)this.onMenuTriggerOut(a);this.onMouseLeave(a)}},onMouseMove:function(a){var b=this.overMenuTrigger;if(this.split)if(this.isWithinTrigger(a)){if(!b)this.onMenuTriggerOver(a)}else if(b)this.onMenuTriggerOut(a)},
isWithinTrigger:function(a){var b=this.el;a="right"===this.arrowAlign?a.getX()-this.getX():a.getY()-b.getY();b=this.getTriggerRegion();return a>b.begin&&a<b.end},getTriggerRegion:function(){var a=this._triggerRegion,b="right"===this.arrowAlign,c=b?"getRight":"getBottom",b=b?this.getWidth():this.getHeight();a.begin=b-(this.el[c]()-this.btnEl[c]());a.end=b;return a},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(a){var b=
this.arrowTooltip;this.overMenuTrigger=!0;this.split&&b&&this.btnWrap.dom.setAttribute(this.getTipAttr(),b);this.fireEvent("menutriggerover",this,this.menu,a)},onMenuTriggerOut:function(a){delete this.overMenuTrigger;this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),"");this.fireEvent("menutriggerout",this,this.menu,a)},enable:function(a){this.callParent(arguments);this.removeCls(this._disabledCls);this.rendered&&(this.el.dom.setAttribute("tabindex",this.tabIndex),this.href&&
(this.el.dom.href=this.href));return this},disable:function(a){this.callParent(arguments);this.addCls(this._disabledCls);this.removeCls(this.overCls);this.rendered&&(this.el.dom.removeAttribute("tabindex"),this.href&&this.el.dom.removeAttribute("href"));return this},setScale:function(a){var b=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,a))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+")";this.scale=a;this.setUI(b)},setUI:function(a){this.scale&&
!a.match(this.scale)&&(a=a+"-"+this.scale);this.callParent([a])},onMouseDown:function(a){Ext.isIE&&this.getFocusEl().focus();!this.disabled&&0===a.button&&(Ext.button.Manager.onButtonMousedown(this,a),this.addCls(this._pressedCls))},onMouseUp:function(a){!this.isDestroyed&&0===a.button&&(this.pressed||this.removeCls(this._pressedCls))},onMenuShow:function(){this.ignoreNextClick=0;this.addCls(this._menuActiveCls);this.fireEvent("menushow",this,this.menu)},onMenuHide:function(){var a=this.menuClickBuffer;
this.removeCls(this._menuActiveCls);a&&(this.ignoreNextClick=Ext.defer(this.restoreClick,a,this));this.fireEvent("menuhide",this,this.menu);this.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,b){if(this.menu&&!this.disabled)return this.showMenu(),b.stopEvent(),!1},updateArrowVisible:function(a){if(this.rendered)if(a){if(this.menu||this.isSplitButton)this.split=!0,this._addSplitCls()}else this._removeSplitCls(),this.split=!1;return a},privates:{addOverCls:function(){this.disabled||
this.addCls(this.overCls)},_addSplitCls:function(){this.btnWrap.addCls(this.getSplitCls());Ext.isOpera12m&&this.addCls(this._operaArrowCls+"-"+this.arrowAlign)},getFocusEl:function(){return this.el},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){this.btnWrap.removeCls(this.getSplitCls());Ext.isOpera12m&&this.removeCls(this._operaArrowCls+"-"+this.arrowAlign)},_syncHasIconCls:function(){var a=
this.btnEl,b=this._hasIconCls;if(a)a[this._hasIcon()?"addCls":"removeCls"]([b,b+"-"+this.iconAlign])},_hasIcon:function(){return!(!this.icon&&!this.iconCls&&!this.glyph)},wrapPrimaryEl:function(a){this.el=new Ext.dom.ButtonElement(a)}}});
Ext.define("Ext.rtl.button.Button",{override:"Ext.button.Button",getTriggerRegion:function(){var a=this._triggerRegion;!Ext.rootInheritedState.rtl!==!this.getInherited().rtl&&"right"===this.arrowAlign?(a.begin=0,a.end=this.btnEl.getX()-this.el.getX()):a=this.callParent();return a}});
Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'toolbar-no-items" role\x3d"menuitem"\x3e(None)\x3c/div\x3e',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(a){this.callParent(arguments);this.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(a,
b){this.callParent(arguments);b||(this.clearOverflow(a),this.layout.cacheChildItems(a))},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var a=this.layout,b=a.owner,c=b.id;this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.button.Button({id:c+"-menu-trigger",cls:this.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:b.usePlainButtons,ownerCt:b,ownerLayout:a,iconCls:Ext.baseCSSPrefix+this.getOwnerType(b)+
"-more-icon",ui:b.defaultButtonUI||"default",menu:this.menu,showEmptyMenu:!0,getSplitCls:function(){return""}});return this.menuTrigger.getRenderTree()},getOverflowCls:function(a){return this.menuCls+"-body-"+a},handleOverflow:function(a){var b=this.layout;this.showTrigger(a);"vertical"!==b.direction&&this.menuTrigger.setLocalY((a.state.boxPlan.maxSize-this.menuTrigger[b.names.getHeight]())/2);return{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var a=this.menuTrigger,b=this.layout.names;
a.rendering&&(a.finishRender(),this.triggerTotalWidth=a[b.getWidth]()+a.el.getMargin(b.parallelMargins))},clearOverflow:function(){var a=this.menuItems,b,c=0,d=a.length;b=this.layout.owner;var e=b._asLayoutRoot;b.suspendLayouts();this.captureChildElements();this.hideTrigger();for(b.resumeLayouts();c<d;c++)b=a[c],b.suspendLayouts(),b.show(),b.resumeLayouts(e);a.length=0},showTrigger:function(a){var b=this.layout,c=b.owner,d=b.names,b=d.x,d=d.width,e=a.state.boxPlan.targetSize[d];a=a.childItems;var g=
a.length,h=this.menuTrigger,j,k;h.suspendLayouts();h.show();h.resumeLayouts(this._asLayoutRoot);e-=this.triggerTotalWidth;c.suspendLayouts();for(h=this.menuItems.length=0;h<g;h++)j=a[h],k=j.props,k[b]+k[d]>e&&(j=j.target,this.menuItems.push(j),j.hide());c.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;a&&a.hide()},beforeMenuShow:function(a){var b=this.menuItems,c=0,d=b.length,e,g,h=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};a.suspendLayouts();
this.clearMenu();for(a.removeAll();c<d;c++)if(e=b[c],c||!(e instanceof Ext.toolbar.Separator))g&&(h(e,g)||h(g,e))&&a.add("-"),this.addComponentToMenu(a,e),g=e;1>a.items.length&&a.add(this.noItemsMenuText);a.resumeLayouts()},createMenuConfig:function(a,b){var c=Ext.apply({},a.initialConfig),d=a.toggleGroup;Ext.copyTo(c,a,"iconCls icon itemId disabled handler scope menu tabIndex".split(" "));Ext.applyIf(c,{text:a.overflowText||a.text,hideOnClick:b,destroyMenu:!1,listeners:{}});a.isFormField?(c.value=
a.getValue(),c.listeners.change=function(b,c){a.setValue(c)}):(d||a.enableToggle)&&Ext.apply(c,{hideOnClick:!1,group:d,checked:a.pressed,handler:function(b,c){a.onClick(c)}});a.isButton&&!a.changeListenersAdded&&(a.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),a.changeListenersAdded=!0);delete c.margin;delete c.ownerCt;delete c.xtype;delete c.id;delete c.itemId;return c},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();
b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(!0)},onButtonToggle:function(a,b){a.overflowClone.checked!==b&&a.overflowClone.setChecked(b)},addComponentToMenu:function(a,b){var c,d,e;if(!(b instanceof Ext.toolbar.Fill))if(b instanceof Ext.toolbar.Separator)a.add("-");else if(b.isComponent)if(b.isXType("splitbutton"))b.overflowClone=a.add(this.createMenuConfig(b,!0));else if(b.isXType("button"))b.overflowClone=a.add(this.createMenuConfig(b,!b.menu));else if(b.isXType("buttongroup")){d=
b.items.items;e=d.length;for(c=0;c<e;c++)this.addComponentToMenu(a,d[c])}else b.overflowClone=a.add(Ext.create(Ext.getClassName(b),this.createMenuConfig(b)))},clearMenu:function(){var a=this.menu,b,c,d;if(a&&a.items){a=a.items.items;c=a.length;for(b=0;b<c;b++)d=a[b],d.setMenu&&d.setMenu(null)}},destroy:function(){var a=this.menuTrigger;a&&!this.layout.owner.items.contains(a)&&delete a.ownerCt;Ext.destroy(this.menu,a)}});
Ext.define("Ext.rtl.layout.container.boxOverflow.Menu",{override:"Ext.layout.container.boxOverflow.Menu",getSuffixConfig:function(a){return a?this.callParent():this.getPrefixConfig(!0)},getPrefixConfig:function(a){return a?this.callParent():this.getSuffixConfig(!0)}});
Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:Ext.mixin.Observable},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(a){this.mixins.observable.constructor.call(this,
a);this.scrollSize=this.scrollPosition=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(a){var b=this.layout,c=b.owner,d=this.getOwnerType(c),e=this.scrollerCls;a=e+" "+e+"-"+b.names[a]+" "+e+"-"+d+" "+e+"-"+
d+"-"+c.ui;c.plain&&(a+=" "+e+"-plain");return a},getOverflowCls:function(a){return this.scrollerCls+"-body-"+a},beginLayout:function(a){a.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},finishedLayout:function(a){var b=a.state.boxPlan,c=this.layout,d=c.names,e=Math.min(this.getMaxScrollPosition(),a.innerCtScrollPos);b&&b.tooNarrow&&(b=a.childItems[a.childItems.length-1].props,this.scrollSize=b[d.x]+b[d.width],this.updateScrollButtons());c.innerCt[d.setScrollLeft](e);this.callParent([a])},
handleOverflow:function(a){var b=this.layout.names,c=b.getWidth,d=b.parallelMargins,e,g;this.showScrollers();e=this.getBeforeScroller();g=this.getAfterScroller();c=e[c]()+g[c]()+e.getMargin(d)+g.getMargin(d);a=a.targetContext.getPaddingInfo()[b.width];return{reservedSpace:Math.max(c-a,0)}},getBeforeScroller:function(){return this._beforeScroller||(this._beforeScroller=this.createScroller(this.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){return this._afterScroller||(this._afterScroller=
this.createScroller(this.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(a,b,c){var d=this.layout.owner,e=this.scrollerCls;a=d.el.getById(d.id+a);a.addClsOnOver(e+"-hover");a.addClsOnClick(e+"-pressed");a.setVisibilityMode(Ext.Element.DISPLAY);this[b]=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:c,scope:this});return a},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(-1*a.getWheelDelta(b)*a.wheelIncrement,
!1)},stopEvent:!0})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createWheelListener();this.getBeforeScroller().show();this.getAfterScroller().show();this.layout.owner.addClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller();a&&(a.hide(),b.hide(),this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?
"vertical-scroller":"scroller"))},destroy:function(){Ext.destroy(this.beforeRepeater,this.afterRepeater,this._beforeScroller,this._afterScroller)},scrollBy:function(a,b){this.scrollTo(this.getScrollPosition()+a,b)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller(),c;a&&b&&(c=this.scrollerCls+"-disabled",a[this.atExtremeBefore()?"addCls":"removeCls"](c),
b[this.atExtremeAfter()?"addCls":"removeCls"](c),this.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var a=this.layout;return isNaN(this.scrollPosition)?a.innerCt[a.names.getScrollLeft]():this.scrollPosition},getMaxScrollPosition:function(){var a=this.layout,a=this.scrollSize-a.innerCt[a.names.getWidth]();return 0>a?0:a},atExtremeBefore:function(){return!this.getScrollPosition()},
atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var a=this.getBeforeScroller(),b=this.getAfterScroller(),c=this.layout.names,d=this.scrollerCls;a.removeCls(d+"-"+c.beforeY);b.removeCls(d+"-"+c.afterY);a.addCls(d+"-"+c.beforeX);b.addCls(d+"-"+c.afterX);this.callParent()},scrollTo:function(a,b){var c=this.layout,d=c.names,e=this.getScrollPosition(),g=Ext.Number.constrain(a,0,this.getMaxScrollPosition());g!=e&&!this.scrolling&&(this.scrollPosition=
NaN,void 0===b&&(b=this.animateScroll),c.innerCt[d.scrollTo](d.beforeScrollX,g,b?this.getScrollAnim():!1),b?this.scrolling=!0:this.updateScrollButtons(),this.fireEvent("scroll",this,g,b?this.getScrollAnim():!1))},scrollToItem:function(a,b){var c=this.layout,d=c.owner,e=c.names,c=c.innerCt,g,h;a=this.getItem(a);void 0!==a&&(a==d.items.first()?h=0:a===d.items.last()?h=this.getMaxScrollPosition():(d=this.getItemVisibility(a),d.fullyVisible||(g=a.getBox(!1,!0),h=g[e.x],d.hiddenEnd&&(h-=c[e.getWidth]()-
g[e.width]))),void 0!==h&&this.scrollTo(h,b))},getItemVisibility:function(a){var b=this.getItem(a).getBox(!0,!0),c=this.layout,d=c.names;a=b[d.x];var b=a+b[d.width],e=this.getScrollPosition(),c=e+c.innerCt[d.getWidth]();return{hiddenStart:a<e,hiddenEnd:b>c,fullyVisible:a>e&&b<c}}});
Ext.define("Ext.rtl.layout.container.boxOverflow.Scroller",{override:"Ext.layout.container.boxOverflow.Scroller",getWheelDelta:function(a){var b=this.layout;a=a.getWheelDelta();"horizontal"===b.direction&&b.owner.getInherited().rtl&&(a=-a);return a}});
Ext.define("Ext.dd.DragDropManager",{singleton:!0,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!0,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(a,b){var c=this.ids,d,e,g,h;for(d in c)if(c.hasOwnProperty(d))for(e in h=c[d],h)h.hasOwnProperty(e)&&(g=h[e],this.isTypeOfDD(g)&&
g[a].apply(g,b))},addListeners:function(){this.init();Ext.getDoc().on({mouseup:this.handleMouseUp,mousemove:{fn:this.handleMouseMove,capture:!1},dragstart:this.preventDrag,drag:this.preventDrag,dragend:this.preventDrag,capture:!0,scope:this});Ext.getWin().on({unload:this._onUnload,resize:this._onResize,scope:this})},preventDrag:function(a){this.isMouseDown&&a.stopPropagation()},_onResize:function(){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=
!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(a,b){this.initialized||this.init();this.ids[b]||(this.ids[b]={});this.ids[b][a.id]=a},removeDDFromGroup:function(a,b){this.ids[b]||(this.ids[b]={});var c=this.ids[b];c&&c[a.id]&&delete c[a.id]},_remove:function(a,b){var c=this.ids,d=a.groups,e;if(!this.clearingAll){this.dragCurrent===a&&(this.dragCurrent=null);for(e in d)d.hasOwnProperty(e)&&
(b?delete c[e]:c[e]&&delete c[e][a.id]);delete this.handleIds[a.id]}},regHandle:function(a,b){this.handleIds[a]||(this.handleIds[a]={});this.handleIds[a][b]=b},isDragDrop:function(a){return this.getDDById(a)?!0:!1},getRelated:function(a,b){var c=[],d,e,g;for(d in a.groups)for(e in this.ids[d])if(g=this.ids[d][e],this.isTypeOfDD(g)&&(!b||g.isTarget))c[c.length]=g;return c},isLegalTarget:function(a,b){var c=this.getRelated(a,!0),d,e;d=0;for(e=c.length;d<e;++d)if(c[d].id==b.id)return!0;return!1},isTypeOfDD:function(a){return a&&
a.__ygDragDrop},isHandle:function(a,b){return this.handleIds[a]&&this.handleIds[a][b]},getDDById:function(a,b){var c,d;for(c in this.ids)if(d=this.ids[c][a],d instanceof Ext.dd.DDTarget||b)return d;return null},handleMouseDown:function(a,b){var c,d;this.isMouseDown=!0;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable();this.currentPoint=a.getPoint();this.dragCurrent&&this.handleMouseUp(a);this.mousedownEvent=a;this.currentTarget=a.getTarget();this.dragCurrent=b;d=b.getEl();Ext.fly(d).setCapture();
c=a.getXY();this.startX=c[0];this.startY=c[1];this.offsetX=this.offsetY=0;this.deltaX=this.startX-d.offsetLeft;this.deltaY=this.startY-d.offsetTop;this.dragThreshMet=!1},startDrag:function(a,b){var c=this.dragCurrent;clearTimeout(this.clickTimeout);c&&(c.b4StartDrag(a,b),c.startDrag(a,b),(c=c.getDragEl())&&Ext.fly(c).addCls(this.dragCls));this.dragThreshMet=!0},handleMouseUp:function(a){this.isMouseDown=!1;Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable();this.dragCurrent&&(Ext.isIE&&document.releaseCapture&&
document.releaseCapture(),clearTimeout(this.clickTimeout),this.dragThreshMet&&this.fireEvents(a,!0),this.stopDrag(a),this.stopEvent(a))},stopEvent:function(a){this.stopPropagation&&a.stopPropagation();this.preventDefault&&a.preventDefault()},stopDrag:function(a){var b=this.dragCurrent,c;b&&(this.dragThreshMet&&((c=b.getDragEl())&&Ext.fly(c).removeCls(this.dragCls),b.b4EndDrag(a),b.endDrag(a)),this.dragCurrent.onMouseUp(a));this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(a){var b=
this.dragCurrent,c=this.currentPoint=a.getPoint(),d=c.y;this.offsetX=c.x-this.startX;this.offsetY=d-this.startY;if(!b)return!0;this.dragThreshMet||(c=Math.abs(this.offsetX),d=Math.abs(this.offsetY),(c>this.clickPixelThresh||d>this.clickPixelThresh)&&this.startDrag(this.startX,this.startY));this.dragThreshMet&&(b.b4Drag(a),b.onDrag(a),b.moveOnly||this.fireEvents(a,!1));this.stopEvent(a);return!0},fireEvents:function(a,b){var c=Ext.supports.Touch,d=this.dragCurrent,e=this.currentPoint,g=e.x,h=e.y,j,
k=[],l=[],m=[],n=[],p=[],q=[],r,s,t,u=c?document.documentElement.clientWidth/window.innerWidth:1,v;if(d&&!d.isLocked()){v=!(0>d.deltaX||0>d.deltaY);if(c||!this.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&v)c=d.getDragEl(),v&&(c.style.visibility="hidden"),a.target=document.elementFromPoint(g/u,h/u),v&&(c.style.visibility="visible");for(s in this.dragOvers)g=this.dragOvers[s],delete this.dragOvers[s],this.isTypeOfDD(g)&&!g.isDestroyed&&(this.notifyOccluded?this.isOverTarget(e,
g,this.mode)||m.push(g):a.within(g.getEl())||m.push(g),l[s]=!0);for(t in d.groups)if("string"==typeof t)for(s in this.ids[t])if(g=this.ids[t][s],this.isTypeOfDD(g)&&(j=g.getEl())&&g.isTarget&&!g.isLocked()&&Ext.fly(j).isVisible(!0)&&(g!=d||!1===d.ignoreSelf))if(this.notifyOccluded){if(-1!==(g.zIndex=this.getZIndex(j)))r=!0;k.push(g)}else if(a.within(g.getEl())){k.push(g);break}r&&Ext.Array.sort(k,this.byZIndex);s=0;for(j=k.length;s<j&&!(g=k[s],this.isOverTarget(e,g,this.mode)&&(b?p.push(g):(l[g.id]?
n.push(g):q.push(g),this.dragOvers[g.id]=g),!this.notifyOccluded));s++);if(this.mode){m.length&&(d.b4DragOut(a,m),d.onDragOut(a,m));if(q.length)d.onDragEnter(a,q);n.length&&(d.b4DragOver(a,n),d.onDragOver(a,n));p.length&&(d.b4DragDrop(a,p),d.onDragDrop(a,p))}else{s=0;for(j=m.length;s<j;++s)d.b4DragOut(a,m[s].id),d.onDragOut(a,m[s].id);s=0;for(j=q.length;s<j;++s)d.onDragEnter(a,q[s].id);s=0;for(j=n.length;s<j;++s)d.b4DragOver(a,n[s].id),d.onDragOver(a,n[s].id);s=0;for(j=p.length;s<j;++s)d.b4DragDrop(a,
p[s].id),d.onDragDrop(a,p[s].id)}if(b&&!p.length)d.onInvalidDrop(a)}},getZIndex:function(a){var b=document.body,c,d=-1;for(a=Ext.getDom(a);a!==b;){if(!isNaN(c=Number(Ext.fly(a).getStyle("zIndex"))))d=c;a=a.parentNode}return d},byZIndex:function(a,b){return a.zIndex<b.zIndex},getBestMatch:function(a){var b=null,c=a.length,d,e;if(1==c)b=a[0];else for(d=0;d<c;++d)if(e=a[d],e.cursorIsOver){b=e;break}else if(!b||b.overlap.getArea()<e.overlap.getArea())b=e;return b},refreshCache:function(a){var b,c,d;for(b in a)if("string"==
typeof b)for(c in this.ids[b])a=this.ids[b][c],this.isTypeOfDD(a)&&((d=this.getLocation(a))?this.locationCache[a.id]=d:delete this.locationCache[a.id])},verifyEl:function(a){if(a){var b;if(Ext.isIE)try{b=a.offsetParent}catch(c){}else b=a.offsetParent;if(b)return!0}return!1},getLocation:function(a){if(!this.isTypeOfDD(a))return null;if(a.getRegion)return a.getRegion();var b=a.getEl(),c,d,e;try{c=Ext.fly(b).getXY()}catch(g){}if(!c)return null;d=c[0];e=d+b.offsetWidth;c=c[1];return new Ext.util.Region(c-
a.padding[0],e+a.padding[1],c+b.offsetHeight+a.padding[2],d-a.padding[3])},isOverTarget:function(a,b,c){var d=this.locationCache[b.id],e;if(!d||!this.useCache)d=this.getLocation(b),this.locationCache[b.id]=d;if(!d)return!1;b.cursorIsOver=d.contains(a);e=this.dragCurrent;if(!e||!e.getTargetCoord||!c&&!e.constrainX&&!e.constrainY)return b.cursorIsOver;b.overlap=null;a=e.getTargetCoord(a.x,a.y);e=e.getDragEl();return(d=(new Ext.util.Region(a.y,a.x+e.offsetWidth,a.y+e.offsetHeight,a.x)).intersect(d))?
(b.overlap=d,c?!0:b.cursorIsOver):!1},_onUnload:function(){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var a=this.elementCache,b;this.dragCurrent&&(this.stopDrag(),this.dragCurrent=null);this.clearingAll=!0;this._execOnAll("unreg",[]);delete this.clearingAll;for(b in a)delete a[b];this.elementCache={};this.ids={};this.handleIds={}},elementCache:{},getElWrapper:function(a){var b=this.elementCache[a];if(!b||!b.el)b=this.elementCache[a]=new this.ElementWrapper(Ext.getDom(a));return b},getElement:function(a){return Ext.getDom(a)},
getCss:function(a){return(a=Ext.getDom(a))?a.style:null},ElementWrapper:function(a){this.id=(this.el=a||null)&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.fly(a).getX()},getPosY:function(a){return Ext.fly(a).getY()},swapNode:function(a,b){if(a.swapNode)a.swapNode(b);else{var c=b.parentNode,d=b.nextSibling;d==a?c.insertBefore(a,b):b==a.nextSibling?c.insertBefore(b,a):(a.parentNode.replaceChild(b,a),c.insertBefore(a,d))}},getScroll:function(){var a=window.document,b=a.documentElement,
a=a.body,c=0,d=0;b&&(b.scrollTop||b.scrollLeft)?(c=b.scrollTop,d=b.scrollLeft):a&&(c=a.scrollTop,d=a.scrollLeft);return{top:c,left:d}},getStyle:function(a,b){return Ext.fly(a).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,b){var c=Ext.fly(b).getXY();Ext.fly(a).setXY(c)},numericSort:function(a,b){return a-b},handleWasClicked:function(a,b){if(this.isHandle(b,a.id))return!0;for(var c=a.parentNode;c;){if(this.isHandle(b,
c.id))return!0;c=c.parentNode}return!1}},function(a){Ext.onReady(function(){a.addListeners()})});
Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,xtype:"splitter",childEls:["collapseEl"],renderTpl:['\x3ctpl if\x3d"collapsible\x3d\x3d\x3dtrue"\x3e','\x3cdiv id\x3d"{id}-collapseEl" data-ref\x3d"collapseEl" role\x3d"presentation" class\x3d"',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}"\x3e\x26#160;',"\x3c/div\x3e","\x3c/tpl\x3e"],isSplitter:!0,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,
collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1E3,collapseTarget:"next",horizontal:!1,vertical:!1,size:5,tracker:null,ariaRole:"separator",getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var a=this.getCollapseTarget(),b=this.collapsible;this.callParent();a.collapsed&&this.addCls(this.collapsedClsInternal);this.canResize||this.addCls(this.baseCls+"-noresize");Ext.applyIf(this.renderData,
{collapseDir:this.getCollapseDirection(),collapsible:null!==b?b:a.collapsible});this.protoEl.unselectable()},onRender:function(){var a;this.callParent(arguments);!1!==this.performCollapse&&(this.renderData.collapsible&&this.mon(this.collapseEl,"click",this.toggleTargetCmp,this),this.collapseOnDblClick&&this.mon(this.el,"dblclick",this.toggleTargetCmp,this));this.mon(this.getCollapseTarget(),{collapse:this.onTargetCollapse,expand:this.onTargetExpand,beforeexpand:this.onBeforeTargetExpand,beforecollapse:this.onBeforeTargetCollapse,
scope:this});this.canResize&&(this.tracker=Ext.create(this.getTrackerConfig()),this.relayEvents(this.tracker,["beforedragstart","dragstart","dragend"]));if(a=this.collapseEl)a.lastCollapseDirCls=this.collapseDirProps[this.collapseDirection].cls},getCollapseDirection:function(){var a=this.collapseDirection,b,c;a||(b=this.collapseTarget,b.isComponent&&(a=b.collapseDirection),a||(c=this.ownerCt.layout.type,b.isComponent?(a=this.ownerCt.items,b=Number(a.indexOf(b)===a.indexOf(this)-1)<<1|Number("hbox"===
c)):b=Number("prev"===this.collapseTarget)<<1|Number("hbox"===c),a=["bottom","right","top","left"][b]),this.collapseDirection=a);this.setOrientation("top"===a||"bottom"===a?"horizontal":"vertical");return a},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:"prev"===this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(a){var b=this.collapseEl;b&&b.setDisplayed(a)},onBeforeTargetExpand:function(){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},
onTargetCollapse:function(){this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},onTargetExpand:function(){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",
fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var a=this.collapseEl,b=this.collapseDirProps[this.collapseDirection],c;a&&((c=a.lastCollapseDirCls)&&a.removeCls(c),a.addCls(a.lastCollapseDirCls=b.cls))},applyOrientation:function(){var a=this.orientation,b=this.orientationProps[a],c=this.size,d=b.fixedAxis,e=b.stretchedAxis,g=this.baseCls+"-";this[a]=!0;this[b.opposite]=!1;if(!this.hasOwnProperty(d)||
"100%"===this[d])this[d]=c;if(!this.hasOwnProperty(e)||this[e]===c)this[e]="100%";this.removeCls(g+b.opposite);this.addCls(g+a)},setOrientation:function(a){this.orientation!==a&&(this.orientation=a,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(){var a=this.getCollapseTarget(),b=a.placeholder;Ext.isFunction(a.expand)&&Ext.isFunction(a.collapse)&&(b=b&&!b.hidden?!0:!a.hidden)&&
(a.collapsed?a.expand():a.collapseDirection?a.collapse():a.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments);Ext.isIE&&this.el&&this.el.repaint()},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});
Ext.define("Ext.layout.container.Box",{extend:Ext.layout.container.Container,alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(a,b){"string"==typeof a&&(a={type:a});return Ext.merge(b?Ext.Object.chain(b):{},a)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+
"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:!0,manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l\x3dvalues.$comp.layout,oh\x3dl.overflowHandler;if (oh \x26\x26 oh.getPrefixConfig!\x3d\x3dExt.emptyFn) {if(oc\x3doh.getPrefixConfig())dh.generateMarkup(oc, out)}%}\x3cdiv id\x3d"{ownerId}-innerCt" data-ref\x3d"innerCt" role\x3d"presentation" class\x3d"{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"\x3e\x3cdiv id\x3d"{ownerId}-targetEl" data-ref\x3d"targetEl" class\x3d"{targetElCls}" role\x3d"presentation"\x3e{%this.renderBody(out, values)%}\x3c/div\x3e\x3c/div\x3e{%if (oh \x26\x26 oh.getSuffixConfig!\x3d\x3dExt.emptyFn) {if(oc\x3doh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',
{disableFormats:!0,definitions:"var dh\x3dExt.DomHelper;"}],constructor:function(a){var b;this.callParent(arguments);this.setVertical(this.vertical);this.flexSortFn=this.flexSort.bind(this);b=typeof this.padding;if("string"===b||"number"===b)this.padding=Ext.util.Format.parseBox(this.padding),this.padding.height=this.padding.top+this.padding.bottom,this.padding.width=this.padding.left+this.padding.right},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,
_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.align,e=a.flex,g=d,h=this.names,j=a[h.height],k=this._percentageRe,l=k.test(a[h.width]),m="stretch"===d,d="stretchmax"===d,n=this.constrainAlign;if(!b&&(m||e||l||n&&!d))b=this.owner.getSizeModel();m?!k.test(j)&&b[h.height].shrinkWrap&&(g="stretchmax"):d||(g=k.test(j)?"stretch":n&&!b[h.height].shrinkWrap?"stretchmax":"");if((e||l)&&!b[h.width].shrinkWrap)c=c.flex;return c[g]},flexSort:function(a,
b){var c=this.names.maxWidth,d=this.names.minWidth,e=a.target,g=b.target,h=e.flex,j=g.flex,k=0,l,m;l=e[c]||Infinity;c=g[c]||Infinity;e=e[d]||0;d=g[d]||0;g=isFinite(e)||isFinite(d);m=isFinite(l)||isFinite(c);if(g||m)m&&(k=l-c),0===k&&g&&(k=d-e),0===k&&(k=m?j-h:h-j);return k},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(a){"vertical"===this.direction&&a.collapsedVertical()?(a.collapseMemento.capture(["flex"]),
delete a.flex):"horizontal"===this.direction&&a.collapsedHorizontal()&&(a.collapseMemento.capture(["flex"]),delete a.flex)},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(a){var b=this.owner,c=b.stretchMaxPartner,d=this.innerCt.dom.style,e=this.names,g=this.overflowHandler;a.boxNames=e;g&&g.beginLayout(a);"string"===typeof c&&(c=Ext.getCmp(c)||b.query(c)[0]);a.stretchMaxPartner=c&&a.context.getCmp(c);this.callParent(arguments);a.innerCtContext=a.getEl("innerCt",
this);a.targetElContext=a.getEl("targetEl",this);this.scrollParallel=b.scrollFlags[e.x];this.scrollPerpendicular=b.scrollFlags[e.y];this.scrollParallel&&(this.scrollPos=b.getTargetEl().dom[e.scrollLeft]);d.width="";d.height=""},beginLayoutCycle:function(a,b){var c=this.align,d=a.boxNames,e=this.pack,g=this._centerRe,h=d.heightModel,j=this.overflowHandler;j&&j.beginLayoutCycle(a,b);this.callParent(arguments);a.parallelSizeModel=a[d.widthModel];a.perpendicularSizeModel=a[h];a.boxOptions={align:c={stretch:"stretch"===
c,stretchmax:"stretchmax"===c,center:g.test(c),bottom:this._endRe.test(c)},pack:e={center:g.test(e),end:"end"===e}};c.stretch&&a.perpendicularSizeModel.shrinkWrap&&(c.stretchmax=!0,c.stretch=!1);c.nostretch=!(c.stretch||c.stretchmax);a.parallelSizeModel.shrinkWrap&&(e.center=e.end=!1);this.cacheFlexes(a);this.targetEl.setWidth(2E4)},cacheFlexes:function(a){for(var b=a.boxNames,c=b.widthModel,d=b.heightModel,e=a.boxOptions.align.nostretch,g=0,h=a.childItems,j=h.length,k=[],l=0,m=b.minWidth,n=this._percentageRe,
p=0,q=0,r,s,t;j--;)s=h[j],r=s.target,s[c].calculated&&((s.flex=t=r.flex)?(g+=t,k.push(s),l+=r[m]||0):(t=n.exec(r[b.width]),s.percentageParallel=parseFloat(t[1])/100,++p)),e&&s[d].calculated&&(t=n.exec(r[b.height]),s.percentagePerpendicular=parseFloat(t[1])/100,++q);a.flexedItems=k;a.flexedMinSize=l;a.totalFlex=g;a.percentageWidths=p;a.percentageHeights=q;Ext.Array.sort(k,this.flexSortFn)},calculate:function(a){var b=this.getContainerSize(a),c=a.boxNames,d=a.state,e=d.boxPlan||(d.boxPlan={}),g=this.overflowHandler;
e.targetSize=b;d.parallelDone||(d.parallelDone=this.calculateParallel(a,c,e));d.perpendicularDone||(d.perpendicularDone=this.calculatePerpendicular(a,c,e));d.parallelDone&&d.perpendicularDone?(this.publishInnerCtSize(a,this.reserveOffset?this.availableSpaceOffset:0),this.done&&(a.boxOptions.align.stretchmax&&!d.stretchMaxDone)&&(this.calculateStretchMax(a,c,e),d.stretchMaxDone=!0),g&&g.calculate(a)):this.done=!1},calculateParallel:function(a,b,c){var d=b.width,e=a.childItems,g=b.beforeX,h=b.afterX,
j=b.setWidth,k=e.length,l=a.flexedItems,m=l.length,n=a.boxOptions.pack,p=this.padding,q=c.targetSize,r=q[d],s=0,t=p[g],u=t+p[h]+this.scrollOffset+(this.reserveOffset?this.availableSpaceOffset:0),p=Ext.getScrollbarSize()[b.width],v,w,x,A;if(!a.parallelSizeModel.shrinkWrap&&!q[b.gotWidth])return!1;if(p&&this.scrollPerpendicular&&a.parallelSizeModel.shrinkWrap&&!a.boxOptions.align.stretch&&!a.perpendicularSizeModel.shrinkWrap){if(!a.state.perpendicularDone)return!1;A=!0}for(q=0;q<k;++q)if(w=e[q],v=w.marginInfo||
w.getMarginInfo(),s+=v[d],!w[b.widthModel].calculated&&(v=w.getProp(d),u+=v,isNaN(u)))return!1;u+=s;if(a.percentageWidths){s=r-s;if(isNaN(s))return!1;for(q=0;q<k;++q)w=e[q],w.percentageParallel&&(v=Math.ceil(s*w.percentageParallel),v=w.setWidth(v),u+=v)}if(a.parallelSizeModel.shrinkWrap)c.availableSpace=0,c.tooNarrow=!1;else if(c.availableSpace=r-u,c.tooNarrow=c.availableSpace<a.flexedMinSize,c.tooNarrow&&Ext.getScrollbarSize()[b.height]&&this.scrollParallel&&a.state.perpendicularDone){a.state.perpendicularDone=
!1;for(q=0;q<k;++q)e[q].invalidate()}r=u;s=c.availableSpace;u=a.totalFlex;for(q=0;q<m;q++)w=l[q],v=w.flex,x=this.roundFlex(v/u*s),x=w[j](x),r+=x,s=Math.max(0,s-x),u-=v;n.center?(t+=s/2,0>t&&(t=0)):n.end&&(t+=s);for(q=0;q<k;++q)w=e[q],v=w.marginInfo,t+=v[g],w.setProp(b.x,t),t+=v[h]+w.props[d];r+=a.targetContext.getPaddingInfo()[d];a.state.contentWidth=r;A&&a.peek(b.contentHeight)>c.targetSize[b.height]&&(r+=p,a[b.hasOverflowY]=!0,a.target.componentLayout[b.setWidthInDom]=!0,a[b.invalidateScrollY]=
Ext.isIE8);a[b.setContentWidth](r);return!0},calculatePerpendicular:function(a,b,c){var d=a.perpendicularSizeModel.shrinkWrap,e=a.childItems,g=e.length,h=Math.max,j=b.height,k=b.setHeight,l=b.beforeY,m=b.y,n=this.padding,p=n[l],q=c.targetSize[j]-p-n[b.afterY],r=a.boxOptions.align,n=r.stretch,s=r.stretchmax,t=r.center,r=r.bottom,u=this.constrainAlign,v=0,w=0,x=this.onBeforeConstrainInvalidateChild,A=this.onAfterConstrainInvalidateChild,z=Ext.getScrollbarSize().height,B,y,C,E,D,F;if((n||(t||r)&&!d)&&
isNaN(q)||!n&&!a.parallelSizeModel.shrinkWrap&&!a.state.parallelDone&&this.scrollParallel)return!1;this.scrollParallel&&c.tooNarrow&&(d?F=!0:(q-=z,c.targetSize[j]-=z));if(n)E=q;else{for(B=0;B<g;B++){D=e[B];C=(D.marginInfo||D.getMarginInfo())[j];if(y=D.percentagePerpendicular)if(++w,d)continue;else y=y*q-C,y=D[b.setHeight](y);else y=D.getProp(j);!d&&(u&&D[b.heightModel].shrinkWrap&&y>q)&&(D.invalidate({before:x,after:A,layout:this,childHeight:q,names:b}),a.state.parallelDone=!1);if(isNaN(v=h(v,y+C,
D.target[b.minHeight]||0)))return!1}F&&(v+=z,a[b.hasOverflowX]=!0,a.target.componentLayout[b.setHeightInDom]=!0,a[b.invalidateScrollX]=Ext.isIE8);if(B=a.stretchMaxPartner)if(a.setProp("maxChildHeight",v),(D=B.childItems)&&D.length)if(v=h(v,B.getProp("maxChildHeight")),isNaN(v))return!1;a[b.setContentHeight](v+this.padding[j]+a.targetContext.getPaddingInfo()[j]);F&&(v-=z);c.maxSize=v;if(s)E=v;else if(t||r||w)E=u?d?v:q:d?v:h(q,v),E-=a.innerCtContext.getBorderInfo()[j]}for(B=0;B<g;B++){D=e[B];C=D.marginInfo||
D.getMarginInfo();a=p+C[l];if(n)D[k](E-C[j]);else y=D.percentagePerpendicular,d&&y&&(C=D.marginInfo||D.getMarginInfo(),y=y*E-C[j],D.setHeight(y)),t?(b=E-D.props[j],0<b&&(a=p+Math[this.alignRoundingMethod](b/2))):r&&(a=h(0,E-a-D.props[j]));D.setProp(m,a)}return!0},onBeforeConstrainInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(a,b){var c=b.names;a.setProp(c.beforeY,0);if(a[c.heightModel].calculated)a[c.setHeight](b.childHeight)},
calculateStretchMax:function(a,b,c){var d=b.height,e=b.width;a=a.childItems;var g=a.length;c=c.maxSize;var h=this.onBeforeStretchMaxInvalidateChild,j=this.onAfterStretchMaxInvalidateChild,k,l,m,n;for(m=0;m<g;++m)k=a[m],l=k.props,n=c-k.getMarginInfo()[d],(n!==l[d]||k[b.heightModel].constrained)&&k.invalidate({before:h,after:j,layout:this,childWidth:l[e],childHeight:n,childX:l.x,childY:l.y,names:b})},onBeforeStretchMaxInvalidateChild:function(a,b){var c=b.names.heightModel;a[c].constrainedMax||(a[c]=
Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(a,b){var c=b.names,d=b.childHeight,e=b.childWidth;a.setProp("x",b.childX);a.setProp("y",b.childY);if(a[c.heightModel].calculated)a[c.setHeight](d);if(a[c.widthModel].calculated)a[c.setWidth](e)},completeLayout:function(a){var b=a.boxNames,c=a.invalidateScrollX,d=a.invalidateScrollY,e=this.overflowHandler,g,h,j;e&&e.completeLayout(a);if(c||d)if(e=this.getTarget(),a=e.dom,j=a.style,c&&(g=e.getStyle("overflowX"),"auto"===g?(g=
j.overflowX,j.overflowX="scroll"):c=!1),d&&(h=e.getStyle("overflowY"),"auto"===h?(h=j.overflowY,j.overflowY="scroll"):d=!1),c||d)a.scrollWidth,c&&(j.overflowX=g),d&&(j.overflowY=h);this.scrollParallel&&(this.owner.getTargetEl().dom[b.scrollLeft]=this.scrollPos)},finishedLayout:function(a){var b=this.overflowHandler;b&&b.finishedLayout(a);this.callParent(arguments)},getLayoutItems:function(){var a=this.callParent(),b=a.length,c,d,e,g,h,j,k;for(e=0;e<b;++e)if(!(g=a[e]).isSplitter)k=g.splitter,g.hidden?
k&&!k.hidden&&(k.hidden=!0,k.el&&k.el.hide()):(j=k?"next"===k.collapseTarget:!1,d=null,c&&h?(h.hidden&&(h.hidden=!1,h.el&&h.el.show()),j&&(d=!0)):j&&(d=!c),null!==d&&k.hidden!==d&&(k.hidden=d,k.el&&k.el.setVisible(!d)),h=!j&&k,c=g);c&&(h&&!h.hidden)&&(h.hidden=!0,h.el&&h.el.hide());return a},getScrollerEl:function(){return this.innerCt},insertSplitter:function(a,b,c,d){c={xtype:"splitter",id:a.id+"-splitter",hidden:c,splitterFor:a,synthetic:!0};b+="prev"===d.collapseTarget?1:0;c[this.names.height]=
"100%";d&&Ext.apply(c,d);a.splitter=this.owner.add(b,c)},publishInnerCtSize:function(a,b){var c=a.boxNames,d=c.height,e=c.width,g=a.boxOptions.align,h=this.owner.dock,j=this.padding,k=a.state.boxPlan,l=k.targetSize,m=l[d],n=a.innerCtContext,e=(a.parallelSizeModel.shrinkWrap||k.tooNarrow&&this.scrollParallel?a.state.contentWidth-a.targetContext.getPaddingInfo()[e]:l[e])-(b||0);this.owner.tooNarrow=k.tooNarrow;if(g.stretch)d=m;else if(d=k.maxSize+j[c.beforeY]+j[c.afterY]+n.getBorderInfo()[d],!a.perpendicularSizeModel.shrinkWrap&&
(g.center||g.bottom))d=Math.max(m,d);n[c.setWidth](e);n[c.setHeight](d);a.targetElContext.setWidth(a.innerCtContext.props.width-(this.vertical?0:b||0));isNaN(e+d)&&(this.done=!1);k.calculatedWidth&&("left"===h||"right"===h)&&a.setWidth(k.calculatedWidth,!0,!0)},onAdd:function(a,b){var c=this.enableSplitters&&a.split&&!a.isButton;this.callParent(arguments);c&&(c=!0===c?{collapseTarget:"next"}:Ext.isString(c)?{collapseTarget:"before"===c?"next":"prev"}:Ext.apply({collapseTarget:"before"===c.side?"next":
"prev"},c),this.insertSplitter(a,b,!!a.hidden,c))},onRemove:function(a,b){var c=this.names,d=this.owner,e=a.splitter,g=this.overflowHandler;this.callParent(arguments);e&&d.contains(e)&&(d.doRemove(e,!0),a.splitter=null);if(g)g.onRemove(a);a.layoutMarginCap===this.id&&delete a.layoutMarginCap;if(!d.destroying&&(!b&&a.rendered)&&(d=a.getEl()))d.setStyle(c.beforeY,""),d.setStyle(c.beforeX,""),d.setStyle("margin","")},applyOverflowHandler:function(a,b){"string"===typeof a&&(a={type:a});if(b&&b.type===
a.type)return delete a.type,b.setConfig(a),b;a.layout=this;return Ext.Factory.boxOverflow(a)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler);this.flexSortFn=this.innerCt=null;this.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;
return a},updateVertical:function(a){var b=this.overflowHandler,c=this.owner;Ext.apply(this,this._props[a&&"vbox"||"hbox"]);b&&(c&&c.rendered)&&b.setVertical(a)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",
hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",
gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,
readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",
parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",
setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,
setsWidth:1,setsHeight:0}}}}});Ext.define("Ext.rtl.layout.container.Box",{override:"Ext.layout.container.Box",initLayout:function(){this.owner.getInherited().rtl&&(this.names=Ext.Object.chain(this.names),Ext.apply(this.names,this.rtlNames));this.callParent(arguments)},getRenderData:function(){var a=this.callParent();this.owner.getInherited().rtl&&(a.targetElCls=(a.targetElCls||"")+" "+Ext.baseCSSPrefix+"rtl");return a}});
Ext.define("Ext.layout.container.HBox",{extend:Ext.layout.container.Box,alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1});Ext.define("Ext.rtl.layout.container.HBox",{override:"Ext.layout.container.HBox",rtlNames:{beforeX:"right",afterX:"left",getScrollLeft:"rtlGetScrollLeft",setScrollLeft:"rtlSetScrollLeft",scrollTo:"rtlScrollTo",beforeScrollerSuffix:"-after-scroller",afterScrollerSuffix:"-before-scroller"}});
Ext.define("Ext.layout.container.VBox",{extend:Ext.layout.container.Box,alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0});Ext.define("Ext.rtl.layout.container.VBox",{override:"Ext.layout.container.VBox",rtlNames:{beforeY:"right",afterY:"left",scrollTo:"rtlScrollTo"}});
Ext.define("Ext.util.FocusableContainer",{extend:Ext.Mixin,mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer"},after:{afterRender:"initFocusableContainer"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(){this.enableFocusableContainer&&this.doInitFocusableContainer()},doInitFocusableContainer:function(){var a;a=this.getFocusableContainerEl();
this.activateFocusableContainerEl(a);this.mon(a,{scope:this,mousedown:this.onFocusableContainerMousedown,focus:this.onFocusableContainerFocus,focusenter:this.onFocusableContainerFocusEnter,focusleave:this.onFocusableContainerFocusLeave});this.focusableKeyNav=this.createFocusableContainerKeyNav(a)},createFocusableContainerKeyNav:function(a){return new Ext.util.KeyNav(a,{ignoreInputFields:!0,scope:this,up:this.onFocusableContainerUpKey,down:this.onFocusableContainerDownKey,left:this.onFocusableContainerLeftKey,
right:this.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){var a=this.focusableKeyNav;a&&(a.destroy(),delete this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(a){var b=this.activeChildTabIndex,c=!1,d,e,g,h;d=this.getFocusables();if(h=d.length){for(g=0;g<h;g++)if(e=d[g],e.focusable&&(c=c||e.focusable,e=e.getTabIndex(),null!=e&&e>=b))return;if(c)return(e=
this.findNextFocusableChild(null,!0,d,a))&&this.activateFocusable(e),e}},clearFocusables:function(){var a,b,c,d;a=this.getFocusables();c=0;for(d=a.length;c<d;c++)b=a[c],b.focusable&&this.deactivateFocusable(b)},activateFocusable:function(a,b){a.setTabIndex(null!=b?b:this.activeChildTabIndex)},deactivateFocusable:function(a,b){a.setTabIndex(null!=b?b:this.inactiveChildTabIndex)},onFocusableContainerUpKey:function(a){return this.moveChildFocus(a,!1)},onFocusableContainerLeftKey:function(a){return this.moveChildFocus(a,
!1)},onFocusableContainerRightKey:function(a){return this.moveChildFocus(a,!0)},onFocusableContainerDownKey:function(a){return this.moveChildFocus(a,!0)},getFocusableFromEvent:function(a){(a=Ext.Component.getComponentByElement(a.getTarget()))||Ext.Error.raise("No focusable child found for keyboard event!");return a},moveChildFocus:function(a,b){var c=this.getFocusableFromEvent(a);return this.focusChild(c,b,a)},focusChild:function(a,b){var c=this.findNextFocusableChild(a,b);c&&c.focus();return c},
findNextFocusableChild:function(a,b,c,d){var e,g,h;c=c||this.getFocusables();e=Ext.Array.indexOf(c,a);b=!0===b?1:!1===b?-1:b;h=c.length;for(g=0<b?e<h?e+b:0:0<e?e+b:h-1;!(0>e&&(g>=h||0>g));g+=b){if(g>=h){g=-1;continue}else if(0>g){g=h;continue}else if(g===e)break;if((a=c[g])&&a.focusable&&(d||a.isFocusable()))return a}return null},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(a){return this.doFocusableChildAdd(a)},activateFocusableContainerEl:function(a){a=a||this.getFocusableContainerEl();
a.set({tabindex:this.activeChildTabIndex})},deactivateFocusableContainerEl:function(a){a=a||this.getFocusableContainerEl();a.set({tabindex:this.inactiveChildTabIndex})},doFocusableChildAdd:function(a){a.focusable&&(a.focusableContainer=this,this.deactivateFocusable(a))},onFocusableChildRemove:function(a){return this.doFocusableChildRemove(a)},doFocusableChildRemove:function(a){delete a.focusableContainer},onFocusableContainerMousedown:function(a,b){Ext.Component.getComponentByElement(b)===this&&a.preventDefault()},
onFocusableContainerFocus:function(){var a;if(a=this.initDefaultFocusable())this.deactivateFocusableContainerEl(),a.focus()},onFocusableContainerFocusEnter:function(){this.lastFocusedChild&&this.deactivateFocusableContainerEl()},onFocusableContainerFocusLeave:function(){var a=this.lastFocusedChild;this.clearFocusables();a?this.activateFocusable(a):this.activateFocusableContainerEl()},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(a){this.clearFocusables();
this.activateFocusable(a);a.needArrowKeys&&this.guardFocusableChild(a)},guardFocusableChild:function(a){var b=this.activeChildTabIndex,c;(c=this.findNextFocusableChild(a,-1))&&c.setTabIndex(b);(c=this.findNextFocusableChild(a,1))&&c.setTabIndex(b)},afterFocusableChildFocus:function(a){this.lastFocusedChild=a},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildEnable:Ext.privateFn,onFocusableChildDisable:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,
onFocusableChildUpdate:Ext.privateFn}});Ext.define("Ext.rtl.util.FocusableContainer",{override:"Ext.util.FocusableContainer",privates:{moveChildFocus:function(a,b){b=this.getInherited().rtl?!b:b;return this.callParent([a,b])}}});
Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:[Ext.util.FocusableContainer],isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:!1,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator",
" ":"tbspacer"},shortcutsHV:{"0":{"-\x3e":{xtype:"tbfill",height:0}},1:{"-\x3e":{xtype:"tbfill",width:0}}}},initComponent:function(){var a=this.layout;if("right"===this.dock||"left"===this.dock)this.vertical=!0;this.layout=a=Ext.applyIf(Ext.isString(a)?{type:a}:a||{},{type:this.vertical?"vbox":"hbox",align:this.vertical?"stretchmax":"middle"});this.overflowHandler?a.overflowHandler=this.overflowHandler:this.enableOverflow&&(a.overflowHandler="menu");this.vertical&&this.addClsWithUI("vertical");"footer"===
this.ui&&(this.ignoreBorderManagement=!0);this.callParent()},getRefItems:function(a){var b=this.callParent(arguments),c=this.layout;if(a&&(this.enableOverflow||"menu"===this.overflowHandler))(c=c.overflowHandler)&&c.menu&&(b=b.concat(c.menu.getRefItems(a)));return b},lookupComponent:function(a){var b=arguments;"string"===typeof a&&(b=Ext.toolbar.Toolbar,b=b.shortcutsHV[this.vertical?1:0][a]||b.shortcuts[a],a="string"===typeof b?{xtype:b}:b?Ext.apply({},b):{xtype:"tbtext",text:a},this.applyDefaults(a),
b=[a]);return this.callParent(b)},onBeforeAdd:function(a){var b="footer"===this.ui,c=b?this.defaultFooterButtonUI:this.defaultButtonUI;a.isSegmentedButton?"default"===a.getDefaultUI()&&!a.config.hasOwnProperty("defaultUI")&&a.setDefaultUI(c):"default"===a.ui&&!a.hasOwnProperty("ui")&&(a.isButton?a.ui=c:a.isFormField&&(a.ui=b?this.defaultFooterFieldUI:this.defaultFieldUI));a instanceof Ext.toolbar.Separator&&a.setUI(this.vertical?"vertical":"horizontal");this.callParent(arguments)},onAdd:function(a){this.callParent(arguments);
this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,!0)},privates:{applyDefaults:function(a){Ext.isString(a)||(a=this.callParent(arguments));return a},trackMenu:function(a,b){if(this.trackMenus&&a.menu){var c=b?"mun":"mon";this[c](a,"mouseover",this.onButtonOver,this);this[c](a,"menushow",this.onButtonMenuShow,this);this[c](a,"menuhide",this.onButtonMenuHide,this)}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){this.activeMenuBtn&&
this.activeMenuBtn!==a&&(this.activeMenuBtn.hideMenu(),a.showMenu(),this.activeMenuBtn=a)},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(){delete this.activeMenuBtn}}});
Ext.define("Ext.dd.DragDrop",{constructor:function(a,b,c){a&&this.init(a,b,c)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,
hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(){},startDrag:function(){},b4Drag:function(){},onDrag:function(){},onDragEnter:function(){},b4DragOver:function(){},onDragOver:function(){},b4DragOut:function(){},onDragOut:function(){},b4DragDrop:function(){},onDragDrop:function(){},onInvalidDrop:function(){},b4EndDrag:function(){},endDrag:function(){},b4MouseDown:function(){},onMouseDown:function(){},onMouseUp:function(){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,
bottom:0},constrainTo:function(a,b){var c,d,e,g;Ext.isNumber(b)&&(b={left:b,right:b,top:b,bottom:b});b=b||this.defaultPadding;var h=Ext.get(this.getEl()).getBox();c=Ext.get(a);e=c.getScroll();g=c.dom;g==document.body?(c=e.left,d=e.top,e=Ext.Element.getViewportWidth(),g=Ext.Element.getViewportHeight()):(e=c.getXY(),c=e[0],d=e[1],e=g.clientWidth,g=g.clientHeight);d=h.y-d;c=h.x-c;this.resetConstraints();this.setXConstraint(c-(b.left||0),e-c-h.width-(b.right||0),this.xTickSize);this.setYConstraint(d-
(b.top||0),g-d-h.height-(b.bottom||0),this.yTickSize)},getEl:function(){this._domRef||(this._domRef=Ext.getDom(this.id));return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(a,b,c){this.el=this.el||Ext.get(a);this.initTarget(a,b,c);Ext.get(this.id).on(this.triggerEvent,this.handleMouseDown,this)},initTarget:function(a,b,c){this.config=c||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};"string"!==typeof a&&(a=Ext.id(a));this.id=a;this.addToGroup(b?b:"default");
this.handleElId=a;this.setDragElId(a);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=!1!==this.config.isTarget;this.maintainOffset=this.config.maintainOffset;this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0;this.resetConstraints();this.onAvailable()},setPadding:function(a,b,c,d){this.padding=
!b&&0!==b?[a,a,a,a]:!c&&0!==c?[a,b,a,b]:[a,b,c,d]},setInitPosition:function(a,b){var c=this.getEl(),d,e;this.DDMInstance.verifyEl(c)&&(d=a||0,e=b||0,c=Ext.fly(c).getXY(),this.initPageX=c[0]-d,this.initPageY=c[1]-e,this.lastPageX=c[0],this.lastPageY=c[1],this.setStartPosition(c))},setStartPosition:function(a){a=a||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=!0;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){this.groups[a]&&
delete this.groups[a];this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){"string"!==typeof a&&(a=Ext.id(a));Ext.get(a).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=!0},unreg:function(){var a;this._domRef&&(a=Ext.fly(this.id))&&a.un(this.triggerEvent,this.handleMouseDown,this);
this._domRef=null;this.DDMInstance._remove(this,this.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=!0},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(a){if(!(this.primaryButtonOnly&&0!=a.button||this.isLocked()))if(this.DDMInstance.refreshCache(this.groups),(this.hasOuterHandles||this.DDMInstance.isOverTarget(a.getPoint(),this))&&this.clickValidator(a))this.setStartPosition(),this.b4MouseDown(a),this.onMouseDown(a),this.DDMInstance.handleMouseDown(a,
this),this.DDMInstance.stopEvent(a)},clickValidator:function(a){a=a.getTarget();return this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id))},addInvalidHandleType:function(a){a=a.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){a=a.toUpperCase();delete this.invalidHandleTypes[a]},
removeInvalidHandleId:function(a){"string"!==typeof a&&(a=Ext.id(a));delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(a){for(var b=0,c=this.invalidHandleClasses.length;b<c;++b)this.invalidHandleClasses[b]==a&&delete this.invalidHandleClasses[b]},isValidHandleChild:function(a){var b=!0,c,d;try{c=a.nodeName.toUpperCase()}catch(e){c=a.nodeName}b=(b=b&&!this.invalidHandleTypes[c])&&!this.invalidHandleIds[a.id];c=0;for(d=this.invalidHandleClasses.length;b&&c<d;++c)b=!Ext.fly(a).hasCls(this.invalidHandleClasses[c]);
return b},setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;var c={},d;for(d=this.initPageX;d>=this.minX;d-=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);for(d=this.initPageX;d<=this.maxX;d+=b)c[d]||(this.xTicks[this.xTicks.length]=d,c[d]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var c={},d;for(d=this.initPageY;d>=this.minY;d-=b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);for(d=this.initPageY;d<=this.maxY;d+=
b)c[d]||(this.yTicks[this.yTicks.length]=d,c[d]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(a,b,c){this.leftConstraint=a;this.rightConstraint=b;this.minX=this.initPageX-a;this.maxX=this.initPageX+b;c&&this.setXTicks(this.initPageX,c);this.constrainX=!0},clearConstraints:function(){this.constrainY=this.constrainX=!1;this.clearTicks()},clearTicks:function(){this.yTicks=this.xTicks=null;this.yTickSize=this.xTickSize=0},setYConstraint:function(a,b,c){this.topConstraint=
a;this.bottomConstraint=b;this.minY=this.initPageY-a;this.maxY=this.initPageY+b;c&&this.setYTicks(this.initPageY,c);this.constrainY=!0},resetConstraints:function(){this.initPageX||0===this.initPageX?this.setInitPosition(this.maintainOffset?this.lastPageX-this.initPageX:0,this.maintainOffset?this.lastPageY-this.initPageY:0):this.setInitPosition();this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,
this.yTickSize)},getTick:function(a,b){if(b){if(b[0]>=a)return b[0];var c,d,e,g;c=0;for(d=b.length;c<d;++c)if(e=c+1,b[e]&&b[e]>=a)return d=a-b[c],g=b[e]-a,g>d?b[c]:b[e];return b[b.length-1]}return a},toString:function(){return"DragDrop "+this.id}});
Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){a&&this.init(a,b,c)},scroll:!0,autoOffset:function(a,b){this.setDelta(a-this.startPageX,b-this.startPageY)},setDelta:function(a,b){this.deltaX=a;this.deltaY=b},setDragElPos:function(a,b){var c=this.getDragEl();this.alignElWithMouse(c,a,b)},alignElWithMouse:function(a,b,c){b=this.getTargetCoord(b,c);c=a.dom?a:Ext.fly(a,"_dd");var d=c.getSize(),e=Ext.Element;this.deltaSetXY?(e=this.cachedViewportSize,this.setLocalXY(c,Math.max(0,
Math.min(b.x+this.deltaSetXY[0],e.width-d.width)),Math.max(0,Math.min(b.y+this.deltaSetXY[1],e.height-d.height)))):(e=this.cachedViewportSize={width:e.getDocumentWidth(),height:e.getDocumentHeight()},d=[Math.max(0,Math.min(b.x,e.width-d.width)),Math.max(0,Math.min(b.y,e.height-d.height))],c.setXY(d),d=this.getLocalX(c),c=c.getLocalY(),this.deltaSetXY=[d-b.x,c-b.y]);this.cachePosition(b.x,b.y);this.autoScroll(b.x,b.y,a.offsetHeight,a.offsetWidth);return b},cachePosition:function(a,b){if(a)this.lastPageX=
a,this.lastPageY=b;else{var c=Ext.fly(this.getEl()).getXY();this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(a,b,c,d){if(this.scroll){var e=Ext.Element.getViewportHeight(),g=Ext.Element.getViewportWidth(),h=this.DDMInstance.getScrollTop(),j=this.DDMInstance.getScrollLeft();d+=a;var k=e+h-b-this.deltaY,l=g+j-a-this.deltaX,m=document.all?80:30;c+b>e&&40>k&&window.scrollTo(j,h+m);b<h&&(0<h&&40>b-h)&&window.scrollTo(j,h-m);d>g&&40>l&&window.scrollTo(j+m,h);a<j&&(0<j&&40>a-j)&&window.scrollTo(j-
m,h)}},getTargetCoord:function(a,b){var c=a-this.deltaX,d=b-this.deltaY;this.constrainX&&(c<this.minX&&(c=this.minX),c>this.maxX&&(c=this.maxX));this.constrainY&&(d<this.minY&&(d=this.minY),d>this.maxY&&(d=this.maxY));c=this.getTick(c,this.xTicks);d=this.getTick(d,this.yTicks);return{x:c,y:d}},applyConfig:function(){this.callParent();this.scroll=!1!==this.config.scroll},b4MouseDown:function(a){a=a.getXY();this.autoOffset(a[0],a[1])},b4Drag:function(a){a=a.getXY();this.setDragElPos(a[0],a[1])},toString:function(){return"DD "+
this.id},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(a,b,c){a.setLocalXY(b,c)}});Ext.define("Ext.rtl.dd.DD",{override:"Ext.dd.DD",getLocalX:function(a){return Ext.rootInheritedState.rtl?a.rtlGetLocalX():a.getLocalX()},setLocalXY:function(a,b,c){Ext.rootInheritedState.rtl?a.rtlSetLocalXY(b,c):a.setLocalXY(b,c)}});
Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(a,b,c){a&&(this.init(a,b,c),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var a=this,b=document.body,c,d;!b||!b.firstChild?Ext.defer(function(){a.createFrame()},50):(c=this.getDragEl(),c||(c=document.createElement("div"),c.id=this.dragElId,c.setAttribute("role","presentation"),d=c.style,d.position="absolute",d.visibility="hidden",d.cursor="move",d.border="2px solid #aaa",d.zIndex=
999,b.insertBefore(c,b.firstChild)))},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=!1!==this.config.resizeFrame;this.centerFrame=this.config.centerFrame;this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(a,b){this.getEl();var c=this.getDragEl(),d=c.style;this._resizeProxy();this.centerFrame&&this.setDelta(Math.round(parseInt(d.width,10)/2),Math.round(parseInt(d.height,10)/2));this.setDragElPos(a,b);Ext.fly(c).show()},
_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(a){var b=a.getXY();a=b[0];b=b[1];this.autoOffset(a,b);this.setDragElPos(a,b)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(){Ext.fly(this.getDragEl()).hide()},endDrag:function(){var a=this.getEl(),b=this.getDragEl();b.style.visibility="";this.beforeMove();a.style.visibility="hidden";Ext.dd.DDM.moveToEl(a,b);b.style.visibility="hidden";
a.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}});
Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:!1,childEls:["ghost"],renderTpl:['\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'dd-drop-icon" role\x3d"presentation"\x3e\x3c/div\x3e\x3cdiv id\x3d"{id}-ghost" data-ref\x3d"ghost" class\x3d"'+Ext.baseCSSPrefix+'dd-drag-ghost" role\x3d"presentation"\x3e\x3c/div\x3e'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(a){a=a||{};Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),
cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||!1,renderTo:Ext.getDetachedBody()});this.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;this.dropStatus!=a&&(this.el.replaceCls(this.dropStatus,a),this.dropStatus=a)},reset:function(a){var b=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(b+this.dropAllowed,b+this.dropNotAllowed);
this.dropStatus=this.dropNotAllowed;a&&this.ghost.setHtml("")},update:function(a){"string"==typeof a?this.ghost.setHtml(a):(this.ghost.setHtml(""),a.style.margin="0",this.ghost.dom.appendChild(a));(a=this.ghost.dom.firstChild)&&Ext.fly(a).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(a){this.callParent();a&&this.reset(!0)},stop:function(){this.anim&&(this.anim.isAnimated&&this.anim.isAnimated())&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(a,
b,c){this.callback=b;this.scope=c;a&&!1!==this.animRepair?(this.el.addCls(this.repairCls),this.el.hideUnders(!0),this.anim=this.el.animate({duration:this.repairDuration||500,easing:"ease-out",to:{x:a[0],y:a[1]},stopAnimation:!0,callback:this.afterRepair,scope:this})):this.afterRepair()},afterRepair:function(){this.hide(!0);this.el.removeCls(this.repairCls);"function"==typeof this.callback&&this.callback.call(this.scope||this);delete this.callback;delete this.scope}});
Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(a,b){this.el=Ext.get(a);this.dragData||(this.dragData={});Ext.apply(this,b);this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair}));this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,
scroll:!0===this.scroll}]);this.dragging=!1},getDragData:function(){return this.dragData},onDragEnter:function(a,b){var c=Ext.dd.DragDropManager.getDDById(b),d;this.cachedTarget=c;!1!==this.beforeDragEnter(c,a,b)&&(c.isNotifyTarget?(d=c.notifyEnter(this,a,this.dragData),this.proxy.setStatus(d)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(c,a,b))},beforeDragEnter:function(){return!0},onDragOver:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b),
d;!1!==this.beforeDragOver(c,a,b)&&(c.isNotifyTarget&&(d=c.notifyOver(this,a,this.dragData),this.proxy.setStatus(d)),this.afterDragOver&&this.afterDragOver(c,a,b))},beforeDragOver:function(){return!0},onDragOut:function(a,b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);!1!==this.beforeDragOut(c,a,b)&&(c.isNotifyTarget&&c.notifyOut(this,a,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(c,a,b));this.cachedTarget=null},beforeDragOut:function(){return!0},onDragDrop:function(a,
b){var c=this.cachedTarget||Ext.dd.DragDropManager.getDDById(b);if(!1!==this.beforeDragDrop(c,a,b)){if(c.isNotifyTarget)if(!1!==c.notifyDrop(this,a,this.dragData))this.onValidDrop(c,a,b);else this.onInvalidDrop(c,a,b);else this.onValidDrop(c,a,b);this.afterDragDrop&&this.afterDragDrop(c,a,b)}delete this.cachedTarget},beforeDragDrop:function(){return!0},onValidDrop:function(a,b,c){this.hideProxy();this.afterValidDrop&&this.afterValidDrop(a,b,c)},getRepairXY:function(){return this.el.getXY()},onInvalidDrop:function(a,
b,c){b||(b=a,a=null,c=b.getTarget().id);!1!==this.beforeInvalidDrop(a,b,c)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,b,this.dragData),this.cacheTarget=null),this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this),this.afterInvalidDrop&&this.afterInvalidDrop(b,c))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor);this.dragging=!1},beforeInvalidDrop:function(){return!0},handleMouseDown:function(a){if(!this.dragging){var b=
this.getDragData(a);b&&!1!==this.onBeforeDrag(b,a)&&(this.dragData=b,this.proxy.stop(),this.callParent(arguments))}},onBeforeDrag:function(){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(!0);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=!1;this.dragging=!0;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,b){var c=this.el.dom.cloneNode(!0);c.id=Ext.id();this.proxy.update(c);
this.onStartDrag(a,b);return!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(!0);this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(){},autoOffset:function(){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});
Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.destroy(),delete this.proxy),this.panel.unghost(null,
this.moveOnDrag),delete this.ghost)},show:function(){var a;this.ghost||(a=this.panel.getSize(),this.panel.el.setVisibilityMode(Ext.Element.DISPLAY),this.ghost=this.panel.ghost(),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),this.proxy.setSize(a)))},repair:function(a,b,c){this.hide();Ext.callback(b,c||this)},moveProxy:function(a,b){this.proxy&&a.insertBefore(this.proxy.dom,b)}});
Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(a,b){this.panel=a;this.dragData={panel:a};this.panelProxy=new Ext.panel.Proxy(a,b);this.proxy=this.panelProxy.proxy;this.callParent([a.el,b]);this.setupEl(a)},setupEl:function(a){var b=a.header,c=a.body;b&&(this.setHandleElId(b.id),c=b.el);if(c)c.setStyle("cursor","move"),this.scroll=!1;else a.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(){this.panelProxy.show()},
b4MouseDown:function(a){a=a.getXY();this.autoOffset(a[0],a[1])},onInitDrag:function(a,b){this.onStartDrag(a,b);return!0},createFrame:Ext.emptyFn,getDragEl:function(){var a=this.panelProxy.ghost;if(a)return a.el.dom},endDrag:function(){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(a,b,c){!1!==this.beforeInvalidDrop(a,b,c)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,
b,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(b,c))}});
Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",
horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var a,b;this.callParent();a=this.getRenderTarget();b=this.getDockedItems();this.finishRenderItems(a,b)},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},noBorderClasses:[Ext.baseCSSPrefix+
"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+
"docked",handleItemBorders:function(){var a=this.owner,b,c,d=this.lastDockedItems,e=this.borders;c=a.dockedItems.generation;var g=this.noBorderClassesSides,h=this.borderWidthProps,j,k,l,m,n;b=this.collapsed;if(!(this.initializedBorders==c||a.border&&!a.manageBodyBorders)){this.initializedBorders=c;this.collapsed=!1;this.lastDockedItems=c=this.getLayoutItems();this.collapsed=b;b={top:[],right:[],bottom:[],left:[]};j=0;for(k=c.length;j<k;j++)l=c[j],m=l.dock,l.ignoreBorderManagement||(b[m].satisfied||
(b[m].push(l),b[m].satisfied=!0),!b.top.satisfied&&"bottom"!==m&&b.top.push(l),!b.right.satisfied&&"left"!==m&&b.right.push(l),!b.bottom.satisfied&&"top"!==m&&b.bottom.push(l),!b.left.satisfied&&"right"!==m&&b.left.push(l));if(d){j=0;for(k=d.length;j<k;j++)l=d[j],!l.isDestroyed&&(!l.ignoreBorderManagement&&!a.manageBodyBorders)&&l.removeCls(this.noBorderClasses)}if(e)for(n in e)a.manageBodyBorders&&e[n].satisfied&&a.setBodyStyle(h[n],"");for(n in b)if(k=b[n].length,a.manageBodyBorders)b[n].satisfied&&
a.setBodyStyle(h[n],"1px");else{for(j=0;j<k;j++)b[n][j].addCls(g[n]);!b[n].satisfied&&!a.bodyBorder||!1===a.bodyBorder?a.addBodyCls(g[n]):a.removeBodyCls(g[n])}this.borders=b}},beforeLayoutCycle:function(a){var b=this.owner,c=this.sizeModels.shrinkWrap,d=b.shrinkWrapDock,e,g;b.collapsed&&(b.collapsedVertical()?(g=!0,a.measureDimensions=1):(e=!0,a.measureDimensions=2));a.collapsedVert=g;a.collapsedHorz=e;g?a.heightModel=c:e&&(a.widthModel=c);d=!0===d?3:d||0;a.shrinkWrapDockHeight=d&1&&a.heightModel.shrinkWrap;
a.shrinkWrapDockWidth=d&2&&a.widthModel.shrinkWrap},beginLayout:function(a){var b=this.owner,c=this.getLayoutItems(),d=a.context,e=c.length,g=this.lastCollapsedState,h,j,k;this.callParent(arguments);j=b.getCollapsed();j!==g&&void 0!==g&&(this.owner.collapsed?(a.isCollapsingOrExpanding=1,b.addClsWithUI(b.collapsedCls)):(a.isCollapsingOrExpanding=2,b.removeClsWithUI(b.collapsedCls),a.lastCollapsedState=this.lastCollapsedState));this.lastCollapsedState=j;a.dockedItems=b=[];for(g=0;g<e;g++)h=c[g],h.rendered&&
(k=h.dock,j=d.getCmp(h),j.dockedAt={x:0,y:0},j.offsets=h=Ext.Element.parseBox(h.offsets||0),j.horizontal="top"==k||"bottom"==k,h.width=h.left+h.right,h.height=h.top+h.bottom,b.push(j));a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a){var b=a.dockedItems,c=b.length,d=this.owner,e=d.frameBody,g=this.lastHeightModel;this.callParent(arguments);this.owner.manageHeight?this.lastBodyDisplay&&(d.body.dom.style.display=this.lastBodyDisplay=""):("inline-block"!==this.lastBodyDisplay&&(d.body.dom.style.display=
this.lastBodyDisplay="inline-block"),g&&(g.shrinkWrap&&!a.heightModel.shrinkWrap)&&(d.body.dom.style.marginBottom=""));a.widthModel.auto&&(a.widthModel.shrinkWrap&&d.el.setWidth(null),d.body.setWidth(null),e&&e.setWidth(null));a.heightModel.auto&&(d.body.setHeight(null),e&&e.setHeight(null));a.collapsedVert?a.setContentHeight(0):a.collapsedHorz&&a.setContentWidth(0);for(d=0;d<c;d++)e=b[d].target,g=e.dock,"right"==g&&e.setLocalX(0)},calculate:function(a){var b=this.measureAutoDimensions(a,a.measureDimensions),
c=a.state,d=c.horzDone,e=c.vertDone,g=a.bodyContext,h,j;a.borderInfo||a.getBorderInfo();a.paddingInfo||a.getPaddingInfo();a.frameInfo||a.getFrameInfo();g.borderInfo||g.getBorderInfo();g.paddingInfo||g.getPaddingInfo();a.frameBorder||((g=a.framing)?(a.frameBorder=g.border,a.framePadding=g.padding):(a.frameBorder=a.borderInfo,a.framePadding=a.paddingInfo));g=!d&&this.createAxis(a,b.contentWidth,a.widthModel,this.horzAxisProps,a.collapsedHorz);b=!e&&this.createAxis(a,b.contentHeight,a.heightModel,this.vertAxisProps,
a.collapsedVert);h=0;for(j=a.dockedItems.length;j--;++h)g&&this.dockChild(a,g,j,h),b&&this.dockChild(a,b,j,h);g&&this.finishAxis(a,g)&&(c.horzDone=d=g);b&&this.finishAxis(a,b)&&(c.vertDone=e=b);d&&e&&this.finishConstraints(a,d,e)?this.finishPositions(a,d,e):this.done=!1},createAxis:function(a,b,c,d,e){var g=0,h=this.owner,j=h[d.maxSize],h=h[d.minSize]||0,k=d.dockBegin,l=d.dockEnd,m=d.pos,n=d.size,p=null!=j,q;c.shrinkWrap?e?b=0:(q=a.bodyContext,b+=q.borderInfo[n]):(b=a.frameBorder,q=a.framePadding,
g=b[k]+q[k],b=a.getProp(n)-(b[l]+q[l]));return{shrinkWrap:c.shrinkWrap,sizeModel:c,initialBegin:g,begin:g,end:b,collapsed:e,horizontal:d.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:b-g,maxChildSize:0,hasMinMaxConstraints:(h||p)&&c.shrinkWrap,minSize:h,maxSize:p?j:1E9,bodyPosProp:this.owner.manageHeight?m:d.marginBegin,dockBegin:k,dockEnd:l,posProp:m,sizeProp:n,setSize:d.setSize,shrinkWrapDock:a[d.shrinkWrapDock],sizeModelName:d.sizeModel,dockedPixelsEnd:0}},dockChild:function(a,
b,c,d){c=a.dockedItems[b.shrinkWrap?c:d];d=c.target;var e=d.dock,g=b.sizeProp;d.ignoreParentFrame&&a.isCollapsingOrExpanding&&c.clearMarginCache();c.marginInfo||c.getMarginInfo();e==b.dockBegin?a=b.shrinkWrap?this.dockOutwardBegin(a,c,d,b):this.dockInwardBegin(a,c,d,b):e==b.dockEnd?a=b.shrinkWrap?this.dockOutwardEnd(a,c,d,b):this.dockInwardEnd(a,c,d,b):b.shrinkWrapDock?(a=c.getProp(g)+c.marginInfo[g],b.maxChildSize=Math.max(b.maxChildSize,a),a=0):a=this.dockStretch(a,c,d,b);c.dockedAt[b.posProp]=
a},dockInwardBegin:function(a,b,c,d){var e=d.begin,g=d.sizeProp,h=c.ignoreParentFrame,j,k;h&&(d.ignoreFrameBegin=b,k=c.dock,j=a.frameBorder[k],e-=j+a.framePadding[k]);c.overlay||(a=b.getProp(g)+b.marginInfo[g],d.begin+=a,h&&(d.begin-=j));return e},dockInwardEnd:function(a,b,c,d){var e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e],e=d.end-e;c.overlay||(d.end=e);c.ignoreParentFrame&&(d.ignoreFrameEnd=b,b=a.frameBorder[c.dock],e+=b+a.framePadding[c.dock],d.end+=b);return e},dockOutwardBegin:function(a,b,
c,d){a=d.begin;var e=d.sizeProp;d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameBegin=b);c.overlay||(b=b.getProp(e)+b.marginInfo[e],a-=b,d.begin=a);return a},dockOutwardEnd:function(a,b,c,d){a=d.end;var e=d.sizeProp,e=b.getProp(e)+b.marginInfo[e];d.collapsed?d.ignoreFrameBegin=d.ignoreFrameEnd=b:c.ignoreParentFrame&&(d.ignoreFrameEnd=b);c.overlay||(d.end=a+e,d.dockedPixelsEnd+=e);return a},dockStretch:function(a,b,c,d){var e=c.dock,g=d.sizeProp,h="top"==e||"bottom"==
e,e=a.frameBorder,j=b.offsets,k=a.framePadding,l=h?"left":"top";a=d.begin+j[l];!1!==c.stretch&&(h=d.end-a-j[h?"right":"bottom"],c.ignoreParentFrame&&(a-=k[l]+e[l],h+=k[g]+e[g]),c=b.marginInfo,h-=c[g],b[d.setSize](h));return a},finishAxis:function(a,b){if(isNaN(b.maxChildSize))return!1;var c=b.begin,d=b.end-c,e=b.collapsed,g=b.setSize,h=b.dockBegin,j=b.dockEnd,k=a.framePadding,l=a.frameBorder,m=l[h],n=a.framing,p=n&&n[h],h=e?0:k[h],q=b.sizeProp,r=b.ignoreFrameBegin,s=b.ignoreFrameEnd,t=a.bodyContext,
u=Math.max(m+h-p,0),v,w;b.shrinkWrap?(v=b.initialSize,n?(n=-c+m+h,c=n-p-u):(c=-c,n=c+h),e||(d+=k[q]),r?(n-=m,c-=m,r.dockedAt[b.posProp]-=h):d+=m,e||(s?s.dockedAt[b.posProp]+=k[j]:d+=l[j]),b.size=d,!b.horizontal&&!this.owner.manageHeight&&(w=!1)):(n?(n=0,c=c-p-u):(n=-m,c=c-h-m),v=d);b.delta=n;t[g](v,w);t.setProp(b.bodyPosProp,c);return!isNaN(d)},beforeInvalidateShrinkWrapDock:function(a,b){var c=b.axis.sizeModelName;a[c].constrainedMin||(a[c]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(a,
b){var c=b.axis,d=b.layout;a[c.sizeModelName].calculated&&(d=d.dockStretch(b.ownerContext,a,a.target,c),a.setProp(c.posProp,c.delta+d))},finishConstraints:function(a,b,c){var d=this.sizeModels,e=b.shrinkWrap,g=c.shrinkWrap,h=this.owner,j,k,l,m,n,p,q,r,s,t;e&&(p=b.size,q=b.collapsed?0:b.minSize,r=b.maxSize,s=b.maxChildSize,t=Math.max(p,s),t>r?(n=d.constrainedMax,l=r):t<q?(n=d.constrainedMin,l=q):p<s?(n=d.constrainedDock,h.dockConstrainedWidth=l=s):l=p);g&&(p=c.size,q=c.collapsed?0:c.minSize,r=c.maxSize,
s=c.maxChildSize,t=Math.max(p,s+p-c.initialSize),t>r?(m=d.constrainedMax,k=r):t<q?(m=d.constrainedMin,k=q):p<s?(m=d.constrainedDock,h.dockConstrainedHeight=k=s):(!a.collapsedVert&&!h.manageHeight&&(j=!1,a.bodyContext.setProp("margin-bottom",c.dockedPixelsEnd)),k=p));if(n||m){if(n&&m&&n.constrainedMax&&m.constrainedByMin)return a.invalidate({widthModel:n}),!1;if(!a.widthModel.calculatedFromShrinkWrap&&!a.heightModel.calculatedFromShrinkWrap)return a.invalidate({widthModel:n,heightModel:m}),!1}else this.invalidateAxes(a,
b,c);e&&(a.setWidth(l),n&&(a.widthModel=n));g&&(a.setHeight(k,j),m&&(a.heightModel=m));return!0},invalidateAxes:function(a,b,c){var d=this.beforeInvalidateShrinkWrapDock,e=this.afterInvalidateShrinkWrapDock,g=b.end-b.begin,h=c.initialSize,j=b.shrinkWrapDock&&b.maxChildSize<=g,k=c.shrinkWrapDock&&c.maxChildSize<=h,l,m,n,p,q,r,s,t;if(j||k){k&&(c.begin=c.initialBegin,c.end=c.begin+c.initialSize);l=a.dockedItems;n=0;for(m=l.length;n<m;++n)p=l[n],r=p.horizontal,s=null,j&&r?(t=b.sizeProp,q=g,s=b):k&&!r&&
(t=c.sizeProp,q=h,s=c),s&&(q-=p.getMarginInfo()[t],q!==p.props[t]&&p.invalidate({before:d,after:e,axis:s,ownerContext:a,layout:this}))}},finishPositions:function(a,b,c){a=a.dockedItems;var d=a.length;b=b.delta;c=c.delta;var e,g;for(e=0;e<d;++e)g=a[e],g.setProp("x",b+g.dockedAt.x),g.setProp("y",c+g.dockedAt.y)},finishedLayout:function(a){var b=a.target;this.callParent(arguments);a.animatePolicy||(1===a.isCollapsingOrExpanding?b.afterCollapse(!1):2===a.isCollapsingOrExpanding&&b.afterExpand(!1))},getAnimatePolicy:function(a){var b,
c;1==a.isCollapsingOrExpanding?b=this.lastCollapsedState:2==a.isCollapsingOrExpanding&&(b=a.lastCollapsedState);if("left"==b||"right"==b)c=this.horizontalCollapsePolicy;else if("top"==b||"bottom"==b)c=this.verticalCollapsePolicy;return c},getDockedItems:function(a,b){var c=this,d="visual"===a,e=d?Ext.ComponentQuery.query("[rendered]",c.owner.dockedItems.items):c.owner.dockedItems.items,g=e&&e.length&&!1!==a,h,j,k,l;if(null==b)d=g&&!d?e.slice():e;else{d=[];k=0;for(l=e.length;k<l;++k)j=e[k].dock,j=
"top"==j||"left"==j,(b?j:!j)&&d.push(e[k]);g=g&&d.length}g&&(h="render"==(a=a||"render"),Ext.Array.sort(d,function(b,d){var e,g;if(h&&(e=c.owner.dockOrder[b.dock])!==(g=c.owner.dockOrder[d.dock])&&!(e+g))return e-g;e=c.getItemWeight(b,a);g=c.getItemWeight(d,a);return void 0!==e&&void 0!==g?e-g:0}));return d||[]},getItemWeight:function(a,b){var c=a.weight||this.owner.defaultDockWeights[a.dock];return c[b]||c},getLayoutItems:function(){var a,b,c,d,e;if(this.owner.collapsed)e=this.owner.getCollapsedDockedItems();
else{a=this.getDockedItems("visual");b=a.length;e=[];for(d=0;d<b;d++)c=a[d],c.hidden||e.push(c)}return e},measureContentWidth:function(a){a=a.bodyContext;return a.el.getWidth()-a.getBorderInfo().width},measureContentHeight:function(a){a=a.bodyContext;return a.el.getHeight()-a.getBorderInfo().height},redoLayout:function(a){var b=this.owner;1==a.isCollapsingOrExpanding?(b.reExpander&&b.reExpander.el.show(),b.addClsWithUI(b.collapsedCls),a.redo(!0)):2==a.isCollapsingOrExpanding&&(b.removeClsWithUI(b.collapsedCls),
a.bodyContext.redo())},renderChildren:function(){var a=this.getDockedItems(),b=this.getRenderTarget();this.handleItemBorders();this.renderItems(a,b)},renderItems:function(a,b){var c=a.length,d=0,e=0,g=0,h=this.getRenderTarget().dom.childNodes,j=h.length,k,l,m,n;for(k=0;k<j;k++){m=h[k];if(1===m.nodeType&&Ext.fly(m).hasCls(Ext.baseCSSPrefix+"resizable-handle"))break;for(l=0;l<c&&!(n=a[l],n.rendered&&n.el.dom===m);l++);l===c&&g++}for(;d<c;d++,e++){n=a[d];if(d===e&&("right"===n.dock||"bottom"===n.dock))e+=
g;n&&!n.rendered?this.renderItem(n,b,e):this.isValidParent(n,b,e)||this.moveItem(n,b,e)}},undoLayout:function(a){var b=this.owner;1==a.isCollapsingOrExpanding?(b.reExpander&&b.reExpander.el.hide(),b.removeClsWithUI(b.collapsedCls),a.undo(!0)):2==a.isCollapsingOrExpanding&&(b.addClsWithUI(b.collapsedCls),a.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,
readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(a,b){var c=this.sizePolicy,d=this.owner.shrinkWrapDock,e;if(!1===a.stretch)return c.nostretch;e=a.dock;e="left"==e||"right"==e;d=!0===d?3:d||0;e?(c=c.vert,d&=1):(c=c.horz,d&=2);return d&&(b||(b=this.owner.getSizeModel()),b[e?"height":"width"].shrinkWrap)?c.shrinkWrap:c.stretch},
configureItem:function(a,b){this.callParent(arguments);a.addCls(this._itemCls);a.ignoreBorderManagement||a.addClsWithUI(this.getDockCls(a.dock))},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){var b;this.callParent(arguments);a.removeCls(this._itemCls);a.ignoreBorderManagement||a.removeClsWithUI(this.getDockCls(a.dock));b=a.el.dom;!a.destroying&&b&&b.parentNode.removeChild(b);this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var a=this.borderCollapseMap,
b=this.owner,c=b.baseCls,b=b.ui,d,a=a[c]||(a[c]={});d=a[b];d||(c+="-"+b+"-outer-border-",a[b]=d=[0,c+"l",c+"b",c+"bl",c+"r",c+"rl",c+"rb",c+"rbl",c+"t",c+"tl",c+"tb",c+"tbl",c+"tr",c+"trl",c+"trb",c+"trbl"]);return d}});
Ext.define("Ext.util.Memento",function(){function a(a,b,c,d){a[d?d+c:c]=b[c]}function b(a,b,c){delete a[c]}function c(a,b,c,d){d=d?d+c:c;var k=a[d];if(k||a.hasOwnProperty(d))Ext.isDefined(k)?b[c]=k:delete b[c]}function d(a,b,c,d,k){if(b)if(Ext.isArray(d)){var l,m=d.length;for(l=0;l<m;l++)a(b,c,d[l],k)}else a(b,c,d,k)}return{data:null,target:null,constructor:function(a,b){this.data={};a&&(this.target=a,b&&this.capture(b))},capture:function(b,c,h){d(a,this.data||(this.data={}),c||this.target,b,h)},
remove:function(a){d(b,this.data,null,a)},restore:function(a,b,h,j){d(c,this.data,h||this.target,a,j);!1!==b&&this.remove(a)},restoreAll:function(a,b){var c=b||this.target,d=this.data,k;a=!1!==a;for(k in d)if(d.hasOwnProperty(k)){var l=c,m=k,n=d[k];Ext.isDefined(n)?l[m]=n:delete l[m];a&&delete d[k]}}}}());
Ext.define("Ext.container.DockingContainer",{isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(a,b){var c=0,d,e,g;a=this.prepareItems(a);for(g=a.length;c<g;c++)if(e=a[c],e.dock=e.dock||"top",("left"===e.dock||"right"===e.dock)&&this.horizontalDocks++,void 0!==b?(c+=b,this.dockedItems.insert(c,e)):this.dockedItems.add(e),d=!!e.instancedCmp,
delete e.instancedCmp,e.onAdded(this,c,d),delete e.initOwnerCt,this.hasListeners.dockedadd&&this.fireEvent("dockedadd",this,e,c),this.onDockedAdd!==Ext.emptyFn)this.onDockedAdd(e);this.rendered&&!this.suspendLayout&&this.updateLayout();return a},destroyDockedItems:function(){var a=this.dockedItems,b;if(a)for(;b=a.first();)this.removeDocked(b,!0)},doRenderDockedItems:function(a,b,c){var d=b.$comp.componentLayout;d.getDockedItems&&!b.$skipDockedItems&&(d=(b=d.getDockedItems("render",!c))&&d.getItemsRenderTree(b))&&
Ext.DomHelper.generateMarkup(d,a)},getDockedComponent:function(a){Ext.isObject(a)&&(a=a.getItemId());return this.dockedItems.get(a)},getDockedItems:function(a,b){var c=this.getComponentLayout().getDockedItems("render",b);a&&c.length&&(c=Ext.ComponentQuery.query(a,c));return c},getDockingRefItems:function(a,b){var c=a&&"*,* *",d=this.getDockedItems(c,!0);d.push.apply(d,b);c=this.getDockedItems(c,!1);d.push.apply(d,c);return d},initDockingItems:function(){var a=this.dockedItems;if(!a||!a.isMixedCollection)this.dockedItems=
new Ext.util.AbstractMixedCollection(!1,this.getComponentId),a&&this.addDocked(a)},insertDocked:function(a,b){this.addDocked(b,a)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(a,b){var c,d;b=!0===b||!1!==b&&this.autoDestroy;if(!this.dockedItems.contains(a))return a;("left"===a.dock||"right"===a.dock)&&this.horizontalDocks--;if(d=(c=this.componentLayout)&&this.rendered)c.onRemove(a);this.dockedItems.remove(a);a.onRemoved(a.destroying||b);this.onDockedRemove(a);b?a.destroy():
d&&c.afterRemove(a);this.hasListeners.dockedremove&&this.fireEvent("dockedremove",this,a);!this.destroying&&!this.suspendLayout&&this.updateLayout();return a},moveDocked:function(a,b){this.rendered&&Ext.suspendLayouts();this.removeDocked(a,!1);a.dock=b;this.addDocked(a);this.rendered&&(a.frame&&(Ext.getDetachedBody().appendChild(a.el),a.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});
Ext.define("Ext.panel.Panel",{extend:Ext.container.Container,alias:"widget.panel",alternateClassName:"Ext.Panel",mixins:{docking:Ext.container.DockingContainer},childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" class\x3d"{baseCls}-body\x3ctpl if\x3d"bodyCls"\x3e {bodyCls}\x3c/tpl\x3e',' {baseCls}-body-{ui}\x3ctpl if\x3d"uiCls"\x3e','\x3ctpl for\x3d"uiCls"\x3e {parent.baseCls}-body-{parent.ui}-{.}\x3c/tpl\x3e','\x3c/tpl\x3e{childElCls}"',
'\x3ctpl if\x3d"bodyRole"\x3e role\x3d"{bodyRole}"\x3ctpl else\x3e role\x3d"presentation"\x3c/tpl\x3e','\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e',"{%this.renderContainer(out,values);%}","\x3c/div\x3e","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,
border:!0,closable:!1,closeAction:"destroy",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",
emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).addCls(a);return this},addTool:function(a){Ext.isArray(a)||(a=[a]);var b=this.header,c=a.length,d=this.tools,e,g;if(!b||!b.isHeader)b=null,d||(this.tools=d=[]);for(e=0;e<c;e++)g=a[e],g.toolOwner=this,b?b.addTool(g):d.push(g);this.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(a){var b=this.collapsible,c=this.collapseTool;(this.collapsible=a)&&!b?(this.updateCollapseTool(),
(c=this.collapseTool)&&c.show()):!a&&b&&c&&c.hide()},addUIClsToElement:function(a){var b=this.callParent(arguments);this.addBodyCls([Ext.baseCSSPrefix+a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},afterCollapse:function(a){this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&this.removeCls(Ext.baseCSSPrefix+"animating-size");this.setHiddenDocked();this.fireEvent("collapse",this)},afterExpand:function(a){this.isCollapsingOrExpanding=0;this.updateCollapseTool();a&&
this.removeCls(Ext.baseCSSPrefix+"animating-size");this.fireEvent("expand",this);this.fireHierarchyEvent("expand")},beforeDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd);this.destroyDockedItems();this.callParent()},beforeRender:function(){var a;this.callParent();this.initTools();this.preventHeader||!1===this.header||this.updateHeader();this.collapsed&&(this.isPlaceHolderCollapse()?this.hidden||(this.setHiddenState(!0),this.preventCollapseFire=!0,this.placeholderCollapse(),
delete this.preventCollapseFire,a=this.collapsed,this.collapsed=!1):(this.beginCollapse(),this.addClsWithUI(this.collapsedCls)));a&&(this.collapsed=a)},getMemento:function(a){if(a&&"string"==typeof a)return a+="Memento",this[a]||(this[a]=new Ext.util.Memento(this))},beginCollapse:function(){var a=this.lastBox,b=this.rendered,c=this.getMemento("collapse"),d=this.getSizeModel(),e=this.header;c.capture(["height","minHeight","width","minWidth"]);a&&c.capture(this.restoreDimension(),a,"last.");this.collapsedVertical()?
(d.width.shrinkWrap&&(this.width=b?this.getWidth():this.width||this.minWidth||100),delete this.height,this.minHeight=0):this.collapsedHorizontal()&&(d.height.shrinkWrap&&(this.height=b?this.getHeight():this.height||this.minHeight||100),delete this.width,this.minWidth=0);this.ownerCt&&this.ownerCt.getLayout().beginCollapse(this);!this.isPlaceHolderCollapse()&&!1!==e&&(e===(a=this.getReExpander())?(e.collapseImmune=!0,e.getInherited().collapseImmune=!0,e.addClsWithUI(this.getHeaderCollapsedClasses(e)),
e.rendered&&e.updateFrame()):a.el&&(a.el.show(),a.hidden=!1));this.resizer&&this.resizer.disable()},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var a=this.lastBox,b=this.getMemento("collapse"),c=this.restoreDimension(),d=this.header;b&&(b.restore(["minHeight","minWidth",c]),a&&b.restore(c,!0,a,"last."));this.ownerCt&&this.ownerCt.getLayout().beginExpand(this);!this.isPlaceHolderCollapse()&&!1!==d&&(d===(a=this.getReExpander())?(delete d.collapseImmune,
delete d.getInherited().collapseImmune,d.removeClsWithUI(this.getHeaderCollapsedClasses(d)),d.rendered&&(d.expanding=!0,d.updateFrame(),delete d.expanding)):(a.hidden=!0,a.el.hide()));this.resizer&&this.resizer.enable()},bridgeToolbars:function(){function a(a,c,d){Ext.isArray(a)?a={xtype:"toolbar",items:a}:a.xtype||(a.xtype="toolbar");a.dock=c;if("left"==c||"right"==c)a.vertical=!0;d&&(a.layout=Ext.applyIf(a.layout||{},{pack:{left:"start",center:"center"}[b.buttonAlign]||"end"}));return a}var b=this,
c=[],d=b.minButtonWidth,e,g;b.tbar&&(c.push(a(b.tbar,"top")),b.tbar=null);b.bbar&&(c.push(a(b.bbar,"bottom")),b.bbar=null);b.buttons&&(b.fbar=b.buttons,b.buttons=null);b.fbar&&(e=a(b.fbar,"bottom",!0),e.ui="footer",d&&(g=e.defaults,e.defaults=function(a){var b=g||{},c=!a.xtype||a.isButton;if(!c&&(a=Ext.ClassManager.getByAlias("widget."+a.xtype)))c=a.prototype.isButton;c&&!("minWidth"in b)&&(b=Ext.apply({minWidth:d},b));return b}),c.push(e),b.fbar=null);b.lbar&&(c.push(a(b.lbar,"left")),b.lbar=null);
b.rbar&&(c.push(a(b.rbar,"right")),b.rbar=null);b.dockedItems?b.dockedItems.isMixedCollection?b.addDocked(c):(Ext.isArray(b.dockedItems)||(b.dockedItems=[b.dockedItems]),b.dockedItems=b.dockedItems.concat(c)):b.dockedItems=c},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},collapse:function(a,b){var c=a||this.collapseDirection,d=this.ownerCt,e=this.ownerLayout,g=this.rendered;if(this.isCollapsingOrExpanding)return this;2>arguments.length&&(b=this.animCollapse);if(this.collapsed||
!1===this.fireEvent("beforecollapse",this,a,b)||e&&e.onBeforeComponentCollapse&&!1===e.onBeforeComponentCollapse(this))return this;if(g&&d&&this.isPlaceHolderCollapse())return this.placeholderCollapse(a,b);this.collapsed=c;g&&this.beginCollapse();this.getInherited().collapsed=!0;this.fireHierarchyEvent("collapse");g&&this.doCollapseExpand(1,b);return this},collapsedHorizontal:function(){var a=this.getCollapsed();return"left"===a||"right"===a},collapsedVertical:function(){var a=this.getCollapsed();
return"top"===a||"bottom"===a},convertCollapseDir:function(a){return a.substr(0,1)},createGhost:function(a){var b=this,c=b.header,d=b.frame&&!b.alwaysFramed;return{xtype:"panel",hidden:!1,header:c?{titleAlign:c.getTitleAlign()}:null,ui:d?b.ui.replace(/-framed$/,""):b.ui,id:b.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,floating:{shadow:!1},frame:d,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.getHeaderPosition(),titleRotation:b.getTitleRotation(),
baseCls:b.baseCls,getRefOwner:function(){return b.getRefOwner()},cls:b.baseCls+"-ghost "+(a||"")}},createReExpander:function(a,b){var c="left"===a,d="right"===a,e=c||d,g=this.ownerCt,g=Ext.apply({hideMode:"offsets",title:this.getTitle(),titleAlign:this.getTitleAlign(),vertical:e,textCls:this.headerTextCls,icon:this.getIcon(),iconCls:this.getIconCls(),iconAlign:this.getIconAlign(),glyph:this.getGlyph(),baseCls:this.self.prototype.baseCls+"-header",ui:this.ui,frame:this.frame&&this.frameHeader,ignoreParentFrame:this.frame||
this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,indicateDrag:this.draggable,collapseImmune:!0,headerRole:this.headerRole,ownerCt:g&&"placeholder"===this.collapseMode?g:this,ownerLayout:this.componentLayout,margin:this.margin},b);"mini"===this.collapseMode&&(e?g.width=1:g.height=1);if(!this.hideCollapseTool){if(c||d&&this.isPlaceHolderCollapse())g.titlePosition=1;g.tools=[{xtype:"tool",type:"expand-"+this.getOppositeDirection(a),uiCls:["top"],handler:this.toggleCollapse,
scope:this}]}g=new Ext.panel.Header(g);g.addClsWithUI(this.getHeaderCollapsedClasses(g));return g},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(a,b){var c=this.animCollapse,d=this.ownerLayout;this.animCollapse=b;this.isCollapsingOrExpanding=a;b&&this.addCls(Ext.baseCSSPrefix+"animating-size");if(d&&!b)d.onContentChange(this);else this.updateLayout({isRoot:!0});this.animCollapse=c;return this},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},
expand:function(a){var b=this.ownerLayout,c=this.rendered;if(this.isCollapsingOrExpanding)return this;arguments.length||(a=this.animCollapse);if(!this.collapsed&&!this.floatedFromCollapse||!1===this.fireEvent("beforeexpand",this,a)||b&&b.onBeforeComponentExpand&&!1===b.onBeforeComponentExpand(this))return this;delete this.getInherited().collapsed;if(c&&this.isPlaceHolderCollapse())return this.placeholderExpand(a);this.restoreHiddenDocked();c&&this.beginExpand();this.collapsed=!1;this.rendered&&this.doCollapseExpand(2,
a);return this},findReExpander:function(a){var b=Ext.Component,c=this.dockedItems.items,d=c.length;if("mini"!==this.collapseMode)switch(a){case b.DIRECTION_TOP:case b.DIRECTION_BOTTOM:for(b=0;b<d;b++)if(a=c[b],!a.hidden&&a.isHeader&&(!a.dock||"top"===a.dock||"bottom"===a.dock))return a;break;case b.DIRECTION_LEFT:case b.DIRECTION_RIGHT:for(b=0;b<d;b++)if(a=c[b],!a.hidden&&a.isHeader&&("left"===a.dock||"right"===a.dock))return a;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";
}},floatCollapsedPanel:function(){var a=this,b=a.placeholder,c=b.getSize(),d,e=Ext.baseCSSPrefix+"border-region-slide-in",g=a.collapsed,h=a.ownerCt||a,j;if(!a.isSliding)if(a.el.hasCls(e))a.slideOutFloatedPanel();else{a.isSliding=!0;b.el.hide();b.hidden=!0;a.el.show();a.setHiddenState(!1);a.collapsed=!1;h.updateLayout();d=a.getBox(!1,!0);b.el.show();b.hidden=!1;a.el.hide();a.setHiddenState(!0);a.collapsed=g;h.updateLayout();a.slideOutTask=a.slideOutTask||new Ext.util.DelayedTask(a.slideOutFloatedPanel,
a);Ext.supports.Touch&&(Ext.on("mousedown",j=function(b){b.within(a.el)||(Ext.un("mousedown",j),a.slideOutFloatedPanel())}),a.placeholderListener||(a.placeholderListener=b.on({resize:a.onPlaceholderResize,scope:a,destroyable:!0})));b.el.on("mouseleave",a.onMouseLeaveFloated,a);a.el.on("mouseleave",a.onMouseLeaveFloated,a);b.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.on("mouseenter",a.onMouseEnterFloated,a);a.el.addCls(e);a.floated=g;a.collapseTool&&a.collapseTool.el.hide();switch(a.collapsed){case "top":a.setLocalXY(d.x,
d.y+c.height-1);break;case "right":a.setLocalXY(d.x-c.width+1,d.y);break;case "bottom":a.setLocalXY(d.x,d.y-c.height+1);break;case "left":a.setLocalXY(d.x+c.width-1,d.y)}b=a.convertCollapseDir(a.collapsed);a.floatedFromCollapse=a.collapsed;a.collapsed=!1;a.setHiddenState(!1);a.el.slideIn(b,{preserveScroll:!0,duration:Ext.Number.from(a.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){a.isSliding=!1;a.fireEvent("float",a)}}})}},onPlaceholderResize:function(a,b,c){a=this.getBox(!1,
!0);var d=this.placeholder.getBox(!1,!0);switch(this.floated){case "top":this.width=b;this.setLocalY(d.y+d.height);break;case "right":this.height=c;this.setLocalX(d.x-a.width);break;case "bottom":this.width=b;this.setLocalY(d.y-a.height);break;case "left":this.height=c,this.setLocalX(d.x+d.width)}this.updateLayout({isRoot:!0})},getAnimationProps:function(){var a=this.animCollapse,b;b=this.callParent();"number"===typeof a&&(b.duration=a);return b},getCollapsed:function(){return!0===this.collapsed?
this.collapseDirection:this.collapsed},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"==this.collapseMode?this.emptyArray:[this.getReExpander()]},getComponent:function(a){var b=this.callParent(arguments);void 0===b&&!Ext.isNumber(a)&&(b=this.getDockedComponent(a));return b},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(a){var b=this.collapsedCls,c;c=[b,b+"-"+a.getDockName()];this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&
c.push(b+"-border-"+a.getDockName());return c},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getPlaceholder:function(a){a=a||this.collapseDirection;var b=null,c=this.placeholder,d=
this.floatable,e=this.titleCollapse;if(!c){if(d||this.collapsible&&e)b={click:{fn:!e&&d?this.floatCollapsedPanel:this.toggleCollapse,element:"el",scope:this}};this.placeholder=c=Ext.widget(this.createReExpander(a,{id:this.id+"-placeholder",listeners:b}))}c.placeholderFor||(c.isComponent||(this.placeholder=c=this.lookupComponent(c)),Ext.applyIf(c,{margin:this.margin,placeholderFor:this,synthetic:!0}),c.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+a+
"-placeholder",this.collapsedCls]));return c},getProtoBody:function(){var a=this.protoBody;a||(this.protoBody=a=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0}));return a},getReExpander:function(a){a=a||this.collapseDirection;var b=this.reExpander||this.findReExpander(a);this.expandDirection=this.getOppositeDirection(a);b||(this.reExpander=b=this.createReExpander(a,{dock:a,cls:Ext.baseCSSPrefix+"docked "+this.baseCls+"-"+this.ui+
"-collapsed",isCollapsedExpander:!0}),this.dockedItems.insert(0,b));return b},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},getState:function(){var a=this.callParent()||{},b=this.collapsed,c=this.floated;c&&(this.collapsed=c);a=this.addPropertyToState(a,"collapsed");c&&(this.collapsed=b);this.getCollapsed()&&(b=this.getMemento("collapse").data,a=this.addPropertyToState(a,"collapsed",b),this.collapsedVertical()?(delete a.height,b&&(a=this.addPropertyToState(a,
"height",b.height))):(delete a.width,b&&(a=this.addPropertyToState(a,"width",b.width))));return a},applyState:function(a){var b={},c;if(a){if(c=a.collapsed)b=this.getMemento("collapse"),Ext.Object.merge(b.data,c),a.collapsed=!0;this.callParent(arguments)}},ghost:function(a){var b=this.ghostPanel,c=this.getBox(),d=this.header,e,g;b?b.el.show():this.ghostPanel=b=Ext.widget(this.createGhost(a));b.setHiddenState(!1);b.floatParent=this.floatParent;b.toFront();if(d&&!this.preventHeader){a=b.header;a.suspendLayouts();
e=a.query("tool");for(g=e.length;g--;)a.remove(e[g]);a.setTitlePosition(0);b.addTool(this.ghostTools());b.setTitle(this.getTitle());a.setTitlePosition(d.titlePosition);(d=this.getIconCls())?b.setIconCls(d):(d=this.getIcon())?b.setIcon(d):(d=this.getGlyph())&&b.setGlyph(d);a.addCls(Ext.baseCSSPrefix+"header-ghost");a.resumeLayouts()}b.setPagePosition(c.x,c.y);b.setSize(c.width,c.height);this.el.hide();return b},ghostTools:function(){var a=[],b=this.header,b=b?b.query("tool[hidden\x3dfalse]"):[],c,
d,e;if(b.length){c=0;for(d=b.length;c<d;c++)e=b[c],a.push({type:e.type})}else a=[{type:"placeholder"}];return a},initBodyBorder:function(){this.frame&&this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=1),this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder)))},initBodyStyles:function(){var a=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?a.setStyle("padding",0):a.setStyle("padding",this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding)));
this.initBodyBorder()},initBorderProps:function(){this.frame&&(this.border&&void 0===this.bodyBorder)&&(this.bodyBorder=!1);if(this.frame&&this.border&&(!1===this.bodyBorder||0===this.bodyBorder))this.manageBodyBorders=!0},initComponent:function(){this.collapsible&&this.addStateEvents(["expand","collapse"]);this.unstyled&&this.setUI("plain");this.frame&&this.setUI(this.ui+"-framed");this.bridgeToolbars();this.initBorderProps();this.callParent();this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||
Ext.Component.DIRECTION_TOP;this.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this.callParent();this.initBodyStyles();this.protoBody.writeTo(a);delete this.protoBody;return a},calculateConstrainedPosition:function(a,b,c,d){var e;this.constrainHeader&&(d=d?this.header.vertical?[this.header.lastBox.width,d[1]]:[d[0],this.header.lastBox.height]:[this.header.lastBox.width,this.header.lastBox.height],e=this.floatParent,
a=a||this.constrainTo||(e?e.getTargetEl():null)||this.container||this.el.parent());return this.callParent([a,b,c,d])},initTools:function(){var a=this.tools,b,c;this.tools=[];for(b=a&&a.length;b;)--b,this.tools[b]=c=a[b],c.toolOwner=this;if(this.collapsible&&!this.hideCollapseTool&&!(!1===this.header||this.preventHeader))this.updateCollapseTool(),this.collapseFirst&&this.tools.unshift(this.collapseTool);this.addTools();this.pinnable&&this.initPinnable();this.closable&&(this.addClsWithUI("closable"),
this.addTool({xtype:"tool",type:"close",scope:this,handler:this.close}));this.collapseTool&&!this.collapseFirst&&this.addTool(this.collapseTool)},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},isPlaceHolderCollapse:function(){return"placeholder"==this.collapseMode},isVisible:function(a){return this.collapsed&&this.placeholder?this.placeholder.isVisible(a):this.callParent(arguments)},onBoxReady:function(){this.callParent();this.collapsed&&this.setHiddenDocked()},onHide:function(){var a=
this.dd;this.floatedFromCollapse&&this.slideOutFloatedPanel(!0);this.draggable&&a&&a.endDrag();this.collapsed&&this.placeholder?this.placeholder.hide():this.callParent(arguments)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onRemoved:function(a){this.placeholder&&!a&&this.ownerCt.remove(this.placeholder,!1);this.callParent(arguments)},onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.setHiddenState(!0),
this.placeholderCollapse()):this.callParent(arguments)},placeholderCollapse:function(a,b){var c=this,d=c.ownerCt,e=a||c.collapseDirection,g=Ext.baseCSSPrefix+"border-region-slide-in",h=c.getPlaceholder(e),j;c.isCollapsingOrExpanding=1;c.setHiddenState(!0);c.collapsed=e;h.rendered?(h.el.dom.parentNode!==c.el.dom.parentNode&&c.el.dom.parentNode.insertBefore(h.el.dom,c.el.dom),h.hidden=!1,h.setHiddenState(!1),h.el.show(),d.updateLayout()):d.insert(d.items.indexOf(c),h);c.rendered?(c.el.setVisibilityMode(c.placeholderCollapseHideMode),
b?(c.el.addCls(g),h.el.hide(),j=c.convertCollapseDir(e),c.el.slideOut(j,{preserveScroll:!0,duration:Ext.Number.from(b,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){c.el.removeCls(g);h.el.show().setStyle("display","none").slideIn(j,{easing:"linear",duration:100,listeners:{afteranimate:function(){h.focus();h.setHiddenState(!1);c.isCollapsingOrExpanding=0;c.fireEvent("collapse",c)}}})}}})):(c.el.hide(),h.setHiddenState(!1),c.isCollapsingOrExpanding=0,c.fireEvent("collapse",c))):
(c.isCollapsingOrExpanding=0,c.preventCollapseFire||c.fireEvent("collapse",c));return c},placeholderExpand:function(a){var b=this,c=b.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",e,g=b.ownerLayout?b.ownerLayout.centerRegion:null;Ext.Component.layoutSuspendCount&&(a=!1);b.floatedFromCollapse&&(e=b.getPosition(!0),b.slideOutFloatedPanelBegin(),b.slideOutFloatedPanelEnd(),b.floated=!1);a?(Ext.suspendLayouts(),b.placeholder.hide(),b.el.show(),b.collapsed=!1,b.setHiddenState(!1),g&&!e&&(g.hidden=
!0),Ext.resumeLayouts(!0),g.hidden=!1,b.el.addCls(d),b.isCollapsingOrExpanding=2,e?(c=b.getXY(),b.setLocalXY(e[0],e[1]),b.setXY([c[0],c[1]],{duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){b.el.removeCls(d);b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}})):(b.el.hide(),b.placeholder.el.show(),b.placeholder.hidden=!1,b.setHiddenState(!1),b.el.slideIn(b.convertCollapseDir(c),{preserveScroll:!0,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),
listeners:{afteranimate:function(){b.el.removeCls(d);b.placeholder.hide();b.updateLayout();b.isCollapsingOrExpanding=0;b.fireEvent("expand",b)}}}))):(b.floated=b.collapsed=!1,b.el.removeCls(d),Ext.suspendLayouts(),b.placeholder.hide(),b.show(),Ext.resumeLayouts(!0),b.fireEvent("expand",b));return b},removeBodyCls:function(a){(this.rendered?this.body:this.getProtoBody()).removeCls(a);return this},removeUIClsFromElement:function(a){var b=this.callParent(arguments);this.removeBodyCls([Ext.baseCSSPrefix+
a,this.baseCls+"-body-"+a,this.baseCls+"-body-"+this.ui+"-"+a]);return b},restoreDimension:function(){var a=this.collapseDirection;return"top"===a||"bottom"===a?"height":"width"},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},setBodyStyle:function(a,b){var c=this.rendered?this.body:this.getProtoBody();Ext.isFunction(a)&&(a=a());1==arguments.length?(Ext.isString(a)&&(a=Ext.Element.parseStyles(a)),c.setStyle(a)):c.setStyle(a,b);return this},setBorder:function(a,
b){if(!b){var c=this.header;a=a?!0===a?"1px":this.unitizeBox(a):0;c&&(c.isHeader?c.setBorder(a):c.border=a);this.rendered&&!1!==this.bodyBorder&&this.body.setStyle("border-width",a);this.updateLayout();this.border=a}},setCollapsed:function(a){this[a?"collapse":"expand"]()},setGlyph:function(a){var b=this.glyph,c=this.header,d=this.placeholder;a!==b&&(this.glyph=a,c?c.isHeader?c.setGlyph(a):c.glyph=a:this.rendered&&this.updateHeader(),d&&d.setGlyph&&d.setGlyph(a),this.fireEvent("glyphchange",this,
a,b))},setIcon:function(a){var b=this.icon,c=this.header,d=this.placeholder;a!==b&&(this.icon=a,c?c.isHeader?c.setIcon(a):c.icon=a:this.rendered&&this.updateHeader(),d&&d.setIcon&&d.setIcon(a),this.fireEvent("iconchange",this,a,b))},setIconCls:function(a){var b=this.iconCls,c=this.header,d=this.placeholder;a!==b&&(this.iconCls=a,c?c.isHeader?c.setIconCls(a):c.iconCls=a:this.rendered&&this.updateHeader(),d&&d.setIconCls&&d.setIconCls(a),this.fireEvent("iconclschange",this,a,b))},setTitle:function(a){var b=
this.title,c=this.header,d=this.reExpander,e=this.placeholder;a!==b&&(this.title=a,c?c.isHeader&&c.setTitle(a):this.rendered&&this.updateHeader(),d&&d.setTitle(a),e&&e.setTitle&&e.setTitle(a),this.fireEvent("titlechange",this,a,b))},setHiddenDocked:function(){var a=this.hiddenOnCollapse,b=this.getDockedItems(),c=b.length,d=0,e,g;!1!==this.header&&(g=this.getReExpander());for(a.add(this.body);d<c;d++)(e=b[d])&&(e!==g&&e.el)&&a.add(e.el);a.setStyle("visibility","hidden")},setUI:function(a){this.callParent(arguments);
this.header&&this.header.rendered&&this.header.setUI(a)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var a=this.collapseTool;!a&&this.collapsible&&(this.collapseDirection=this.collapseDirection||this.getHeaderPosition()||"top",this.collapseTool=this.expandTool=a=Ext.widget({xtype:"tool",handler:this.toggleCollapse,scope:this}));a&&(this.collapsed&&!this.isPlaceHolderCollapse()?a.setType("expand-"+this.getOppositeDirection(this.collapseDirection)):
a.setType("collapse-"+this.collapseDirection))},updateHeaderPosition:function(a){var b=this.header;b&&b.isHeader&&b.setDock(a)},updateIconAlign:function(a){var b=this.header;b&&b.isHeader&&b.setIconAlign(a)},updateTitleAlign:function(a){var b=this.header;b&&b.isHeader&&b.setTitleAlign(a)},updateTitleRotation:function(a){var b=this.header;b&&b.isHeader&&b.setTitleRotation(a)},unghost:function(a,b,c){var d=this.ghostPanel;d&&(!1!==a&&(this.el.show(),!1!==b&&(this.setPagePosition(d.getXY()),"offsets"===
this.hideMode&&delete this.el.hideModeStyles),c&&this.focus(!1,10)),d.el.hide(),d.setHiddenState(!0))},updateHeader:function(a){var b=this.header,c=this.getTitle(),d=this.tools,e=this.getIcon(),g=this.getGlyph(),h=this.getIconCls(),j=g||e||h,k=this.getHeaderPosition(),k="left"===k||"right"===k;Ext.isObject(b)||!1!==b&&(a||c||j||d&&d.length||this.collapsible&&!this.titleCollapse)?b&&b.isHeader?b.show():(b=this.header=Ext.widget(Ext.merge({xtype:"header",title:c,titleAlign:this.getTitleAlign(),vertical:k,
dock:this.getHeaderPosition()||"top",titleRotation:this.getTitleRotation(),textCls:this.headerTextCls,iconCls:h,iconAlign:this.getIconAlign(),icon:e,glyph:g,baseCls:this.baseCls+"-header",tools:d,ui:this.ui,id:this.id+"_header",overCls:this.headerOverCls,indicateDrag:this.draggable,frame:(this.frame||this.alwaysFramed)&&this.frameHeader,ignoreParentFrame:this.frame||this.overlapHeader,ignoreBorderManagement:this.frame||this.ignoreHeaderBorderManagement,headerRole:this.headerRole,ownerCt:this,synthetic:!0,
listeners:this.collapsible&&this.titleCollapse?{click:this.toggleCollapse,scope:this}:null},this.header)),this.addDocked(b,0)):b&&b.hide()},privates:{addUIToElement:function(){this.callParent(arguments);this.addBodyCls(this.baseCls+"-body-"+this.ui)},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getDefaultContentTarget:function(){return this.body},getFocusEl:function(){return this.el},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},initDraggable:function(){this.simpleDrag?
this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initResizable:function(){this.callParent(arguments);this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var a;this.header||this.updateHeader(!0);if(this.header){a=Ext.applyIf({el:this.el,delegate:"#"+this.header.id},this.draggable);if(this.constrain||this.constrainHeader)a.constrain=this.constrain,a.constrainDelegate=this.constrainHeader,a.constrainTo=this.constrainTo||this.container;
a=this.dd=new Ext.util.ComponentDragger(this,a);this.relayEvents(a,["dragstart","drag","dragend"]);this.maximized&&a.disable()}},removeUIFromElement:function(){this.callParent(arguments);this.removeBodyCls(this.baseCls+"-body-"+this.ui)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)},slideOutFloatedPanel:function(a){var b=this,c=b.el,d;!b.isSliding&&!b.isDestroyed&&(b.isSliding=!0,b.floated=!1,b.slideOutFloatedPanelBegin(),"string"==typeof b.collapsed&&(d=b.convertCollapseDir(b.collapsed)),
c.slideOut(d,{preserveScroll:!0,duration:Ext.Number.from(b.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:!0===a,listeners:{afteranimate:function(){b.slideOutFloatedPanelEnd();b.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var a=this.placeholder.el,b=this.el;this.collapsed=this.floatedFromCollapse;this.setHiddenState(!0);this.floatedFromCollapse=null;a.un("mouseleave",this.onMouseLeaveFloated,this);b.un("mouseleave",this.onMouseLeaveFloated,
this);a.un("mouseenter",this.onMouseEnterFloated,this);b.un("mouseenter",this.onMouseEnterFloated,this)},slideOutFloatedPanelEnd:function(a){this.collapseTool&&this.collapseTool.el.show();this.slideOutTask.cancel();this.isSliding=!1;a||this.fireEvent("unfloat",this)}}},function(){var a=this.prototype;a.animCollapse=Ext.enableFx;a.placeholderCollapseHideMode=Ext.Element.VISIBILITY});
Ext.define("Ext.rtl.panel.Panel",{override:"Ext.panel.Panel",rtlCollapseDirs:{top:"top",right:"left",bottom:"bottom",left:"right"},convertCollapseDir:function(a){!!Ext.rootInheritedState.rtl!==this.isLocalRtl()&&(a=this.rtlCollapseDirs[a]);return this.callParent(arguments)}});
Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:!0,shim:!0},focusOnToFront:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow,constrain:this.constrainPosition},this.self.prototype.floating);this.callParent(arguments);this.constrain=
this.constrain||this.constrainPosition},showAt:function(a){this.callParent(arguments);this.isVisible()&&(this.setPagePosition(a[0],a[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0))},privates:{initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(this)}},ghost:void 0,unghost:void 0});
Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5E3,trackMouse:!1,anchorToTarget:!0,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1E3,ariaRole:"tooltip",initComponent:function(){this.callParent(arguments);this.lastActive=new Date;this.setTarget(this.target);this.origAnchor=this.anchor},onRender:function(a,b){this.callParent(arguments);this.anchorCls=
Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.sticky&&this.el.dom.setAttribute("data-sticky",!0);this.anchorEl=this.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+this.anchorCls})},setTarget:function(a){a=Ext.get(a);var b;this.target&&(b=Ext.get(this.target),Ext.supports.Touch?this.mun(b,"tap",this.onTargetOver,this):this.mun(b,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}));(this.target=a)&&(Ext.supports.Touch?
this.mon(a,{tap:this.onTargetOver,scope:this}):this.mon(a,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this}));this.anchor&&(this.anchorTarget=this.target)},onMouseMove:function(a){var b;if(!this.target||this.target.contains(a.target))(b=this.delegate?a.getTarget(this.delegate):this.triggerElement=!0)?(this.targetXY=a.getXY(),b===this.triggerElement?!this.hidden&&this.trackMouse&&(a=this.getTargetXY(),this.constrainPosition&&(a=this.el.adjustForConstraints(a,
this.el.parent())),this.setPagePosition(a)):(this.hide(),this.lastActive=new Date(0),this.onTargetOver(a))):!this.closable&&this.isVisible()&&!1!==this.autoHide&&this.delayHide()},getTargetXY:function(){var a,b,c,d,e,g,h;this.delegate&&(this.anchorTarget=this.triggerElement);if(this.anchor){this.targetCounter++;b=this.getOffsets();c=this.anchorToTarget&&!this.trackMouse?this.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY;a=Ext.Element.getViewportWidth()-5;d=Ext.Element.getViewportHeight()-
5;e=document.documentElement;g=document.body;h=(e.scrollLeft||g.scrollLeft||0)+5;e=(e.scrollTop||g.scrollTop||0)+5;b=[c[0]+b[0],c[1]+b[1]];c=this.getSize();g=this.constrainPosition;this.anchorEl.removeCls(this.anchorCls);if(2>this.targetCounter&&g){if(b[0]<h)return this.anchorToTarget&&(this.defaultAlign="l-r",this.mouseOffset&&(this.mouseOffset[0]*=-1)),this.anchor="left",this.getTargetXY();if(b[0]+c.width>a)return this.anchorToTarget&&(this.defaultAlign="r-l",this.mouseOffset&&(this.mouseOffset[0]*=
-1)),this.anchor="right",this.getTargetXY();if(b[1]<e)return this.anchorToTarget&&(this.defaultAlign="t-b",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="top",this.getTargetXY();if(b[1]+c.height>d)return this.anchorToTarget&&(this.defaultAlign="b-t",this.mouseOffset&&(this.mouseOffset[1]*=-1)),this.anchor="bottom",this.getTargetXY()}this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+this.getAnchorPosition();this.anchorEl.addCls(this.anchorCls);this.targetCounter=0;return b}a=this.getMouseOffset();
return this.targetXY?[this.targetXY[0]+a[0],this.targetXY[1]+a[1]]:a},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];this.mouseOffset&&(a[0]+=this.mouseOffset[0],a[1]+=this.mouseOffset[1]);return a},fadeOut:function(){var a=this;a.el.fadeOut({duration:a.fadeOutDuration,callback:function(){a.hide();a.el.setOpacity("")}})},getAnchorPosition:function(){var a;this.anchor?this.tipAnchor=this.anchor.charAt(0):((a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/))||Ext.Error.raise('The AnchorTip.defaultAlign value "'+
this.defaultAlign+'" is invalid.'),this.tipAnchor=a[1].charAt(0));switch(this.tipAnchor){case "t":return"top";case "b":return"bottom";case "r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case "top":return"tl-bl";case "left":return"tl-tr";case "right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var a,b;a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse)switch(a){case "t":b=[0,9];break;case "b":b=[0,-13];break;case "r":b=[-13,
0];break;default:b=[9,0]}else switch(a){case "t":b=[-15-this.anchorOffset,30];break;case "b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case "r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset]}a=this.getMouseOffset();b[0]+=a[0];b[1]+=a[1];return b},onTargetOver:function(a){var b=this.delegate;if(!this.disabled&&!a.within(this.target.dom,!0)&&(b=b?a.getTarget(b):!0))this.triggerElement=b,this.triggerEvent=a,this.clearTimer("hide"),
this.targetXY=a.getXY(),this.delayShow()},delayShow:function(a){a=this.el&&(!1===a||!this.trackMouse)&&this.getTargetXY();this.hidden&&!this.showTimer?Ext.Date.getElapsed(this.lastActive)<this.quickShowInterval?this.show():this.showTimer=Ext.defer(this.showFromDelay,this.showDelay,this,[a]):!this.hidden&&!1!==this.autoHide&&this.show(a)},showFromDelay:function(a){this.fromDelayShow=!0;this.show(a);delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},
onTargetOut:function(a){var b=this.triggerElement,c=!0===b?this.target:b;!this.disabled&&(b&&!a.within(c,!0))&&(this.showTimer&&(this.clearTimer("show"),this.triggerElement=null),!1!==this.autoHide&&this.delayHide())},delayHide:function(){!this.hidden&&!this.hideTimer&&(this.hideTimer=Ext.defer(this[this.hideAction],this.hideDelay,this))},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date;this.anchorEl&&this.anchorEl.hide();this.callParent(arguments);delete this.triggerElement},show:function(a){this.callParent();
!1===this.hidden&&(this.anchor&&(this.anchor=this.origAnchor),this.calledFromShowAt||this.showAt(a||this.getTargetXY()),this.anchor?(this.syncAnchor(),this.anchorEl.show()):this.anchorEl.hide())},showAt:function(a){this.lastActive=new Date;this.clearTimers();this.calledFromShowAt=!0;this.isVisible()||this.callParent(arguments);this.isVisible()&&(this.setPagePosition(a[0],a[1]),(this.constrainPosition||this.constrain)&&this.doConstrain(),this.toFront(!0),this.el.sync(!0),this.dismissDelay&&!1!==this.autoHide&&
(this.dismissTimer=Ext.defer(this.hide,this.dismissDelay,this)),this.anchor?(this.syncAnchor(),this.anchorEl.isVisible()||this.anchorEl.show()):this.anchorEl.hide());delete this.calledFromShowAt},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case "t":a="b";b="tl";c=[20+this.anchorOffset,1];break;case "r":a="l";b="tr";c=[-1,12+this.anchorOffset];break;case "b":a="t";b="bl";c=[20+this.anchorOffset,-1];break;default:a="r",b="tl",c=[1,12+this.anchorOffset]}this.anchorEl.alignTo(this.el,
a+"-"+b,c);this.anchorEl.setStyle("z-index",parseInt(this.el.getZIndex(),10)||1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,b){this.callParent(arguments);this.anchor&&this.syncAnchor()},_timerNames:{},clearTimer:function(a){var b=this._timerNames;a=b[a]||(b[a]=a+"Timer");if(b=this[a])clearTimeout(b),this[a]=null},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){this.callParent();this.mon(Ext.getDoc(),"mousedown",
this.onDocMouseDown,this)},onHide:function(){this.callParent();this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){!this.closable&&!a.within(this.el.dom)&&(this.disable(),Ext.defer(this.doEnable,100,this))},doEnable:function(){this.isDestroyed||this.enable()},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;
delete this.triggerElement;this.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});
Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"\x26#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:!0,initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};this.callParent()},
setTagConfig:function(a){this.tagConfig=Ext.apply({},a);delete this.tagConfig.attr},register:function(a){for(var b=Ext.isArray(a)?a:arguments,c=0,d=b.length,e,g,h;c<d;c++)if(a=b[c],e=a.target)if(Ext.isArray(e)){g=0;for(h=e.length;g<h;g++)this.targets[Ext.id(e[g])]=a}else this.targets[Ext.id(e)]=a},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this.activeTarget;a=Ext.get(a).dom;this.isVisible()?b&&b.el===a&&this.hide():b&&b.el===a&&this.clearTimer("show")},getTipCfg:function(a,
b){var c=a.title,d,e;if(this.interceptTitles&&c&&Ext.isString(c))return a.qtip=c,a.removeAttribute("title"),b&&b.preventDefault(),{text:c};c=this.tagConfig;d=c.attr||(c.attr=c.namespace+c.attribute);if(a=Ext.fly(a).findParent(function(a){return e=a.getAttribute(d)}))return{target:a,text:e}},onTargetOver:function(a){this.doTargetOver(a.getTarget(this.delegate),null,a)},doTargetOver:function(a,b,c){var d,e,g,h,j;if(!this.disabled&&("string"===typeof a&&(a=Ext.getDom(a)),this.targetXY=b||(c?c.getXY():
Ext.fly(a).getXY()),a&&!(1!==a.nodeType||a==document.documentElement||a==document.body)))if(this.activeTarget&&(a===this.activeTarget.el||Ext.fly(this.activeTarget.el).contains(a)))this.targetTextEmpty()?(this.onShowVeto(),delete this.activeTarget):(this.clearTimer("hide"),this.show());else{if(a){b=this.targets;for(h in b)if(b.hasOwnProperty(h)&&(j=b[h],(j=Ext.fly(j.target))&&(j.dom===a||j.contains(a)))){g=j.dom;break}if(g){this.activeTarget=this.targets[g.id];this.activeTarget.el=a;if(this.anchor=
this.activeTarget.anchor)this.anchorTarget=a;if(a=parseInt(this.activeTarget.showDelay,10))e=this.showDelay,this.showDelay=a;this.delayShow();a&&(this.showDelay=e);(d=this.activeTarget.hideAction)?this.hideAction=d:delete this.hideAction;return}}g=Ext.fly(a,"_quicktip-target");d=this.tagConfig;h=d.namespace;if(c=this.getTipCfg(a,c)){c.target&&(a=c.target,g=Ext.fly(a,"_quicktip-target"));b=g.getAttribute(h+d.hide);this.activeTarget={el:a,text:c.text,width:+g.getAttribute(h+d.width)||null,autoHide:"user"!=
b&&"false"!==b,title:g.getAttribute(h+d.title),cls:g.getAttribute(h+d.cls),align:g.getAttribute(h+d.align),showDelay:parseInt(g.getAttribute(h+d.showDelay)||0,10),hideAction:g.getAttribute(h+d.hideAction),anchorTarget:g.getAttribute(h+d.anchorTarget)};this.initialConfig.hasOwnProperty("anchor")||(this.anchor=g.getAttribute(h+d.anchor));this.anchor&&!this.initialConfig.hasOwnProperty("anchorTarget")&&(this.anchorTarget=this.activeTarget.anchorTarget||a);if(a=parseInt(this.activeTarget.showDelay,10))e=
this.showDelay,this.showDelay=a;this.delayShow();a&&(this.showDelay=e)}}},onTargetOut:function(a){var b=this.activeTarget,c;if(!b||!a.within(this.activeTarget.el)||this.getTipCfg(a.getTarget(),a))if(this.clearTimer("show"),delete this.activeTarget,!1!==this.autoHide){if(a=b&&parseInt(b.hideDelay,10))c=this.hideDelay,this.hideDelay=a;this.delayHide();a&&(this.hideDelay=c)}},targetTextEmpty:function(){var a=this.activeTarget,b=this.tagConfig,c;if(a&&(c=a.el))if(b=c.getAttribute(b.namespace+b.attribute),
!b&&!this.targets[Ext.id(a.target)])return!0;return!1},show:function(){this.fromDelayShow&&this.targetTextEmpty()?(this.onShowVeto(),delete this.activeTarget):this.callParent(arguments)},showAt:function(a){var b=this.activeTarget,c=this.header;if(b){this.rendered||(this.render(Ext.getBody()),this.activeTarget=b);this.suspendLayouts();b.title?(this.setTitle(b.title),c.show()):c&&c.hide();this.update(b.text);this.autoHide=b.autoHide;c=b.dismissDelay;this.dismissDelay=Ext.isNumber(c)?c:this.dismissDelay;
b.mouseOffset&&(a[0]+=b.mouseOffset[0],a[1]+=b.mouseOffset[1]);if(c=this.lastCls)this.removeCls(c),delete this.lastCls;if(c=b.cls)this.addCls(c),this.lastCls=c;this.setWidth(b.width);this.anchor?this.constrainPosition=!1:b.align?(a=this.getAlignToXY(b.el,b.align),this.constrainPosition=!1):this.constrainPosition=!0;this.resumeLayouts(!0)}this.callParent([a])},hide:function(){delete this.activeTarget;this.callParent()}});
Ext.define("Ext.tip.QuickTipManager",{singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(a,b){if(!this.tip){if(!Ext.isReady)return Ext.onReady(function(){Ext.tip.QuickTipManager.init(a,b)}),!1;var c=Ext.apply({sticky:!0,disabled:this.disabled,id:"ext-quicktips-tip"},b),d=c.className,e=c.xtype;d?delete c.className:e&&(d="widget."+e,delete c.xtype);!1!==a&&(c.renderTo=document.body,"BODY"!=c.renderTo.tagName.toUpperCase()&&Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",
sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"}));this.tip=Ext.create(d||"Ext.tip.QuickTip",c);Ext.quickTipsActive=!0}},destroy:function(){Ext.destroy(this.tip);this.tip=void 0},ddDisable:function(){var a=this.tip;a&&!this.disabled&&a.disable()},ddEnable:function(){var a=this.tip;a&&!this.disabled&&a.enable()},enable:function(){var a=this.tip;a&&a.enable();this.disabled=!1},disable:function(){var a=this.tip;a&&a.disable();this.disabled=!0},isEnabled:function(){var a=this.tip;
return void 0!==a&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}});
Ext.define("Ext.rtl.tip.QuickTipManager",{override:"Ext.tip.QuickTipManager",init:function(){if(!1!==this.callParent(arguments))this.tip.on("beforeshow",this.onBeforeFirstShow,this,{single:!0})},onBeforeFirstShow:function(a){a._isOffsetParentRtl=void 0}});
Ext.define("Ext.app.Application",{extend:Ext.app.Controller,isApplication:!0,scope:void 0,namespaces:[],paths:null,appFolder:"app",config:{name:"",enableQuickTips:!0,appProperty:"app",autoCreateViewport:!1,defaultToken:null,glyphFontFamily:null},onClassExtended:function(a,b,c){var d=Ext.app.Controller,e=a.prototype,g=[],h=b.autoCreateViewport,j,k,l;k=b.name||a.superclass.name;a=b.appFolder||a.superclass.appFolder;k&&(b.$namespace=k,Ext.app.addNamespaces(k));b.namespaces&&Ext.app.addNamespaces(b.namespaces);
if(b["paths processed"])delete b["paths processed"];else if(k&&a&&Ext.Loader.setPath(k,a),a=b.paths)for(l in a)a.hasOwnProperty(l)&&Ext.Loader.setPath(l,a[l]);h&&(k||Ext.Error.raise("[Ext.app.Application] Can't resolve namespace for "+b.$className+", did you forget to specify 'name' property?"),!0===h?h="Viewport":g.push("Ext.plugin.Viewport"),d.processDependencies(e,g,k,"view",h));g.length&&(j=c.onBeforeCreated,c.onBeforeCreated=function(a,b){var c=Ext.Array.clone(arguments);Ext.require(g,function(){return j.apply(this,
c)})})},constructor:function(a){Ext.app.route.Router.application=this;this.callParent(arguments);Ext.isEmpty(this.getName())&&Ext.Error.raise("[Ext.app.Application] Name property is required");this.doInit(this);this.initNamespace();this.initControllers();this.onBeforeLaunch();this.finishInitControllers()},initNamespace:function(){var a=this,b=a.getAppProperty(),c;if(c=Ext.namespace(a.getName()))c.getApplication=function(){return a},b&&(c[b]?c[b]!==a&&Ext.log.warn("An existing reference is being overwritten for "+
name+"."+b+". See the appProperty config."):c[b]=a)},initControllers:function(){var a=Ext.Array.from(this.controllers);this.controllers=new Ext.util.MixedCollection;for(var b=0,c=a.length;b<c;b++)this.getController(a[b])},finishInitControllers:function(){var a,b,c;a=this.controllers.getRange();b=0;for(c=a.length;b<c;b++)a[b].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var a=Ext.util.History,b=this.getDefaultToken(),c,d,e,g;this.getEnableQuickTips()&&this.initQuickTips();this.getAutoCreateViewport()&&
this.initViewport();this.launch.call(this.scope||this);this.launched=!0;this.fireEvent("launch",this);c=this.controllers.items;e=c.length;for(d=0;d<e;d++)g=c[d],g.onLaunch(this);a.ready||a.init();(c=a.getToken())?this.redirectTo(c,!0):b&&a.add(b)},getModuleClassName:function(a,b){return Ext.app.Controller.getFullName(a,b,this.getName()).absoluteName},getViewportName:function(){var a=null,b=this.getAutoCreateViewport();b&&(a=!0===b?"Viewport":b);return a},initQuickTips:function(){Ext.tip.QuickTipManager.init()},
initViewport:function(){var a=this.getView(this.getViewportName()),b=a.prototype,c;a&&(b.isViewport||(b=b.plugins,b=["viewport"].concat(b?Ext.Array.from(b,!0):[]),c={plugins:b}),this.viewport=a.create(c))},createController:function(a){return this.getController(a)},destroyController:function(a){"string"===typeof a&&(a=this.getController(a,!0));Ext.destroy(a)},getController:function(a,b){var c=this.controllers,d,e,g,h,j,k;e=c.get(a);if(!e){k=c.items;h=0;for(g=k.length;h<g;++h)if(j=k[h],(d=j.getModuleClassName())&&
d===a){e=j;break}}!e&&!b&&(d=this.getModuleClassName(a,"controller"),e=Ext.create(d,{application:this,moduleClassName:a}),c.add(e),this._initialized&&e.doInit(this));return e},unregister:function(a){this.controllers.remove(a)},getApplication:function(){return this},destroy:function(a){var b=this.controllers,c=Ext.namespace(this.getName()),d=this.getAppProperty();Ext.destroy(this.viewport);b&&b.each(function(b){b.destroy(a,!0)});this.controllers=null;this.callParent([a,!0]);c&&c[d]===this&&delete c[d]},
updateGlyphFontFamily:function(a){Ext.setGlyphFontFamily(a)}});
Ext.define("Ext.rtl.layout.component.Dock",{override:"Ext.layout.component.Dock",rtlPositions:{top:"top",right:"left",bottom:"bottom",left:"right"},getDockCls:function(a){return"docked-"+(this.owner.getInherited().rtl?this.rtlPositions[a]:a)},getBorderClassTable:function(){this.borderTablesInited||this.initBorderTables();return this.owner.getInherited().rtl?this.noBorderClassTableRtl:this.noBorderClassTableLtr},getBorderCollapseTable:function(){var a=this.callParent();a.rtl||this.setupBorderTable(a,
a.rtl=[]);return this.owner.getInherited().rtl?a.rtl:a},initBorderTables:function(){var a=Ext.layout.component.Dock.prototype,b=a.noBorderClassTable,c=[];a.setupBorderTable(b,c);a.noBorderClassTableLtr=b;a.noBorderClassTableRtl=c;a.borderTablesInited=!0},setupBorderTable:function(a,b){b[0]=a[0];b[1]=a[4];b[2]=a[2];b[3]=a[6];b[4]=a[1];b[5]=a[5];b[6]=a[3];b[7]=a[7];b[8]=a[8];b[9]=a[12];b[10]=a[10];b[11]=a[14];b[12]=a[9];b[13]=a[13];b[14]=a[11];b[15]=a[15]}});
Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application"});Ext.application=function(a){var b=function(a){Ext.onReady(function(){Ext.app.Application.instance=new a})},c=a.paths,d;if("string"===typeof a)Ext.require(a,function(){b(Ext.ClassManager.get(a))});else{a=Ext.apply({extend:"Ext.app.Application"},a);Ext.Loader.setPath(a.name,a.appFolder||"app");if(c)for(d in c)c.hasOwnProperty(d)&&Ext.Loader.setPath(d,c[d]);a["paths processed"]=!0;Ext.define(a.name+".$application",a,function(){b(this)})}};
Ext.define("Ext.app.domain.View",{extend:Ext.app.EventDomain,isInstance:!0,constructor:function(a){this.callParent(arguments);this.controller=a;this.monitoredClasses=[Ext.Component]},match:function(a,b,c){var d=!1;return d="#"===b?c===a.getController():a.is(b)},destroy:function(){this.controller=null;this.callParent()}});
Ext.define("Ext.app.ViewController",{extend:Ext.app.BaseController,mixins:[Ext.mixin.Factoryable],isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var a=this.compDomain;a&&(a.unlisten(this),a.destroy());this.compDomain=this.view=null;this.callParent()},closeView:function(){var a=
this.getView(),b;a&&(b=this.getCloseViewAction(),a[b]())},control:function(a,b){var c=a;Ext.isString(a)&&(c={},c[a]=b);this.compDomain.listen(c,this)},listen:function(a,b){var c=a.component;c&&(a=Ext.apply({},a),delete a.component,this.control(c));this.callParent([a,b])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReference:function(a){var b=this.view;return b&&b.lookupReference(a)},getSession:function(){var a=this.view;return a&&a.lookupSession()},
getViewModel:function(){var a=this.view;return a&&a.lookupViewModel()},getStore:function(a){var b=this.getViewModel();return b?b.getStore(a):null},fireViewEvent:function(a){var b=this.view,c=!1;b&&(c=b.fireEvent.apply(b,arguments));return c},privates:{view:null,ensureId:function(){this.getId()||this.setId(Ext.id(null,"controller-"))},attachReference:function(a){var b=this.view;b&&b.attachReference(a)},clearReference:function(a){var b=this.view;b&&b.clearReference(a)},clearReferences:function(){var a=
this.view;a&&a.clearReferences()},setView:function(a){this.view=a;this.beforeInit.$nullFn||this.beforeInit()}}});
Ext.define("Ext.form.Labelable",{extend:Ext.Mixin,isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'\x3clabel id\x3d"{id}-labelEl" data-ref\x3d"labelEl" class\x3d"{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style\x3d"{labelStyle}"\x3ctpl if\x3d"inputId"\x3e',' for\x3d"{inputId}"\x3c/tpl\x3e {labelAttrTpl}\x3e','\x3cspan class\x3d"{labelInnerCls} {labelInnerCls}-{ui}" style\x3d"{labelInnerStyle}"\x3e',
"{beforeLabelTextTpl}",'\x3ctpl if\x3d"fieldLabel"\x3e{fieldLabel}','\x3ctpl if\x3d"labelSeparator"\x3e{labelSeparator}\x3c/tpl\x3e',"\x3c/tpl\x3e","{afterLabelTextTpl}","\x3c/span\x3e","\x3c/label\x3e","{afterLabelTpl}",'\x3cdiv id\x3d"{id}-bodyEl" data-ref\x3d"bodyEl" class\x3d"{baseBodyCls} {baseBodyCls}-{ui}\x3ctpl if\x3d"fieldBodyCls"\x3e',' {fieldBodyCls} {fieldBodyCls}-{ui}\x3c/tpl\x3e {growCls} {extraFieldBodyCls}"','\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e',"{beforeBodyEl}",
"{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","\x3c/div\x3e",'\x3ctpl if\x3d"renderError"\x3e','\x3cdiv id\x3d"{id}-errorWrapEl" data-ref\x3d"errorWrapEl" class\x3d"{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style\x3d"{errorWrapStyle}"\x3e','\x3cdiv role\x3d"alert" aria-live\x3d"polite" id\x3d"{id}-errorEl" data-ref\x3d"errorEl" ','class\x3d"{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget\x3d"{id}-inputEl"\x3e',
"\x3c/div\x3e","\x3c/div\x3e","\x3c/tpl\x3e",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:'\x3ctpl if\x3d"errors \x26\x26 errors.length"\x3e;\x3cul class\x3d"{listCls}"\x3e;\x3ctpl if\x3d"Ext.enableAria"\x3e;\x3ctpl if\x3d"fieldLabel"\x3e\x3cdiv\x3e{fieldLabel}\x3c/div\x3e\x3c/tpl\x3e;\x3c/tpl\x3e;\x3ctpl for\x3d"errors"\x3e\x3cli\x3e{.}\x3c/li\x3e\x3c/tpl\x3e;\x3c/ul\x3e;\x3c/tpl\x3e'.split(";"),plaintextActiveErrorsTpl:'\x3ctpl if\x3d"errors \x26\x26 errors.length"\x3e,\x3ctpl if\x3d"Ext.enableAria"\x3e,\x3ctpl if\x3d"fieldLabel"\x3e{fieldLabel}\n\x3c/tpl\x3e,\x3c/tpl\x3e,\x3ctpl for\x3d"errors"\x3e\x3ctpl if\x3d"xindex \x26gt; 1"\x3e\n\x3c/tpl\x3e{.}\x3c/tpl\x3e,\x3c/tpl\x3e'.split(","),
isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+
"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,
under:1,side:1,none:1},noWrap:!0,labelableInsertions:"beforeBodyEl afterBodyEl beforeLabelTpl afterLabelTpl beforeSubTpl afterSubTpl beforeLabelTextTpl afterLabelTextTpl labelAttrTpl".split(" "),statics:{initTip:function(){var a=this.tip,b;a||(a={id:"ext-form-error-tip",sticky:!0,ui:"form-invalid"},Ext.supports.Touch&&(a.dismissDelay=0,a.anchor="top",a.showDelay=0,a.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}),a=this.tip=Ext.create("Ext.tip.QuickTip",a),
b=Ext.apply({},a.tagConfig),b.attribute="errorqtip",a.setTagConfig(b))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var a=this.padding;a&&(this.padding=void 0,this.extraMargins=Ext.Element.parseBox(a));this.activeErrorsTpl||(this.activeErrorsTpl="title"==this.msgTarget?this.plaintextActiveErrorsTpl:this.htmlActiveErrorsTpl);this.addCls([this.formItemCls,this.formItemCls+"-"+this.ui]);this.lastActiveError="";this.enableBubble("errorchange")},trimLabelSeparator:function(){var a=
this.labelSeparator,b=this.fieldLabel||"";return b.substr(b.length-1)===a?b.slice(0,-1):b},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(a){a=a||"";var b=this.labelSeparator,c=this.labelEl,d=this.errorWrapEl,e="top"!==this.labelAlign,g=this.errorWrapUnderSideLabelCls;this.fieldLabel=a;this.rendered&&(Ext.isEmpty(a)&&this.hideEmptyLabel?(c.setDisplayed("none"),e&&d&&d.removeCls(g)):(b&&(a=this.trimLabelSeparator()+b),c.first().setHtml(a),c.setDisplayed(""),e&&d&&
d.addCls(g)),this.updateLayout())},getInsertionRenderData:function(a,b){for(var c=b.length,d,e;c--;){d=b[c];if((e=this[d])&&"string"!=typeof e)e.isTemplate||(e=Ext.XTemplate.getTpl(this,d)),e=e.apply(a);a[d]=e||""}return a},getLabelableRenderData:function(){var a=this.labelAlign,b="top"===a,a="right"===a,c="side"===this.msgTarget,d="under"===this.msgTarget,e=this.errorMsgCls,g=this.labelPad,h=this.labelWidth,j=this.labelClsExtra||"",k=c?this.errorWrapSideCls:this.errorWrapUnderCls,l="",m="",n=this.hasVisibleLabel(),
p=this.autoFitErrors,q=this.defaultBodyWidth,r;b?(j+=" "+this.topLabelCls,g&&(m="padding-bottom:"+g+"px;"),c&&!p&&(j+=" "+this.topLabelSideErrorCls)):(a&&(j+=" "+this.rightLabelCls),g&&(l+=this.getHorizontalPaddingStyle()+g+"px;"),l+="width:"+(h+(g?g:0))+"px;",m="width:"+h+"px");n?!b&&d&&(k+=" "+this.errorWrapUnderSideLabelCls):l+="display:none;";q&&(r="min-width:"+q+"px;max-width:"+q+"px;");b={id:this.id,inputId:this.getInputId(),labelCls:this.labelCls,labelClsExtra:j,labelStyle:l+(this.labelStyle||
""),labelInnerStyle:m,labelInnerCls:this.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:r,baseBodyCls:this.baseBodyCls,fieldBodyCls:this.fieldBodyCls,extraFieldBodyCls:this.extraFieldBodyCls,errorWrapCls:this.errorWrapCls,errorWrapExtraCls:k,renderError:c||d,invalidMsgCls:c?this.invalidIconCls:d?this.invalidUnderCls:"",errorMsgCls:e,growCls:this.grow?this.growCls:"",errorWrapStyle:c&&!p?"visibility:hidden":"display:none",fieldLabel:this.getFieldLabel(),labelSeparator:this.labelSeparator};
this.getInsertionRenderData(b,this.labelableInsertions);return b},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){this.setFieldDefaults(this.getInherited().fieldDefaults);this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+"-form-item")},onLabelRender:function(){var a={},b=Ext.Element,c=this.errorWrapEl,d;c&&c.setVisibilityMode("side"===this.msgTarget&&!this.autoFitErrors?b.VISIBILITY:b.DISPLAY);if(this.extraMargins){b=this.el.getMargin();
for(d in b)b.hasOwnProperty(d)&&(a["margin-"+d]=b[d]+this.extraMargins[d]+"px");this.el.setStyle(a)}},hasVisibleLabel:function(){return this.hideLabel?!1:!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(a){var b=
this.errorWrapEl,c=this.msgTarget,d="side"===c,e="qtip"===c,g;a=Ext.Array.from(a);g=this.getTpl("activeErrorsTpl");this.activeErrors=a;g=this.activeError=g.apply({fieldLabel:this.fieldLabel,errors:a,listCls:Ext.plainListCls});this.renderActiveError();if(this.rendered&&(d?this.errorEl.dom.setAttribute("data-errorqtip",g):e?this.getActionEl().dom.setAttribute("data-errorqtip",g):"title"===c&&this.getActionEl().dom.setAttribute("title",g),(d||e)&&Ext.form.Labelable.initTip(),!this.msgTargets[c]&&(c=
Ext.get(c))))c.dom.innerHTML=g;b&&(b.setVisible(0<a.length),d&&this.autoFitErrors&&this.labelEl.addCls(this.topLabelSideErrorCls),this.updateLayout())},unsetActiveError:function(){var a=this.errorWrapEl,b=this.msgTarget,c;delete this.activeError;delete this.activeErrors;this.renderActiveError();if(this.rendered){"qtip"===b?this.getActionEl().dom.removeAttribute("data-errorqtip"):"title"===b&&this.getActionEl().dom.removeAttribute("title");if(!this.msgTargets[b]&&(c=Ext.get(b)))c.dom.innerHTML="";
a&&(a.hide(),"side"===b&&this.autoFitErrors&&this.labelEl.removeCls(this.topLabelSideErrorCls),this.updateLayout())}},renderActiveError:function(){var a=this.getActiveError(),b=!!a;a!==this.lastActiveError&&(this.lastActiveError=a,this.fireEvent("errorchange",this,a));this.rendered&&(!this.isDestroyed&&!this.preventMark)&&(this.toggleInvalidCls(b),this.errorEl&&(this.errorEl.dom.innerHTML=a))},toggleInvalidCls:function(a){this.el[a?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(a){for(var b in a)this.hasOwnProperty(b)||
(this[b]=a[b])}},function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")});Ext.define("Ext.rtl.form.Labelable",{override:"Ext.form.Labelable",getHorizontalPaddingStyle:function(){return this.getInherited().rtl?"padding-left:":"padding-right:"}});
Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var a=this.valuePublishEvent,b,c;this.initValue();b=["tagName","nodeName","children","childNodes"];(c=this.name)&&-1<Ext.Array.indexOf(b,c)&&Ext.log.warn(['It is recommended to not use "',c,'" as a field name, because it can cause naming collisions during form submission.'].join(""));
if(Ext.isString(a))this.on(a,this.publishValue,this);else{c=0;for(b=a.length;c<b;++c)this.on(a[c],this.publishValue,this)}},initValue:function(){this.suspendCheckChange++;this.setValue(this.value);this.suspendCheckChange--;this.originalValue=this.lastValue=this.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(a){this.value=a;this.checkChange();return this},
isEqual:function(a,b){return String(a)===String(b)},isEqualAsString:function(a,b){return String(Ext.valueFrom(a,""))===String(Ext.valueFrom(b,""))},getSubmitData:function(){var a=null;!this.disabled&&this.submitValue&&(a={},a[this.getName()]=""+this.getValue());return a},getModelData:function(a,b){var c=null;if(!this.disabled&&(this.submitValue||!b))c={},c[this.getFieldIdentifier()]=this.getValue();return c},reset:function(){this.beforeReset();this.setValue(this.originalValue);this.clearInvalid();
delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var a,b;this.suspendCheckChange||(a=this.getValue(),b=this.lastValue,!this.isDestroyed&&this.didValueChange(a,b)&&(this.lastValue=a,this.fireEvent("change",this,a,b),this.onChange(a,b)))},didValueChange:function(a,b){return!this.isEqual(a,b)},onChange:function(){this.validateOnChange&&this.validate();this.checkDirty()},publishValue:function(){this.rendered&&
!this.getErrors().length&&this.publishState("value",this.getValue())},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var a=this.isDirty();a!==this.wasDirty&&(this.dirty=a,this.fireEvent("dirtychange",this,a),this.onDirtyChange(a),this.wasDirty=a)},onDirtyChange:Ext.emptyFn,getErrors:function(a){var b=[],c=this.getValidationField(),d=this.getValidation();c&&(a=c.validate(a),!0!==a&&b.push(a));d&&!0!==d&&b.push(d);return b},isValid:function(){return this.disabled||
Ext.isEmpty(this.getErrors())},validate:function(){var a=this.isValid();a!==this.wasValid&&(this.wasValid=a,this.fireEvent("validitychange",this,a));return a},batchChanges:function(a){try{this.suspendCheckChange++,a()}catch(b){throw b;}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(a,b){b&&this.validate()}});
Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:[Ext.form.Labelable,Ext.form.field.Field],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['\x3cinput id\x3d"{id}" data-ref\x3d"inputEl" type\x3d"{type}" role\x3d"{role}" {inputAttrTpl}',' size\x3d"1"','\x3ctpl if\x3d"name"\x3e name\x3d"{name}"\x3c/tpl\x3e','\x3ctpl if\x3d"value"\x3e value\x3d"{[Ext.util.Format.htmlEncode(values.value)]}"\x3c/tpl\x3e','\x3ctpl if\x3d"placeholder"\x3e placeholder\x3d"{placeholder}"\x3c/tpl\x3e',
'{%if (values.maxLength !\x3d\x3d undefined){%} maxlength\x3d"{maxLength}"{%}%}','\x3ctpl if\x3d"readOnly"\x3e readonly\x3d"readonly"\x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete\x3d"off"/\x3e',{disableFormats:!0}],defaultBindProperty:"value",
subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||9>=document.documentMode)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,
readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:!1,stretchInputElFixed:!0,initComponent:function(){this.callParent();this.subTplData=this.subTplData||{};this.initLabelable();this.initField();this.name||(this.name=this.getInputId());this.readOnly&&this.addCls(this.readOnlyCls);this.addCls(Ext.baseCSSPrefix+"form-type-"+this.inputType)},getInputId:function(){return this.inputId||(this.inputId=
this.id+"-inputEl")},getSubTplData:function(a){var b=this.inputType,c=this.getInputId();a=Ext.apply({ui:this.ui,id:c,cmpId:this.id,name:this.name||c,disabled:this.disabled,readOnly:this.readOnly,value:this.getRawValue(),type:b,fieldCls:this.fieldCls,fieldStyle:this.getFieldStyle(),childElCls:a.childElCls,tabIdx:this.tabIndex,inputCls:this.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(this.isTextInput?"text":b),role:this.ariaRole},this.subTplData);this.getInsertionRenderData(a,this.subTplInsertions);
return a},getSubTplMarkup:function(a){a=this.getSubTplData(a);var b=this.getTpl("preSubTpl"),c=this.getTpl("postSubTpl"),d="";b&&(d+=b.apply(a));d+=this.getTpl("fieldSubTpl").apply(a);c&&(d+=c.apply(a));return d},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this.inputEl;b&&b.applyStyles(a);this.fieldStyle=a},getFieldStyle:function(){var a=this.fieldStyle;return Ext.isObject(a)?Ext.DomHelper.generateStyles(a,null,!0):
a||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var a=null,b;!this.disabled&&this.submitValue&&(b=this.getSubmitValue(),null!==b&&(a={},a[this.getName()]=b));return a},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var a=this.inputEl?this.inputEl.getValue():Ext.valueFrom(this.rawValue,"");return this.rawValue=
a},setRawValue:function(a){var b=this.rawValue;this.transformRawValue.$nullFn||(a=this.transformRawValue(a));a=Ext.valueFrom(a,"");if(void 0===b||b!==a)this.rawValue=a,this.inputEl&&(this.bindPropertyChange(!1),this.inputEl.dom.value=a,this.bindPropertyChange(!0)),this.rendered&&this.reference&&this.publishState("rawValue",a);return a},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.valueFrom(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=
this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=a},setValue:function(a){this.setRawValue(this.valueToRaw(a));return this.mixins.field.setValue.call(this,a)},onBoxReady:function(){this.callParent();this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var a=this.inputEl;this.callParent();a&&(a.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.needsValidateOnEnable=!0))},onEnable:function(){var a=this.inputEl;this.callParent();a&&
(a.dom.disabled=!1,this.needsValidateOnEnable&&(delete this.needsValidateOnEnable,this.forceValidation=!0,this.isValid(),delete this.forceValidation))},setReadOnly:function(a){var b=this.inputEl;a=!!a;this[a?"addCls":"removeCls"](this.readOnlyCls);this.readOnly=a;b?b.dom.readOnly=a:this.rendering&&(this.setReadOnlyOnBoxReady=!0);this.fireEvent("writeablechange",this,a)},fireKey:function(a){a.isSpecialKey()&&this.fireEvent("specialkey",this,a)},initEvents:function(){var a=this,b=a.inputEl,c,d,e=a.checkChangeEvents,
g=a.ignoreChangeRe,h=e.length,j,k;if(b){a.mon(b,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",a.fireKey,a);c=new Ext.util.DelayedTask(a.checkChange,a);a.onChangeEvent=d=function(b){"propertychange"==b.type&&g.test(b.browserEvent.propertyName)||c.delay(a.checkChangeBuffer)};for(j=0;j<h;j++)k=e[j],"propertychange"===k&&(a.usesPropertychange=!0),a.mon(b,k,d)}a.callParent()},bindPropertyChange:function(a){if(this.usesPropertychange)this[a?"mon":"mun"](this.inputEl,"propertychange",this.onChangeEvent)},
onDirtyChange:function(a){this[a?"addCls":"removeCls"](this.dirtyCls);this.rendered&&this.reference&&this.publishState("dirty",a)},isValid:function(){var a=this.disabled;return this.forceValidation||!a?this.validateValue(this.processRawValue(this.getRawValue())):a},validateValue:function(a){a=this.getErrors(a);var b=Ext.isEmpty(a);this.preventMark||(b?this.clearInvalid():this.markInvalid(a));return b},markInvalid:function(a){var b=this.getActiveError();this.setActiveErrors(Ext.Array.from(a));a=this.getActiveError();
b!==a&&this.setError(a)},clearInvalid:function(){var a=this.hasActiveError();delete this.needsValidateOnEnable;this.unsetActiveError();a&&this.setError("")},setError:function(a){var b=this.msgTarget;this.rendered&&("title"==b||"qtip"==b?this.getActionEl().dom.setAttribute("qtip"==b?"data-errorqtip":"title",a||""):this.updateLayout())},renderActiveError:function(){var a=this.hasActiveError(),b=this.invalidCls+"-field";if(this.inputEl)this.inputEl[a?"addCls":"removeCls"]([b,b+"-"+this.ui]);this.mixins.labelable.renderActiveError.call(this)},
privates:{applyBind:function(a,b){var c=b&&b.value,d;d=this.callParent([a,b]);d.value!==c&&this.getInherited().modelValidation&&this.updateValueBinding(d);return d},applyRenderSelectors:function(){this.callParent();this.inputEl||(this.inputEl=this.el.getById(this.getInputId()))},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl"));return this.callParent()},
updateValueBinding:function(a){var b=a.value,c=a.$fieldBinding;c&&(c.destroy(),a.$fieldBinding=null);b&&b.bindValidationField&&(this.fieldBinding=b.bindValidationField("setValidationField",this))}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindPropertyChange(!1);this.callParent(arguments);this.bindPropertyChange(!0)}}}}});
Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['\x3cdiv id\x3d"{id}" role\x3d"{role}" {inputAttrTpl}','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {fieldCls}-{ui}"\x3e{value}\x3c/div\x3e',{compiled:!0,disableFormats:!0}],focusable:!1,readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+
"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,valueToRaw:function(a){return!a&&0!==a?"":a},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(a){this.rawValue=a=Ext.valueFrom(a,"");this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout());return a},getDisplayValue:function(){var a=this.getRawValue();return this.renderer?
this.renderer.call(this.scope||this,a,this):this.htmlEncode?Ext.util.Format.htmlEncode(a):a},getSubTplData:function(a){var b=this.callParent(arguments);b.value=this.getDisplayValue();return b}});
Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",manageMargins:!0,sizePolicies:{"0":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a,
b){var c=b||this.owner.getSizeModel();return this.sizePolicies[(c.width.shrinkWrap?0:1)|(c.height.shrinkWrap?0:2)]},beginLayoutCycle:function(a,b){var c=this.lastHeightModel&&this.lastHeightModel.calculated,d=this.lastWidthModel&&this.lastWidthModel.calculated,e=d||c,g=0,h=0,j,k,l,m,n,p,q;this.callParent(arguments);e&&"TD"!=a.targetContext.el.dom.tagName.toUpperCase()&&(e=d=c=!1);k=a.childItems;n=k.length;for(l=0;l<n;++l){m=k[l];if(b&&(j=m.target,p=j.minHeight,(q=j.minWidth)||p))j=m.marginInfo||m.getMarginInfo(),
p+=j.height,q+=j.height,g<p&&(g=p),h<q&&(h=q);e&&(m=m.el.dom.style,c&&(m.height=""),d&&(m.width=""))}b&&(a.maxChildMinHeight=g,a.maxChildMinWidth=h);j=a.target;a.overflowX=!a.widthModel.shrinkWrap&&a.maxChildMinWidth&&j.scrollFlags.x||void 0;a.overflowY=!a.heightModel.shrinkWrap&&a.maxChildMinHeight&&j.scrollFlags.y||void 0},calculate:function(a){var b=a.childItems,c=b.length,d=this.getContainerSize(a),e={length:c,ownerContext:a,targetSize:d},g=a.widthModel.shrinkWrap,h=a.heightModel.shrinkWrap,j=
a.overflowX,k=a.overflowY,l,m,n;if(j||k)if(l=this.getScrollbarsNeeded(j&&d.width,k&&d.height,a.maxChildMinWidth,a.maxChildMinHeight))m=Ext.getScrollbarSize(),l&1&&(d.height-=m.height),l&2&&(d.width-=m.width);if(0<c)for(n=0;n<c;++n)e.index=n,this.fitItem(b[n],e);else e.contentWidth=e.contentHeight=0;if(h||g)b=a.targetContext.getPaddingInfo(),g&&(k&&!d.gotHeight?this.done=!1:(g=e.contentWidth+b.width,l&2&&(g+=m.width),a.setContentWidth(g)||(this.done=!1))),h&&(j&&!d.gotWidth?this.done=!1:(d=e.contentHeight+
b.height,l&1&&(d+=m.height),a.setContentHeight(d)||(this.done=!1)))},fitItem:function(a,b){a.invalid?this.done=!1:(b.margins=a.getMarginInfo(),b.needed=b.got=0,this.fitItemWidth(a,b),this.fitItemHeight(a,b),b.got!=b.needed&&(this.done=!1))},fitItemWidth:function(a,b){var c,d;if(b.ownerContext.widthModel.shrinkWrap)d=a.getProp("width")+b.margins.width,c=b.contentWidth,b.contentWidth=void 0===c?d:Math.max(c,d);else if(a.widthModel.calculated)if(++b.needed,b.targetSize.gotWidth)++b.got,this.setItemWidth(a,
b);else return;this.positionItemX(a,b)},fitItemHeight:function(a,b){var c,d;if(b.ownerContext.heightModel.shrinkWrap)d=a.getProp("height")+b.margins.height,c=b.contentHeight,b.contentHeight=void 0===c?d:Math.max(c,d);else if(a.heightModel.calculated)if(++b.needed,b.targetSize.gotHeight)++b.got,this.setItemHeight(a,b);else return;this.positionItemY(a,b)},positionItemX:function(a,b){var c=b.margins;(b.index||c.left)&&a.setProp("x",c.left);c.width&&a.setProp("margin-right",c.width)},positionItemY:function(a,
b){var c=b.margins;(b.index||c.top)&&a.setProp("y",c.top);c.height&&a.setProp("margin-bottom",c.height)},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});
Ext.define("Ext.panel.Table",{extend:Ext.panel.Panel,alias:"widget.tablepanel",extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",defaultBindProperty:"store",layout:"fit",ariaRole:"grid",config:{selection:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,selType:"rowmodel",scroll:!0,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,
scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",focusable:!0,
tabIndex:0,constructor:function(a){this.ownerGrid=a&&a.ownerGrid||this;this.callParent([a]);a=this.store;a.trackStateChanges=!0;this.autoLoad&&(a.unblockLoad(),a.load())},initComponent:function(){this.verticalScroller&&Ext.Error.raise("The verticalScroller config is not supported.");this.viewType||Ext.Error.raise("You must specify a viewType config.");this.headers&&Ext.Error.raise("The headers config is not supported. Please specify columns instead.");var a=this.columns||this.colModel||[],b,c,d=this.store=
Ext.data.StoreManager.lookup(this.store||"ext-empty-store");this.enableLocking=this.enableLocking||this.hasLockedColumns(a);this.autoLoad&&this.store.blockLoad();this.plugins&&(this.plugins=this.constructPlugins());this.columnLines&&this.addBodyCls(this.colLinesCls);this.addBodyCls(this.rowLines?this.rowLinesCls:this.noRowLinesCls);this.addBodyCls(this.extraBodyCls);this.enableLocking?(this.self.mixin("lockable",Ext.grid.locking.Lockable),this.injectLockable()):a.isRootHeader?(this.headerCt=a,this.headerCt.forceFit=
!!this.forceFit,this.columnManager=a.columnManager,this.visibleColumnManager=a.visibleColumnManager):(Ext.isArray(a)&&(a={items:a}),Ext.apply(a,{grid:this,forceFit:this.forceFit,sortable:this.sortableColumns,enableColumnMove:this.enableColumnMove,enableColumnResize:this.enableColumnResize,columnLines:this.columnLines,sealed:this.sealedColumns}),this.hideHeaders&&(a.height=0,a.hiddenHeaders=!0),Ext.isDefined(this.enableColumnHide)&&(a.enableColumnHide=this.enableColumnHide),this.headerCt=new Ext.grid.header.Container(a));
this.columns=a=this.headerCt.getGridColumns();this.scrollTask=new Ext.util.DelayedTask(this.syncHorizontalScroll,this);this.cls=(this.cls||"")+(" "+this.extraBaseCls);delete this.autoScroll;if(b=this.plugins&&Ext.Array.findBy(this.plugins,function(a){return a.isBufferedRenderer}))this.bufferedRenderer=b;if(!this.hasView){if(d.isBufferedStore&&!d.remoteSort){b=0;for(c=a.length;b<c;b++)a[b].sortable=!1}this.hideHeaders&&(this.headerCt.addCls(this.hiddenHeaderCtCls),this.addCls(this.hiddenHeaderCls));
this.relayHeaderCtEvents(this.headerCt);this.features=this.features||[];Ext.isArray(this.features)||(this.features=[this.features]);this.dockedItems=[].concat(this.dockedItems||[]);this.dockedItems.unshift(this.headerCt);this.viewConfig=this.viewConfig||{};a=this.getView();this.items=[a];this.hasView=!0;if(!this.hideHeaders)a.on({scroll:this.onHorizontalScroll,scope:this,onFrame:!!Ext.global.requestAnimationFrame});this.bindStore(d,!0);this.mon(a,{viewready:this.onViewReady,refresh:this.onRestoreHorzScroll,
scope:this})}this.relayEvents(this.view,"beforeitemmousedown beforeitemmouseup beforeitemmouseenter beforeitemmouseleave beforeitemclick beforeitemdblclick beforeitemcontextmenu itemmousedown itemmouseup itemmouseenter itemmouseleave itemclick itemdblclick itemcontextmenu beforecellclick cellclick beforecelldblclick celldblclick beforecellcontextmenu cellcontextmenu beforecellmousedown cellmousedown beforecellmouseup cellmouseup beforecellkeydown cellkeydown rowclick rowdblclick rowcontextmenu rowmousedown rowmouseup rowkeydown beforeitemkeydown itemkeydown beforecontainermousedown beforecontainermouseup beforecontainermouseover beforecontainermouseout beforecontainerclick beforecontainerdblclick beforecontainercontextmenu beforecontainerkeydown containermouseup containermousedown containermouseover containermouseout containerclick containerdblclick containercontextmenu containerkeydown selectionchange beforeselect select beforedeselect deselect".split(" "));
this.callParent(arguments);this.addStateEvents("columnresize columnmove columnhide columnshow sortchange filterchange groupchange".split(" "))},beforeRender:function(){var a=this.bufferedRenderer;this.lockable||(a&&this.getSizeModel().height.auto&&(a.isBufferedRenderer&&Ext.Error.raise("Cannot use buffered rendering with auto height"),this.bufferedRenderer=a=!1),a&&!a.isBufferedRenderer&&(a={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copyTo(a,this,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer"),
this.bufferedRenderer=this.addPlugin(a)));this.callParent(arguments)},initFocusableEvents:function(){var a=this.getView();this.callParent();this.focusEnterLeaveListeners=a.getFocusEl().on({focusenter:this.onFocusEnter,focusleave:this.onFocusLeave,scope:this,destroyable:!0})},onFocus:function(a){this.callParent([a]);this.handleFocusEnter(a)},onFocusEnter:function(a){this.handleFocusEnter(a)},handleFocusEnter:function(a){var b=this.getView(),c,d=b.getNavigationModel(),e,g,h=b.bufferedRenderer;if(!this.containsFocus){e=
g=b.getLastFocused();g||(c=b.isLockingView?b.lockedGrid.isVisible()?b.lockedView:b.normalView:b,b=b.dataSource.getAt(h?h.getFirstVisibleRowIndex():0),b.isNonData||(g=(new Ext.grid.CellContext(c)).setPosition({row:b,column:0})));if(!g){a.stopEvent();a.getTarget().blur();return}d.setPosition(g,null,a,null,!!e);this.containsFocus=!!d.getPosition()}this.containsFocus&&this.getView().el.dom.setAttribute("tabindex","-1")},onFocusLeave:function(a){var b=this.getView();this.containsFocus&&(b.getNavigationModel().setPosition(null,
null,a,null,!0),this.containsFocus=!1,b.focusEl=b.el,b.focusEl.dom.setAttribute("tabindex",0))},hasLockedColumns:function(a){var b,c,d;a.isRootHeader?a=a.items.items:Ext.isObject(a)&&(a=a.items);b=0;for(c=a.length;b<c;b++)if(d=a[b],!d.processed&&d.locked)return!0},relayHeaderCtEvents:function(a){this.relayEvents(a,"columnresize columnmove columnhide columnshow columnschanged sortchange headerclick headercontextmenu headertriggerclick".split(" "))},getState:function(){var a=this.callParent(),b=this.store.getState(),
a=this.addPropertyToState(a,"columns",this.headerCt.getColumnsState());b&&(a.storeState=b);return a},applyState:function(a){var b=a.sort,c=a.storeState,d=this.store,e=a.columns;delete a.columns;this.callParent(arguments);e&&this.headerCt.applyColumnsState(e);b?d.remoteSort?d.sort({property:b.property,direction:b.direction,root:b.root},null,!1):d.sort(b.property,b.direction):c&&d.applyState(c)},getStore:function(){return this.store},getView:function(){var a,b;this.view||(a=this.getSelectionModel(),
b=Ext.apply({grid:this,ownerGrid:this.ownerGrid,deferInitialRefresh:this.deferRowRender,variableRowHeight:this.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:!1!==this.trackMouseOver,throttledUpdate:!0===this.throttledUpdate,scroll:this.scroll,xtype:this.viewType,store:this.store,headerCt:this.headerCt,columnLines:this.columnLines,rowLines:this.rowLines,selModel:a,navigationModel:"grid",features:this.features,panel:this,emptyText:this.emptyText||""},this.viewConfig),this.scroll&&(this.viewConfig.scroll&&
this.scroll!==this.viewConfig.scroll)&&(b.scroll="both"),Ext.widget(b),this.view.emptyText&&(this.view.emptyText='\x3cdiv class\x3d"'+this.emptyCls+'"\x3e'+this.view.emptyText+"\x3c/div\x3e"),this.view.getComponentLayout().headerCt=this.headerCt,this.mon(this.view,{uievent:this.processEvent,scope:this}),a.view=this.view,this.headerCt.view=this.view,this.hasListeners.viewcreated&&this.fireEvent("viewcreated",this,this.view));return this.view},getColumnManager:function(){return this.columnManager},
getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,processEvent:function(a,b,c,d,e,g,h,j){var k=g.position.column;if(k)return k.processEvent.apply(k,arguments)},scrollByDeltaY:function(a,b){this.getView().scrollBy(0,a,b)},scrollByDeltaX:function(a,b){this.getView().scrollBy(a,0,b)},afterCollapse:function(){this.saveScrollPos();
this.callParent(arguments)},afterExpand:function(){this.callParent(arguments);this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:function(){this.view.scrollManager&&this.view.scrollManager.refresh()},onHeaderMove:function(a,b,c,d,e){!1===this.optimizedColumnMove?this.view.refreshView():this.view.moveColumn(d,e,c);this.delayScroll()},onHeaderHide:function(){this.view.refreshCounter&&this.view.refreshView()},onHeaderShow:function(){this.view.refreshCounter&&
this.view.refreshView()},onHeadersChanged:function(){this.rendered&&!this.reconfiguring&&(this.view.refreshView(),this.delayScroll())},delayScroll:function(){var a=this.view;a&&this.scrollTask.delay(10,null,null,[a])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){this.scrollXPos&&this.syncHorizontalScroll(this,!0)},getScrollerOwner:function(){var a=this;this.scrollerOwner||(a=this.up("[scrollerOwner]"));return a},getLhsMarker:function(){return this.lhsMarker||
(this.lhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(a){var b;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b=this.getSelectionModel(),a?b.select(a):b.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(a,
b){var c=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b.length&&(c=a.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(c),this.ignoreNextSelection=!1)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){var a=this.selModel,b,c,d;a||(a={},b=!0);a.events||(d=a.selType||this.selType,b=!a.mode,a=this.selModel=Ext.create("selection."+d,a));this.simpleSelect?c="SIMPLE":this.multiSelect&&(c="MULTI");Ext.applyIf(a,
{allowDeselect:this.allowDeselect});c&&b&&a.setSelectionMode(c);if(!a.hasRelaySetup&&(this.relayEvents(a,["selectionchange","beforeselect","beforedeselect","select","deselect"]),a.hasRelaySetup=!0,a.isRowModel))a.on("selectionchange",this.updateBindSelection,this);this.disableSelection&&(a.locked=!0);return a},getScrollTarget:function(){var a=this.getScrollerOwner().query("tableview");return a[1]||a[0]},onHorizontalScroll:function(a){this.syncHorizontalScroll(a)},syncHorizontalScroll:function(a,b){var c=
this.view.getScrollX(),d;b=!0===b;if(this.rendered&&(b||c!==this.scrollXPos))b&&(d=this.getScrollTarget(),d.setScrollX(c)),this.headerCt.setScrollX(c),this.scrollXPos=c},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(a){var b=this.getView(),c=this.bufferedRenderer;a?(this.store=a,c&&(c.isBufferedRenderer&&c.store)&&c.bindStore(a),b.store!==a&&b.bindStore(a,!1),this.mon(a,{load:this.onStoreLoad,scope:this}),this.storeRelayers=this.relayEvents(a,["filterchange",
"groupchange"])):this.unbindStore()},unbindStore:function(){var a=this.store;a&&(this.store=null,this.mun(a,{load:this.onStoreLoad,scope:this}),Ext.destroy(this.storeRelayers),a=this.view,a.store&&a.bindStore(null))},setColumns:function(a){(a.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,a)},setStore:function(a){this.reconfigure(a)},reconfigure:function(a,b){var c=this.store,d=this.headerCt,e=d?d.items.getRange():this.columns;1===arguments.length&&Ext.isArray(a)&&(b=
a,a=null);b&&(b=Ext.Array.slice(b));this.reconfiguring=!0;this.fireEvent("beforereconfigure",this,a,b,c,e);this.lockable?this.reconfigureLockable(a,b):(Ext.suspendLayouts(),b&&(delete this.scrollXPos,d.removeAll(),d.add(b)),a&&(a=Ext.StoreManager.lookup(a))!==c?(this.unbindStore(),this.bindStore(a)):this.getView().refreshView(),Ext.resumeLayouts(!0));this.fireEvent("reconfigure",this,a,b,c,e);delete this.reconfiguring},beforeDestroy:function(){var a=this.scrollTask;a&&(a.cancel(),this.scrollTask=
null);Ext.destroy(this.focusEnterLeaveListeners);this.callParent()},onDestroy:function(){this.lockable&&this.destroyLockable();this.unbindStore();this.callParent();this.columns=this.storeRelayers=this.columnManager=this.visibleColumnManager=null},destroy:function(){this.callParent();this.isDestroyed&&(this.view=this.selModel=this.headerCt=null)},privates:{getFocusEl:function(){return this.getView().getFocusEl()}}});
Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:[Ext.util.StoreHolder],allowDeselect:void 0,toggleOnClick:!0,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(a){a=a||{};Ext.apply(this,a);this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0};this.setSelectionMode(a.mode||this.mode);this.selected=new Ext.util.MixedCollection;this.callParent(arguments)},bindStore:function(a,b){this.mixins.storeholder.bindStore.apply(this,
arguments);this.store&&!b&&this.refresh()},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,idchanged:this.onIdChanged,load:this.onStoreLoad,refresh:this.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(a){var b=this.store.getRange(),c=0,d=b.length,e=this.getSelection().length;for(this.suspendChanges();c<d;c++)this.doSelect(b[c],
!0,a);this.resumeChanges();a||this.maybeFireSelectionChange(this.getSelection().length!==e)},deselectAll:function(a){var b=this.getSelection(),c={},d=this.store,e=b.length,g,h,j;g=0;for(h=b.length;g<h;g++)j=b[g],c[j.id]=d.indexOf(j);b=Ext.Array.sort(b,function(a,b){return c[a.id]<c[b.id]?-1:1});this.suspendChanges();this.doDeselect(b,a);this.resumeChanges();a||this.maybeFireSelectionChange(this.getSelection().length!==e)},getSelectionStart:function(){var a=this.view;!this.selectionStart&&a&&a.rendered&&
(a=a.getNavigationModel())&&this.setSelectionStart(a.getRecord());return this.selectionStart},setSelectionStart:function(a){this.selectionStart=a},selectWithEvent:function(a,b){var c=this.isSelected(a),d=b.shiftKey,e=b.ctrlKey,g=d?this.getSelectionStart():null,h=this.getSelection(),j=h.length,k=this.allowDeselect;switch(this.selectionMode){case "MULTI":if(d&&g)this.selectRange(g,a,e);else if(e&&c)this.doDeselect(a,!1);else if(e)this.doSelect(a,!0,!1);else if(c&&!d&&!e&&1<j){c=[];for(e=0;e<j;++e)g=
h[e],g!==a&&c.push(g);this.doDeselect(c)}else c||this.doSelect(a,!1);break;case "SIMPLE":c?this.doDeselect(a):this.doSelect(a,!0);break;case "SINGLE":k&&!e&&(k=this.toggleOnClick),k&&c?this.doDeselect(a):this.doSelect(a,!1)}d||(this.selectionStart=this.isSelected(a)?a:null)},vetoSelection:function(a){if("keydown"!==a.type&&0!==a.button){if(this.ignoreRightMouseSelection||this.isSelected(a.record))return!0}else return"mousedown"===a.type},onNavigate:function(a){var b=a.keyEvent,c=b.ctrlKey,d=a.recordIndex,
e=a.record,g=a.previousRecord,h=this.isSelected(e),j=this.selectionStart&&this.isSelected(a.previousRecord)?this.selectionStart:this.selectionStart=a.previousRecord;a=a.previousRecordIndex;var k=b.getCharCode(),l=k===b.SPACE,m=k===b.UP||k===b.PAGE_UP?"up":k===b.DOWN||k===b.DOWN?"down":null;if(e&&!this.vetoSelection(b)){switch(this.selectionMode){case "MULTI":k===b.A&&c?this.selectRange(0,this.store.getCount()-1):l?b.shiftKey?this.selectRange(j,e,c):h?this.doDeselect(e,c):this.doSelect(e,c):b.shiftKey&&
j?("up"===m&&a<=d?this.deselectRange(g,d+1):"down"===m&&a>=d?this.deselectRange(g,d-1):j!==e&&this.selectRange(j,e,c),this.lastSelected=e):k?c||this.doSelect(e,!1):this.selectWithEvent(e,b);break;case "SIMPLE":h?this.doDeselect(e):this.doSelect(e,!0);break;case "SINGLE":l?h?this.allowDeselect&&this.doDeselect(e):this.doSelect(e):c||(l&&this.allowDeselect&&h?this.doDeselect(e):this.doSelect(e,!1))}!b.shiftKey&&this.isSelected(e)&&(this.selectionStart=e)}},selectRange:function(a,b,c){var d=this.store,
e=this.selected.items,g,h,j,k,l;if(!this.isLocked()){b=this.normalizeRowRange(a,b);a=b[0];b=b[1];h=[];for(g=a;g<=b;g++)this.isSelected(d.getAt(g))||h.push(d.getAt(g));if(!c){j=[];this.suspendChanges();g=0;for(c=e.length;g<c;++g)l=e[g],k=d.indexOf(l),(k<a||k>b)&&j.push(l);g=0;for(c=j.length;g<c;++g)this.doDeselect(j[g]);this.resumeChanges()}h.length?this.doMultiSelect(h,!0):this.maybeFireSelectionChange(0<j.length)}},deselectRange:function(a,b){var c=this.store,d,e,g;if(!this.isLocked()){d=this.normalizeRowRange(a,
b);a=d[0];b=d[1];e=[];for(d=a;d<=b;d++)g=c.getAt(d),this.isSelected(g)&&e.push(g);e.length&&this.doDeselect(e)}},normalizeRowRange:function(a,b){var c=this.store;Ext.isNumber(a)||(a=c.indexOf(a));a=Math.max(0,a);Ext.isNumber(b)||(b=c.indexOf(b));b=Math.min(b,c.getCount()-1);a>b&&(c=b,b=a,a=c);return[a,b]},select:function(a,b,c){Ext.isDefined(a)&&(!Ext.isArray(a)||a.length)&&this.doSelect(a,b,c)},deselect:function(a,b){this.doDeselect(a,b)},doSelect:function(a,b,c){if(!this.locked&&this.store){if("number"===
typeof a){a=this.store.getAt(a);if(!a)return;a=[a]}"SINGLE"===this.selectionMode&&a?(a=a.length?a[0]:a,this.doSingleSelect(a,c)):this.doMultiSelect(a,b,c)}},doMultiSelect:function(a,b,c){var d=this.selected,e=!1,g,h,j,k=this.view;if(!this.locked){a=!Ext.isArray(a)?[a]:a;g=a.length;if(!b&&0<d.getCount()){b=this.deselectDuringSelect(a,d.getRange(),c);if(b[0]){this.maybeFireSelectionChange(0<b[1]&&!c);return}e=0<b[1]}j=function(){d.add(h);e=!0};for(b=0;b<g;b++)if(h=a[b],!this.isSelected(h))this.onSelectChange(h,
!0,c,j);this.lastSelected=h;k&&k.rendered&&!c&&!this.preventFocus&&(a=k.getNavigationModel())&&a.setPosition(h,null,null,c,!0);this.maybeFireSelectionChange(e&&!c)}},deselectDuringSelect:function(a,b,c){var d=b.length,e=0,g=!1,h,j;this.suspendChanges();for(j=0;j<d;++j)h=b[j],Ext.Array.contains(a,h)||(this.doDeselect(h,c)?++e:g=!0);this.resumeChanges();return[g,e]},doDeselect:function(a,b){var c=this.selected,d=0,e,g,h=0,j=0,k;if(this.locked||!this.store)return!1;if("number"===typeof a){g=this.store.getAt(a);
if(!g)return!1;a=[g]}else Ext.isArray(a)||(a=[a]);k=function(){++j;c.remove(g)};e=a.length;for(this.suspendChanges();d<e;d++)g=a[d],this.isSelected(g)&&(this.lastSelected===g&&(this.lastSelected=c.last()),++h,this.onSelectChange(g,!1,b,k));this.resumeChanges();this.maybeFireSelectionChange(0<j&&!b);return j===h},doSingleSelect:function(a,b){var c=this,d=c.view,e=!1,g=c.selected;!c.locked&&!c.isSelected(a)&&(c.onSelectChange(a,!0,b,function(){if(g.getCount()){c.suspendChanges();if(!c.doDeselect(c.lastSelected,
b))return c.resumeChanges(),!1;c.resumeChanges()}g.add(a);c.lastSelected=a;e=!0}),e&&(d&&d.rendered&&!b&&!c.preventFocus&&(d=d.getNavigationModel())&&d.setPosition(a,null,null,b,!0),c.maybeFireSelectionChange(!b)))},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},
setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(a,b){var c=this.store,d;d=this.normalizeRowRange(a,b);a=d[0];b=d[1];for(d=a;d<=b;d++)if(!this.isSelected(c.getAt(d)))return!1;return!0},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return 0<this.selected.getCount()},pruneIf:function(){var a=
this.selected,b=this.store,c=[],d=a.length,e,g;if(this.pruneRemoved){for(e=0;e<d;e++)g=a.getAt(e),-1===b.indexOfId(g.id)&&c.push(g);if(c.length){e=0;for(d=c.length;e<d;e++)g=c[e],a.remove(g),this.onPrune(g);this.maybeFireSelectionChange(!0)}}},onPrune:Ext.emptyFn,refresh:function(){var a=this.store,b,c=[],d=[],e=this.getSelection(),g=e.length,h,j,k=0;if(a){for(;k<g&&!(h=e[k],-1!==a.indexOf(h)?c.push(h):this.pruneRemoved||((b=a.getById(h.getId()))?c.push(b):d.push(h)),"SINGLE"===this.mode&&d.length);k++);
this.selected.getCount()!==c.length+d.length&&(j=!0);this.clearSelections();c.length&&this.doSelect(c,!1,!0);d.length&&(this.selected.addAll(d),this.lastSelected||(this.lastSelected=d[d.length-1]));this.maybeFireSelectionChange(j)}},clearSelections:function(){this.selected.clear();this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){0<this.selected.getCount()&&(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(a,b,c,d){this.selectionStart&&Ext.Array.contains(b,
this.selectionStart)&&(this.selectionStart=null);!d&&(!this.locked&&this.pruneRemoved)&&this.deselect(b)},deselectDeletedRecords:function(a){var b=this.selected,c,d=a.length,e=0,g;for(c=0;c<d;c++)g=a[c],b.remove(g)&&(this.lastSelected===g&&(this.lastSelected=null),++e);e&&this.maybeFireSelectionChange(!0)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners();this.clearSelections();this.bindStore(null)},onStoreUpdate:Ext.emptyFn,onIdChanged:function(a,
b,c,d){this.selected.updateKey(c,d)},onStoreRefresh:function(){var a=this.getStore(),b=this.selected,c=this.lastSelected,d,e,g;if(!this.store.isBufferedStore){b=b.items;d=b.length;c&&(this.lastSelected=a.getById(c.id));for(c=0;c<d;++c)e=b[c],(g=a.getById(e.id))?this.selected.replace(g):this.selected.remove(e)}},onStoreLoad:Ext.emptyFn,onSelectChange:function(a,b,c,d){b=b?"select":"deselect";if(!1!==(c||this.fireEvent("before"+b,this,a))&&!1!==d())c||this.fireEvent(b,this,a)},onEditorKey:Ext.emptyFn,
beforeViewRender:function(a){this.views=this.views||[];this.views.push(a)},resolveListenerScope:function(a){var b=this.view,c;b&&(c=b.resolveListenerScope(a));return c||this.callParent([a])},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn});
Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:!0,enableKeyNav:!0,bindComponent:function(a){this.view=a;this.navigationModel=a.getNavigationModel();a.on(this.getViewListeners());this.navigationModel.on({navigate:this.onNavigate,scope:this})},getViewListeners:function(){var a={refresh:this.refresh,scope:this};a[this.view.triggerCtEvent]=this.onContainerClick;return a},onUpdate:function(a){var b=this.view;if(b&&this.isSelected(a))b.onItemSelect(a)},onContainerClick:function(){this.deselectOnContainerClick&&
this.deselectAll()},onSelectChange:function(a,b,c,d){var e=this.view,g=b?"select":"deselect";if(!1!==(c||this.fireEvent("before"+g,this,a))&&!1!==d()){if(e)if(b)e.onItemSelect(a);else e.onItemDeselect(a);c||this.fireEvent(g,this,a)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});
Ext.define("Ext.view.NavigationModel",{mixins:[Ext.util.Observable,Ext.mixin.Factoryable],alias:"view.navigation.default",focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(a){this.view=a;this.bindView(a)},bindView:function(a){var b;this.initKeyNav(a);b=this.getStoreListeners();b.destroyable=!0;this.dataSourceListeners=a.dataSource.on(b);b=this.getViewListeners();b.destroyable=!0;this.viewListeners=a.on(b)},getStoreListeners:function(){return{clear:this.onStoreClear,
remove:this.onStoreRemove,scope:this}},getViewListeners:function(){return{containermousedown:this.onContainerMouseDown,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemMouseDown,refresh:this.onViewRefresh,scope:this}},initKeyNav:function(a){this.keyNav=new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"itemkeydown",processEvent:function(a,c,d,e,g){return g},up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,
pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,tab:this.onKeyTab,space:this.onKeySpace,enter:this.onKeyEnter,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this})},addKeyBindings:function(a){this.keyNav.addBindings(a)},enable:function(){this.keyNav.enable();this.disabled=!1},disable:function(){this.keyNav.disable();this.disabled=!0},onContainerMouseDown:function(a,b){b.preventDefault()},onItemMouseDown:function(a,b,c,d,e){a=e.parentEvent;(!a||"touchstart"!==a.type)&&this.setPosition(d)},
onItemClick:function(a,b,c,d,e){this.record===b?this.fireNavigateEvent(e):this.setPosition(d,e)},onStoreClear:function(){this.setPosition()},onStoreRemove:function(){this.setPosition(this.getRecord())},onViewRefresh:function(){this.setPosition(this.getRecord())},setPosition:function(a,b,c,d){var e=this.view,g=e.getSelectionModel(),h=e.dataSource,j,k;null==a?this.record=this.recordIndex=null:"number"===typeof a?(k=Math.max(Math.min(a,h.getCount()-1),0),j=h.getAt(a)):a.isEntity?(j=a,k=h.indexOf(a)):
a.tagName?(j=e.getRecord(a),k=h.indexOf(j)):j=k=null;k!==this.recordIndex&&(this.item&&this.item.removeCls(this.focusCls),this.previousRecordIndex=this.recordIndex,this.previousRecord=this.record,this.previousItem=this.item,this.recordIndex=k,(this.record=j)?this.focusPosition(this.recordIndex):this.item=null,c||g.fireEvent("focuschange",g,this.previousRecord,this.record),!d&&(b&&this.record!==this.previousRecord)&&this.fireNavigateEvent(b))},focusPosition:function(a){null!=a&&-1!==a?(a.isEntity&&
(a=this.view.dataSource.indexOf(a)),(this.item=this.view.all.item(a))?(this.lastFocused=this.record,this.focusItem(this.item)):this.record=null):this.item=null},focusItem:function(a){a.addCls(this.focusCls);a.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:
this.lastFocused},onKeyUp:function(a){var b=this.recordIndex-1;0>b&&(b=this.view.all.getCount()-1);this.setPosition(b,a)},onKeyDown:function(a){var b=this.recordIndex+1;b>this.view.all.getCount()-1&&(b=0);this.setPosition(b,a)},onKeyRight:function(a){var b=this.recordIndex+1;b>this.view.all.getCount()-1&&(b=0);this.setPosition(b,a)},onKeyLeft:function(a){var b=this.recordIndex-1;0>b&&(b=this.view.all.getCount()-1);this.setPosition(b,a)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(a){this.setPosition(0,
a)},onKeyEnd:function(a){this.setPosition(this.view.all.getCount()-1,a)},onKeyTab:Ext.returnTrue,onKeySpace:function(a){this.fireNavigateEvent(a)},onKeyEnter:function(a){a.view.fireEvent("itemclick",a.view,a.record,a.item,a.recordIndex,a)},onSelectAllKeyPress:function(a){this.fireNavigateEvent(a)},fireNavigateEvent:function(a){this.fireEvent("navigate",{navigationModel:this,keyEvent:a,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,recordIndex:this.recordIndex,
record:this.record,item:this.item})},destroy:function(){Ext.destroy(this.dataSourceListeners,this.viewListeners)}});Ext.define("Ext.rtl.view.NavigationModel",{override:"Ext.view.NavigationModel",initKeyNav:function(a){var b=this.self.prototype;a.getInherited().rtl&&(this.onKeyLeft=b.onKeyRight,this.onKeyRight=b.onKeyLeft);this.callParent([a])}});
Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:[Ext.util.StoreHolder],inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},defaultBindProperty:"store",statics:{updateDelay:200,queueRecordChange:function(a,b,c,d,e){b=this.changeQueue||(this.changeQueue={});var g=c.internalId,h,j,k,l;h=b[g]||(b[g]={operation:d,record:c,data:{},views:[]});d=h.data;Ext.Array.include(h.views,a);if(e&&(j=e.length)){for(a=
0;a<j;a++)h=e[a],k=c.data[h],d.hasOwnProperty(h)?c.isEqual(d[h],k)&&(delete d[h],l=!0):d[h]=k;l&&!Ext.Object.getKeys(d).length&&delete b[g]}else Ext.apply(d,c.data);this.flushQueueTask||(this.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(this.onFlushTick,this):Ext.Function.bind(this.onFlushTick,this),interval:Ext.view.AbstractView.updateDelay,repeat:1}));this.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,
this)},flushChangeQueue:function(){var a,b,c,d,e,g,h;if(Ext.isScrolling)this.flushQueueTask.start();else{c=this.changeQueue;this.changeQueue={};for(e in c){d=c[e];a=d.views;b=a.length;for(g=0;g<b;g++)h=a[g],h.isDestroyed||h.handleUpdate(h.dataSource,d.record,d.operation,Ext.Object.getKeys(d.data))}Ext.AnimationQueue.stop(this.flushChangeQueue,this)}}},config:{selection:null,navigationModel:"default"},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:Ext.baseCSSPrefix+
"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,addCmpEvents:Ext.emptyFn,initComponent:function(){var a=Ext.isDefined,b=this.itemTpl,c={};b&&(Ext.isArray(b)?b=b.join(""):Ext.isObject(b)&&(c=Ext.apply(c,
b.initialConfig),b=b.html),this.itemSelector||(this.itemSelector="."+this.itemCls),b=Ext.String.format('\x3ctpl for\x3d"."\x3e\x3cdiv class\x3d"{0}" role\x3d"{2}"\x3e{1}\x3c/div\x3e\x3c/tpl\x3e',this.itemCls,b,this.itemAriaRole),this.tpl=new Ext.XTemplate(b,c));(!a(this.tpl)||!a(this.itemSelector))&&Ext.Error.raise({sourceClass:"Ext.view.View",tpl:this.tpl,itemSelector:this.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."});this.callParent();this.tpl=this.getTpl("tpl");
if(a(this.overCls)||a(this.overClass))Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead."),this.overItemCls=this.overCls||this.overClass,delete this.overCls,delete this.overClass;if(a(this.selectedCls)||a(this.selectedClass))Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead."),
this.selectedItemCls=this.selectedCls||this.selectedClass,delete this.selectedCls,delete this.selectedClass;this.overItemCls&&(this.trackOver=!0);this.addCmpEvents();this.store=Ext.data.StoreManager.lookup(this.store||"ext-empty-store");this.dataSource||(this.dataSource=this.store);this.bindStore(this.dataSource,!0,"dataSource");this.all||(this.all=new Ext.CompositeElementLite);this.scrollState={top:0,left:0};this.on({scroll:this.onViewScroll,element:"el",onFrame:!!Ext.global.requestAnimationFrame,
scope:this});this.savedTabIndexAttribute="data-savedtabindex-"+this.id;this.getNavigationModel().bindComponent(this);this.getSelectionModel().bindComponent(this)},getElConfig:function(){var a=this.mixins.renderable.getElConfig.call(this);this.focusable&&(a.tabIndex=0);return a},onRender:function(){var a=this.loadMask,b=this.getMaskStore(),c={target:this,msg:this.loadingText,useMsg:this.loadingUseMsg,store:b};this.callParent(arguments);if(a&&(b=b.getProxy())&&!b.isSynchronous)this.loadingCls&&(c.msgCls=
this.loadingCls),Ext.isObject(a)&&(c=Ext.apply(c,a)),this.loadMask=new Ext.LoadMask(c),this.loadMask.on({scope:this,beforeshow:this.onMaskBeforeShow,hide:this.onMaskHide})},beforeLayout:function(){this.callParent(arguments);this.refreshNeeded&&!this.pendingRefresh&&(this.refreshCounter?this.refresh():this.doFirstRefresh(this.dataSource))},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var a=this.loadingHeight;a&&a>this.getHeight()&&(this.hasLoadingHeight=!0,this.oldMinHeight=
this.minHeight,this.minHeight=a,this.updateLayout())},onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var a=this.loadMask,b=[];a&&a.isComponent&&b.push(a);return b},getSelection:function(){return this.getSelectionModel().getSelection()},
updateSelection:function(a){var b;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b=this.getSelectionModel(),a?b.select(a):b.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(a,b){var c=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b.length&&(c=a.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(c),this.ignoreNextSelection=!1)},getSelectionModel:function(){var a="SINGLE",b=this.selModel;this.simpleSelect?a="SIMPLE":this.multiSelect&&
(a="MULTI");if(!b||!b.events)b=this.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:this.allowDeselect,mode:a},b));b.hasRelaySetup||(this.relayEvents(b,"selectionchange beforeselect beforedeselect select deselect focuschange".split(" ")),b.hasRelaySetup=!0,b.on("selectionchange",this.updateBindSelection,this));this.disableSelection&&(b.locked=!0);return b},applyNavigationModel:function(a){return Ext.Factory.viewNavigation(a)},initFocusableEvents:function(){this.mixins.focusable.initFocusableEvents.call(this);
this.focusEnterLeaveListeners=this.el.on({focusenter:this.onFocusEnter,focusleave:this.onFocusLeave,scope:this,destroyable:!0})},onFocus:function(a){this.callParent([a]);this.handleFocusEnter(a)},onFocusEnter:function(a){this.handleFocusEnter(a)},handleFocusEnter:function(a){var b=this.getNavigationModel(),c;this.containsFocus||(c=b.getLastFocused(),b.setPosition(c||0,a,null,!c),this.containsFocus=null!=b.getPosition());this.containsFocus&&this.focusEl.dom.setAttribute("tabindex","-1")},onFocusLeave:function(a){this.containsFocus&&
(this.getNavigationModel().setPosition(null,a,null,!0),this.containsFocus=!1,this.focusEl.dom.setAttribute("tabindex",0))},onRemoved:function(a){this.callParent([a]);this.onFocusLeave()},refresh:function(){var a=this.all,b=a.getCount(),c=this.refreshCounter,d,e,g,h,j=c&&a.getCount()&&this.preserveScrollOnRefresh&&!this.bufferedRenderer,k;if(this.rendered&&(!this.isDestroyed&&!this.preventRefresh)&&(!this.hasListeners.beforerefresh||!1!==this.fireEvent("beforerefresh",this))){this.refreshing=!0;d=
this.getTargetEl();g=this.getViewRange();j&&(e=this.getOverflowEl(),k=e.getScroll());c?(h=!0,this.clearViewEl(),this.refreshCounter++):this.refreshCounter=1;this.tpl.append(d,this.collectData(g,a.startIndex||0));if(1>g.length){if(this.emptyText&&!this.getStore().isLoading()&&(!this.deferEmptyText||h))this.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",d.dom,this.emptyText);a.clear()}else this.collectNodes(d.dom),this.updateIndexes(0);Ext.deferCallback(d.saveChildrenTabbableState,d,[this.savedTabIndexAttribute]);
h&&(!1!==this.refreshSelmodelOnRefresh?this.selModel.refresh():this.preventPrune||this.selModel.pruneIf());this.refreshNeeded=!1;this.refreshSize(a.getCount()!==b);this.fireEvent("refresh",this,g);j&&(e.setScrollLeft(k.left),e.setScrollTop(k.top));this.viewReady||(this.viewReady=!0,this.fireEvent("viewready",this));this.refreshing=!1;this.refreshScroll()}},collectNodes:function(a){var b=this.all;b.fill(Ext.fly(a).query(this.getItemSelector()),b.startIndex||0);this.focusable&&b.set({tabindex:"-1"})},
getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(a){var b=this.getSizeModel(),c=this.scrollManager;if(b.height.shrinkWrap||b.width.shrinkWrap||a)this.updateLayout();else if(this.touchScroll&&!this.bufferedRenderer)if(c)c.refresh();else this.on({boxready:this.refreshScroll,scope:this,single:!0})},onResize:function(){var a=this.scrollManager;a&&!this._hasScrollListener&&(a.on({scroll:this.onViewScroll,scope:this,onFrame:!!Ext.global.requestAnimationFrame}),this._hasScrollListener=
!0);this.callParent(arguments)},clearViewEl:function(){var a=this.getTargetEl(),b=this.getNodeContainer()===a;this.clearEmptyEl();this.all.clear(!b);b&&(a.dom.innerHTML="")},clearEmptyEl:function(){var a=this.emptyEl;a&&a.parentNode.removeChild(a);this.emptyEl=null},onViewScroll:function(){this.fireEvent("scroll",this)},saveScrollState:function(){var a=this.scrollState;this.rendered&&(a.left=this.getScrollX(),a.top=this.getScrollY())},restoreScrollState:function(){var a=this.scrollState;this.rendered&&
(this.setScrollX(a.left),this.setScrollY(a.top))},prepareData:function(a,b,c){var d,e;if(c)for(d in b=c.getAssociatedData(),b)b.hasOwnProperty(d)&&(e||(a=Ext.Object.chain(a),e=!0),a[d]=b[d]);return a},collectData:function(a,b){for(var c=[],d=0,e=a.length,g;d<e;d++)g=a[d],c[d]=this.prepareData(g.data,b+d,g);return c},bufferRender:function(a,b){var c=this.renderBuffer||(this.self.prototype.renderBuffer=document.createElement("div"));this.tpl.overwrite(c,this.collectData(a,b));return Ext.fly(c).query(this.getItemSelector())},
nodeContainerSelector:null,getNodeContainer:function(){var a=this.getTargetEl(),b=this.nodeContainerSelector;return b?a.down(b,!0):a},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(a,b,c,d,e){if((!e||!e.filtered)&&this.getNode(b))this.throttledUpdate?this.statics().queueRecordChange(this,a,b,c,d):this.handleUpdate.apply(this,arguments)},handleUpdate:function(a,b){var c,d;if(this.viewReady&&(c=this.dataSource.indexOf(b),-1<c&&this.getNode(b))){d=this.bufferRender([b],
c)[0];this.all.replaceElement(c,d,!0);this.updateIndexes(c,c);this.selModel.onUpdate(b);this.refreshSizePending=!0;if(this.selModel.isSelected(b))this.onItemSelect(b);this.hasListeners.itemupdate&&this.fireEvent("itemupdate",b,c,d);return d}},onReplace:function(a,b,c,d){var e,g=this.all;if(this.rendered){a=this.bufferRender(d,b,!0);(e=g.item(b))?g.item(b).insertSibling(a,"before",!0):this.appendNodes(a);g.insert(b,a);b+=d.length;e=b+c.length-1;g.removeRange(b,e,!0);!1!==this.refreshSelmodelOnRefresh&&
this.selModel.refresh();this.updateIndexes(b);this.refreshSizePending=!0;if(this.hasListeners.itemremove)for(g=c.length;0<=g;--g,--e)this.fireEvent("itemremove",c[g],e,this);this.hasListeners.itemadd&&this.fireEvent("itemadd",d,b,a)}},onAdd:function(a,b,c){this.rendered&&(0===this.all.getCount()?(this.refresh(),a=this.all.slice()):(a=this.doAdd(b,c),!1!==this.refreshSelmodelOnRefresh&&this.selModel.refresh(),this.updateIndexes(c),this.refreshSizePending=!0),this.hasListeners.itemadd&&this.fireEvent("itemadd",
b,c,a))},appendNodes:function(a){var b=document.createDocumentFragment(),c=a.length,d;for(d=0;d<c;++d)b.appendChild(a[d]);this.getNodeContainer().appendChild(b)},doAdd:function(a,b){var c=this.bufferRender(a,b,!0),d=this.all,e=d.getCount(),g=d.startIndex||0,h=d.endIndex||e-1;0===e||b>h?this.appendNodes(c):b<=g?d.item(g).insertSibling(c,"before",!0):d.item(b).insertSibling(c,"before",!0);d.insert(b,c);return c},onRemove:function(a,b,c){a=this.all;var d=this.hasListeners.itemremove,e,g,h,j,k;if(a.getCount()){if(0===
this.dataSource.getCount())d&&this.fireEvent("itemremove",b,c,this.getNodes(c,c+b.length-1)),this.preventPrune=!0,this.refresh(),this.preventPrune=!1;else{d&&(j=[]);for(g=b.length-1;0<=g;--g)h=b[g],e=c+g,j&&(k=a.item(e),j[g]=k?k.dom:void 0),a.item(e)&&this.doRemove(h,e);d&&this.fireEvent("itemremove",b,c,j,this);this.updateIndexes(c)}this.refreshSizePending=!0}},doRemove:function(a,b){this.all.removeElement(b,!0)},refreshNode:function(a){Ext.isNumber(a)&&(a=this.store.getAt(a));this.onUpdate(this.dataSource,
a)},updateIndexes:function(a,b){var c=this.all.elements,d=this.getViewRange(),e;b=b||(0===b?0:c.length-1);for(e=a||0;e<=b;e++)c[e].viewIndex=e,c[e].viewRecordId=d[e].internalId,c[e].boundView||(c[e].boundView=this.id)},bindStore:function(a,b,c){this.mixins.storeholder.bindStore.apply(this,arguments);this.componentLayoutCounter&&!this.preventRefresh&&this.doFirstRefresh(a,!b)},doFirstRefresh:function(a,b){this.deferInitialRefresh&&!b?Ext.defer(this.doFirstRefresh,1,this,[a,!0]):a&&!a.loading&&this.refresh()},
onUnbindStore:function(){this.setMaskBind(null)},onBindStore:function(a,b,c){this.getSelectionModel().bindStore(a);this.setMaskBind(a);!b&&"store"===c&&(this.preventRefresh=!0,this.store=a,this.bindStore(a,!1,"dataSource"),this.preventRefresh=!1)},setMaskBind:function(a){var b=this.loadMask;b&&b.bindStore&&b.bindStore(a)},getStoreListeners:function(){return{refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh,beginupdate:this.onBeginUpdate,
endupdate:this.onEndUpdate}},onBeginUpdate:Ext.emptyFn,onEndUpdate:function(){this.refreshSizePending&&(this.refreshSize(!0),this.refreshSizePending=!1)},onDataRefresh:function(){this.refreshView()},refreshView:function(){this.blockRefresh||!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]")?this.refreshNeeded=!0:this.bufferedRenderer&&this.all.getCount()?this.bufferedRenderer.refreshView():this.refresh()},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),
this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var a=[],b=this.selModel.getSelection(),c=b.length,d=0;d<c;d++)a.push(this.getNode(b[d]));return a},getRecords:function(a){for(var b=[],c=0,d=a.length,e=this.dataSource.data;c<d;c++)b[b.length]=e.getByKey(a[c].viewRecordId);return b},getRecord:function(a){return this.dataSource.getByInternalId(Ext.getDom(a).viewRecordId)},isSelected:function(a){a=this.getRecord(a);
return this.selModel.isSelected(a)},select:function(a,b,c){this.selModel.select(a,b,c)},deselect:function(a,b){this.selModel.deselect(a,b)},getNode:function(a){if(!a&&0!==a||!this.rendered)return null;a.target&&(a=a.target);return Ext.isString(a)?document.getElementById(a):Ext.isNumber(a)?this.all.elements[a]:a.isModel?this.getNodeByRecord(a):Ext.fly(a).findParent(this.itemSelector,this.getTargetEl())},getNodeByRecord:function(a){for(var b=this.all.elements,c=b.length,d=0;d<c;d++)if(b[d].viewRecordId===
a.internalId)return b[d];return null},getNodes:function(a,b){var c=this.all;void 0!==b&&b++;return c.slice(a,b)},indexOf:function(a){a=this.getNode(a);return!a&&0!==a?-1:Ext.isNumber(a.viewIndex)?a.viewIndex:this.all.indexOf(a)},onDestroy:function(){this.all.clear();this.emptyEl=null;this.callParent();this.bindStore(null);Ext.destroy(this.navigationModel,this.selModel,this.scrollManager)},onItemSelect:function(a){(a=this.getNode(a))&&Ext.fly(a).addCls(this.selectedItemCls)},onItemDeselect:function(a){(a=
this.getNode(a))&&Ext.fly(a).removeCls(this.selectedItemCls)},getItemSelector:function(){return this.itemSelector},addItemCls:function(a,b){var c=this.getNode(a);c&&Ext.fly(c).addCls(b)},removeItemCls:function(a,b){var c=this.getNode(a);c&&Ext.fly(c).removeCls(b)},privates:{getFocusEl:function(){return this.el},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs",
"4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection().length},getSelectedRecords:function(){Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel");return this.selModel.getSelection()},select:function(a,b,c){Ext.global.console&&
Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var d=this.getSelectionModel();return d.select.apply(d,arguments)},clearSelections:function(){Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()");return this.getSelectionModel().deselectAll()}})})});
Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",
doubletap:"dblclick"}},afterRender:function(){this.callParent();this.mon(this.el,{scope:this,click:this.handleEvent,longpress:this.handleEvent,mousedown:this.handleEvent,mouseup:this.handleEvent,dblclick:this.handleEvent,contextmenu:this.handleEvent,keydown:this.handleEvent,keypress:this.handleEvent,mouseover:this.handleMouseOver,mouseout:this.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(a){var b=this.getTargetSelector(),b=
a.getTarget(b);this.isDestroyed||(b?this.mouseOverItem!==b&&this.el.contains(b)&&(this.mouseOverItem=a.item=b,a.newType="mouseenter",this.handleEvent(a)):this.handleEvent(a))},handleMouseOut:function(a){var b=this.getTargetSelector(),c=a.getTarget(b),b=a.getRelatedTarget(b),d;if((c!==b||null===c&&null===b)&&!this.isDestroyed)c&&(d=this.self.getBoundView(c))?(a.item=c,a.newType="mouseleave",d.handleEvent(a),d.mouseOverItem=null):this.handleEvent(a)},handleEvent:function(a){var b=Ext.String.startsWith(a.type,
"key"),c=b&&a.getKey(),d=this.getNavigationModel();a.view=this;b&&(a.item=d.getItem(),a.record=d.getRecord());a.item||(a.item=a.getTarget(this.itemSelector));a.item&&!a.record&&(a.record=this.getRecord(a.item));!1!==this.processUIEvent(a)&&this.processSpecialEvent(a);c===a.SPACE&&(this.inputTagRe.test(a.getTarget().tagName)||a.stopEvent())},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(a){if(Ext.getBody().isAncestor(a.target)){var b=
a.item,c=this.self,d=c.EventMap,e=c.TouchEventMap,c=a.record,g=a.type,h=g;a.newType&&(h=a.newType);if(b){h=e[h]||h;e=a.recordIndex=this.indexInStore?this.indexInStore(c):this.indexOf(b);if(!c||!1===this.processItemEvent(c,b,e,a)||!1===this["onBeforeItem"+d[h]](c,b,e,a)||!1===this.fireEvent("beforeitem"+h,this,c,b,e,a)||!1===this["onItem"+d[h]](c,b,e,a))return!1;this.fireEvent("item"+h,this,c,b,e,a)}else{g=e[g]||g;if(!1===this.processContainerEvent(a)||!1===this["onBeforeContainer"+d[g]](a)||!1===
this.fireEvent("beforecontainer"+g,this,a)||!1===this["onContainer"+d[g]](a))return!1;this.fireEvent("container"+g,this,a)}return!0}},onItemMouseEnter:function(a,b){this.trackOver&&this.highlightItem(b)},onItemMouseLeave:function(){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,
onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,
onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,
onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(a){var b=this.highlightedItem,c=this.overItemCls;if(b!==a&&(b&&(Ext.fly(b).removeCls(c),Ext.isIE8&&(this.repaintBorder(b),this.repaintBorder(b.nextSibling)),this.hasListeners.unhighlightitem&&this.fireEvent("unhighlightitem",this,b)),this.highlightedItem=a))Ext.fly(a).addCls(this.overItemCls),Ext.isIE8&&this.repaintBorder(a.nextSibling),this.hasListeners.highlightitem&&this.fireEvent("highlightitem",this,a)},highlightItem:function(a){this.setHighlightedItem(a)},
clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(a,b){var c,d,e;if(this.viewReady&&(c=this.getNode(b),d=this.callParent(arguments),(e=this.highlightedItem)&&e===c))delete this.highlightedItem,d&&this.highlightItem(d)},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(a){a=this.getNode(a);var b=this.el,c=0,d=0,e=b.getRegion();e.bottom=e.top+b.dom.clientHeight;e.right=e.left+b.dom.clientWidth;a&&(b=Ext.fly(a).getRegion(),b.top<e.top?
c=b.top-e.top:b.bottom>e.bottom&&(c=b.bottom-e.bottom),b.left<e.left?d=b.left-e.left:b.right>e.right&&(d=b.right-e.right),(d||c)&&this.scrollBy(d,c,!1),Ext.fly(a).set({tabIndex:-1}),a.focus())},bindStore:function(a,b,c){var d=this[c];d&&d.isFeatureStore?(a.isFeatureStore?(this.bindStoreListeners(a),d.bindStore(d.store)):d.bindStore(a),this.getSelectionModel().bindStore(d.store)):this.callParent(arguments)},privates:{repaintBorder:function(a){if(a=this.getNode(a))a.className=a.className}}});
Ext.define("Ext.grid.CellContext",{isCellContext:!0,constructor:function(a){this.view=a},isEqual:function(a){return a?this.record===a.record&&this.column===a.column:!1},setPosition:function(a,b){1===arguments.length&&(a.view&&(this.view=a.view),b=a.column,a=a.row);this.setRow(a);this.setColumn(b);return this},setAll:function(a,b,c,d,e){this.view=a;this.rowIdx=b;this.colIdx=c;this.record=d;this.column=e;return this},setRow:function(a){var b=this.view.dataSource;void 0!==a&&("number"===typeof a?(this.rowIdx=
Math.max(Math.min(a,b.getCount()-1),0),this.record=b.getAt(a)):a.isModel?(this.record=a,this.rowIdx=b.indexOf(a)):a.tagName&&(this.record=this.view.getRecord(a),this.rowIdx=b.indexOf(this.record)))},setColumn:function(a){var b=this.view.getVisibleColumnManager();void 0!==a&&("number"===typeof a?(this.colIdx=a,this.column=b.getHeaderAtIndex(a)):a.isHeader&&(this.column=a,this.colIdx=b.getHeaderIndex(a)))},equal:function(a){return a&&a.isCellContext&&a.view===this.view&&a.record===this.record&&a.column===
this.column},clone:function(){var a=new this.self(this.view);a.rowIdx=this.rowIdx;a.colIdx=this.colIdx;a.record=this.record;a.column=this.column;return a}});
Ext.define("Ext.util.CSS",function(){var a,b=null,c=document,d=/(-[a-z])/gi,e=function(a,b){return b.charAt(1).toUpperCase()};return{singleton:!0,rules:b,initialized:!1,constructor:function(){a=this},createStyleSheet:function(b,d){var e,k=c.getElementsByTagName("head")[0],l=c.createElement("style");l.setAttribute("type","text/css");d&&l.setAttribute("id",d);(e=l.styleSheet)?(k.appendChild(l),e.cssText=b):(l.appendChild(c.createTextNode(b)),k.appendChild(l),e=l.sheet);a.cacheStyleSheet(e);return e},
removeStyleSheet:function(a){(a=c.getElementById(a))&&a.parentNode.removeChild(a)},swapStyleSheet:function(b,d){var e;a.removeStyleSheet(b);e=c.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("id",b);e.setAttribute("href",d);c.getElementsByTagName("head")[0].appendChild(e)},cacheStyleSheet:function(c){b||(b=a.rules={});try{var d=c.cssRules||c.rules,e=d.length-1,k=c.imports,l=k?k.length:0,m,n;for(n=0;n<l;++n)a.cacheStyleSheet(k[n]);for(;0<=
e;--e)m=d[e],m.styleSheet&&a.cacheStyleSheet(m.styleSheet),a.cacheRule(m,c)}catch(p){}},cacheRule:function(c,d){if(c.styleSheet)return a.cacheStyleSheet(c.styleSheet);var e=c.selectorText,k,l;if(e){e=e.split(",");k=e.length;for(l=0;l<k;l++)b[Ext.String.trim(e[l]).toLowerCase()]={parentStyleSheet:d,cssRule:c}}},getRules:function(c){var d={},e;(null===b||c)&&a.refreshCache();for(e in b)d[e]=b[e].cssRule;return d},refreshCache:function(){var d=c.styleSheets,e=0,j=d.length;for(b=a.rules={};e<j;e++)try{d[e].disabled||
a.cacheStyleSheet(d[e])}catch(k){}},getRule:function(c,d,e){(!b||d)&&a.refreshCache();if(!Ext.isArray(c)){if((c=b[c.toLowerCase()])&&!e)c=c.cssRule;return c||null}for(d=0;d<c.length;d++)if(b[c[d]])return e?b[c[d].toLowerCase()]:b[c[d].toLowerCase()].cssRule;return null},createRule:function(b,c,d){var e=b.cssRules||b.rules,l=e.length;b.insertRule?b.insertRule(c+" {"+d+"}",l):b.addRule(c,d||" ");a.cacheRule(c=e[l],b);return c},updateRule:function(b,c,j){var k,l;if(Ext.isArray(b))for(k=0;k<b.length;k++){if(a.updateRule(b[k],
c,j))return!0}else if(k=a.getRule(b)){if(2===arguments.length)for(c in l=Ext.Element.parseStyles(c),l)k.style[c.replace(d,e)]=l[c];else k.style[c.replace(d,e)]=j;return!0}return!1},deleteRule:function(c){var d=a.getRule(c,!1,!0),e;d&&(e=d.parentStyleSheet,d=Ext.Array.indexOf(e.cssRules||e.rules,d.cssRule),e.deleteRule?e.deleteRule(d):e.removeRule(d),delete b[c])}}});
Ext.define("Ext.view.TableLayout",{extend:Ext.layout.component.Auto,alias:["layout.tableview"],type:"tableview",beginLayout:function(a){var b=this.owner.lockingPartner;this.callParent(arguments);b&&(this.lockedGrid=this.owner.up("[lockable]"),this.lockedGrid.needsRowHeightSync=!0,a.lockingPartner||(a.lockingPartner=a.context.getItem(b,b.el),a.lockingPartner&&!a.lockingPartner.lockingPartner&&(a.lockingPartner.lockingPartner=a)));a.headerContext=a.context.getCmp(this.headerCt);this.owner.body.dom&&
(a.bodyContext=a.getEl(this.owner.body))},calculate:function(a){var b=this.lockingPartner,c=this.owner,d=0;c.store.getCount()?a.headerContext.hasProp("columnsChanged")?a.headerContext.getProp("columnsChanged")&&!this.setColumnWidths(a)?this.done=!1:(a.state.columnWidthsSynced=!0,a.bodyContext&&((c=this.owner.el.down("."+c.ownerCt.emptyCls,!0))?d=c.offsetHeight:(d=a.bodyContext.el.dom.offsetHeight,a.bodyContext.setHeight(d,!1)),a.headerContext.state.boxPlan.tooNarrow&&a.ownerCtContext.sizeModel.height.shrinkWrap&&
(d+=Ext.getScrollbarSize().height),a.setProp("contentHeight",d)),b&&!b.state.columnWidthsSynced?this.done=!1:this.callParent(arguments)):this.done=!1:(a.state.columnWidthsSynced=!0,a.bodyContext&&a.bodyContext.setHeight(d,!1),a.setProp("contentHeight",d),this.callParent(arguments))},measureContentHeight:function(a){var b=a.lockingPartner;if(!a.bodyContext||a.state.columnWidthsSynced&&(!b||b.state.columnWidthsSynced))return this.callParent(arguments)},setColumnWidths:function(a){if(!this.owner.body.dom)return!0;
var b=this.owner,c=a.context;a=a.headerContext.getProp("columnsChanged");var d=this.headerCt.getVisibleGridColumns(),e,g=0,h=a.length,j,k;c&&(c.currentLayout=this);for(g=0;g<h;g++){e=d[a[g]];j=c.getCmp(e);k=j.props.width;if(isNaN(k))return j.getProp("width"),!1;b.body.select(b.getColumnSizerSelector(e)).setWidth(k)}return!0},finishedLayout:function(a){var b=a.headerContext.props.contentWidth,c=Ext.fly(this.owner.getNodeContainer());this.callParent(arguments);c&&c.setWidth(b);this.owner.refreshCounter&&
(this.lockedGrid&&this.lockedGrid.syncRowHeight&&this.lockedGrid.needsRowHeightSync)&&(this.lockedGrid.syncRowHeights(),this.lockedGrid.needsRowHeightSync=!1)}});
Ext.define("Ext.view.NodeCache",{statics:{range:document.createRange&&document.createRange()},constructor:function(a){this.view=a;this.clear();this.el=new Ext.dom.Fly},clear:function(a){var b=this.elements,c,d=this.statics().range;if(this.count&&a)if(d)d.setStartBefore(b[this.startIndex]),d.setEndAfter(b[this.endIndex]),d.deleteContents();else for(c in b)a=b[c],a.parentNode.removeChild(a);this.elements={};this.count=this.startIndex=0;this.endIndex=-1},fill:function(a,b,c){c=c||0;var d=this.elements=
{},e,g=a.length-c;b||(b=0);for(e=0;e<g;e++)d[b+e]=a[e+c];this.startIndex=b;this.endIndex=b+g-1;this.count=g;return this},insert:function(a,b){var c=this.elements,d,e=b.length;if(this.count){(a>this.endIndex+1||a+b.length-1<this.startIndex)&&Ext.Error.raise("Discontiguous range would result from inserting "+b.length+" nodes at "+a);if(a<this.count)for(d=this.endIndex+e;d>=a+e;d--)c[d]=c[d-e],c[d].setAttribute("data-recordIndex",d);this.endIndex+=e}else this.startIndex=a,this.endIndex=a+e-1;for(d=0;d<
e;d++,a++)c[a]=b[d],c[a].setAttribute("data-recordIndex",a);this.count+=e},invoke:function(a,b){var c,d;a=Ext.dom.Element.prototype[a];for(d=this.startIndex;d<=this.endIndex;d++)(c=this.item(d))&&a.apply(c,b);return this},item:function(a,b){var c=null;this.elements[a]&&(c=b?this.elements[a]:this.el.attach(this.elements[a]));return c},first:function(a){return this.item(this.startIndex,a)},last:function(a){return this.item(this.endIndex,a)},getCount:function(){return this.count},slice:function(a,b){var c=
this.elements,d=[],e;b=b?Math.min(this.endIndex,b-1):this.endIndex;for(e=a||this.startIndex;e<=b;e++)d.push(c[e]);return d},replaceElement:function(a,b,c){var d=this.elements,e="number"===typeof a?a:this.indexOf(a);-1<e&&(b=Ext.getDom(b),c&&(a=d[e],a.parentNode.insertBefore(b,a),Ext.removeNode(a),b.setAttribute("data-recordIndex",e)),this.elements[e]=b);return this},indexOf:function(a){var b=this.elements,c;a=Ext.getDom(a);for(c=this.startIndex;c<=this.endIndex;c++)if(b[c]===a)return c;return-1},
removeRange:function(a,b,c){var d=this.elements,e,g,h;b=null==b?this.endIndex+1:Math.min(this.endIndex+1,b+1);null==a&&(a=this.startIndex);g=b-a;e=a;for(h=b;e<=this.endIndex;e++,h++)c&&e<b&&Ext.removeNode(d[e]),h<=this.endIndex?(a=d[e]=d[h],a.setAttribute("data-recordIndex",e)):delete d[e];this.count-=g;this.endIndex-=g},removeElement:function(a,b){var c,d,e=this.elements,g,h=0,j;if(Ext.isArray(a)){c=a;a=[];g=c.length;for(h=0;h<g;h++)d=c[h],"number"!==typeof d&&(d=this.indexOf(d)),d>=this.startIndex&&
d<=this.endIndex&&(a[a.length]=d);Ext.Array.sort(a);g=a.length}else{if(a<this.startIndex||a>this.endIndex)return;g=1;a=[a]}d=j=a[0];for(h=0;d<=this.endIndex;d++,j++)h<g&&d===a[h]&&(j++,h++,b&&Ext.removeNode(e[d])),j<=this.endIndex&&j>=this.startIndex?(c=e[d]=e[j],c.setAttribute("data-recordIndex",d)):delete e[d];this.endIndex-=g;this.count-=g},scroll:function(a,b,c){var d=this.view,e=d.store,g=this.elements,h=a.length,j,k=d.getNodeContainer(),l=document.createDocumentFragment(),m=d.hasListeners.itemremove,
n=d.hasListeners.itemadd;j=this.statics().range;if(-1===b){if(c){if(j){j.setStartBefore(g[this.endIndex-c+1]);j.setEndAfter(g[this.endIndex]);j.deleteContents();for(j=this.endIndex-c+1;j<=this.endIndex;j++)b=g[j],delete g[j],m&&d.fireEvent("itemremove",e.getByInternalId(b.getAttribute("data-recordId")),j,b,d)}else for(j=this.endIndex-c+1;j<=this.endIndex;j++)b=g[j],delete g[j],b.parentNode.removeChild(b),m&&d.fireEvent("itemremove",e.getByInternalId(b.getAttribute("data-recordId")),j,b,d);this.endIndex-=
c}if(a.length){e=d.bufferRender(a,this.startIndex-=h);for(j=0;j<h;j++)g[this.startIndex+j]=e[j],l.appendChild(e[j]);k.insertBefore(l,k.firstChild);n&&d.fireEvent("itemadd",a,this.startIndex,e)}}else{if(c){c=this.startIndex+c;if(j){j.setStartBefore(g[this.startIndex]);j.setEndAfter(g[c-1]);j.deleteContents();for(j=this.startIndex;j<c;j++)b=g[j],delete g[j],m&&d.fireEvent("itemremove",e.getByInternalId(b.getAttribute("data-recordId")),j,b,d)}else for(j=this.startIndex;j<c;j++)b=g[j],delete g[j],b.parentNode.removeChild(b),
m&&d.fireEvent("itemremove",e.getByInternalId(b.getAttribute("data-recordId")),j,b,d);this.startIndex=c}e=d.bufferRender(a,this.endIndex+1);for(j=0;j<h;j++)g[this.endIndex+=1]=e[j],l.appendChild(e[j]);k.appendChild(l);n&&d.fireEvent("itemadd",a,this.endIndex+1,e)}this.count=this.endIndex-this.startIndex+1},sumHeights:function(){var a=0,b=this.elements,c;for(c=this.startIndex;c<=this.endIndex;c++)a+=b[c].offsetHeight;return a}},function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)});
Ext.define("Ext.view.Table",{extend:Ext.view.View,alias:"widget.tableview",inheritableStatics:{events:"blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate cellkeydown beforecellkeydown cellmouseup beforecellmouseup cellmousedown beforecellmousedown cellcontextmenu beforecellcontextmenu celldblclick beforecelldblclick cellclick beforecellclick refresh itemremove itemadd itemupdate viewready beforerefresh unhighlightitem highlightitem focuschange deselect select beforedeselect beforeselect selectionchange containerkeydown containercontextmenu containerdblclick containerclick containermouseout containermouseover containermouseup containermousedown beforecontainerkeydown beforecontainercontextmenu beforecontainerdblclick beforecontainerclick beforecontainermouseout beforecontainermouseover beforecontainermouseup beforecontainermousedown itemkeydown itemcontextmenu itemdblclick itemclick itemmouseleave itemmouseenter itemmouseup itemmousedown beforeitemkeydown beforeitemcontextmenu beforeitemdblclick beforeitemclick beforeitemmouseleave beforeitemmouseenter beforeitemmouseup beforeitemmousedown statesave beforestatesave staterestore beforestaterestore uievent groupcollapse groupexpand".split(" ")},
componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",itemCls:Ext.baseCSSPrefix+"grid-item",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",dirtyCls:Ext.baseCSSPrefix+
"grid-dirty-cell",rowClsRe:RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-row-(first|last|alt)(?:\\s+|$)","g"),cellRe:RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,trackOver:!0,focusable:!1,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"grid",tpl:["{%","view \x3d values.view;","if (!(columns \x3d values.columns)) {","columns \x3d values.columns \x3d view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth \x3d 0;",
"for (i \x3d 0, len \x3d columns.length; i \x3c len; i++) {","column \x3d columns[i];","values.fullWidth +\x3d (column.cellWidth \x3d column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls\x3dvalues.tableCls\x3d[];","%}",'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-item-container" style\x3d"width:{fullWidth}px"\x3e',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}",
"\x3c/div\x3e",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['\x3ctable id\x3d"{rowId}" ','data-boundView\x3d"{view.id}" ','data-recordId\x3d"{record.internalId}" ','data-recordIndex\x3d"{recordIndex}" ','class\x3d"{[values.itemClasses.join(" ")]}" cellPadding\x3d"0" cellSpacing\x3d"0" {ariaTableAttr} style\x3d"width:100%;{itemStyle}"\x3e',"{%","this.nextTpl.applyOut(values, out, parent)","%}","\x3c/table\x3e",{priority:9999}],rowTpl:["{%",'var dataRowCls \x3d values.recordIndex \x3d\x3d\x3d -1 ? "" : " '+
Ext.baseCSSPrefix+'grid-row";',"%}",'\x3ctr class\x3d"{[values.rowClasses.join(" ")]} {[dataRowCls]}" {rowAttr:attributes} {ariaRowAttr}\x3e','\x3ctpl for\x3d"columns"\x3e{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","\x3c/tpl\x3e","\x3c/tr\x3e",{priority:0}],cellTpl:['\x3ctd class\x3d"{tdCls}" {tdAttr} {[Ext.aria ? "id\x3d\\"" + Ext.id() + "\\"" : ""]} style\x3d"width:{column.cellWidth}px;\x3ctpl if\x3d"tdStyle"\x3e{tdStyle}\x3c/tpl\x3e" tabindex\x3d"-1" {ariaCellAttr} data-columnid\x3d"{[values.column.getItemId()]}"\x3e',
'\x3cdiv {unselectableAttr} class\x3d"'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style\x3d"text-align:{align};\x3ctpl if\x3d"style"\x3e{style}\x3c/tpl\x3e" {ariaCellInnerAttr}\x3e{value}\x3c/div\x3e',"\x3c/td\x3e",{priority:0}],refreshSelmodelOnRefresh:!1,tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},renderBuffer:document.createElement("div"),constructor:function(a){a.grid.isTree&&(a.baseCls=Ext.baseCSSPrefix+
"tree-view");this.callParent([a])},hasVariableRowHeight:function(a){return this.variableRowHeight||this.store.isGrouped()||this.getVisibleColumnManager().hasVariableRowHeight()||!a&&this.lockingPartner&&this.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){var a=this.scroll;this.columnLines&&this.addCls(this.grid.colLinesCls);this.rowLines&&this.addCls(this.grid.rowLinesCls);this.body=new Ext.dom.Fly;this.body.id=this.id+"gridBody";this.autoScroll=void 0;this.trackOver||(this.overItemCls=
null);!0===a||"both"===a?this.autoScroll=!0:"horizontal"===a?this.overflowX="auto":"vertical"===a&&(this.overflowY="auto");this.selModel.view=this.headerCt.view=this;this.grid.view=this;this.initFeatures(this.grid);this.itemSelector=this.getItemSelector();this.all=new Ext.view.NodeCache(this);this.callParent()},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},
beforeLayout:function(){var a=!this.firstRefreshDone&&this.headerCt.layout.running;this.callParent(arguments);a&&this.body.dom&&this.headerCt.layout.injectViewContext(this.headerCt.layout.ownerContext,this)},moveColumn:function(a,b,c){var d=1<c,e=d&&document.createRange?document.createRange():null,g=d&&!e?document.createDocumentFragment():null,h=b,j=this.getGridColumns().length,k=j-1,l=(this.firstCls||this.lastCls)&&(0===b||b===j||0===a||a===k),m,n,p,q,r,s;if(this.rendered&&b!==a){p=this.el.query(this.rowSelector);
b>a&&g&&(h-=1);m=0;for(q=p.length;m<q;m++){r=p[m];s=r.childNodes;if(l){if(1===s.length){Ext.fly(s[0]).addCls(this.firstCls);Ext.fly(s[0]).addCls(this.lastCls);continue}0===a?(Ext.fly(s[0]).removeCls(this.firstCls),Ext.fly(s[1]).addCls(this.firstCls)):a===k&&(Ext.fly(s[k]).removeCls(this.lastCls),Ext.fly(s[k-1]).addCls(this.lastCls));0===b?(Ext.fly(s[0]).removeCls(this.firstCls),Ext.fly(s[a]).addCls(this.firstCls)):b===j&&(Ext.fly(s[k]).removeCls(this.lastCls),Ext.fly(s[a]).addCls(this.lastCls))}if(d){if(e)e.setStartBefore(s[a]),
e.setEndAfter(s[a+c-1]),g=e.extractContents();else for(n=0;n<c;n++)g.appendChild(s[a]);r.insertBefore(g,s[h]||null)}else r.insertBefore(s[a],s[h]||null)}b=this.el.query("colgroup");m=0;for(q=b.length;m<q;m++)if(r=b[m],d){if(e)e.setStartBefore(r.childNodes[a]),e.setEndAfter(r.childNodes[a+c-1]),g=e.extractContents();else for(n=0;n<c;n++)g.appendChild(r.childNodes[a]);r.insertBefore(g,r.childNodes[h]||null)}else r.insertBefore(r.childNodes[a],r.childNodes[h]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(a,
b,c){this.mon(this,a,b,c,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(a){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(a)},getCell:function(a,b){var c=this.getRow(a);return Ext.fly(c).down(b.getCellSelector())},getFeature:function(a){var b=this.featuresMC;if(b)return b.get(a)},findFeature:function(a){if(this.features)return Ext.Array.findBy(this.features,function(b){if(b.ftype===a)return!0})},initFeatures:function(a){var b,
c,d,e;this.tpl=Ext.XTemplate.getTpl(this,"tpl");this.rowTpl=Ext.XTemplate.getTpl(this,"rowTpl");this.addRowTpl(Ext.XTemplate.getTpl(this,"outerRowTpl"));this.cellTpl=Ext.XTemplate.getTpl(this,"cellTpl");this.featuresMC=new Ext.util.MixedCollection;e=(c=this.features=this.constructFeatures())?c.length:0;for(b=0;b<e;b++)d=c[b],d.view=this,d.grid=a,this.featuresMC.add(d),d.init(a)},renderTHead:function(a,b,c){var d=a.view.headerFns,e,g;if(d){g=0;for(e=d.length;g<e;++g)d[g].call(this,a,b,c)}},addHeaderFn:function(a){var b=
this.headerFns;b||(b=this.headerFns=[]);b.push(a)},renderTFoot:function(a,b,c){var d=a.view.footerFns,e,g;if(d){g=0;for(e=d.length;g<e;++g)d[g].call(this,a,b,c)}},addFooterFn:function(a){var b=this.footerFns;b||(b=this.footerFns=[]);b.push(a)},addTpl:function(a){return this.insertTpl("tpl",a)},addRowTpl:function(a){return this.insertTpl("rowTpl",a)},addCellTpl:function(a){return this.insertTpl("cellTpl",a)},insertTpl:function(a,b){var c,d;b=b.isTemplate?Ext.Object.chain(b):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",
b);for(c=this[a];b.priority<c.priority;c=c.nextTpl)d=c;d?d.nextTpl=b:this[a]=b;b.nextTpl=c;return b},tplApplyOut:function(a,b,c){this.before&&!1===this.before(a,b,c)||(this.nextTpl.applyOut(a,b,c),this.after&&this.after(a,b,c))},constructFeatures:function(){var a=this.features,b,c,d=0,e;if(a){c=[];for(e=a.length;d<e;d++)b=a[d],b.isFeature||(b=Ext.create("feature."+b.ftype,b)),c[d]=b}return c},beforeRender:function(){this.callParent();this.enableTextSelection||this.protoEl.unselectable()},onBindStore:function(){this.all&&
this.all.getCount()&&(this.bufferedRenderer&&this.bufferedRenderer.setBodyTop(0),this.clearViewEl());this.callParent(arguments)},onViewScroll:function(a,b){this.ignoreScroll||(this.callParent(arguments),this.fireEvent("bodyscroll",a,b))},createRowElement:function(a,b,c){var d=this.renderBuffer;a=this.collectData([a],b);a.columns=c;this.tpl.overwrite(d,a);return Ext.fly(d).down(this.getNodeContainerSelector(),!0).firstChild},bufferRender:function(a,b){var c=this.renderBuffer;this.tpl.overwrite(c,this.collectData(a,
b));return Ext.Array.toArray(Ext.fly(c).down(this.getNodeContainerSelector(),!0).childNodes)},collectData:function(a,b){this.rowValues.view=this;this.tableValues.view=this;this.tableValues.rows=a;this.tableValues.columns=null;this.tableValues.viewStartIndex=b;this.tableValues.touchScroll=this.touchScroll;this.tableValues.tableStyle="width:"+this.headerCt.getTableWidth()+"px";return this.tableValues},collectNodes:function(){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},refreshSize:function(a){var b=
this.getBodySelector();b&&this.body.attach(this.el.down(b,!0));this.hasLoadingHeight||(Ext.suspendLayouts(),this.callParent(arguments),(a||this.hasVariableRowHeight()&&this.dataSource.getCount())&&this.grid.updateLayout(),Ext.resumeLayouts(!0))},clearViewEl:function(a){var b=this.all,c=this.getStore(),d,e;for(d=b.startIndex;d<=b.endIndex;d++)e=b.item(d,!0),this.fireEvent("itemremove",c.getByInternalId(e.getAttribute("data-recordId")),d,e,this);this.callParent();if((b=Ext.fly(this.getNodeContainer()))&&
!a)a=this.getTargetEl(),a.dom!==b.dom&&b.destroy()},getMaskTarget:function(){var a=this.ownerCt;a.ownerLockable&&(a=a.ownerLockable);return a.getMaskTarget()},statics:{getBoundView:function(a){return Ext.getCmp(a.getAttribute("data-boundView"))}},getRecord:function(a){var b;if(!this.store.isDestroyed){if(a.isModel)return a;if(a=this.getNode(a)){if(!this.hasActiveFeature()&&(b=a.getAttribute("data-recordIndex")))if(b=parseInt(b,10),-1<b)return this.store.data.getAt(b);return this.dataSource.getByInternalId(a.getAttribute("data-recordId"))}}},
indexOf:function(a){a=this.getNode(a);return!a&&0!==a?-1:this.all.indexOf(a)},indexInStore:function(a){return a?this.dataSource.indexOf(this.getRecord(a)):-1},renderRows:function(a,b,c,d){var e=this.rowValues,g=a.length;e.view=this;e.columns=b;for(b=0;b<g;b++,c++)e.itemClasses.length=e.rowClasses.length=0,this.renderRow(a[b],c,d);e.view=e.columns=e.record=null},renderColumnSizer:function(a,b){var c=a.columns||this.getGridColumns(),d=c.length,e,g;b.push('\x3ccolgroup role\x3d"presentation"\x3e');for(e=
0;e<d;e++)g=c[e],g=g.cellWidth?g.cellWidth:Ext.grid.header.Container.prototype.defaultWidth,b.push('\x3ccol role\x3d"presentation" class\x3d"',Ext.baseCSSPrefix,"grid-cell-",c[e].getItemId(),'" style\x3d"width:'+g+'px"\x3e');b.push("\x3c/colgroup\x3e")},renderRow:function(a,b,c){var d=-1===b,e=this.selModel,g=this.rowValues,h=g.itemClasses,j=g.rowClasses,k=this.itemCls,l=this.rowTpl;g.rowAttr={};g.record=a;g.recordId=a.internalId;g.recordIndex=this.store.indexOf(a);g.rowIndex=b;g.rowId=this.getRowId(a);
g.itemCls=g.rowCls="";g.columns||(g.columns=this.ownerCt.getVisibleColumnManager().getColumns());h.length=j.length=0;d||(h[0]=k,!this.ownerCt.disableSelection&&e.isRowSelected&&e.isRowSelected(a)&&h.push(this.selectedItemCls),this.stripeRows&&0!==b%2&&h.push(this.altRowCls),this.getRowClass&&(a=this.getRowClass(a,b,null,this.dataSource))&&j.push(a));if(c)l.applyOut(g,c,this.tableValues);else return l.apply(g,this.tableValues)},renderCell:function(a,b,c,d,e,g){var h=this.selModel,j=this.cellValues,
k=j.classes,l=b.data[a.dataIndex],m=this.cellTpl;j.record=b;j.column=a;j.recordIndex=c;j.rowIndex=d;j.columnIndex=e;j.cellIndex=e;j.align=a.align;j.innerCls=a.innerCls;j.tdCls=j.tdStyle=j.tdAttr=j.style="";j.unselectableAttr=this.enableTextSelection?"":'unselectable\x3d"on"';k[1]=a.getCellId();d=2;a.renderer&&a.renderer.call&&(e=this.ownerCt.columnManager.getHeaderIndex(a),l=a.renderer.call(a.usingDefaultRenderer?a:a.scope||this.ownerCt,l,j,b,c,e,this.dataSource,this),j.css&&(b.cssWarning=!0,j.tdCls+=
" "+j.css,j.css=null),j.tdCls&&(k[d++]=j.tdCls));j.value=null==l||""===l?a.emptyCellText:l;a.tdCls&&(k[d++]=a.tdCls);this.markDirty&&b.isModified(a.dataIndex)&&(k[d++]=this.dirtyCls);a.isFirstVisible&&(k[d++]=this.firstCls);a.isLastVisible&&(k[d++]=this.lastCls);this.enableTextSelection||(k[d++]=this.unselectableCls);h&&(h.isCellModel&&h.isCellSelected(this,c,a))&&(k[d++]=this.selectedCellCls);k.length=d;j.tdCls=k.join(" ");m.applyOut(j,g);j.column=null},getRow:function(a){if(!a&&0!==a||!this.rendered)return null;
a.target&&(a=a.target);if(Ext.isString(a))return Ext.fly(a).down(this.rowSelector,!0);if(Ext.isNumber(a))return(a=this.all.item(a))&&a.down(this.rowSelector,!0);if(a.isModel)return this.getRowByRecord(a);a=Ext.fly(a);return a.is(this.itemSelector)?this.getRowFromItem(a):a.findParent(this.rowSelector,this.getTargetEl())},getRowId:function(a){return this.id+"-record-"+a.internalId},constructRowId:function(a){return this.id+"-record-"+a},getNodeById:function(a){a=this.constructRowId(a);return this.retrieveNode(a,
!1)},getRowById:function(a){a=this.constructRowId(a);return this.retrieveNode(a,!0)},getNodeByRecord:function(a){return this.retrieveNode(this.getRowId(a),!1)},getRowByRecord:function(a){return this.retrieveNode(this.getRowId(a),!0)},getRowFromItem:function(a){a=Ext.getDom(a).tBodies[0].childNodes;var b=a.length,c;for(c=0;c<b;c++)if(Ext.fly(a[c]).is(this.rowSelector))return a[c]},retrieveNode:function(a,b){var c=this.el.getById(a,!0);return b&&c?Ext.fly(c).down(this.rowSelector,!0):c},updateIndexes:Ext.emptyFn,
bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(a){a=this.sizerSelector+"-"+a.getItemId();
return"td"+a+",col"+a},getItemSelector:function(){return this.itemSelector},getCellSelector:function(a){return a?a.getCellSelector():this.cellSelector},getCellInnerSelector:function(a){return this.getCellSelector(a)+" "+this.innerSelector},addRowCls:function(a,b){var c=this.getRow(a);c&&Ext.fly(c).addCls(b)},removeRowCls:function(a,b){var c=this.getRow(a);c&&Ext.fly(c).removeCls(b)},onRowSelect:function(a){this.addItemCls(a,this.selectedItemCls);Ext.isIE8&&this.repaintBorder(a+1)},onRowDeselect:function(a){this.removeItemCls(a,
this.selectedItemCls);Ext.isIE8&&this.repaintBorder(a+1)},onCellSelect:function(a){(a=this.getCellByPosition(a))&&a.addCls(this.selectedCellCls)},onCellDeselect:function(a){(a=this.getCellByPosition(a,!0))&&Ext.fly(a).removeCls(this.selectedCellCls)},getCellInclusive:function(a,b){if(a){var c=this.getRow(a.row),d=this.ownerCt.getColumnManager().getHeaderAtIndex(a.column);if(d&&c)return Ext.fly(c).down(this.getCellSelector(d),b)}return!1},getCellByPosition:function(a,b){if(a){var c=a.view||this,d=
c.getRow(a.record||a.row),e=a.column.isColumn?a.column:c.getVisibleColumnManager().getHeaderAtIndex(a.column);if(e&&d)return Ext.fly(d).down(c.getCellSelector(e),b)}return!1},onRowFocus:function(a,b,c){b?(this.addItemCls(a,this.focusedItemCls),c||this.focusRow(a)):this.removeItemCls(a,this.focusedItemCls);Ext.isIE8&&this.repaintBorder(a+1)},focusRow:function(a,b){var c=this.getFocusTask();b?c.delay(Ext.isNumber(b)?b:10,this.focusRow,this,[a,!1]):(c.cancel(),this.isVisible(!0)&&this.getNavigationModel().setPosition(this.getRecord(a)))},
focusNode:function(a,b){this.focusRow(a,b)},scrollRowIntoView:function(a,b){(a=this.getRow(a))&&this.scrollElIntoView(a,!1,b)},focusCell:function(a,b){var c=this.getFocusTask();b?c.delay(Ext.isNumber(b)?b:10,this.focusCell,this,[a,!1]):(c.cancel(),this.isVisible(!0)&&this.getCellByPosition(a)&&this.getNavigationModel().setPosition(a))},getLastFocused:function(){var a=this.lastFocused;if(a&&a.record&&a.column&&-1!==this.dataSource.indexOf(a.record)&&-1!==this.getVisibleColumnManager().indexOf(a.column))return a},
scrollCellIntoView:function(a,b){a.isCellContext&&(a=this.getCellByPosition(a));a&&this.scrollElIntoView(a,null,b)},scrollElIntoView:function(a,b,c){var d=this.scrollManager;d?d.scrollIntoView(a,b,c):Ext.fly(a).scrollIntoView(this.el,b,c)},syncRowHeights:function(a,b){a.style.height=b.style.height="";var c=this.rowTpl,d=a.offsetHeight,e=b.offsetHeight;if(d!==e){for(;c&&!(c.syncRowHeights&&!1===c.syncRowHeights(a,b));)c=c.nextTpl;d=a.offsetHeight;e=b.offsetHeight;d!==e&&(a=Ext.fly(a).down(this.rowSelector,
!0)||a,b=Ext.fly(b).down(this.rowSelector,!0)||b,a&&b&&(a.style.height=b.style.height="",d=a.offsetHeight,e=b.offsetHeight,d>e?(Ext.fly(a).setHeight(d),Ext.fly(b).setHeight(d)):e>d&&(Ext.fly(a).setHeight(e),Ext.fly(b).setHeight(e))))}},handleUpdate:function(a,b,c,d){var e=this.rowTpl,g,h,j,k,l,m,n,p,q;c=[];var r=this.variableRowHeight,s,t=0;l=this.ownerCt;if(this.viewReady&&(a=this.getNodeByRecord(b))){m=this.overItemCls;n=this.focusedItemCls;p=this.selectedItemCls;q=this.ownerCt.getVisibleColumnManager().getColumns();
k=0;for(g=q.length;k<g;k++)if(j=q[k],s=this.shouldUpdateCell(b,j,d))t|=s,c[c.length]=j,r=r||j.variableRowHeight;if(!this.getRowFromItem(a)||t&1||1<a.tBodies[0].childNodes.length){g=Ext.fly(a,"_internal");j=this.createRowElement(b,this.dataSource.indexOf(b),c);g.hasCls(m)&&Ext.fly(j).addCls(m);g.hasCls(n)&&Ext.fly(j).addCls(n);g.hasCls(p)&&Ext.fly(j).addCls(p);if(Ext.isIE9m&&a.mergeAttributes)a.mergeAttributes(j,!0);else{g=j.attributes;k=g.length;for(m=0;m<k;m++)l=g[m].name,"id"!==l&&a.setAttribute(l,
g[m].value)}for(q.length&&(h=this.getRow(a))&&this.updateColumns(h,Ext.fly(j).down(this.rowSelector,!0),c);e&&!(e.syncContent&&!1===e.syncContent(a,j,d?c:null));)e=e.nextTpl}else{this.cellFly||(this.cellFly=new Ext.dom.Fly);k=0;for(g=c.length;k<g;k++)j=c[k],d=j.dataIndex,h=b.get(d),d=a.firstChild.firstChild.childNodes[j.getVisibleIndex()],this.markDirty&&(this.cellFly.attach(d),b.isModified(j.dataIndex)?this.cellFly.addCls(this.dirtyCls):this.cellFly.removeCls(this.dirtyCls)),e=(e=j.usingDefaultRenderer)?
j:j.scope,j.updater?Ext.callback(j.updater,e,[d,h,b,this,this.dataSource],0,j,l):(j.renderer&&(h=Ext.callback(j.renderer,e,[h,null,b,0,0,this.dataSource,this],0,j,l)),j.producesHTML?d.childNodes[0].innerHTML=h:d.childNodes[0].childNodes[0].data=h),this.highlightClass&&(Ext.fly(d).addCls(this.highlightClass),this.changedCells||(this.self.prototype.changedCells=[],this.prototype.clearChangedTask=new Ext.util.DelayedTask(this.clearChangedCells,this.prototype),this.clearChangedTask.delay(this.unhighlightDelay)),
this.changedCells.push({cell:d,cls:this.highlightClass,expires:Ext.Date.now()+1E3}))}r&&Ext.suspendLayouts();this.fireEvent("itemupdate",b,this.store.indexOf(b),a);r&&(this.refreshSize(),Ext.resumeLayouts(!0))}},clearChangedCells:function(){for(var a=Ext.Date.now(),b,c=this.changedCells.length;0<c;)if(b=this.changedCells[0],b.expires<=a)Ext.fly(b.cell).removeCls(b.highlightClass),Ext.Array.erase(this.changedCells,0,1),c--;else break;c&&this.clearChangedTask.delay(this.unhighlightDelay)},updateColumns:function(a,
b,c){var d,e,g,h,j=c.length;g=this.getCellSelector();if(a.mergeAttributes)a.mergeAttributes(b,!0);else{d=b.attributes;e=d.length;for(h=0;h<e;h++)g=d[h].name,"id"!==g&&a.setAttribute(g,d[h].value)}for(d=0;d<j;d++)e=c[d],g=this.getCellSelector(e),e=Ext.fly(a).selectNode(g),g=Ext.fly(b).selectNode(g),Ext.fly(e).syncContent(g)},shouldUpdateCell:function(a,b,c){if(!b.preventUpdate){if(b.hasCustomRenderer)return 1;if(c){var d=c.length,e,g;for(e=0;e<d;++e)if(g=c[e],g===b.dataIndex||g===a.idProperty)return 2}else return 2}return 0},
refresh:function(){var a;a=this.grid.containsFocus;var b=this.getNavigationModel();this.callParent(arguments);a&&b.setPosition(b.getLastFocused(),null,null,null,!0);this.headerCt.setSortState();this.touchScroll&&(this.el&&!this.all.getCount()&&this.headerCt&&this.headerCt.tooNarrow)&&(a=this.scrollManager.scroller.getSize(),a.x=this.headerCt.getTableWidth(),this.scrollManager.scroller.setSize(a),this.scrollManager.refresh())},processItemEvent:function(a,b,c,d){var e=this.self,g=e.EventMap,h=d.type,
j,k,l=this.features,m=l.length,n,p,q;q=this.getNavigationModel();var r;p=d.position=this.eventPosition||(this.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&"mouseup"===h&&!d.within(this.el))return!1;if(-1!==this.indexInStore(b)){j=p.rowElement=Ext.fly(b).down(this.rowSelector,!0);if(Ext.String.startsWith(d.type,"key")&&(r=q.getPosition()))k=(k=q.getCell())&&k.dom,n=r.column;k||(k=d.getTarget(this.getCellSelector(),j));h=e.TouchEventMap[h]||h;if(k){if(!k.parentNode)return!1;n||(n=this.getHeaderByCell(k));
e=this.ownerCt.getColumnManager().getHeaderIndex(n)}else e=-1;p.setAll(this,c,n?this.getVisibleColumnManager().getHeaderIndex(n):-1,a,n);p.cellElement=k;p=this.fireEvent("uievent",h,this,k,c,e,d,a,j);if(!1===p||!1===this.callParent(arguments)){g=this.getSelectionModel();if(g.onVetoUIEvent)g.onVetoUIEvent(h,this,k,c,e,d,a,j);return!1}for(n=0;n<m;++n)if(q=l[n],q.wrapsItem&&!1===q.vetoEvent(a,j,c,d))return this.processSpecialEvent(d),!1;k&&("mouseover"!==h&&"mouseout"!==h)&&(p=!(!1===this["onBeforeCell"+
g[h]](k,e,a,j,c,d)||!1===this.fireEvent("beforecell"+h,this,k,e,a,j,c,d)||!1===this["onCell"+g[h]](k,e,a,j,c,d)||!1===this.fireEvent("cell"+h,this,k,e,a,j,c,d)));!1!==p&&(p=this.fireEvent("row"+h,this,a,j,c,d));return p}this.processSpecialEvent(d);return!1},processSpecialEvent:function(a){var b=this.features,c=b.length,d=a.type,e,g,h,j,k,l=this.ownerCt;this.callParent(arguments);if(!("mouseover"==d||"mouseout"==d)){d=this.self.TouchEventMap[d]||d;for(e=0;e<c;e++)if(g=b[e],g.hasFeatureEvent&&(j=a.getTarget(g.eventSelector,
this.getTargetEl())))if(h=g.eventPrefix,k=g.getFireEventArgs("before"+h+d,this,j,a),g=g.getFireEventArgs(h+d,this,j,a),!1===this.fireEvent.apply(this,k)||!1===l.fireEvent.apply(l,k)||!1===this.fireEvent.apply(this,g)||!1===l.fireEvent.apply(l,g))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,
onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(a){this.autoSizeColumn(a)},autoSizeColumn:function(a){Ext.isNumber(a)&&(a=this.getGridColumns[a]);a&&(a.isGroupHeader?a.autoSize():(delete a.flex,a.setWidth(this.getMaxContentWidth(a))))},getMaxContentWidth:function(a){var b=this.el.query(a.getCellInnerSelector()),
c=a.getWidth(),d=0,e=b.length,g=this.body.select(this.getColumnSizerSelector(a)),h=Math.max,j=0,k;0<e&&(Ext.supports.ScrollWidthInlinePaddingBug&&(j+=this.getCellPaddingAfter(b[0])),this.columnLines&&(j+=Ext.fly(b[0].parentNode).getBorderWidth("lr")));g.setWidth(1);a.titleEl.setStyle("text-overflow","clip");k=a.textEl.dom.offsetWidth+a.titleEl.getPadding("lr");for(a.titleEl.setStyle("text-overflow","");d<e;d++)k=h(k,b[d].scrollWidth);k=h(k+j,40);g.setWidth(c);return k},getPositionByEvent:function(a){var b=
a.getTarget(this.cellSelector);a=a.getTarget(this.itemSelector);a=this.getRecord(a);b=this.getHeaderByCell(b);return this.getPosition(a,b)},getHeaderByCell:function(a){return a?this.ownerCt.getVisibleColumnManager().getHeaderById(a.getAttribute("data-columnId")):!1},walkCells:function(a,b,c,d,e,g){if(!a)return!1;var h="number"===typeof a.row?a.row:a.rowIdx;a="number"===typeof a.column?a.column:a.colIdx;var j=this.dataSource.getCount(),k=this.ownerCt.getVisibleColumnManager(),l=k.getHeaderIndex(k.getFirst()),
m=k.getHeaderIndex(k.getLast()),n=h,p=a,q=k.getHeaderAtIndex(a);if(!q||q.hidden||!j)return!1;c=c||{};b=b.toLowerCase();switch(b){case "right":if(a===m){if(d||h===j-1)return!1;c.ctrlKey||(n=this.walkRows(h,1),n!==h&&(p=l))}else p=c.ctrlKey?m:k.getHeaderIndex(k.getNextSibling(q));break;case "left":if(a===l){if(d||0===h)return!1;c.ctrlKey||(n=this.walkRows(h,-1),n!==h&&(p=m))}else p=c.ctrlKey?l:k.getHeaderIndex(k.getPreviousSibling(q));break;case "up":if(0===h)return!1;n=c.ctrlKey?this.walkRows(-1,1):
this.walkRows(h,-1);break;case "down":if(h===j-1)return!1;n=c.ctrlKey?this.walkRows(j,-1):this.walkRows(h,1)}if(e&&!0!==e.call(g||this,{row:n,column:p}))return!1;p=k.getHeaderAtIndex(p);return(new Ext.grid.CellContext(this)).setPosition(n,p)},walkRows:function(a,b){var c=this.dataSource,d=0,e=a,g,h=(c=0>b?0:(c.isBufferedStore?c.getTotalCount():c.getCount())-1)?1:-1,j=a;do{if(c?j>=c:j<=c)return e||c;j+=h;if((g=Ext.fly(this.getRow(j)))&&g.isVisible(!0))d+=h,e=j}while(d!==b);return j},walkRecs:function(a,
b){var c=this.dataSource,d=0,e=a,g,h=0>b?0:(c.isBufferedStore?c.getTotalCount():c.getCount())-1,j=h?1:-1,k=c.indexOf(a),l;do{if(h?k>=h:k<=h)break;k+=j;l=c.getAt(k);if(!l.isCollapsedPlaceholder&&(g=Ext.fly(this.getNodeByRecord(l)))&&g.isVisible(!0))d+=j,e=l}while(d!==b);return e},getFirstVisibleRowIndex:function(){var a=this.dataSource.isBufferedStore?this.dataSource.getTotalCount():this.dataSource.getCount(),b=this.indexOf(this.all.first())-1;do if(b+=1,b===a)return;while(!Ext.fly(this.getRow(b)).isVisible(!0));
return b},getLastVisibleRowIndex:function(){var a=this.indexOf(this.all.last());do if(a-=1,-1===a)return;while(!Ext.fly(this.getRow(a)).isVisible(!0));return a},getHeaderCt:function(){return this.headerCt},getPosition:function(a,b){return(new Ext.grid.CellContext(this)).setPosition(a,b)},beforeDestroy:function(){this.rendered&&this.el.clearListeners();this.callParent(arguments)},onDestroy:function(){var a=this.featuresMC,b,c;if(a){c=0;for(b=a.getCount();c<b;++c)a.getAt(c).destroy()}this.featuresMC=
null;this.callParent(arguments)},onReplace:function(a,b,c,d){var e=this.bufferedRenderer;if(this.rendered&&e)e.onReplace(a,b,c,d);else this.callParent(arguments),this.doStripeRows(b)},onAdd:function(a,b,c){var d=this.bufferedRenderer;if(this.rendered&&d)d.onReplace(a,c,[],b);else this.callParent(arguments),this.setPendingStripe(c)},onRemove:function(a,b,c){var d=this.bufferedRenderer;if(this.rendered&&d)d.onReplace(a,c,b,[]);else this.callParent(arguments),this.setPendingStripe(c)},onDataRefresh:function(){var a=
this.ownerCt;if(a&&2===a.isCollapsingOrExpanding)a.on("expand",this.onDataRefresh,this,{single:!0});else this.bufferedRenderer&&(this.all.clear(),this.bufferedRenderer.onStoreClear()),this.callParent()},getViewRange:function(){return this.bufferedRenderer?this.bufferedRenderer.getViewRange():this.callParent()},setPendingStripe:function(a){var b=this.stripeOnUpdate;this.stripeOnUpdate=b=null===b?a:Math.min(b,a)},onEndUpdate:function(){var a=this.stripeOnUpdate;if(a||0===a)this.doStripeRows(a),this.stripeOnUpdate=
null;this.callParent(arguments)},doStripeRows:function(a,b){var c,d,e,g;if(this.rendered&&this.stripeRows){c=this.getNodes(a,b);e=0;for(d=c.length;e<d;e++)g=c[e],g.className=g.className.replace(this.rowClsRe," "),a++,0===a%2&&(g.className+=" "+this.altRowCls)}},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding("r")},privates:{refreshScroll:function(){var a=this.bufferedRenderer;a?a.stretchView(this,
a.getScrollHeight(!0)):this.callParent()}}});
Ext.define("Ext.rtl.view.Table",{override:"Ext.view.Table",rtlCellTpl:['\x3ctd class\x3d"'+Ext.baseCSSPrefix+'rtl {tdCls}" {tdAttr} {[Ext.aria ? "id\x3d\\"" + Ext.id() + "\\"" : ""]} style\x3d"width:{column.cellWidth}px;\x3ctpl if\x3d"tdStyle"\x3e{tdStyle}\x3c/tpl\x3e" tabindex\x3d"-1" {ariaCellAttr} data-columnid\x3d"{[values.column.getItemId()]}"\x3e','\x3cdiv {unselectableAttr} class\x3d"'+Ext.baseCSSPrefix+"rtl "+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style\x3d"text-align:{[this.getAlign(values.align)]};\x3ctpl if\x3d"style"\x3e{style}\x3c/tpl\x3e" {ariaCellInnerAttr}\x3e{value}\x3c/div\x3e',
"\x3c/td\x3e",{priority:0,rtlAlign:{right:"left",left:"right",center:"center"},getAlign:function(a){return this.rtlAlign[a]}}],beforeRender:function(){this.callParent();this.getInherited().rtl&&this.addCellTpl(this.getTpl("rtlCellTpl"))},getCellPaddingAfter:function(a){return Ext.fly(a).getPadding(this.getInherited().rtl?"l":"r")},scrollElIntoView:function(a,b,c){var d=this.scrollManager;if(d)d.scrollIntoView(a,b,c);else Ext.fly(a)[this.getInherited().rtl?"rtlScrollIntoView":"scrollIntoView"](this.el,
b,c)}});Ext.define("Ext.grid.View",{extend:Ext.view.Table,alias:"widget.gridview",autoScroll:!0});Ext.define("Ext.grid.Panel",{extend:Ext.panel.Table,alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"gridview",lockable:!1,rowLines:!0});Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}});
Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:!1,childEls:["boxLabelEl"],fieldSubTpl:['\x3cdiv class\x3d"{wrapInnerCls} {noBoxLabelCls}" role\x3d"presentation"\x3e','\x3ctpl if\x3d"labelAlignedBefore"\x3e',"{beforeBoxLabelTpl}",'\x3clabel id\x3d"{cmpId}-boxLabelEl" data-ref\x3d"boxLabelEl" {boxLabelAttrTpl} class\x3d"{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for\x3d"{id}"\x3e',
"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","\x3c/label\x3e","{afterBoxLabelTpl}","\x3c/tpl\x3e",'\x3cinput type\x3d"button" id\x3d"{id}" data-ref\x3d"inputEl" role\x3d"{role}" {inputAttrTpl}','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete\x3d"off" hidefocus\x3d"true" /\x3e',
'\x3ctpl if\x3d"boxLabel \x26\x26 !labelAlignedBefore"\x3e',"{beforeBoxLabelTpl}",'\x3clabel id\x3d"{cmpId}-boxLabelEl" data-ref\x3d"boxLabelEl" {boxLabelAttrTpl} class\x3d"{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for\x3d"{id}"\x3e',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","\x3c/label\x3e","{afterBoxLabelTpl}","\x3c/tpl\x3e","\x3c/div\x3e",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:"beforeBoxLabelTpl afterBoxLabelTpl beforeBoxLabelTextTpl afterBoxLabelTextTpl boxLabelAttrTpl inputAttrTpl".split(" "),
isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",isTextInput:!1,ariaRole:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+
"form-cb",initComponent:function(){var a=this.value;void 0!==a&&(this.checked=this.isChecked(a,this.inputValue));this.callParent(arguments);this.getManager().add(this)},initValue:function(){var a=!!this.checked;this.originalValue=this.lastValue=a;this.setValue(a)},getElConfig:function(){this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls);return this.callParent()},getSubTplData:function(a){var b=this.boxLabel,c=this.boxLabelAlign,d=b&&"before"===c;return Ext.apply(this.callParent(arguments),
{disabled:this.readOnly||this.disabled,wrapInnerCls:this.wrapInnerCls,boxLabel:b,boxLabelCls:this.boxLabelCls,boxLabelAlign:c,labelAlignedBefore:d,afterLabelCls:d?this.afterLabelCls:"",noBoxLabelCls:!b?this.noBoxLabelCls:"",role:this.ariaRole})},initEvents:function(){this.callParent();this.mon(this.inputEl,"click",this.onBoxClick,this,{translate:!1})},setBoxLabel:function(a){this.boxLabel=a;this.rendered&&this.boxLabelEl.setHtml(a)},onBoxClick:function(){!this.disabled&&!this.readOnly&&this.setValue(!this.checked)},
getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,a=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:a},isChecked:function(a,b){return!0===a||"true"===a||"1"===a||1===a||((Ext.isString(a)||Ext.isNumber(a))&&b?a==b:this.onRe.test(a))},setRawValue:function(a){var b=this.inputEl;a=this.isChecked(a,this.inputValue);if(b)this[a?"addCls":"removeCls"](this.checkedCls);this.checked=this.rawValue=a;this.duringSetValue||
(this.lastValue=a);return a},setValue:function(a){var b,c,d,e;if(Ext.isArray(a)){b=this.getManager().getByName(this.name,this.getFormId()).items;d=b.length;for(c=0;c<d;++c)e=b[c],e.setValue(Ext.Array.contains(a,e.inputValue))}else this.duringSetValue=!0,this.callParent(arguments),delete this.duringSetValue;return this},valueToRaw:Ext.identityFn,onChange:function(a,b){Ext.callback(this.handler,this.scope,[this,a],0,this);this.callParent(arguments);this.reference&&this.publishState&&this.publishState("checked",
a)},resetOriginalValue:function(a){var b,c,d;if(!a){a=this.getManager().getByName(this.name,this.getFormId()).items;c=a.length;for(d=0;d<c;++d)b=a[d],b!==this&&a[d].resetOriginalValue(!0)}this.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this.inputEl;this.callParent();a&&(a.dom.disabled=this.readOnly)},setReadOnly:function(a){var b=this.inputEl;b&&(b.dom.disabled=!!a||
this.disabled);this.callParent(arguments)},getFormId:function(){var a;if(!this.formId&&(a=this.up("form")))this.formId=a.id;return this.formId}});
Ext.define("Ext.app.bindinspector.Util",{singleton:!0,getChildStub:function(a,b){var c,d;b&&(d=b.children)&&(c=d[a]);return c||null},valueRenderer:function(a){var b;if(void 0===a)return"undefined";if(null===a)return"null";if(!Ext.isString(a)){if(Ext.isDate(a))return Ext.Date.format(a,"c");if(a&&a.isModel)return b=a.entityName,Ext.String.format("Model({0}, {1})",b.replace("noconflict.",""),a.getId());if(a&&a.isStore)return b=a.entityName||"Anonymous","Store{"+b.replace("noconflict.","")+"}"}return a},
buildBindData:function(a){var b=[],c,d;for(c in a)d=a[c],b.push({key:c,descriptor:d.descriptor,tokens:d.tokens,value:d.value,binding:d});return b}});
Ext.define("Ext.app.bindinspector.ComponentDetail",{extend:Ext.panel.Panel,alias:"widget.bindinspector-componentdetail",layout:"border",activeCls:Ext.baseCSSPrefix+"bindinspector-stub-active",descriptorCls:Ext.baseCSSPrefix+"bindinspector-descriptor",multipleCls:Ext.baseCSSPrefix+"bindinspector-mult-val",directCls:Ext.baseCSSPrefix+"bindinspector-direct-val",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited-val",componentKeyCls:Ext.baseCSSPrefix+"bindinspector-comp-key",componentDescCls:Ext.baseCSSPrefix+
"bindinspector-comp-desc",componentValCls:Ext.baseCSSPrefix+"bindinspector-comp-val",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",vmPreviewDefault:{xtype:"container",region:"east",split:!0,width:"50%",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with a ViewModel (or inherited ViewModel) from the ComponentList to view the ViewModel details"}]},initComponent:function(){var a=
this;a.up("bindinspector-container");var b=a.component||{},c=b.publishes,d=b.bindings,e="Bindings \x26nbsp;\x26nbsp;\x26nbsp;\u21d2 \x26nbsp;\x26nbsp;\x26nbsp;",g=a.env.getInheritedVM(b),h,j;a.bindingsPreviewDefault={xtype:"panel",border:!1,region:"center",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",bodyPadding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}],
dockedItems:[{xtype:"toolbar",dock:"top",defaultButtonUI:"default",items:["-\x3e",{text:"Open in dedicated tab",handler:function(a){a.up("bindinspector-container").onComponentDblclick(null,b)}}]}]};b.reference&&(e+="["+b.reference+"] \x26bull; ");h=b.bindData||Ext.app.bindinspector.Util.buildBindData(d);c&&(j=[{xtype:"component",html:'Publishes: \x26nbsp;\x26nbsp;\x3cspan style\x3d"color: #5C5C5C;font-size: 14px;line-height: 14px;"\x3e'+Ext.Object.getKeys(c).join(" \x26bull; ")+"\x3c/span\x3e"}]);
a.bindingsGrid={xtype:"gridpanel",title:e+=b.id,header:{items:[{xtype:"button",text:"Open in dedicated tab",ui:"default-toolbar",handler:function(a){a.up("bindinspector-container").onComponentDblclick(null,b)}}]},region:"center",cls:Ext.baseCSSPrefix+"bindinspector-compdetail-grid",flex:1,hideHeaders:!0,store:{model:a.BindingModel,data:h},columns:[{flex:1,scope:a,renderer:a.bindingRenderer}],tbar:j,bbar:[{xtype:"checkboxfield",itemId:"highlightToggle",boxLabel:"Highlight VM target nodes on binding selection",
checked:!0,listeners:{scope:a,change:a.onHighlightChange}}],viewConfig:{stripeRows:!1,trackOver:!1,getRowClass:function(b,c,d,e){b=[];c===e.getCount()-1&&b.push(a.lastItemCls);return b.join(" ")}},listeners:{scope:a,cellclick:a.onCellClick,selectionchange:a.onSelectionChange}};a.viewModelTree={xtype:"bindinspector-viewmodeldetail",itemId:"vm-"+g.id,vm:g,region:"east",split:!0,width:"50%",height:"50%"};a.items=[];a.items.push(d?a.bindingsGrid:a.bindingsPreviewDefault);a.items.push(g?a.viewModelTree:
a.vmPreviewDefault);a.callParent(arguments)},bindingRenderer:function(a,b,c){a=c.get("binding");var d=c.get("key");b=this.descriptorRenderer(c.get("descriptor"),b,c);c=Ext.app.bindinspector.Util.valueRenderer(c.get("value"));var e="Direct";if(Ext.isEmpty(c)||"null"===c)c="\x3ci\x3eNo value found\x3c/i\x3e";d='\x3cspan class\x3d"'+this.componentKeyCls+'"\x3e'+d+": \x3c/span\x3e";b='\x3cspan class\x3d"'+this.componentDescCls+'"\x3e'+b+"\x3c/span\x3e";c='\x3cspan class\x3d"'+this.componentValCls+'"\x3e'+
c+"\x3c/span\x3e";a.isTemplateBinding?e="Template":a.isMultiBinding&&(e="Multi");e=Ext.util.Format.format('\x3cdiv data-qtip\x3d"Binding Type" data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" class\x3d"'+Ext.baseCSSPrefix+'bindinspector-bind-type"\x3e{0}\x3c/div\x3e',e);return d+b+"\x3cbr\x3e"+c+e},onHighlightChange:function(a){this.down("bindinspector-viewmodeldetail");var b=this.down("gridpanel").getSelectionModel();if(a.checked)this.onSelectionChange(b,b.getSelection());else this.onSelectionChange(b,
null,!0)},onSelectionChange:function(a,b,c){a=this.down("bindinspector-viewmodeldetail");var d=a.getStore(),e,g,h,j;b&&0===b.length||!0===c?(d.suspendEvents(),a.getStore().getRootNode().cascadeBy({before:function(a){a.set("highlighted",!1)}}),d.resumeEvents(),a.getView().refresh()):(b=b[0],c=b.get("tokens"),b=b.get("binding"),e=this.down("#highlightToggle").checked,d=a.getStore(),g=d.getRootNode(),h=[],c&&e&&(b.isTemplateBinding?Ext.Array.forEach(c,function(a){h.push(g.findChild("name",a[0]))},this):
b.isMultiBinding||h.push(g.findChild("name",c[0]))),d.suspendEvents(),g.cascadeBy({before:function(a){j=0===h.length;Ext.Array.forEach(h,function(b){if(a===b||a.isAncestor(b))j=!0});a.set("highlighted",j||-1)}}),d.resumeEvents(),a.getView().refresh(),a.getSelectionModel().select(h[0]))},onCellClick:function(a,b,c,d,e,g,h){if(a=h.getTarget("."+this.activeCls))a=a.getAttribute("data-path"),this.showPath(a)},showPath:function(a){this.selectPath(this.down("bindinspector-viewmodeldetail"),a)},selectPath:function(a,
b){var c=a.getRootNode(),d=b.split("."),e=d.length,g;for(g=0;c&&g<e;++g)c=this.getChildByKey(c,d[g]);c&&a.getSelectionModel().select(c)},getChildByKey:function(a,b){var c=a.childNodes;return c?Ext.Array.findBy(c,function(a){return a.get("name")===b}):null},descriptorRenderer:function(a,b,c){b=c.get("binding");var d=c.get("descriptor");c=c.get("tokens");a=a||"";if(b.isTemplateBinding)Ext.Array.forEach(c,function(b){var c=RegExp("{"+b.join("\\.")+"}","g");a=a.replace(c,this.parseTokens(b))},this);else if(!b.isMultiBinding)return a.replace(d,
this.parseTokens(c));return Ext.String.htmlEncode(a)},parseTokens:function(a){var b=this,c=[],d=b.env.getInheritedVM(b.component),e="",g=d.rootStub,h=!1,j=!1,k="",l="",m="",n;a=a||[];Ext.Array.forEach(a,function(a){var d=Ext.app.bindinspector.Util.getChildStub(a,g),h="",j;d&&(j=d.value,void 0!==j&&(h=b.activeCls));c.push('\x3cspan data-path\x3d"'+e+a+'" class\x3d"stub '+h+'"\x3e'+a+"\x3c/span\x3e");e+=a+".";g=d},b);a[0]&&(m=a[0],ownerVMs=d.dataMap[a[0]].ownerVMs,n=ownerVMs.length,Ext.Array.forEach(ownerVMs,
function(a){a.id===d.id&&(h=!0);a.id!==d.id&&(j=!0)}));h&&j?(k+=" "+b.multipleCls,l='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+m+"\x3c/b\x3e\x26nbsp; provided by this VM and "+(n-1)+" ancestor "+(1<n?"VMs":"VM")+'"'):h?(k+=" "+b.directCls,l='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+m+'\x3c/b\x3e\x26nbsp; is provided by this VM"'):j&&(k+=" "+b.inheritedCls,l='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+
m+"\x3c/b\x3e\x26nbsp; is provided by "+n+" ancestor "+(1<n?"VMs":"VM")+'"');return"\x3cspan "+l+'class\x3d"'+b.descriptorCls+k+'"\x3e{'+c.join(".")+"}\x3c/span\x3e"}},function(){this.prototype.BindingModel=Ext.define(null,{extend:"Ext.data.Model",fields:["key","descriptor","tokens","value","binding"]})});
Ext.define("Ext.tree.View",{extend:Ext.view.Table,alias:"widget.treeview",isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"tree",loadMask:!1,rootVisible:!0,
expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,uiFields:"expanded loaded checked expandable leaf icon iconCls loading qtip qtitle".split(" "),treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(a){var b=a.record,c=a.view;a.rowAttr["data-qtip"]=b.get("qtip")||"";a.rowAttr["data-qtitle"]=b.get("qtitle")||"";b.isExpanded()&&a.rowClasses.push(c.expandedCls);b.isLeaf()&&a.rowClasses.push(c.leafCls);
b.isLoading()&&a.rowClasses.push(c.loadingCls)}}],initComponent:function(){this.bufferedRenderer?this.animate=!1:void 0===this.initialConfig.animate&&(this.animate=Ext.enableFx);this.store=this.panel.getStore();this.onRootChange(this.store.getRoot());this.animQueue={};this.animWraps={};this.callParent(arguments);this.store.setRootVisible(this.rootVisible);this.addRowTpl(Ext.XTemplate.getTpl(this,"treeRowTpl"))},onFillComplete:function(a,b,c){a=this.store.indexOf(c[0]);b.triggerUIUpdate();c.length&&
-1!==a&&(this.onAdd(this.store,c,a),this.refreshPartner())},onBeforeSort:function(){this.store.suspendEvents()},onSort:function(a){a.isStore&&(this.store.resumeEvents(),this.refresh(),this.refreshPartner())},refreshPartner:function(){var a=this.lockingPartner;a&&a.refresh()},getMaskStore:function(){return this.panel.getStore()},afterRender:function(){this.callParent(arguments);this.el.on({scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut,
click:{delegate:this.checkboxSelector,fn:this.onCheckboxChange,scope:this}})},afterComponentLayout:function(){var a=this.stretcher,b=this.scrollManager;this.callParent(arguments);a&&a.setWidth(this.getWidth()-Ext.getScrollbarSize().width);b&&b.refresh()},processUIEvent:function(a){return a.getTarget("."+this.nodeAnimWrapCls,this.el)?!1:this.callParent(arguments)},setRootNode:function(a,b){b||this.store.setNode(a);this.node=a},onCheckboxChange:function(a){if(a=a.getTarget(this.getItemSelector(),this.getTargetEl()))this.onCheckChange(this.getRecord(a))},
onCheckChange:function(a){var b=a.get("checked");Ext.isBoolean(b)&&(b=!b,a.set("checked",b),this.fireEvent("checkchange",a,b))},getChecked:function(){var a=[];this.node.cascadeBy(function(b){b.get("checked")&&a.push(b)});return a},isItemChecked:function(a){return a.get("checked")},createAnimWrap:function(a){var b=this.getNode(a),c;c=Ext.fly(b).insertSibling({role:"presentation",tag:"div",cls:this.nodeAnimWrapCls},"after");return{record:a,node:b,el:c,expanding:!1,collapsing:!1,animateEl:c,targetEl:c}},
getAnimWrap:function(a,b){if(!this.animate)return null;var c=this.animWraps,d=c[a.internalId];if(!1!==b)for(;!d&&a;)(a=a.parentNode)&&(d=c[a.internalId]);return d},doAdd:function(a,b){var c=this.bufferRender(a,b,!0),d=a[0].parentNode,e=this.all,g=this.getAnimWrap(d),h,j;if(!g||!g.expanding)return this.callParent(arguments);d=g.record;g=g.targetEl;h=g.dom.childNodes;j=h.length;d=b-this.indexInStore(d)-1;!j||d>=j?g.appendChild(c,!0):Ext.fly(h[d]).insertSibling(c,"before",!0);e.insert(b,c);return c},
onRemove:function(a,b,c){var d;if(this.viewReady){d=0===this.store.getCount();if(this.bufferedRenderer)return this.callParent(arguments);if(d)this.refresh();else{d=b.length-1;for(c+=d;0<=d;--d,--c)this.doRemove(b[d],c)}if(this.hasListeners.itemremove){d=b.length-1;for(c+=d;0<=d;--d,--c)this.fireEvent("itemremove",b[d],c,this)}}},doRemove:function(a,b){var c=this.all,d=this.getAnimWrap(a),e=c.item(b),e=e?e.dom:null;if(!e||!d||!d.collapsing)return this.callParent(arguments);d.targetEl.dom.insertBefore(e,
d.targetEl.dom.firstChild);c.removeElement(b)},onBeforeExpand:function(a){var b;this.rendered&&(this.all.getCount()&&this.animate)&&this.getNode(a)&&((b=this.getAnimWrap(a,!1))?b.collapsing&&b.targetEl.select(this.itemSelector).destroy():(b=this.animWraps[a.internalId]=this.createAnimWrap(a),b.animateEl.setHeight(0)),b.expanding=!0,b.collapsing=!1)},onExpand:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),g=e?b.indexOf(e):-1,h,j,k;b.singleExpand&&b.ensureSingleExpand(a);-1!==g&&((h=
b.getAnimWrap(a,!1))?(j=h.animateEl,k=h.targetEl,j.stopAnimation(),c[d]=!0,j.dom.style.height="0px",j.animate({from:{height:0},to:{height:k.dom.scrollHeight},duration:b.expandDuration,listeners:{afteranimate:function(){var a=k.dom.childNodes;a.length&&h.el.insertSibling(a,"before",!0);h.el.destroy();delete b.animWraps[h.record.internalId];delete c[d];b.isDestroyed||b.refreshSize()}},callback:function(){a.isExpandingOrCollapsing=!1;b.fireEvent("afteritemexpand",a,g,e)}}),h.isAnimating=!0):(a.isExpandingOrCollapsing=
!1,b.fireEvent("afteritemexpand",a,g,e),b.refreshSize()))},onBeforeCollapse:function(a,b,c,d,e){this.rendered&&this.all.getCount()&&(this.animate?a.isVisible()&&((b=this.getAnimWrap(a))?b.expanding&&b.targetEl.select(this.itemSelector).destroy():b=this.animWraps[a.internalId]=this.createAnimWrap(a,c),b.expanding=!1,b.collapsing=!0,b.callback=d,b.scope=e):(this.onCollapseCallback=d,this.onCollapseScope=e))},onCollapse:function(a){var b=this,c=b.animQueue,d=a.getId(),e=b.getNode(a),g=e?b.indexOf(e):
-1,h=b.getAnimWrap(a),j;b.all.getCount()&&a.isVisible()&&(h?(j=h.animateEl,c[d]=!0,j.stopAnimation(),j.animate({to:{height:0},duration:b.collapseDuration,listeners:{afteranimate:function(){h.el.destroy();delete b.animWraps[h.record.internalId];delete c[d];b.isDestroyed||b.refreshSize()}},callback:function(){a.isExpandingOrCollapsing=!1;b.fireEvent("afteritemcollapse",a,g,e);Ext.callback(h.callback,h.scope);h.callback=h.scope=null}}),h.isAnimating=!0):(a.isExpandingOrCollapsing=!1,b.fireEvent("afteritemcollapse",
a,g,e),b.refreshSize(),Ext.callback(b.onCollapseCallback,b.onCollapseScope),b.onCollapseCallback=b.onCollapseScope=null))},isAnimating:function(a){return!!this.animQueue[a.getId()]},expand:function(a,b,c,d){var e=!!this.animate;if(!e||!a.isExpandingOrCollapsing)return a.isLeaf()||(a.isExpandingOrCollapsing=e),Ext.suspendLayouts(),a=a.expand(b,c,d),Ext.resumeLayouts(!0),a},collapse:function(a,b,c,d){var e=!!this.animate;if(!e||!a.isExpandingOrCollapsing)return a.isLeaf()||(a.isExpandingOrCollapsing=
e),a.collapse(b,c,d)},toggle:function(a,b,c,d){a.isExpanded()?this.collapse(a,b,c,d):this.expand(a,b,c,d)},onItemDblClick:function(a,b,c){var d=this.editingPlugin;this.callParent(arguments);this.toggleOnDblClick&&(a.isExpandable()&&!(d&&2===d.clicksToEdit))&&(this.focusRow(a),this.toggle(a))},onBeforeItemMouseDown:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)?!1:this.callParent(arguments)},onItemClick:function(a,b,c,d){return d.getTarget(this.expanderSelector,b)&&a.isExpandable()?
(this.focusRow(a),this.toggle(a,d.ctrlKey),!1):this.callParent(arguments)},onExpanderMouseOver:function(a){a.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(a){a.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){var a=Ext.apply(this.callParent(),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete});this.getStore().remoteSort||Ext.apply(a,{beforesort:this.onBeforeSort,sort:this.onSort});return a},
onBindStore:function(a,b,c,d){var e=d&&d.getRootNode(),g=a&&a.getRootNode();this.callParent(arguments);if(g!==e)this.onRootChange(g,e)},onRootChange:function(a,b){b&&(this.rootListeners.destroy(),this.rootListeners=null);a&&(this.rootListeners=a.on({beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,destroyable:!0,scope:this}))},ensureSingleExpand:function(a){var b=a.parentNode;b&&b.eachChild(function(b){b!==a&&b.isExpanded()&&b.collapse()})},
shouldUpdateCell:function(a,b,c){if(c)for(var d=0,e=c.length;d<e;++d)if(Ext.Array.contains(this.uiFields,c[d]))return!0;return this.callParent(arguments)}});
Ext.define("Ext.selection.RowModel",{extend:Ext.selection.DataViewModel,alias:"selection.rowmodel",enableKeyNav:!0,isRowModel:!0,onUpdate:function(a){var b=this.view,c;if(b&&this.isSelected(a)&&(c=b.indexOf(a),b.onRowSelect(c),a===this.lastFocused))b.onRowFocus(c,!0)},getRowsVisible:function(){var a=!1,b=this.view,c=b.all.first();c&&(a=c.getHeight(),b=b.el.getHeight(),a=Math.floor(b/a));return a},onSelectChange:function(a,b,c,d){var e=this.views||[this.view],g=e.length,h,j=b?"select":"deselect",k;
if(!1!==(c||this.fireEvent("before"+j,this,a,h))&&!1!==d()){for(d=0;d<g;d++)if(k=e[d],h=k.indexOf(a),-1!==h)if(b)k.onRowSelect(h,c);else k.onRowDeselect(h,c);c||this.fireEvent(j,this,a,h)}},onLastFocusChanged:function(a,b,c){var d=this.views||[this.view],e=d.length,g=0;if(a&&e&&(a=d[0].indexOf(a),-1!==a))for(;g<e;g++)d[g].onRowFocus(a,!1,!0);if(b&&e&&(a=d[0].indexOf(b),-1!==a))for(g=0;g<e;g++)d[g].onRowFocus(a,!0,c)},onEditorTab:function(a,b){var c=a.context.view,d=a.getActiveRecord(),e=a.context,
g=b.shiftKey?"left":"right",h;do if(h=e,e=c.walkCells(e,g,b,this.preventWrap),h&&h.isEqual(e))break;while(e&&(!e.column.getEditor(d)||!a.startEditByPosition(e)))},getCurrentPosition:function(){var a=this.selected.getAt(0);if(a)return(new Ext.grid.CellContext(this.view)).setPosition(this.store.indexOf(a),0)},selectByPosition:function(a,b){var c=new Ext.grid.CellContext(this.view);c.setPosition(a.row,a.column);this.select(c.record,b)},selectNext:function(a,b){var c=this.store,d=this.getSelection(),
d=this.view.indexOf(d[d.length-1])+1;d===c.getCount()||0===d?c=!1:(this.doSelect(d,a,b),c=!0);return c},selectPrevious:function(a,b){var c=this.getSelection()[0],c=this.view.indexOf(c)-1;0>c?c=!1:(this.doSelect(c,a,b),c=!0);return c},isRowSelected:function(a){return this.isSelected(a)},isCellSelected:function(a,b){return this.isSelected(b)}});
Ext.define("Ext.selection.TreeModel",{extend:Ext.selection.RowModel,alias:"selection.treemodel",constructor:function(a){this.callParent([a]);this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},bindStore:function(a,b){this.callParent([a,b]);this.store&&this.pruneRemovedNodes&&this.view.mon(this.store,{noderemove:this.onNodeRemove,scope:this})},onNodeRemove:function(a,b,c){c||this.deselectDeletedRecords([b])}});
Ext.define("Ext.rtl.selection.TreeModel",{override:"Ext.selection.TreeModel",onKeyRight:function(a,b){this.view.getInherited().rtl?this.navCollapse(a,b):this.callParent(arguments)},onKeyLeft:function(a,b){this.view.getInherited().rtl?this.navExpand(a,b):this.callParent(arguments)}});
Ext.define("Ext.grid.ColumnLayout",{extend:Ext.layout.container.HBox,alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:!1,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width);this.grid=this.owner.up("tablepanel");this.controllingGrid=this.owner.up("[scrollerOwner]");this.callParent()},beginLayout:function(a){var b=this.owner,
c=this.controllingGrid,d=this.grid.view,e=this.getVisibleItems(),g=e.length,h=this.firstHeaderCls,j=this.lastHeaderCls,k=[h,j],l,m;d.scrollFlags.y?delete this.scrollbarWidth:this.scrollbarWidth=0;for(l=0;l<g;l++)m=e[l],m.margin=null,m.removeCls(k),0===l&&m.addCls(h),l===g-1&&m.addCls(j);this.scrollbarAdjustment=this.scrollbarWidth;this.callParent(arguments);if(!b.isColumn&&!c.collapsed&&d&&d.rendered&&(a.viewTable=d.body.dom)&&this.scrollbarWidth)a.viewContext=a.context.getCmp(d)},injectViewContext:function(a,
b){if(!this.controllingGrid.collapsed&&b.rendered&&(a.viewTable=b.body.dom)&&this.scrollbarWidth)a.viewContext=a.context.getCmp(b)},roundFlex:function(a){return Math.floor(a)},calculate:function(a){var b=this.grid.view,c,d,e,g,h=!1;this.viewScrollX=b.getScrollX();this.callParent(arguments);if(a.state.parallelDone&&this.owner.isRootHeader){c=a.target.getVisibleGridColumns();d=c.length;for(e=0;e<d;e++)if(g=a.context.getItem(null,c[e].el),!g.lastBox||g.props.width!==g.lastBox.width)(h||(h=[])).push(e);
a.setProp("columnsChanged",h)}a.viewContext&&!a.state.tableHeight&&(a.state.tableHeight=a.viewTable?a.viewTable.offsetHeight:b.all.sumHeights())},completeLayout:function(a){var b=this.owner,c=a.state;this.callParent(arguments);a.viewTable&&!c.flexesCalculated&&!a.flexedItems.length&&b.forceFit&&this.convertWidthsToFlexes(a)?(this.cacheFlexes(a),a.invalidate({state:{flexesCalculated:!0,tableHeight:a.viewTable.offsetHeight}})):delete a.props.columnChanged},finishedLayout:function(a){var b=this.grid.getView();
this.callParent(arguments);this.viewScrollX&&(!this.owner.isColumn&&b.scrollFlags.x&&this.owner.tooNarrow&&this.owner.componentLayoutCounter)&&this.owner.setScrollX(this.viewScrollX)},convertWidthsToFlexes:function(a){var b=0,c=this.sizeModels.calculated,d,e,g,h,j;d=a.childItems;e=d.length;for(g=0;g<e;g++)h=d[g],j=h.target,b+=h.props.width,j.fixed||!1===j.resizable||(j.flex=a.childItems[g].flex=h.props.width,j.width=null,h.widthModel=c);return b!==a.props.width},getContainerSize:function(a){var b,
c=a.viewContext,d,e,g=c&&c.heightModel.shrinkWrap;if(this.owner.isColumn)b=this.getColumnContainerSize(a);else{b=this.callParent(arguments);if(!b.gotAll)return this.done=!1,b;if(this.scrollbarWidth&&(!this.controllingGrid.reserveScrollbar&&c)&&(e=c.target.componentLayout.ownerContext,!g&&c.target.scrollFlags.y&&(a.flexedItems&&a.flexedItems.length||this.owner.forceFit)&&e))if(d=c.getProp("height"),isNaN(d))this.done=!1;else if(a.state.tableHeight<=d&&c.target.scrollFlags.y)return a.state.parallelDone=
!1,e.invalidate(),b}g||(b.width-=this.scrollbarWidth);return b},getColumnContainerSize:function(a){var b=a.paddingContext.getPaddingInfo(),c=0,d=0,e,g,h,j;if(!a.widthModel.shrinkWrap&&(++d,h=a.getProp("innerWidth"),e="number"==typeof h))++c,h-=b.width,0>h&&(h=0);if(!a.heightModel.shrinkWrap&&(++d,j=a.getProp("innerHeight"),g="number"==typeof j))++c,j-=b.height,0>j&&(j=0);return{width:h,height:j,needed:d,got:c,gotAll:c==d,gotWidth:e,gotHeight:g}},publishInnerCtSize:function(a){var b=this.owner,c=a.state.boxPlan.targetSize,
d=a.peek("contentWidth");null!=d&&!b.isColumn&&(c.width=d,b.ownerCt.view.scrollFlags.y&&(c.width+=this.scrollbarAdjustment));return this.callParent(arguments)}});
Ext.define("Ext.rtl.grid.ColumnLayout",{override:"Ext.grid.ColumnLayout",beginLayout:function(a){var b=this.owner,c=this.grid.view;this.callParent(arguments);if(!b.isColumn&&c.scrollFlags.y&&c.getInherited().rtl)if(c.bufferedRenderer&&Ext.supports.xOriginBug)this.scrollbarAdjustment=-this.scrollbarWidth;else if(Ext.supports.rtlVertScrollbarOverflowBug||Ext.supports.rtlVertScrollbarOnRight)this.scrollbarAdjustment=0},calculateParallel:function(a,b,c){var d=this.owner,e=this.grid.view;if(!d.isColumn&&
Ext.supports.rtlVertScrollbarOnRight&&d.ownerCt.view.getInherited().rtl||e.bufferedRenderer&&Ext.supports.xOriginBug)this.padding.right=this.scrollbarWidth;return this.callParent(arguments)}});
Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",disabled:!1,isPlugin:!0,stateEvents:void 0,constructor:function(a){a&&(this.pluginConfig=a,Ext.apply(this,a))},clonePlugin:function(a){return new this.self(Ext.apply({},a,this.pluginConfig))},setCmp:function(a){this.cmp=a},getCmp:function(){return this.cmp},init:Ext.emptyFn,getState:null,applyState:null,destroy:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},onClassExtended:function(a,b){var c=
b.alias;c&&!b.ptype&&(Ext.isArray(c)&&(c=c[0]),a.prototype.ptype=c.split("plugin.")[1])}});
Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(a){Ext.apply(this,a);this.dragRegion=new Ext.util.Region(0,0,0,0);this.el&&this.initEl(this.el);this.mixins.observable.constructor.call(this);this.disabled&&this.disable()},initEl:function(a){var b=this.delegate;this.el=a=Ext.get(a);b&&b.isElement&&(this.handle=b);this.delegate=this.handle?void 0:this.delegate;this.handle||(this.handle=a);this.handleListeners=
{scope:this,delegate:this.delegate,mousedown:this.onMouseDown,dragstart:this.onDragStart};!Ext.supports.TouchEvents&&(this.trackOver||this.overCls)&&Ext.apply(this.handleListeners,{mouseover:this.onMouseOver,mouseout:this.onMouseOut});this.mon(this.handle,this.handleListeners)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.endDrag({});this.clearListeners();this.el=this.handle=null},onMouseOver:function(a,b){var c,d,e,g,h;if(!this.disabled&&(a.within(a.target,
!0,!0)||this.delegate)){c=this.handleCls;this.mouseIsOut=!1;if(c){e=0;for(g=this.handleEls.length;e<g;e++)d=this.handleEls[e],h=d.delegateCls,h||(h=d.delegateCls=[c,"-",d.region,"-over"].join("")),d.addCls([h,this.overCls])}this.fireEvent("mouseover",this,a,this.delegate?a.getTarget(this.delegate,b):this.handle)}},onMouseOut:function(a){var b,c,d;if(this.mouseIsDown)this.mouseIsOut=!0;else{if(this.handleCls){c=0;for(d=this.handleEls.length;c<d;c++)b=this.handleEls[c],b.removeCls([b.delegateCls,this.overCls])}this.fireEvent("mouseout",
this,a)}},onMouseDown:function(a,b){!this.disabled&&!a.dragTracked&&(this.dragTarget=this.delegate?b:this.handle.dom,this.startXY=this.lastXY=a.getXY(),this.startRegion=Ext.fly(this.dragTarget).getRegion(),!1===this.fireEvent("mousedown",this,a)||(!1===this.fireEvent("beforedragstart",this,a)||!1===this.onBeforeStart(a))||(this.mouseIsDown=!0,a.dragTracked=!0,this.el.setCapture(),a.stopPropagation(),!1!==this.preventDefault&&a.preventDefault(),Ext.getDoc().on({scope:this,capture:!0,mouseup:this.onMouseUp,
mousemove:this.onMouseMove,selectstart:this.stopSelect}),this.dragEnded=!1,this.tolerance?this.autoStart&&(this.timer=Ext.defer(this.triggerStart,!0===this.autoStart?1E3:this.autoStart,this,[a])):this.triggerStart()))},onMouseMove:function(a){var b=a.getXY(),c=this.startXY;a.stopPropagation();!1!==this.preventDefault&&a.preventDefault();if(!this.dragEnded){this.lastXY=b;if(!this.active)if(Math.max(Math.abs(c[0]-b[0]),Math.abs(c[1]-b[1]))>this.tolerance)this.triggerStart(a);else return;if(!1===this.fireEvent("mousemove",
this,a))this.onMouseUp(a);else this.onDrag(a),this.fireEvent("drag",this,a)}},onMouseUp:function(a){this.mouseIsDown=!1;this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(a));!1!==this.preventDefault&&a.preventDefault();Ext.isIE&&document.releaseCapture&&document.releaseCapture();this.fireEvent("mouseup",this,a);this.endDrag(a)},endDrag:function(a){var b=this.active;Ext.getDoc().un({mousemove:this.onMouseMove,mouseup:this.onMouseUp,selectstart:this.stopSelect,capture:!0,scope:this});this.clearStart();
this.active=!1;b&&(this.dragEnded=!0,this.onEnd(a),this.fireEvent("dragend",this,a));this._constrainRegion=null},triggerStart:function(a){this.clearStart();this.active=!0;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){var a=this.timer;a&&(clearTimeout(a),this.timer=null)},stopSelect:function(a){a.stopEvent();return!1},onBeforeStart:function(){},onStart:function(){},onDrag:function(){},onEnd:function(){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},
getConstrainRegion:function(){if(this.constrainTo){if(this.constrainTo instanceof Ext.util.Region)return this.constrainTo;this._constrainRegion||(this._constrainRegion=Ext.fly(this.constrainTo).getViewRegion())}else this._constrainRegion||(this._constrainRegion=this.getDragCt().getViewRegion());return this._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(a){a=this.getXY(a);var b=this.startXY;return[a[0]-b[0],a[1]-b[1]]},onDragStart:function(a){a.stopPropagation()},
constrainModes:{point:function(a,b){var c=a.dragRegion,d=a.getConstrainRegion();if(!d)return b;c.x=c.left=c[0]=c.right=b[0];c.y=c.top=c[1]=c.bottom=b[1];c.constrainTo(d);return[c.left,c.top]},dragTarget:function(a,b){var c=a.startXY,d=a.startRegion.copy(),e=a.getConstrainRegion();if(!e)return b;d.translateBy(b[0]-c[0],b[1]-c[1]);d.right>e.right&&(b[0]+=c=e.right-d.right,d.left+=c);d.left<e.left&&(b[0]+=e.left-d.left);d.bottom>e.bottom&&(b[1]+=c=e.bottom-d.bottom,d.top+=c);d.top<e.top&&(b[1]+=e.top-
d.top);return b}}});
Ext.define("Ext.grid.plugin.HeaderResizer",{extend:Ext.plugin.Abstract,alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1E3,eResizeCursor:"col-resize",init:function(a){this.headerCt=a;a.on("render",this.afterHeaderRender,this,{single:this});this.minColWidth||(this.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var a=this.tracker;a&&(delete a.onBeforeStart,delete a.onStart,
delete a.onDrag,delete a.onEnd,a.destroy(),this.tracker=null)},afterHeaderRender:function(){var a=this.headerCt,b=a.el;a.mon(b,"mousemove",this.onHeaderCtMouseMove,this);this.markerOwner=this.ownerGrid=this.headerCt.up("tablepanel");this.markerOwner.ownerLockable&&(this.markerOwner=this.markerOwner.ownerLockable);this.tracker=new Ext.dd.DragTracker({disabled:this.disabled,onBeforeStart:this.onBeforeStart.bind(this),onStart:this.onStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onEnd.bind(this),
tolerance:3,autoStart:300,el:b})},onHeaderCtMouseMove:function(a){this.headerCt.dragging||this.disabled?this.activeHd&&(this.activeHd.el.dom.style.cursor="",delete this.activeHd):this.findActiveHeader(a)},findActiveHeader:function(a){var b=a.getTarget("."+this.colHeaderCls,3,!0),c;if(b){b=Ext.getCmp(b.id);if(b.isOnRightEdge(a)){if(1===this.headerCt.visibleColumnManager.getColumns().length&&this.headerCt.forceFit)return;c=b}else b.isOnLeftEdge(a)&&(a=this.headerCt.visibleColumnManager.getColumns(),
c=a[Ext.Array.indexOf(a,b)-1],!c&&(this.ownerGrid.ownerLockable&&!this.ownerGrid.isLocked)&&(a=this.ownerGrid.ownerLockable.lockedGrid.headerCt.visibleColumnManager.getColumns(),c=a[a.length-1]));if(c){if(c.isGroupHeader&&(a=c.getGridColumns(),c=a[a.length-1]),c&&!(c.fixed||!1===c.resizable))this.activeHd=c,b.el.dom.style.cursor=this.eResizeCursor,b.triggerEl&&(b.triggerEl.dom.style.cursor=this.eResizeCursor)}else b.el.dom.style.cursor="",b.triggerEl&&(b.triggerEl.dom.style.cursor=""),this.activeHd=
null}return this.activeHd},onBeforeStart:function(a){return(this.dragHd=Ext.supports.Touch?this.findActiveHeader(a):this.activeHd)&&!this.headerCt.dragging?(this.xDelta=this.dragHd.getX()+this.dragHd.getWidth()-this.tracker.getXY()[0],this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1},getConstrainRegion:function(){var a=this.dragHd.el,b;b=this.ownerGrid;var c=b.getSizeModel().width,d=c.shrinkWrap?this.headerCt.getWidth()-this.headerCt.visibleColumnManager.getColumns().length*
this.minColWidth:this.maxColWidth;this.headerCt.forceFit?(b=this.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&this.headerInSameGrid(b)&&(d=a.getWidth()+(b.getWidth()-this.minColWidth)):b.isLocked&&c.shrinkWrap&&(d=this.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-b.getWidth()-(b.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*this.minColWidth+Ext.getScrollbarSize().width));b=this.adjustConstrainRegion(a.getRegion(),0,0,0,this.minColWidth);b.right=
a.getX()+d;return b},onStart:function(){var a=this.dragHd,b=a.el.getWidth(),c=a.getOwnerHeaderCt(),d,e,g,h;this.headerCt.dragging=!0;this.origWidth=b;this.dynamic||(d=this.markerOwner,d.frame&&d.resizable&&(this.gridOverflowSetting=d.el.dom.style.overflow,d.el.dom.style.overflow="hidden"),a=this.getLeftMarkerX(d),e=d.getLhsMarker(),g=d.getRhsMarker(),h=this.ownerGrid.body.getHeight()+c.getHeight(),c=c.getOffsetsTo(d)[1]-d.el.getBorderWidth("t"),e.setLocalY(c),g.setLocalY(c),e.setHeight(h),g.setHeight(h),
this.setMarkerX(e,a),this.setMarkerX(g,a+b))},onDrag:function(){this.dynamic?this.doResize():this.setMarkerX(this.getMovingMarker(this.markerOwner),this.calculateDragX(this.markerOwner))},getMovingMarker:function(a){return a.getRhsMarker()},onEnd:function(a){var b;this.headerCt.dragging=!1;this.dragHd&&(this.dynamic||(b=this.headerCt.up("tablepanel"),b.ownerLockable&&(b=b.ownerLockable),"gridOverflowSetting"in this&&(b.el.dom.style.overflow=this.gridOverflowSetting),this.setMarkerX(b.getLhsMarker(),
-9999),this.setMarkerX(b.getRhsMarker(),-9999)),this.doResize());this.onHeaderCtMouseMove(a)},doResize:function(){var a=this.dragHd,b=this.tracker.getOffset("point");a&&b[0]&&(a.flex&&delete a.flex,Ext.suspendLayouts(),this.adjustColumnWidth(b[0]-this.xDelta),this.headerCt.forceFit&&((a=a.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!this.headerInSameGrid(a)&&(a=null),a&&(delete a.flex,a.setWidth(a.getWidth()-b[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(a){var b=this.dragHd.up("tablepanel");
return!!a.up(b)},disable:function(){var a=this.tracker;this.disabled=!0;a&&a.disable()},enable:function(){var a=this.tracker;this.disabled=!1;a&&a.enable()},calculateDragX:function(a){return this.tracker.getXY("point")[0]+this.xDelta-a.getX()-a.el.getBorderWidth("l")},getLeftMarkerX:function(a){return this.dragHd.getX()-a.getX()-a.el.getBorderWidth("l")-1},setMarkerX:function(a,b){a.setLocalX(b)},adjustConstrainRegion:function(a,b,c,d,e){return a.adjust(b,c,d,e)},adjustColumnWidth:function(a){this.dragHd.setWidth(this.origWidth+
a)}});
Ext.define("Ext.rtl.grid.plugin.HeaderResizer",{override:"Ext.grid.plugin.HeaderResizer",onBeforeStart:function(a){return this.headerCt.isOppositeRootDirection()?(this.dragHd=this.activeHd)&&!this.headerCt.dragging?(this.xDelta=this.dragHd.getX()-this.tracker.getXY()[0],this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1:this.callParent(arguments)},adjustColumnWidth:function(a){this.headerCt.isOppositeRootDirection()&&(a=-a);this.callParent([a])},adjustConstrainRegion:function(a,b,
c,d,e){return this.headerCt.isOppositeRootDirection()?a.adjust(b,-e,d,-c):this.callParent(arguments)},calculateDragX:function(a){var b=a.getX(),c=this.tracker.getXY("point")[0];return this.headerCt.isOppositeRootDirection()?c-b+this.xDelta:this.callParent(arguments)},getMovingMarker:function(a){return this.headerCt.isOppositeRootDirection()?a.getLhsMarker():a.getRhsMarker()},setMarkerX:function(a,b){var c=this.headerCt;c.getInherited().rtl&&!c.isOppositeRootDirection()?a.rtlSetLocalX(b):this.callParent(arguments)}});
Ext.define("Ext.dd.DragZone",{extend:Ext.dd.DragSource,constructor:function(a,b){var c=this.containerScroll;this.callParent([a,b]);c&&(a=this.scrollEl||a,a=Ext.get(a),Ext.isObject(c)&&(a.ddScrollConfig=c),Ext.dd.ScrollManager.register(a))},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(!0));this.onStartDrag(a,b);return!0},getRepairXY:function(){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.callParent();
this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el)}});
Ext.define("Ext.grid.header.DragZone",{extend:Ext.dd.DragZone,colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.autoGroup=!0;this.callParent([a.el]);this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(a){if(a.getTarget(this.colInnerSelector)){var b=
a.getTarget(this.colHeaderSelector);if(b&&(b=Ext.getCmp(b.id),!this.headerCt.dragging&&b.draggable&&!b.isOnLeftEdge(a)&&!b.isOnRightEdge(a)))return a=document.createElement("div"),a.role="presentation",a.innerHTML=b.text,{ddel:a,header:b}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0;this.headerCt.hideMenu();this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1;this.callParent(arguments)},afterRepair:function(){this.callParent();
this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}});
Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(a,b,c){a&&this.initTarget(a,b,c)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,
setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}});
Ext.define("Ext.dd.ScrollManager",{singleton:!0,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(){var a=Ext.dd.ScrollManager;a.dragEl=null;a.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&
this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var a=this;if(a.ddmInstance.dragCurrent){var b=a.proc,c=b.el,d=b.component,e=b.el.ddScrollConfig,g=e&&e.increment?e.increment:a.increment,e=e&&"animate"in e?e.animate:a.animate,h=function(){a.triggerRefresh()};e&&(!0===e?e={callback:h}:e.callback=e.callback?Ext.Function.createSequence(e.callback,h):h);d?(g*=a.dirTrans[b.dir],"up"===b.dir||"down"===b.dir?d.scrollBy(0,g,e):d.scrollBy(g,0,e)):c.scroll(b.dir,g,e);
e||h()}},clearProc:function(){var a=this.proc;a.id&&clearInterval(a.id);a.scroller&&(a.scroller.setSnapToBoundary(!0),a.scroller.snapToBoundary());a.id=0;a.el=a.component=a.scroller=null;a.dir=""},startProc:function(a,b){var c,d,e=this.proc;this.clearProc();e.el=a;e.dir=b;if(2===Ext.supports.touchScroll&&(c=a.component)&&a===c.getOverflowEl())e.component=c,e.scroller=c.scrollManager.scroller,e.scroller.setSnapToBoundary(!1);c=a.ddScrollConfig?a.ddScrollConfig.ddGroup:void 0;d=a.ddScrollConfig&&a.ddScrollConfig.frequency?
a.ddScrollConfig.frequency:this.frequency;if(void 0===c||this.ddmInstance.dragCurrent.ddGroup===c)e.id=Ext.interval(this.doScroll,d)},onFire:function(a,b){var c,d,e,g,h,j,k;if(!b&&this.ddmInstance.dragCurrent){if(!this.dragEl||this.dragEl!==this.ddmInstance.dragCurrent)this.dragEl=this.ddmInstance.dragCurrent,this.refreshCache();c=a.getPoint();d=this.proc;e=this.els;for(g in e)if(h=e[g],j=h._region,k=h.ddScrollConfig||this,j&&j.contains(c)&&h.isScrollable()){if(j.bottom-c.y<=k.vthresh){d.el!==h&&
this.startProc(h,"down");return}if(j.right-c.x<=k.hthresh){d.el!==h&&this.startProc(h,"right");return}if(c.y-j.top<=k.vthresh){d.el!==h&&this.startProc(h,"up");return}if(c.x-j.left<=k.hthresh){d.el!==h&&this.startProc(h,"left");return}}this.clearProc()}},register:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.register(a[b]);else a=Ext.get(a),this.els[a.id]=a},unregister:function(a){if(Ext.isArray(a))for(var b=0,c=a.length;b<c;b++)this.unregister(a[b]);else a=Ext.get(a),delete this.els[a.id]},
vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:0.4,ddGroup:void 0,refreshCache:function(){var a=this.els,b;for(b in a)"object"==typeof a[b]&&(a[b]._region=a[b].getRegion())}});
Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(a,b){this.el=Ext.get(a);Ext.apply(this,b);this.containerScroll&&Ext.dd.ScrollManager.register(this.el);this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(){this.overClass&&this.el.addCls(this.overClass);return this.dropAllowed},notifyOver:function(){return this.dropAllowed},
notifyOut:function(){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(){this.overClass&&this.el.removeCls(this.overClass);return!1},destroy:function(){this.callParent();this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el)}});
Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(a,b){if("string"==typeof a)return a;var c=a.id;!c&&!1!==b&&(c="extdd-"+ ++this.autoIdSeed,a.id=c);return c},register:function(a,b){b=b||{};"string"==typeof a&&(a=document.getElementById(a));b.ddel=a;this.elements[this.getId(a)]=b;!1!==b.isHandle&&(this.handles[b.ddel.id]=b);if(b.handles){var c=b.handles,d,e;d=0;for(e=c.length;d<e;d++)this.handles[this.getId(c[d])]=b}},
unregister:function(a){a=this.getId(a,!1);var b=this.elements[a],c;if(b&&(delete this.elements[a],b.handles)){a=b.handles;b=0;for(c=a.length;b<c;b++)delete this.handles[this.getId(a[b],!1)]}},getHandle:function(a){"string"!=typeof a&&(a=a.id);return this.handles[a]},getHandleFromEvent:function(a){return(a=a.getTarget())?this.handles[a.id]:null},getTarget:function(a){"string"!=typeof a&&(a=a.id);return this.elements[a]},getTargetFromEvent:function(a){return(a=a.getTarget())?this.elements[a.id]||this.handles[a.id]:
null}});
Ext.define("Ext.dd.DropZone",{extend:Ext.dd.DropTarget,getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(){},onNodeOver:function(){return this.dropAllowed},onNodeOut:function(){},onNodeDrop:function(){return!1},onContainerOver:function(){return this.dropNotAllowed},onContainerDrop:function(){return!1},notifyEnter:function(){return this.dropNotAllowed},notifyOver:function(a,b,c){var d=this.getTargetFromEvent(b);if(!d)return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,
a,b,c),this.lastOverNode=null),this.onContainerOver(a,b,c);if(this.lastOverNode!=d){if(this.lastOverNode)this.onNodeOut(this.lastOverNode,a,b,c);this.onNodeEnter(d,a,b,c);this.lastOverNode=d}return this.onNodeOver(d,a,b,c)},notifyOut:function(a,b,c){this.lastOverNode&&(this.onNodeOut(this.lastOverNode,a,b,c),this.lastOverNode=null)},notifyDrop:function(a,b,c){var d=this.getTargetFromEvent(b),d=d?this.onNodeDrop(d,a,b,c):this.onContainerDrop(a,b,c);this.lastOverNode&&(this.onNodeOut(this.lastOverNode,
a,b,c),this.lastOverNode=null);return d},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});
Ext.define("Ext.grid.header.DropZone",{extend:Ext.dd.DropZone,colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(a){this.headerCt=a;this.ddGroup=this.getDDGroup();this.autoGroup=!0;this.callParent([a.el])},destroy:function(){this.callParent();Ext.destroy(this.topIndicator,this.bottomIndicator)},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(a){return a.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){this.topIndicator||
(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top","data-sticky":!0,html:"\x26#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2));return this.topIndicator},getBottomIndicator:function(){this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom","data-sticky":!0,html:"\x26#160;"}));return this.bottomIndicator},getLocation:function(a,b){var c=a.getXY()[0],
d=Ext.fly(b).getRegion();return{pos:d.right-c<=(d.right-d.left)/2?"after":"before",header:Ext.getCmp(b.id),node:b}},positionIndicator:function(a,b,c){var d=a.header,e=this.getLocation(c,b);b=e.header;c=e.pos;var g,h;if(!(b===this.lastTargetHeader&&c===this.lastDropPos)){g=d.nextSibling("gridcolumn:not([hidden])");h=d.previousSibling("gridcolumn:not([hidden])");this.lastTargetHeader=b;this.lastDropPos=c;if(!b.draggable&&"before"===c&&0===b.getIndex())return!1;a.dropLocation=e;if(d!==b&&("before"===
c&&g!==b||"after"===c&&h!==b)&&!b.isDescendantOf(d)){a=Ext.dd.DragDropManager.getRelated(this);d=a.length;for(e=0;e<d;e++)g=a[e],g!==this&&g.invalidateDrop&&g.invalidateDrop();this.valid=!0;a=this.getTopIndicator();d=this.getBottomIndicator();"before"===c?(c="bc-tl",e="tc-bl"):(c="bc-tr",e="tc-br");c=a.getAlignToXY(b.el,c);b=d.getAlignToXY(b.el,e);g=this.headerCt.el;e=g.getX()-this.indicatorXOffset;g=g.getX()+g.getWidth();c[0]=Ext.Number.constrain(c[0],e,g);b[0]=Ext.Number.constrain(b[0],e,g);a.setXY(c);
d.setXY(b);a.show();d.show()}else this.invalidateDrop()}},invalidateDrop:function(){this.valid=!1;this.hideIndicators()},onNodeOver:function(a,b,c,d){b=d.header;var e,g,h;if(d.header.el.dom===a)e=!1;else if(d.isLock=d.isUnlock=d.crossPanel=!1,g=this.getLocation(c,a).header,e=b.ownerCt===g.ownerCt,!e&&(!b.ownerCt.sealed&&!g.ownerCt.sealed)&&(e=!0,h=b.up("tablepanel"),g=g.up("tablepanel"),h!==g&&(d.crossPanel=!0,d.isLock=g.isLocked&&!h.isLocked,d.isUnlock=!g.isLocked&&h.isLocked,d.isUnlock&&!1===b.lockable||
d.isLock&&!b.isLockable())))e=!1;e?this.positionIndicator(d,a,c):this.valid=!1;return this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide();this.getBottomIndicator().hide();this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},onNodeDrop:function(a,b,c,d){if(this.valid){a=d.header;var e=d.dropLocation,g=e.header,h=a.ownerCt;b=g.ownerCt;var j=h===b,k=h.items.indexOf(d.header);c=b.items.indexOf(g);var l=this.headerCt,
m=l.visibleColumnManager,n=m.getHeaderIndex(a),p=g.isGroupHeader?b.items.indexOf(g):m.getHeaderIndex(g),q=a.isGroupHeader?a.query(":not([hidden]):not([isGroupHeader])").length:1,m=g.isGroupHeader?"after"===e.pos:m.getHeaderIndex(g)>m.getHeaderIndex(a);"after"===e.pos&&(c++,p+=g.isGroupHeader?g.query(":not([hidden]):not([isGroupHeader])").length:1);if(d.isLock)d=h.up("[scrollerOwner]"),d.lock(a,c,b);else if(d.isUnlock)d=h.up("[scrollerOwner]"),d.unlock(a,c,b);else{this.invalidateDrop();e=a.getWidth();
if(j&&(c>k&&(c-=1),c===k)){l.onHeaderMoved(a,q,n,p);return}Ext.suspendLayouts();j?b.move(k,c):(m&&p===c&&(c-=1),h.isDDMoveInGrid=b.isDDMoveInGrid=!d.crossPanel,h.remove(a,!1),b.insert(c,a),h.isDDMoveInGrid=b.isDDMoveInGrid=!1);b.isGroupHeader?j||(a.savedFlex=a.flex,delete a.flex,a.width=e):a.savedFlex&&(a.flex=a.savedFlex,delete a.width);Ext.resumeLayouts(!0);if(!j)l.onHeaderMoved(a,q,n,p)}}}});
Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:Ext.plugin.Abstract,alias:"plugin.gridheaderreorderer",init:function(a){this.headerCt=a;a.on({render:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onHeaderCtRender:function(){this.dragZone=new Ext.grid.header.DragZone(this.headerCt);this.dropZone=new Ext.grid.header.DropZone(this.headerCt);this.disabled&&this.dragZone.disable()},enable:function(){this.disabled=!1;this.dragZone&&this.dragZone.enable()},
disable:function(){this.disabled=!0;this.dragZone&&this.dragZone.disable()}});
Ext.define("Ext.grid.header.Container",{extend:Ext.container.Container,mixins:[Ext.util.FocusableContainer],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",detachOnRemove:!1,defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+
"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",ddLock:!1,dragging:!1,enableFocusableContainer:!1,sortable:!0,enableColumnHide:!0,initComponent:function(){this.headerCounter=0;this.plugins=this.plugins||[];this.defaults=this.defaults||{};this.isColumn||(this.enableColumnResize&&(this.resizer=new Ext.grid.plugin.HeaderResizer,this.plugins.push(this.resizer)),this.enableColumnMove&&(this.reorderer=new Ext.grid.plugin.HeaderReorderer,this.plugins.push(this.reorderer)));if(this.isColumn&&
!this.isGroupHeader){if(!this.items||0===this.items.length)this.isContainer=!1,this.focusable=!0,this.layout={type:"container",calculate:Ext.emptyFn}}else this.layout=Ext.apply({type:"gridcolumn",align:"stretch"},this.initialConfig.layout),this.defaults.columnLines=this.columnLines,this.isGroupHeader?(this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.columnManager=new Ext.grid.ColumnManager(!1,this)):(this.isRootHeader=!0,this.hiddenHeaders||(this.enableFocusableContainer=!0,this.ariaRole=
"row"),this.columnManager=new Ext.grid.ColumnManager(!1,this),this.visibleColumnManager=new Ext.grid.ColumnManager(!0,this),this.grid&&(this.grid.columnManager=this.columnManager,this.grid.visibleColumnManager=this.visibleColumnManager));this.menuTask=new Ext.util.DelayedTask(this.updateMenuDisabledState,this);this.callParent()},initEvents:function(){var a=this.onHeaderCtEvent,a={click:a,dblclick:a,contextmenu:a,mouseover:this.onHeaderCtMouseOver,mouseout:this.onHeaderCtMouseOut,scope:this};Ext.supports.Touch&&
(a.longpress=this.onHeaderCtLongPress);this.callParent();!this.isColumn&&!this.isGroupHeader&&this.mon(this.el,a)},onHeaderCtEvent:function(a,b){var c=this.getHeaderElByEvent(a),d;if(this.longPressFired)this.longPressFired=!1;else if(c&&!this.ddLock&&(c=Ext.getCmp(c.id)))if(d=c[c.clickTargetName],a.within(d))if("click"===a.type||"tap"===a.type)if(d=c.onTitleElClick(a,d))this.onHeaderTriggerClick(d,a,Ext.supports.Touch?d.el:d.triggerEl);else this.onHeaderClick(c,a,b);else if("contextmenu"===a.type)this.onHeaderContextMenu(c,
a,b);else if("dblclick"===a.type&&c.resizable)c.onTitleElDblClick(a,d.dom)},onHeaderCtMouseOver:function(a){var b,c;if(!a.within(this.el,!0)&&(b=(b=a.getTarget("."+Ext.grid.column.Column.prototype.baseCls))&&Ext.getCmp(b.id)))if(c=b[b.clickTargetName],a.within(c))b.onTitleMouseOver(a,c.dom)},onHeaderCtMouseOut:function(a){var b="."+Ext.grid.column.Column.prototype.baseCls,c=a.getTarget(b),b=a.getRelatedTarget(b),d;if(c!==b){if(c&&(c=Ext.getCmp(c.id)))d=c[c.clickTargetName],c.onTitleMouseOut(a,d.dom);
if(b&&(c=Ext.getCmp(b.id)))d=c[c.clickTargetName],c.onTitleMouseOver(a,d.dom)}},onHeaderCtLongPress:function(a){a=this.getHeaderElByEvent(a);var b=Ext.getCmp(a.id);b.menuDisabled||(this.longPressFired=!0,this.showMenuBy(a,b))},getHeaderElByEvent:function(a){return a.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return this.hiddenHeaders?!1:this.callParent()},getOwnerHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},onDestroy:function(){this.menu&&
this.menu.un("hide",this.onMenuHide,this);this.menuTask.cancel();this.callParent();Ext.destroy(this.visibleColumnManager,this.columnManager,this.menu);this.columnManager=this.visibleColumnManager=null},applyColumnsState:function(a){if(a&&a.length){var b=this.items.items,c=b.length,d=0,e=a.length,g,h,j,k,l=!1;for(g=0;g<e;g++){j=a[g];for(k=c;k--;)if(h=b[k],h.getStateId&&h.getStateId()==j.id){d!==k&&(this.items.insert(d,this.items.getAt(k)),l=!0);h.applyColumnState&&h.applyColumnState(j);++d;break}}l&&
this.purgeCache()}},getColumnsState:function(){var a=[],b;this.items.each(function(c){(b=c.getColumnState&&c.getColumnState())&&a.push(b)});return a},onAdd:function(a){a.headerId||(a.headerId=a.initialConfig.id||Ext.id(null,"header-"));void 0===a.sortable&&(a.sortable=this.sortable);a.getStateId()||(a.stateId=a.initialConfig.id||"h"+ ++this.headerCounter);this._usedIDs||(this._usedIDs={});this._usedIDs[a.headerId]&&Ext.log.warn(this.$className+" attempted to reuse an existing id: "+a.headerId);this._usedIDs[a.headerId]=
!0;this.callParent(arguments);this.onHeadersChanged(a,this.isDDMoveInGrid)},move:function(a,b){var c=this.items.items[a];c.visibleFromIdx=this.getOwnerHeaderCt().visibleColumnManager.indexOf(c);this.callParent(arguments)},onMove:function(a,b,c){var d=this.getOwnerHeaderCt(),e=d.visibleColumnManager,g=1;this.onHeadersChanged(a,!0);e=e.indexOf(a);e>=a.visibleFromIdx&&e++;this.callParent(arguments);a.isGroupHeader&&(g=a.visibleColumnManager.getColumns().length);d.onHeaderMoved(a,g,a.visibleFromIdx,e)},
onRemove:function(a){var b=this.ownerCt;this.callParent(arguments);this._usedIDs||(this._usedIDs={});delete this._usedIDs[a.headerId];if(!this.destroying){if(!this.isDDMoveInGrid)this.onHeadersChanged(a,!1);this.isGroupHeader&&(!this.items.getCount()&&b)&&(a.rendered&&this.detachComponent(a),Ext.suspendLayouts(),b.remove(this),Ext.resumeLayouts(!0))}},onHeadersChanged:function(a,b){var c,d=this.getOwnerHeaderCt();this.purgeHeaderCtCache(this);if(d&&(d.onColumnsChanged(),!a.isGroupHeader&&(c=d.ownerCt)&&
!b))c.onHeadersChanged(d,a)},onHeaderMoved:function(a,b,c,d){var e=this.ownerCt;if(this.rendered){if(e&&e.onHeaderMove)e.onHeaderMove(this,a,b,c,d);this.fireEvent("columnmove",this,a,c,d)}},onColumnsChanged:function(){var a=this.menu,b;if(this.rendered&&(this.fireEvent("columnschanged",this),a&&(b=a.child("#columnItemSeparator"))))a=a.child("#columnItem"),b.destroy(),a.destroy()},lookupComponent:function(a){var b=this.callParent(arguments);!b.isGroupHeader&&(void 0===b.width&&!b.flex)&&(b.width=this.defaultWidth);
return b},setSortState:function(){var a=this.up("[store]").store,b=this.visibleColumnManager.getColumns(),c=b.length,d,e,g;for(d=0;d<c;d++)e=b[d],g=a.getSorters().get(e.getSortParam()),e.setSortState(g)},getHeaderMenu:function(){var a=this.getMenu();return a&&(a=a.child("#columnItem"))?a.menu:null},onHeaderVisibilityChange:function(a,b){var c=this.getHeaderMenu(),d;this.purgeHeaderCtCache(a.ownerCt);c&&((d=this.getMenuItemForHeader(c,a))&&d.setChecked(b,!0),c.isVisible()&&this.menuTask.delay(50))},
updateMenuDisabledState:function(a){var b=this.query(":not([hidden])"),c,d=b.length,e,g;a||(a=this.getMenu());for(c=0;c<d;++c)if(e=b[c],g=this.getMenuItemForHeader(a,e))e=e.isHideable()?"enable":"disable",g.menu&&(e+="CheckChange"),g[e]()},getMenuItemForHeader:function(a,b){return b?a.down("menucheckitem[headerId\x3d"+b.id+"]"):null},onHeaderShow:function(a){var b=this.ownerCt;this.forceFit&&delete this.flex;this.onHeaderVisibilityChange(a,!0);if(!a.isGroupHeader&&b)b.onHeaderShow(this,a);this.fireEvent("columnshow",
this,a);this.fireEvent("columnschanged",this)},onHeaderHide:function(a){var b=this.ownerCt;this.onHeaderVisibilityChange(a,!1);if(!a.isGroupHeader&&b)b.onHeaderHide(this,a);this.fireEvent("columnhide",this,a);this.fireEvent("columnschanged",this)},tempLock:function(){this.ddLock=!0;Ext.Function.defer(function(){this.ddLock=!1},200,this)},onHeaderResize:function(a,b){var c=this.ownerCt;if(c)c.onHeaderResize(this,a,b);this.fireEvent("columnresize",this,a,b)},onHeaderClick:function(a,b,c){a.fireEvent("headerclick",
this,a,b,c);this.fireEvent("headerclick",this,a,b,c)},onHeaderContextMenu:function(a,b,c){a.fireEvent("headercontextmenu",this,a,b,c);this.fireEvent("headercontextmenu",this,a,b,c)},onHeaderTriggerClick:function(a,b,c){!1!==a.fireEvent("headertriggerclick",this,a,b,c)&&!1!==this.fireEvent("headertriggerclick",this,a,b,c)&&this.showMenuBy(c,a)},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#ascItem"),e=c.down("#descItem"),g;c.activeHeader=c.ownerCmp=b;b.setMenuActive(!0);g=b.sortable?"enable":
"disable";if(d)d[g]();if(e)e[g]();c.showBy(a,"tl-bl?")},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(a){a.activeHeader.setMenuActive(!1)},moveHeader:function(a,b){this.tempLock();this.move(a,b)},purgeHeaderCtCache:function(a){for(;a;){a.purgeCache();if(a.isRootHeader)break;a=a.ownerCt}},purgeCache:function(){var a=this.visibleColumnManager,b=this.columnManager;this.gridVisibleColumns=this.gridDataColumns=this.hideableColumns=null;a&&(a.invalidate(),b.invalidate())},getMenu:function(){this.menu||
(this.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:this.getMenuItems(),listeners:{beforeshow:this.beforeMenuShow,hide:this.onMenuHide,scope:this}}),this.fireEvent("menucreate",this,this.menu));return this.menu},beforeMenuShow:function(a){var b,c;a.child("#columnItem")||(b=this.enableColumnHide?this.getColumnMenu(this):null,c=this.sortable?2:0,b&&b.length&&a.insert(c,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:this.columnsText,iconCls:this.menuColsIcon,menu:{items:b},
hideOnClick:!1}]));this.updateMenuDisabledState(this.menu)},getMenuItems:function(){var a=[],b=this.enableColumnHide?this.getColumnMenu(this):null;this.sortable&&(a=[{itemId:"ascItem",text:this.sortAscText,iconCls:this.menuSortAscCls,handler:this.onSortAscClick,scope:this},{itemId:"descItem",text:this.sortDescText,iconCls:this.menuSortDescCls,handler:this.onSortDescClick,scope:this}]);b&&b.length&&(this.sortable&&a.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),a.push({itemId:"columnItem",
text:this.columnsText,iconCls:this.menuColsIcon,menu:b,hideOnClick:!1}));return a},onSortAscClick:function(){this.getMenu().activeHeader.sort("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.sort("DESC")},getColumnMenu:function(a){var b=[],c=0,d;a=a.query("\x3egridcolumn[hideable]");for(var e=a.length;c<e;c++)d=a[c],d=new Ext.menu.CheckItem({text:d.menuText||d.text,checked:!d.hidden,hideOnClick:!1,headerId:d.id,menu:d.isGroupHeader?this.getColumnMenu(d):void 0,checkHandler:this.onColumnCheckChange,
scope:this}),b.push(d);return b},onColumnCheckChange:function(a,b){var c=Ext.getCmp(a.headerId);if(c.rendered)c[b?"show":"hide"]();else c.hidden=!b},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){var a=0,b=this.getVisibleGridColumns(),c=b.length,d;for(d=0;d<c;d++)a+=b[d].getCellWidth()||0;return a},getVisibleGridColumns:function(){if(this.gridVisibleColumns)return this.gridVisibleColumns;var a=this.getGridColumns(),b,c=[],d=a.length,e;for(e=0;e<d;e++)a[e].hidden||
(b=a[e],b.visibleIndex=c.length,c[c.length]=b);return this.gridVisibleColumns=c},getGridColumns:function(a,b){if(!a&&this.gridDataColumns)return this.gridDataColumns;var c=a||[],d,e,g,h,j;b=b||this.hidden;if(this.items){d=this.items.items;e=0;for(g=d.length;e<g;e++)h=d[e],h.isGroupHeader?h.getGridColumns(c,b):(h.hiddenAncestor=b,c.push(h))}a||(this.gridDataColumns=c);if(!a&&g){e=0;for(g=c.length;e<g;e++)h=c[e],h.fullColumnIndex=e,h.isFirstVisible=h.isLastVisible=!1,!h.hidden&&!h.hiddenAncestor&&(j||
(h.isFirstVisible=!0),j=h);j&&(j.isLastVisible=!0)}return c},getHideableColumns:function(){var a=this.hideableColumns;a||(a=this.hideableColumns=this.query("[hideable]"));return a},getHeaderIndex:function(a){this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager);return this.columnManager.getHeaderIndex(a)},getHeaderAtIndex:function(a){this.columnManager||(this.columnManager=this.getOwnerHeaderCt().columnManager);return this.columnManager.getHeaderAtIndex(a)},getVisibleHeaderClosestToIndex:function(a){this.visibleColumnManager||
(this.visibleColumnManager=this.getOwnerHeaderCt().visibleColumnManager);return this.visibleColumnManager.getVisibleHeaderClosestToIndex(a)},applyForceFit:function(a){var b=this.view,c=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,d=!1,e=Ext.grid.header.Container.prototype.defaultWidth,g=this.el.dom.clientWidth-(b.el.dom.scrollHeight>b.el.dom.clientHeight?Ext.getScrollbarSize().width:0),h=0,j=this.getVisibleGridColumns(),k=a.hidden,l,m;Ext.suspendLayouts();l=g-(j.length+1)*c;a.flex=null;k?(m=
a.width||a.savedWidth,a.savedWidth=null):m=b.getMaxContentWidth(a);if(m>l)a.width=l,d=!0;else{a.width=m;g-=m+e;b=0;for(l=j.length;b<l;b++)k=j[b],k!==a&&(k.flex=k.flex||k.width||k.getWidth(),h+=k.flex,k.width=null)}b=0;for(l=j.length;b<l;b++)k=j[b],m=k===a,d&&!m?(k.flex=c,k.width=null):m||(m=k.flex||e,k.flex=Math.max(Math.ceil(m/h*g),c),k.width=null),k.setWidth(k.width||k.flex);Ext.resumeLayouts(!0)},autoSizeColumn:function(a){var b=this.view;b&&(b.autoSizeColumn(a),this.forceFit&&this.applyForceFit(a))},
privates:{getFocusables:function(){return this.getVisibleGridColumns()},createFocusableContainerKeyNav:function(a){return new Ext.util.KeyNav(a,{scope:this,down:this.showHeaderMenu,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey,space:this.toggleColumnSort,enter:this.toggleColumnSort})},showHeaderMenu:function(a){var b=this.getFocusableFromEvent(a);if(b&&b.triggerEl)this.onHeaderTriggerClick(b,a,b.triggerEl)},toggleColumnSort:function(a){var b=this.getFocusableFromEvent(a);
b&&b.sortable&&(b.toggleSortState(),this.onHeaderClick(b,a,b.el))},onFocusableContainerMousedown:Ext.privateFn}});
Ext.define("Ext.grid.ColumnComponentLayout",{extend:Ext.layout.component.Auto,alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,beginLayout:function(a){this.callParent(arguments);a.titleContext=a.getEl("titleEl");a.triggerContext=a.getEl("triggerEl")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);a.widthModel.shrinkWrap&&b.el.setWidth("");b.titleEl.setStyle({paddingTop:"",paddingBottom:""})},publishInnerHeight:function(a,b){var c=this.owner,d,e;if(c.getOwnerHeaderCt().hiddenHeaders)a.setProp("innerHeight",
0);else if(e=d=b-a.getBorderInfo().height,c.headerWrap&&!a.hasDomProp("width"))this.done=!1;else if(a.hasRawContent){if(c=c.textEl.getHeight())e-=c,0<e&&(c=Math.floor(e/2),e-=c,a.titleContext.setProp("padding-top",c),a.titleContext.setProp("padding-bottom",e))}else a.setProp("innerHeight",d-c.titleEl.getHeight(),!1)},measureContentHeight:function(a){return a.el.dom.offsetHeight},publishInnerWidth:function(a,b){a.hasRawContent||a.setProp("innerWidth",b-a.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(a,
b){var c=this.callParent(arguments),d=this.owner;return!a.hasRawContent?!d.headerWrap||a.hasDomProp("width")?b+d.titleEl.getHeight()+a.getBorderInfo().height:null:c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.owner,d=a.getPaddingInfo().width,e=this.getTriggerOffset(c,a);return(c.isGroupHeader?b:Math.max(b,c.textEl.getWidth()+a.titleContext.getPaddingInfo().width))+d+e},getTriggerOffset:function(a,b){var c=0;b.widthModel.shrinkWrap&&!a.menuDisabled&&0===a.query("\x3e:not([hidden])").length&&
(c=a.self.triggerElWidth);return c}});
Ext.define("Ext.grid.column.Column",{extend:Ext.grid.header.Container,xtype:"gridcolumn",alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",handleWidth:Ext.supports.Touch?10:4,ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],childEls:["titleEl","triggerEl","textEl"],headerWrap:!1,renderTpl:['\x3cdiv id\x3d"{id}-titleEl" data-ref\x3d"titleEl" {tipMarkup}class\x3d"',Ext.baseCSSPrefix,
"column-header-inner",'\x3ctpl if\x3d"empty"\x3e ',Ext.baseCSSPrefix,'column-header-inner-empty\x3c/tpl\x3e"\x3e','\x3cspan id\x3d"{id}-textEl" data-ref\x3d"textEl" class\x3d"',Ext.baseCSSPrefix,"column-header-text",'{childElCls}"\x3e',"{text}","\x3c/span\x3e",'\x3ctpl if\x3d"!menuDisabled"\x3e','\x3cdiv id\x3d"{id}-triggerEl" data-ref\x3d"triggerEl" role\x3d"presentation" class\x3d"',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style\x3d"{triggerStyle}"\x3e\x3c/div\x3e',"\x3c/tpl\x3e",
"\x3c/div\x3e","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"\x26#160;",menuText:null,emptyCellText:"\x26#160;",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,align:"left",draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",isHeader:!0,isColumn:!0,producesHTML:!0,tabIndex:-1,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+
"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){null!=this.header&&(this.text=this.header,this.header=null);this.cellWrap&&(this.tdCls=(this.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell");null!=this.columns?(this.isGroupHeader=
!0,this.dataIndex&&Ext.Error.raise("Ext.grid.column.Column: Group header may not accept a dataIndex"),(this.width&&this.width!==Ext.grid.header.Container.prototype.defaultWidth||this.flex)&&Ext.Error.raise("Ext.grid.column.Column: Group header does not support setting explicit widths or flexs. The group header width is calculated by the sum of its children."),this.items=this.columns,this.columns=this.flex=this.width=null,this.cls=(this.cls||"")+" "+this.groupHeaderCls,this.sortable=this.resizable=
!1,this.align="center"):this.flex&&(this.minWidth=this.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth);this.addCls(Ext.baseCSSPrefix+"column-header-align-"+this.align);this.setupRenderer();this.setupRenderer("edit");this.setupRenderer("summary");this.callParent(arguments)},bindFormatter:function(a){var b=this;return function(c){return a.format(c,a.scope||b.scope||b.resolveListenerScope())}},bindRenderer:function(a){var b=this;a in Ext.util.Format&&Ext.log.warn('Use "formatter" config instead of "renderer" to use Ext.util.Format to format cell values');
b.hasCustomRenderer=!0;return function(){return Ext.callback(a,b.scope,arguments,0,b)}},setupRenderer:function(a){a=a||"column";var b=this[this.formatterNames[a]],c=this[this.rendererNames[a]],d="column"===a;b?((c=0===b.indexOf("this."))&&(b=b.substring(5)),b=Ext.app.bind.Template.prototype.parseFormat(b),this[this.formatterNames[a]]=null,c?b.scope=null:Ext.util.Format[b.fmt]||Ext.Error.raise('Invalid formatter specified: "'+b.fmt+'"'),this[this.rendererNames[a]]=this.bindFormatter(b)):c?("string"===
typeof c&&(c=this[this.rendererNames[a]]=this.bindRenderer(c)),d&&(this.hasCustomRenderer=1<c.length)):d&&this.defaultRenderer&&(this.renderer=this.defaultRenderer,this.usingDefaultRenderer=!0)},getView:function(){var a=this.getOwnerHeaderCt();if(a)return a.view},onResize:function(a,b,c,d){var e;this.callParent(arguments);if(c&&this.cellWrap&&(e=this.getView()))if(e=e.bufferedRenderer)e.onWrappedColumnWidthChange(c,a)},initItems:function(){this.callParent(arguments);this.isGroupHeader&&(this.hasVisibleChildColumns()||
this.hide())},hasVisibleChildColumns:function(){var a=this.items.items,b=a.length,c,d;for(c=0;c<b;++c)if(d=a[c],d.isColumn&&!d.hidden)return!0;return!1},onAdd:function(a){a.isColumn&&(a.isSubHeader=!0,a.addCls(this.groupSubHeaderCls));this.hidden&&a.isColumn&&(this.constructing?a.hide():a.hidden||this.show());this.callParent(arguments)},onRemove:function(a){a.isSubHeader&&(a.isSubHeader=!1,a.removeCls(this.groupSubHeaderCls));this.callParent(arguments);!this.isDestroyed&&!this.destroying&&(this.isGroupHeader&&
!this.hasVisibleChildColumns())&&this.hide()},initRenderData:function(){var a="",b=this.tooltip,c=this.text,d="qtip"==this.tooltipType?"data-qtip":"title";Ext.isEmpty(b)||(a=d+'\x3d"'+b+'" ');return Ext.applyIf(this.callParent(arguments),{text:c,empty:"\x26#160;"===c||" "===c||""===c,menuDisabled:this.menuDisabled,tipMarkup:a,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(a){this.applyColumnsState(a.columns);null!=a.hidden&&(this.hidden=a.hidden);null!=a.locked&&
(this.locked=a.locked);null!=a.sortable&&(this.sortable=a.sortable);null!=a.width?(this.flex=null,this.width=a.width):null!=a.flex&&(this.width=null,this.flex=a.flex)},getColumnState:function(){var a=this.items.items,b=a?a.length:0,c,d=[],e={id:this.getStateId()};this.savePropsToState(["hidden","sortable","locked","flex","width"],e);if(this.isGroupHeader){for(c=0;c<b;c++)d.push(a[c].getColumnState());d.length&&(e.columns=d)}else this.isSubHeader&&this.ownerCt.hidden&&delete this.hidden;"width"in e&&
delete e.flex;return e},getStateId:function(){return this.stateId||this.headerId},setText:function(a){this.text=a;this.rendered&&this.textEl.setHtml(a)},getIndex:function(){return this.isGroupColumn?!1:this.getOwnerHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:this.isGroupColumn?!1:Ext.Array.indexOf(this.getOwnerHeaderCt().getVisibleGridColumns(),this)},beforeRender:function(){var a=this.up("tablepanel");this.callParent();if(a&&(!this.sortable||
!1===a.sortableColumns)&&!this.groupable&&!this.lockable&&(!1===a.enableColumnHide||!this.getOwnerHeaderCt().getHideableColumns().length))this.menuDisabled=!0;this.cellWrap&&(this.variableRowHeight=!0);this.protoEl.unselectable()},afterRender:function(){var a=this.triggerEl;this.callParent(arguments);a&&void 0===this.self.triggerElWidth&&(a.setStyle("display","block"),this.self.triggerElWidth=a.getWidth(),a.setStyle("display",""))},afterComponentLayout:function(a,b,c,d){var e=this.getOwnerHeaderCt();
this.callParent(arguments);if(e&&(null!=c||this.flex)&&a!==c)e.onHeaderResize(this,a)},onDestroy:function(){Ext.destroy(this.field);this.field=null;this.callParent(arguments)},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(a){if(this.triggerEl)this.onTitleElClick(a,this.triggerEl.dom||this.el.dom)},onEnterKey:function(a){this.onTitleElClick(a,this.el.dom)},onTitleElDblClick:function(a){this.isOnLeftEdge(a)?
(a=this.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&a.getOwnerHeaderCt()===this.getOwnerHeaderCt()&&a.autoSize():this.isOnRightEdge(a)&&(this.isGroupHeader&&a.getPoint().isContainedBy(this.layout.innerCt)?(a=this.query("gridcolumn:not([hidden]):not([isGroupHeader])"),this.getOwnerHeaderCt().autoSizeColumn(a[a.length-1])):(a=this.getOwnerHeaderCt(),1===a.visibleColumnManager.getColumns().length&&a.forceFit||this.autoSize()))},autoSize:function(){var a,b,c,d;if(this.isGroupHeader){a=
this.query("gridcolumn:not([hidden]):not([isGroupHeader])");b=a.length;d=this.getOwnerHeaderCt();Ext.suspendLayouts();for(c=0;c<b;c++)d.autoSizeColumn(a[c]);Ext.resumeLayouts(!0)}else this.getOwnerHeaderCt().autoSizeColumn(this)},onTitleElClick:function(a,b){var c,d;Ext.supports.Touch?(d=this.previousSibling(":not([hidden])"),!this.menuDisabled&&this.isOnRightEdge(a,parseInt(this.triggerEl.getStyle("width")))?this.menuDisabled||(c=this):d&&(!d.menuDisabled&&this.isOnLeftEdge(a))&&(c=d)):c=this.triggerEl&&
(a.target===this.triggerEl.dom||b===this.triggerEl.dom||a.within(this.triggerEl))?this:null;(!c&&!this.isOnLeftEdge(a)&&!this.isOnRightEdge(a)||a.getKey())&&this.toggleSortState();return c},processEvent:function(a,b,c,d,e,g){return this.fireEvent.apply(this,arguments)},toggleSortState:function(){this.sortable&&(Ext.Array.indexOf(this.possibleSortStates,this.sortState),this.sort())},sort:function(a){var b=this.up("tablepanel"),c=b.store;Ext.suspendLayouts();this.sorting=!0;c.sort(this.getSortParam(),
a,b.multiColumnSort?"multi":"replace");delete this.sorting;Ext.resumeLayouts(!0)},getSortParam:function(){return this.dataIndex},setSortState:function(a){a=a&&a.getDirection();var b=this.ascSortCls,c=this.descSortCls,d=this.getOwnerHeaderCt(),e;switch(a){case "DESC":this.hasCls(c)||(this.addCls(c),this.sortState="DESC",e=!0);this.removeCls(b);break;case "ASC":this.hasCls(b)||(this.addCls(b),this.sortState="ASC",e=!0);this.removeCls(c);break;default:this.removeCls([b,c]),this.sortState=null}e&&d.fireEvent("sortchange",
d,this,a)},isHideable:function(){var a={hideCandidate:this,result:this.hideable};a.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[a]);return a.result},hasOtherMenuEnabledChildren:function(a){var b,c;if(!this.isXType("headercontainer"))return a.result=!1;b=this.query("\x3e:not([hidden]):not([menuDisabled])");c=b.length;Ext.Array.contains(b,a.hideCandidate)&&c--;if(c)return!1;a.hideCandidate=this},isLockable:function(){var a={result:!1!==this.lockable};a.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,
null,[a]);return a.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(a){if(!this.isXType("headercontainer"))return a.result=!1;if(1<this.query("\x3e:not([hidden])").length)return!1},hide:function(a){var b=this.getOwnerHeaderCt(),c=this.getRefOwner(),d,e;if(c.constructing)return this.callParent(),this;if(this.rendered&&!this.isVisible())return this;b.forceFit&&(this.visibleSiblingCount=b.getVisibleGridColumns().length-
1,this.flex&&(this.savedWidth=this.getWidth(),this.flex=null));if(c.isGroupHeader&&!a&&(c=c.query("\x3e:not([hidden])"),1===c.length&&c[0]===this)){this.ownerCt.hide();return}Ext.suspendLayouts();if(this.isGroupHeader){c=this.items.items;e=0;for(d=c.length;e<d;e++)a=c[e],a.hidden||a.hide(!0)}this.callParent();b.onHeaderHide(this);Ext.resumeLayouts(!0);return this},show:function(a,b){var c=this.getOwnerHeaderCt(),d=this.ownerCt,e,g;if(this.isVisible())return this;this.rendered&&c.forceFit&&c.applyForceFit(this);
Ext.suspendLayouts();this.isSubHeader&&d.hidden&&d.show(!1,!0);this.callParent(arguments);if(this.isGroupHeader&&!0!==b&&!this.query(":not([hidden])").length){c=this.items.items;e=0;for(d=c.length;e<d;e++)g=c[e],g.hidden&&g.show(!0)}if(d=this.getOwnerHeaderCt())d.onHeaderShow(this);Ext.resumeLayouts(!0);return this},getCellWidth:function(){var a;this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?a=this.componentLayout.lastComponentSize.width:this.width?a=this.width:this.isColumn||
(a=this.getTableWidth());return a},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){return"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isOnLeftEdge:function(a){return a.getXY()[0]-this.getX()<this.handleWidth},isOnRightEdge:function(a,b){return this.getX()+this.getWidth()-a.getXY()[0]<=(b||this.handleWidth)},setMenuActive:function(a){this.titleEl[a?"addCls":"removeCls"](this.headerOpenCls)},
deprecated:{5:{methods:{bindRenderer:function(a){return function(b){return Ext.util.Format[a](b)}}}}}});Ext.define("Ext.rtl.grid.column.Column",{override:"Ext.grid.column.Column",isOnLeftEdge:function(a){return!this.getInherited().rtl!==!Ext.rootInheritedState.rtl?this.getX()+this.getWidth()-a.getXY()[0]<=this.handleWidth:this.callParent(arguments)},isOnRightEdge:function(a){return!this.getInherited().rtl!==!Ext.rootInheritedState.rtl?a.getXY()[0]-this.getX()<=this.handleWidth:this.callParent(arguments)}});
Ext.define("Ext.tree.Column",{extend:Ext.grid.column.Column,alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",isTreeColumn:!0,cellTpl:'\x3ctpl for\x3d"lines"\x3e;\x3cimg src\x3d"{parent.blankUrl}" class\x3d"{parent.childCls} {parent.elbowCls}-img ;{parent.elbowCls}-\x3ctpl if\x3d"."\x3eline\x3ctpl else\x3eempty\x3c/tpl\x3e" role\x3d"presentation"/\x3e;\x3c/tpl\x3e;\x3cimg src\x3d"{blankUrl}" class\x3d"{childCls} {elbowCls}-img {elbowCls};\x3ctpl if\x3d"isLast"\x3e-end\x3c/tpl\x3e\x3ctpl if\x3d"expandable"\x3e-plus {expanderCls}\x3c/tpl\x3e" role\x3d"presentation"/\x3e;\x3ctpl if\x3d"checked !\x3d\x3d null"\x3e;\x3cinput type\x3d"button" {ariaCellCheckboxAttr}; class\x3d"{childCls} {checkboxCls}\x3ctpl if\x3d"checked"\x3e {checkboxCls}-checked\x3c/tpl\x3e"/\x3e;\x3c/tpl\x3e;\x3cimg src\x3d"{blankUrl}" role\x3d"presentation" class\x3d"{childCls} {baseIconCls} ;{baseIconCls}-\x3ctpl if\x3d"leaf"\x3eleaf\x3ctpl else\x3eparent\x3c/tpl\x3e {iconCls}";\x3ctpl if\x3d"icon"\x3estyle\x3d"background-image:url({icon})"\x3c/tpl\x3e/\x3e;\x3ctpl if\x3d"href"\x3e;\x3ca href\x3d"{href}" role\x3d"link" target\x3d"{hrefTarget}" class\x3d"{textCls} {childCls}"\x3e{value}\x3c/a\x3e;\x3ctpl else\x3e;\x3cspan class\x3d"{textCls} {childCls}"\x3e{value}\x3c/span\x3e;\x3c/tpl\x3e'.split(";"),
initComponent:function(){this.setupRenderer();this.origRenderer=this.renderer;this.origScope=this.scope||window;this.renderer=this.treeRenderer;this.scope=this;this.callParent()},treeRenderer:function(a,b,c,d,e,g,h){var j=c.get("cls");j&&(b.tdCls+=" "+j);a=this.initTemplateRendererData(a,b,c,d,e,g,h);return this.getTpl("cellTpl").apply(a)},initTemplateRendererData:function(a,b,c,d,e,g,h){for(var j=this.origRenderer,k=c.data,l=c.parentNode,m=h.rootVisible,n=[],p;l&&(m||0<l.data.depth);)p=l.data,n[m?
p.depth:p.depth-1]=p.isLast?0:1,l=l.parentNode;return{record:c,baseIconCls:this.iconCls,iconCls:k.iconCls,icon:k.icon,checkboxCls:this.checkboxCls,checked:k.checked,elbowCls:this.elbowCls,expanderCls:this.expanderCls,textCls:this.textCls,leaf:k.leaf,expandable:c.isExpandable(),isLast:c.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:k.href,hrefTarget:k.hrefTarget,lines:n,metaData:b,childCls:this.getChildCls?this.getChildCls()+" ":"",value:j?j.apply(this.origScope,arguments):a}}});
Ext.define("Ext.rtl.tree.Column",{override:"Ext.tree.Column",getChildCls:function(){return this._childCls||(this._childCls=this.getInherited().rtl?Ext.baseCSSPrefix+"rtl":"")}});
Ext.define("Ext.grid.NavigationModel",{extend:Ext.view.NavigationModel,alias:"view.navigation.grid",focusCls:Ext.baseCSSPrefix+"grid-item-focused",getViewListeners:function(){return{containermousedown:this.onContainerMouseDown,cellmousedown:this.onCellMouseDown,cellclick:this.onCellClick,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemClick,refresh:this.onViewRefresh,scope:this}},initKeyNav:function(a){this.position=new Ext.grid.CellContext(a);this.keyNav=
new Ext.util.KeyNav({target:a,ignoreInputFields:!0,eventName:"cellkeydown",processEvent:function(a,c,d,e,g,h,j){return j},up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,tab:this.onKeyTab,space:this.onKeySpace,enter:this.onKeyEnter,A:{ctrl:!0,handler:this.onSelectAllKeyPress},scope:this})},onCellMouseDown:function(a,b,c,d,e,g,h){a=h.parentEvent;(!a||"touchstart"!==a.type)&&this.setPosition(h.position,
null,h)},onCellClick:function(a,b,c,d,e,g,h){this.position.isEqual(h.position)?this.fireNavigateEvent(h):this.setPosition(h.position,null,h)},onItemMouseDown:function(a,b,c,d,e){var g,h;c=e.parentEvent;if((!c||"touchstart"!==c.type)&&!e.position.cellElement){c=e.getX();a=a.getVisibleColumnManager().getColumns();d=a.length;for(g=0;g<d;g++)if(h=a[g].getBox(),c>=h.left&&c<h.right){this.setPosition(b,a[g],e);break}}},onItemClick:function(a,b,c,d,e){e.position.cellElement||this.fireNavigateEvent(e)},deferSetPosition:function(a,
b,c,d,e,g){var h=this.view.getFocusTask();h.delay(a,this.setPosition,this,[b,c,d,e,g]);return h},setPosition:function(a,b,c,d,e){var g,h,j,k,l,m,n=null==a&&null==b;k=null==this.record&&null==this.recordIndex&&null==this.item;g=a&&a.isCellContext?a.view:c&&c.view?c.view:this.lastFocused?this.lastFocused.view:this.view;h=g.getSelectionModel();j=g.dataSource;g.getFocusTask().cancel();if(!g.isDestroyed&&g.refreshCounter&&(!n||!k)){if(a&&a.isCellContext)m=a.record,k=a.rowIdx,l=a.colIdx,a=a.column;else{if(n)m=
k=null;else if(null==b&&(b=this.lastFocused?this.lastFocused.column:0),"number"===typeof a)k=Math.max(Math.min(a,j.getCount()-1),0),m=j.getAt(a);else if(a.isEntity)m=a,k=j.indexOf(m),-1===k&&(m=null);else if(a.tagName)m=g.getRecord(a),k=j.indexOf(m),-1===k&&(m=null);else{if(k)return;n=!0;m=k=null}if(m)if(null==b){if(!(a=this.column))l=0,a=g.getVisibleColumnManager().getColumns()[l]}else"number"===typeof b?(a=g.getVisibleColumnManager().getColumns()[b],l=b):(a=b,l=g.getVisibleColumnManager().indexOf(b));
else n=!0,a=l=null}k===this.recordIndex&&l===this.columnIndex||(this.cell&&this.cell.removeCls(this.focusCls),this.previousRecordIndex=this.recordIndex,this.previousRecord=this.record,this.previousItem=this.item,this.previousCell=this.cell,this.previousColumn=this.column,this.previousColumnIndex=this.columnIndex,this.previousPosition=this.position.clone(),this.position.setAll(g,this.recordIndex=k,this.columnIndex=l,this.record=m,this.column=a),n?this.item=this.cell=null:this.focusPosition(this.position),
d||(h.fireEvent("focuschange",h,this.previousRecord,this.record),g.fireEvent("rowfocus",this.record,this.item,this.recordIndex),g.fireEvent("cellfocus",this.record,this.cell,this.position)),!e&&this.cell!==this.previousCell&&this.fireNavigateEvent(c))}},focusPosition:function(a){var b,c;this.item=this.cell=null;a&&(a.record&&a.column)&&(b=a.view,(c=a.rowElement?this.item=a.rowElement:b.getRowByRecord(a.record))?(this.cell=a.cellElement||Ext.fly(c).down(a.column.getCellSelector(),!0))?(this.cell=new Ext.dom.Fly(this.cell),
b.lastFocused=this.lastFocused=this.position.clone(),this.focusItem(this.cell),b.focusEl=this.cell):(this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null):(c=a.rowIdx,this.position.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null,b.bufferedRenderer&&b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this)))},focusItem:function(a){a.addCls(this.focusCls);a.focus()},getCell:function(){return this.cell},getPosition:function(){var a=this.position,
b;if(a.record&&a.column)if(b=a.view,-1===b.dataSource.indexOf(a.record)||-1==b.getVisibleColumnManager().indexOf(a.column))a.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null;else return a},getLastFocused:function(){var a,b=this.lastFocused;if(b&&(b.record&&b.column)&&(a=b.view,-1!==a.dataSource.indexOf(b.record)&&-1!==a.getVisibleColumnManager().indexOf(b.column)))return b},onKeyUp:function(a){var b=a.view.walkRecs(a.record,-1);b&&this.setPosition(b,this.columnIndex,a)},onKeyDown:function(a){var b=
a.record.isExpandingOrCollapsing?null:a.view.walkRecs(a.record,1);b&&this.setPosition(b,this.columnIndex,a)},onKeyRight:function(a){var b=this.move("right",a);b&&this.setPosition(b,null,a)},onKeyLeft:function(a){var b=this.move("left",a);b&&this.setPosition(b,null,a)},move:function(a){var b=this.getPosition();return b&&b.record?b.view.walkCells(b,a,null,this.preventWrap):null},onKeyPageDown:function(a){var b=a.view,c=this.getRowsVisible();c&&(b.bufferedRenderer?(c=Math.min(a.recordIndex+c,b.dataSource.getCount()-
1),this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this)):(b=b.walkRecs(a.record,c),this.setPosition(b,null,a)))},onKeyPageUp:function(a){var b=a.view,c=this.getRowsVisible();c&&(b.bufferedRenderer?(c=Math.max(a.recordIndex-c,0),this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(c,!1,this.afterBufferedScrollTo,this)):(b=b.walkRecs(a.record,-c),this.setPosition(b,null,a)))},onKeyHome:function(a){var b=a.view;a.altKey?b.bufferedRenderer?(this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(0,
!1,this.afterBufferedScrollTo,this)):this.setPosition(b.walkRecs(a.record,-b.dataSource.indexOf(a.record)),null,a):this.setPosition(a.record,0,a)},afterBufferedScrollTo:function(a,b){this.setPosition(b,null,this.lastKeyEvent)},onKeyEnd:function(a){var b=a.view;a.altKey?b.bufferedRenderer?(this.lastKeyEvent=a,b.bufferedRenderer.scrollTo(b.store.getCount()-1,!1,this.afterBufferedScrollTo,this)):this.setPosition(b.walkRecs(a.record,b.dataSource.getCount()-1-b.dataSource.indexOf(a.record)),null,a):this.setPosition(a.record,
a.view.getVisibleColumnManager().getColumns().length-1,a)},getRowsVisible:function(){var a=!1,b=this.view,c=b.all.first();c&&(a=c.getHeight(),b=b.el.getHeight(),a=Math.floor(b/a));return a},fireNavigateEvent:function(a){this.fireEvent("navigate",{view:this.position.view,navigationModel:this,keyEvent:a||new Ext.event.Event({}),previousPosition:this.previousPosition,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,previousCell:this.previousCell,
previousColumnIndex:this.previousColumnIndex,previousColumn:this.previousColumn,position:this.position,recordIndex:this.recordIndex,record:this.record,item:this.item,cell:this.cell,columnIndex:this.columnIndex,column:this.column})}});Ext.define("Ext.rtl.grid.NavigationModel",{override:"Ext.grid.NavigationModel",initKeyNav:function(a){var b=this.self.prototype;a.getInherited().rtl&&(this.onKeyLeft=b.onKeyRight,this.onKeyRight=b.onKeyLeft);this.callParent([a])}});
Ext.define("Ext.tree.NavigationModel",{extend:Ext.grid.NavigationModel,alias:"view.navigation.tree",initKeyNav:function(a){this.callParent([a]);this.keyNav.map.addBinding([{key:"8",shift:!0,handler:this.onAsterisk,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:this.onAsterisk,scope:this}])},onKeyLeft:function(a){var b=this.view,c=this.record;!c.isLeaf()&&c.isExpanded()?b.collapse(c):(c=c.parentNode)&&(!c.isRoot()||b.rootVisible)&&this.setPosition(c,null,a)},onKeyRight:function(){var a=this.record;
a.isLeaf()||(a.isExpanded()?(a=a.childNodes[0])&&this.setPosition(a):this.view.expand(a))},onKeyEnter:function(a){null!=this.record.data.checked?this.toggleCheck(a):this.callParent([a])},onKeySpace:function(a){null!=this.record.data.checked?this.toggleCheck(a):this.callParent([a])},toggleCheck:function(){this.view.onCheckChange(this.record)},onAsterisk:function(){this.view.ownerCt.expandAll()}});
Ext.define("Ext.tree.Panel",{extend:Ext.panel.Table,alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],viewType:"treeview",selType:"treemodel",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,normalCfgCopy:"displayField root singleExpand useArrows lines rootVisible scroll".split(" "),lockedCfgCopy:"displayField root singleExpand useArrows lines rootVisible".split(" "),
isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(a){a=a||{};void 0===a.animate&&(a.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx);this.enableAnimations=a.animate;delete a.animate;this.callParent([a])},initComponent:function(){var a=[this.treeCls],b=this.store;this.useArrows&&(a.push(this.arrowCls),this.lines=!1);this.lines?a.push(this.linesCls):
this.useArrows||a.push(this.noLinesCls);Ext.isString(b)?b=this.store=Ext.StoreMgr.lookup(b):!b||!b.isStore?(b=Ext.apply({type:"tree",root:this.root,fields:this.fields,model:this.model,proxy:"memory",folderSort:this.folderSort},b),b=this.store=Ext.StoreMgr.lookup(b)):this.root&&(b=this.store=Ext.data.StoreManager.lookup(b),b.setRoot(this.root),void 0!==this.folderSort&&(b.folderSort=this.folderSort,b.sort()));b.setRootVisible(this.rootVisible);b.getRoot()||b.setRoot({});this.viewConfig=Ext.apply({rootVisible:this.rootVisible,
animate:this.enableAnimations,singleExpand:this.singleExpand,node:b.getRoot(),hideHeaders:this.hideHeaders,navigationModel:"tree"},this.viewConfig);this.columns||(void 0===this.initialConfig.hideHeaders&&(this.hideHeaders=!0),this.addCls(this.autoWidthCls),this.columns=[{xtype:"treecolumn",text:"Name",flex:1,dataIndex:this.displayField}]);this.cls&&a.push(this.cls);this.cls=a.join(" ");this.callParent();a=this.getView();this.relayEvents(a,["checkchange","afteritemexpand","afteritemcollapse"])},getSelectionModel:function(){var a=
this.callParent();a.treeStore=this.getStore();return a},bindStore:function(a,b){var c=a.getRoot(),d=this.bufferedRenderer;this.callParent(arguments);d?d.store&&d.bindStore(a):(d={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copyTo(d,this,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer"),this.bufferedRenderer=this.addPlugin(d));a.singleExpand=this.singleExpand;this.storeListeners=this.mon(a,{destroyable:!0,rootchange:this.onRootChange,scope:this});this.storeRelayers=
this.relayEvents(a,["beforeload","load"]);this.rootRelayers=this.mon(c,{destroyable:!0,append:this.createRelayer("itemappend"),remove:this.createRelayer("itemremove"),move:this.createRelayer("itemmove",[0,4]),insert:this.createRelayer("iteminsert"),beforeappend:this.createRelayer("beforeitemappend"),beforeremove:this.createRelayer("beforeitemremove"),beforemove:this.createRelayer("beforeitemmove"),beforeinsert:this.createRelayer("beforeiteminsert"),expand:this.createRelayer("itemexpand",[0,1]),collapse:this.createRelayer("itemcollapse",
[0,1]),beforeexpand:this.createRelayer("beforeitemexpand",[0,1]),beforecollapse:this.createRelayer("beforeitemcollapse",[0,1])});!this.rootVisible&&(!a.autoLoad&&!c.isExpanded()&&!c.isLoading())&&(c.isLoaded()?(c.data.expanded=!0,a.onNodeExpand(c,c.childNodes)):(c.data.expanded=!1,c.expand()));a.ownerTree=this;b||this.view.setRootNode(c,!0)},unbindStore:function(){var a=this.store;a&&(this.callParent(),Ext.destroy(this.storeListeners,this.storeRelayers,this.rootRelayers),delete a.ownerTree,a.singleExpand=
null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(a){this.view.setRootNode(a)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(a){return a.get("checked")},expandNode:function(a,b,c,d){return this.getView().expand(a,b,c,d||this)},collapseNode:function(a,b,c,d){return this.getView().collapse(a,b,c,d||this)},expandAll:function(a,b){var c=this.getRootNode(),d=this.enableAnimations;
c&&(d||Ext.suspendLayouts(),c.expand(!0,a,b||this),d||Ext.resumeLayouts(!0))},collapseAll:function(a,b){var c=this.getRootNode(),d=this.enableAnimations,e=this.getView();c&&(d||Ext.suspendLayouts(),b=b||this,e.rootVisible?c.collapse(!0,a,b):c.collapseChildren(!0,a,b),d||Ext.resumeLayouts(!0))},expandPath:function(a,b,c,d,e){var g=this,h=g.getRootNode(),j=1,k,l;b=b||g.getRootNode().idProperty;c=c||"/";Ext.isEmpty(a)?Ext.callback(d,e||g,[!1,null]):(k=a.split(c),h.get(b)!=k[1]?Ext.callback(d,e||g,[!1,
h]):(l=function(){if(++j===k.length)Ext.callback(d,e||g,[!0,h]);else{var a=h.findChild(b,k[j]);a?(h=a,h.expand(!1,l)):Ext.callback(d,e||g,[!1,h])}},h.expand(!1,l)))},selectPath:function(a,b,c,d,e){var g=this,h;b=b||g.getRootNode().idProperty;c=c||"/";a=a.split(c);h=a.pop();1<a.length?g.expandPath(a.join(c),b,c,function(a,c){var l=c;if(a&&c&&(c=c.findChild(b,h))){g.getSelectionModel().select(c);Ext.callback(d,e||g,[!0,c]);return}Ext.callback(d,e||g,[!1,l])},g):(c=g.getRootNode(),c.getId()===h?(g.getSelectionModel().select(c),
Ext.callback(d,e||g,[!0,c])):Ext.callback(d,e||g,[!1,null]))}});
Ext.define("Ext.form.field.VTypes",function(){var a=/^[a-zA-Z_]+$/,b=/^[a-zA-Z0-9_]+$/,c=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,d=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(a){return c.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,
url:function(a){return d.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(b){return a.test(b)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return b.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}());
Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,weight:0,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['\x3cdiv id\x3d"{triggerId}" class\x3d"{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"\x3ctpl if\x3d"triggerStyle"\x3e style\x3d"{triggerStyle}"\x3c/tpl\x3e\x3e',
"{[values.$trigger.renderBody(values)]}","\x3c/div\x3e"],statics:{weightComparator:function(a,b){return a.weight-b.weight}},constructor:function(a){Ext.apply(this,a);this.compat4Mode&&(a=this.cls,this.focusCls=[this.focusCls,a+"-focus"],this.overCls=[this.overCls,a+"-over"],this.clickCls=[this.clickCls,a+"-click"]);this.validIdRe.test(this.id)||Ext.Error.raise('Invalid trigger "id": "'+this.id+'"')},afterFieldRender:function(){this.initEvents()},destroy:function(){var a=this.clickRepeater;a&&a.destroy();
this.el&&this.el.destroy();this.el=null;this.isDestroyed=!0},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var a=this.el;this.hidden=!0;a&&a.hide()},initEvents:function(){var a=this.isFieldEnabled,b=this.getStateEl(),c=this.el;b.addClsOnOver(this.overCls,a,this);b.addClsOnClick(this.clickCls,a,this);this.repeatClick?this.clickRepeater=new Ext.util.ClickRepeater(c,{preventDefault:!0,handler:this.onClick,listeners:{mousedown:this.onClickRepeaterMouseDown,
scope:this},scope:this}):this.field.mon(c,{click:this.onClick,mousedown:this.onMouseDown,scope:this})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var a=this.field,b=!1;if(this.hidden||!a||!this.rendered||this.isDestroyed)b=!0;return!b},onClick:function(){var a=arguments,a=this.clickRepeater?a[1]:a[0],b=this.field;this.handler&&(!b.readOnly&&this.isFieldEnabled())&&Ext.callback(this.handler,this.scope,[b,this,a],0,b)},resolveListenerScope:function(a){return this.field.resolveListenerScope(a)},
onMouseDown:function(a){(!a.parentEvent||"mousedown"===a.parentEvent.type)&&this.field.inputEl.focus();a.preventDefault()},onClickRepeaterMouseDown:function(a,b){(!b.parentEvent||"mousedown"===b.parentEvent.type)&&this.field.inputEl.focus();b.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){(this.el=this.field.triggerWrap.selectNode("#"+this.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY);
this.rendered=!0},renderBody:function(a){var b=this.bodyTpl;Ext.apply(a,this.getBodyRenderData());return b?Ext.XTemplate.getTpl(this,"bodyTpl").apply(a):""},renderTrigger:function(a){var b=this.width,c=this.hidden?"display:none;":"";b&&(c+="width:"+b);return Ext.XTemplate.getTpl(this,"renderTpl").apply({$trigger:this,fieldData:a,ui:a.ui,childElCls:a.childElCls,triggerId:this.domId=this.field.id+"-trigger-"+this.id,cls:this.cls,triggerStyle:c,extraCls:this.extraCls,baseCls:this.baseCls})},setHidden:function(a){if(a!==
this.hidden)this[a?"hide":"show"]()},setVisible:function(a){this.setHidden(!a)},show:function(){var a=this.el;this.hidden=!1;a&&a.show()}});
Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+
"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:!1,ariaRole:"textbox",editable:!0,repeatTriggerClick:!1,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+
"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",monitorTab:!0,mimicing:!1,needArrowKeys:!0,childEls:["triggerWrap","inputWrap"],preSubTpl:['\x3cdiv id\x3d"{cmpId}-triggerWrap" data-ref\x3d"triggerWrap" class\x3d"{triggerWrapCls} {triggerWrapCls}-{ui}"\x3e','\x3cdiv id\x3d{cmpId}-inputWrap data-ref\x3d"inputWrap" class\x3d"{inputWrapCls} {inputWrapCls}-{ui}"\x3e'],postSubTpl:["\x3c/div\x3e",'\x3ctpl for\x3d"triggers"\x3e{[values.renderTrigger(parent)]}\x3c/tpl\x3e',"\x3c/div\x3e"],
initComponent:function(){var a=this.emptyCls;!1===this.allowOnlyWhitespace&&(this.allowBlank=!1);this.size&&Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.');this.size&&(this.defaultBodyWidth=6.5*this.size+20);this.onTrigger1Click||(this.onTrigger1Click=this.onTriggerClick);this.callParent();this.setReadOnly(this.readOnly);this.fieldFocusCls=this.baseCls+"-focus";this.emptyUICls=a+" "+a+"-"+this.ui;this.addStateEvents("change")},
initEvents:function(){var a=this.inputEl;this.callParent();(this.selectOnFocus||this.emptyText)&&this.mon(a,"mousedown",this.onMouseDown,this);(this.maskRe||this.vtype&&!0!==this.disableKeyFilter&&(this.maskRe=Ext.form.field.VTypes[this.vtype+"Mask"]))&&this.mon(a,"keypress",this.filterKeys,this);this.enableKeyEvents&&this.mon(a,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})},isEqual:function(a,b){return this.isEqualAsString(a,b)},onChange:function(a,b){this.callParent(arguments);
this.autoSize()},getSubTplData:function(a){var b=this.getRawValue(),c=this.emptyText&&1>b.length,d=this.maxLength,e;this.enforceMaxLength?d===Number.MAX_VALUE&&(d=void 0):d=void 0;c&&(Ext.supports.Placeholder?e=this.emptyText:(b=this.emptyText,this.valueContainsPlaceholder=!0));return Ext.apply(this.callParent(arguments),{triggerWrapCls:this.triggerWrapCls,inputWrapCls:this.inputWrapCls,triggers:this.orderedTriggers,maxLength:d,readOnly:!this.editable||this.readOnly,placeholder:e,value:b,fieldCls:this.fieldCls+
(c&&(e||b)?" "+this.emptyUICls:"")+(this.allowBlank?"":" "+this.requiredCls)})},onRender:function(){var a=this.getTriggers(),b=[],c;Ext.supports.FixedTableWidthBug&&(this.el._needsTableWidthFix=!0);this.callParent();if(a){this.invokeTriggers("onFieldRender");for(c in a)b.push(a[c].el);this.triggerEl=this.triggerCell=new Ext.CompositeElement(b,!0)}this.inputCell=this.inputWrap},afterRender:function(){this.autoSize();this.callParent();this.invokeTriggers("afterFieldRender")},onMouseDown:function(){this.hasFocus||
this.mon(this.inputEl,"mouseup",Ext.emptyFn,this,{single:!0,preventDefault:!0})},applyTriggers:function(a){var b=this.getHideTrigger(),c=this.readOnly,d=this.orderedTriggers=[],e=this.repeatTriggerClick,g,h,j;this.rendered&&Ext.Error.raise("Cannot set triggers after field has already been rendered.");(this.triggerCls&&!a||this.trigger1Cls)&&Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger\x3cn\x3eCls' are deprecated.  Use 'triggers' instead.");if(!a){a={};this.triggerCls&&!this.trigger1Cls&&
(this.trigger1Cls=this.triggerCls);for(j=1;h=this["trigger"+j+"Cls"];j++)a["trigger"+j]={cls:h,extraCls:Ext.baseCSSPrefix+"trigger-index-"+j,handler:"onTrigger"+j+"Click",compat4Mode:!0,scope:this}}for(g in a)if(a.hasOwnProperty(g)){h=a[g];h.field=this;h.id=g;if(c&&!1!==h.hideOnReadOnly||b&&!1!==h.hidden)h.hidden=!0;e&&!1!==h.repeatClick&&(h.repeatClick=!0);h=a[g]=Ext.form.trigger.Trigger.create(h);d.push(h)}Ext.Array.sort(d,Ext.form.trigger.Trigger.weightComparator);return a},invokeTriggers:function(a,
b){var c=this.getTriggers(),d,e;if(c)for(d in c)c.hasOwnProperty(d)&&(e=c[d],e[a].apply(e,b||[]))},getTrigger:function(a){return this.getTriggers()[a]},updateHideTrigger:function(a){this.rendered&&this.invokeTriggers(a?"hide":"show")},setEditable:function(a){this.editable=a;this.rendered&&this.setReadOnlyAttr(!a||this.readOnly)},setReadOnly:function(a){var b=this.getTriggers(),c=this.getHideTrigger(),d,e;a=!!a;this.callParent([a]);if(this.rendered&&(this.setReadOnlyAttr(a||!this.editable),b))for(e in b)if(d=
b[e],!0===d.hideOnReadOnly||!1!==d.hideOnReadOnly&&!c)d[a?"hide":"show"].call(d)},setReadOnlyAttr:function(a){var b=this.inputEl.dom;a?b.setAttribute("readonly","readonly"):b.removeAttribute("readonly")},processRawValue:function(a){var b=this.stripCharsRe;b&&(b=a.replace(b,""),b!==a&&(this.setRawValue(b),a=b));return a},onDisable:function(){this.callParent();Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent();Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(a){this.fireEvent("keydown",
this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var a=this.emptyText,b;this.rendered&&a&&(b=1>this.getRawValue().length&&!this.hasFocus,Ext.supports.Placeholder?this.inputEl.dom.placeholder=a:b&&(this.setRawValue(a),this.valueContainsPlaceholder=!0),b&&this.inputEl.addCls(this.emptyUICls),this.autoSize())},afterFirstLayout:function(){this.callParent();
if(Ext.isIE&&this.disabled){var a=this.inputEl;a&&(a.dom.unselectable="on")}},toggleInvalidCls:function(a){a=a?"addCls":"removeCls";this.callParent();this.triggerWrap[a](this.triggerWrapInvalidCls);this.inputWrap[a](this.inputWrapInvalidCls)},beforeFocus:function(){var a=this.inputEl,b=this.emptyText,c;this.callParent(arguments);b&&!Ext.supports.Placeholder&&a.dom.value===this.emptyText&&this.valueContainsPlaceholder?(this.setRawValue(""),c=!0,a.removeCls(this.emptyUICls),this.valueContainsPlaceholder=
!1):Ext.supports.Placeholder&&a.removeCls(this.emptyUICls);if(this.selectOnFocus||c)Ext.isWebKit?(this.inputFocusTask||(this.inputFocusTask=new Ext.util.DelayedTask(this.focusInput,this)),this.inputFocusTask.delay(1)):this.focusInput()},focusInput:function(){var a=this.inputEl;a&&(a=a.dom)&&a.select()},onFocus:function(a){this.callParent(arguments);this.emptyText&&this.autoSize();this.addCls(this.fieldFocusCls);this.triggerWrap.addCls(this.triggerWrapFocusCls);this.inputWrap.addCls(this.inputWrapFocusCls);
this.invokeTriggers("onFieldFocus",[a])},onBlur:function(a){this.callParent(arguments);this.removeCls(this.fieldFocusCls);this.triggerWrap.removeCls(this.triggerWrapFocusCls);this.inputWrap.removeCls(this.inputWrapFocusCls);this.invokeTriggers("onFieldBlur",[a]);this.postBlur()},postBlur:function(){var a=this.inputFocusTask;this.callParent(arguments);this.applyEmptyText();a&&a.cancel()},filterKeys:function(a){if(!a.ctrlKey||a.altKey){var b=a.getKey(),c=String.fromCharCode(a.getCharCode());if(!Ext.isGecko&&
!Ext.isOpera||!a.isNavKeyPress()&&!(b===a.BACKSPACE||b===a.DELETE&&-1===a.button))if(Ext.isGecko||Ext.isOpera||!a.isSpecialKey()||c)this.maskRe.test(c)||a.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);a.hasOwnProperty("value")&&this.setValue(a.value)},getRawValue:function(){var a=this.callParent();a===this.emptyText&&this.valueContainsPlaceholder&&(a="");return a},setValue:function(a){var b=this.inputEl;
b&&(this.emptyText&&!Ext.isEmpty(a))&&(b.removeCls(this.emptyUICls),this.valueContainsPlaceholder=!1);this.callParent(arguments);this.applyEmptyText();return this},getErrors:function(a){a=arguments.length?null==a?"":a:this.processRawValue(this.getRawValue());var b=this.callParent([a]),c=this.validator,d=this.vtype,e=Ext.form.field.VTypes,g=this.regex,h=Ext.String.format,j;Ext.isFunction(c)&&(c=c.call(this,a),!0!==c&&b.push(c));if(1>(this.allowOnlyWhitespace?a:Ext.String.trim(a)).length||a===this.emptyText&&
this.valueContainsPlaceholder){this.allowBlank||b.push(this.blankText);if(!this.validateBlank)return b;j=!0}!j&&a.length<this.minLength&&b.push(h(this.minLengthText,this.minLength));a.length>this.maxLength&&b.push(h(this.maxLengthText,this.maxLength));d&&(e[d](a,this)||b.push(this.vtypeText||e[d+"Text"]));g&&!g.test(a)&&b.push(this.regexText||this.invalidText);return b},selectText:function(a,b){var c=this.getRawValue(),d=!0,e=this.inputEl.dom;0<c.length&&(a=void 0===a?0:a,b=void 0===b?c.length:b,
e.setSelectionRange?e.setSelectionRange(a,b):e.createTextRange&&(d=e.createTextRange(),d.moveStart("character",a),d.moveEnd("character",b-c.length),d.select()),d=Ext.isGecko||Ext.isOpera);d&&this.focus()},autoSize:function(){var a,b,c,d,e;if(this.grow&&this.rendered&&this.getSizeModel().width.auto){d=this.inputEl;a=this.getTriggers();c=0;e=Ext.util.Format.htmlEncode(d.dom.value||(this.hasFocus?"":this.emptyText)||"");e+=this.growAppend;for(b in a)c+=a[b].el.getWidth();a=d.getTextWidth(e)+c+this.inputWrap.getBorderWidth("lr")+
this.triggerWrap.getBorderWidth("lr");a=Math.min(Math.max(a,this.growMin),this.growMax);this.bodyEl.setWidth(a);this.updateLayout();this.fireEvent("autosize",this,a)}},onDestroy:function(){this.invokeTriggers("destroy");Ext.destroy(this.triggerRepeater);this.callParent();this.inputFocusTask&&(this.inputFocusTask.cancel(),this.inputFocusTask=null)},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var a=this.getTriggers(),
b=0,c;if(a&&this.rendered)for(c in a)a.hasOwnProperty(c)&&(b+=a[c].el.getWidth());return b}}}}});
Ext.define("Ext.app.bindinspector.ComponentList",{alias:"widget.bindinspector-componentlist",extend:Ext.tree.Panel,rootVisible:!1,title:"Component Tree",hideHeaders:!0,bindingsIconCls:Ext.baseCSSPrefix+"bindings-icon",vmIconCls:Ext.baseCSSPrefix+"vm-icon",missingDataCls:Ext.baseCSSPrefix+"bindinspector-missing-data",filterVisibleCls:Ext.baseCSSPrefix+"bindinspector-filter-visible",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",bindingsIcon:"\u260d",vmIcon:"\u2636",initComponent:function(){var a=
this,b=[];a.viewConfig={toggleOnDblClick:!1,getRowClass:function(b,d,e,g){e=[];b.get("filtervisible")&&e.push(a.filterVisibleCls);b.get("sansData")&&e.push(a.missingDataCls);d===g.getCount()-1&&e.push(a.lastItemCls);return e.join(" ")}};Ext.Array.forEach(a.components,function(c){b.push(a.buildNode(c))},a);a.store={model:a.Model,root:{expanded:!0,children:b}};a.columns=[{itemId:"srcVMIndicator",width:40,hidden:!0,renderer:a.srcVMIndicator,scope:a},{xtype:"treecolumn",dataIndex:"text",flex:1}];a.dockedItems=
[{xtype:"toolbar",itemId:"queryFieldTb",dock:"top",items:[{xtype:"textfield",reference:"queryField",itemId:"queryField",emptyText:"simple search by reference / ID or use a component query...",flex:1,triggers:{clear:{cls:Ext.baseCSSPrefix+"form-clear-trigger",handler:function(a){var b=a.up("treepanel");a.reset();b.clearComponentFilter();a.focus()}}},listeners:{change:{fn:a.filterComponentTree,buffer:250,scope:a},afterrender:{fn:function(b){var d=b.up("toolbar").getEl();b.mon(d,"mouseenter",function(){var b=
a.bindingsTip,c;b.stopAnimation();b.update("\x3cb\x3eSimple Search\x3c/b\x3e\x3cbr\x3eEnter the string matching the reference or ID of the target component\x3chr\x3e\x3cb\x3eComponent Query\x3c/b\x3e\x3cbr\x3eEnter a component query string to find any items matching the query");b.setTarget(d);b.show();b.getX();b.getY();c=b.getAlignToXY(d,"l-r");b.animate({from:{opacity:0,x:c[0]+20,y:c[1]},to:{opacity:1,x:c[0]+10,y:c[1]}})})},scope:a}}}]},{xtype:"toolbar",cls:Ext.baseCSSPrefix+"vm-results-tb",itemId:"vmQueryResultsTb",
hidden:!0,dock:"top",defaultButtonUI:"default",items:["-\x3e",{text:"Clear VM Filter",handler:function(){console.log(this.up("#vmQueryResultsTb"));var a=this.up("#vmQueryResultsTb"),b=a.up("bindinspector-componentlist"),e=b.down("#queryFieldTb"),g=e.down("#queryField");a.hide();e.show();b.clearVMSearchIndicators();g.setValue(g.lastValue);b.filterComponentTree(null,g.lastValue)}}]}];a.callParent();a.getView().on("itemdblclick",a.onItemDblclick,a);a.on("select",a.onItemSelect,a);a.bindingsTip=Ext.create("Ext.tip.ToolTip",
{renderTo:document.body,anchor:"left",cls:Ext.baseCSSPrefix+"componentlist-tip",bodyPadding:12});a.getView().on("itemmouseenter",a.showBindingsTip,a)},clearVMSearchIndicators:function(){var a=this.indicatedVM;Ext.suspendLayouts();a&&Ext.Array.forEach(a,function(a){a.set("isSrcVM",!1)});this.down("#srcVMIndicator").hide();Ext.resumeLayouts(!0);this.indicatedVM=null},srcVMIndicator:function(a,b,c){c=c.get("isSrcVM");a="";var d,e;c&&(d=this.up("bindinspector-container").down("bindinspector-viewmodeldetail"),
d=d.getFirstTierRec(c),e=d.get("name"),d!==c&&(a+="Root data node: \x26nbsp;\x3cspan class\x3d'"+Ext.baseCSSPrefix+"binding-tip-descriptor'\x3e"+e+"\x3c/span\x3e\x3chr\x3e"),c=d===c?d:c,a+=c.get("name")+":",a=a+"\x3cbr\x3e\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;"+("\x3cspan class\x3d'"+Ext.baseCSSPrefix+"binding-tip-value'\x3e"+Ext.app.bindinspector.Util.valueRenderer(c.get("value"))+"\x3c/span\x3e"),b.tdCls=Ext.baseCSSPrefix+"bindindicator-vm-src",b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"'+
a+'"')},onDestroy:function(){this.bindingsTip.destroy();this.callParent()},showBindingsTip:function(a,b,c){a=this.bindingsTip;var d=b.get("sansData"),e;a.stopAnimation();b.get("hasBindings")&&(b=this.ownerCt.env.getCmp(b.get("id")).bindings,e=[],Ext.Object.each(b,function(a,b){var c=a+': \x3cspan class\x3d"'+Ext.baseCSSPrefix+'binding-tip-descriptor"\x3e'+b.descriptor+"\x3c/span\x3e\x3cbr\x3e",d=b.value,l;Ext.isString(d)?l=d:Ext.isObject(d)&&(!0===d.isStore?l="Store {"+d.entityName+"}":!0===d.isModel&&
(l="Model {"+d.entityName+"}"));c+='\x3cspan class\x3d"'+Ext.baseCSSPrefix+'binding-tip-value"\x3e'+l+"\x3c/span\x3e";e.push(c)}),e=e.join("\x3chr\x3e"),d&&(e+="\x3chr\x3e",Ext.Array.forEach(d,function(a){e+='\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'binding-missing-data"\x3eMissing data: '+a+"\x3c/div\x3e"})),a.update(e),a.setTarget(c),a.show(),a.alignTo(c,"l-r",[20,0]),a.animate({from:{opacity:0},to:{opacity:1,x:a.getX()-10}}))},filterComponentTree:function(a,b){var c=this;a=c.down("#queryField");
var d=b||a.getValue(),e=c.store,g=/[\s>\[\]=()^'"~$@*:+#,]/g,h=Ext.isArray(d),j=h?d:[],k=[],l,m;Ext.isString(d)&&(l=g.test(Ext.String.trim(d)));if(0<d.length){c.filteredComponents=[];if(l){try{k=Ext.ComponentQuery.query(d)}catch(n){}g=k.length;for(m=0;m<g;m++)j.push(k[m].id)}e.suspendEvents();e.filter({filterFn:function(a){var b=a.childNodes,e=b&&b.length,g=!1,g=l||h?Ext.Array.contains(j,a.get("id")):-1<a.get("text").indexOf(d);a.set("filtervisible",g);g&&c.filteredComponents.push(a);for(a=0;a<e;a++)b[a].get("visible")&&
(g=!0);return g},id:"queryFilter"});e.resumeEvents();c.getView().refresh()}else c.clearComponentFilter()},clearComponentFilter:function(){for(var a=this.store,b=this.filteredComponents||[],c=b.length,d=0;d<c;d++)b[d].set("filtervisible",!1);a.clearFilter()},buildNode:function(a){var b=this.getRefOwner(),c=a.items,d=a.viewModel,e=a.bindings,g=!!a.bindings,h=[],j=[],k={},l,m;d&&(h.push('\x3cspan class\x3d"'+this.vmIconCls+'"\x3e'+this.vmIcon+"\x3c/span\x3e"),b.buildVMDataMap(d));if(g){h.push('\x3cspan class\x3d"'+
this.bindingsIconCls+'"\x3e'+this.bindingsIcon+"\x3c/span\x3e");for(l in e)b=e[l],b.descriptor&&Ext.isEmpty(b.value)&&j.push(k[l]=b.descriptor);m=a.bindData=Ext.app.bindinspector.Util.buildBindData(e)}0===j.length&&(j=void 0);e={id:a.id,text:(a.reference?"\x3cb\x3e["+a.reference+"]\x3c/b\x3e \x26bull; ":"")+a.id+(h.length?" "+h.join(" "):""),hasViewModel:!!d,hasBindings:g,hasDeepBindings:g,reference:a.reference,sansData:j,bindData:m,children:[]};if(c){d=0;for(a=c.length;d<a;++d)g=this.buildNode(c[d]),
e.hasDeepBindings=e.hasDeepBindings||g.hasDeepBindings,g.hasDeepBindings&&e.children.push(g)}e.children.length?(e.expanded=!0,e.leaf=!1):e.leaf=!0;return e},onItemDblclick:function(a,b){this.fireEvent("componentdblclick",this,b)},onItemSelect:function(a,b){var c=this.getView().getNode(b);this.fireEvent("componentselect",this,b,c)}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:"hasViewModel hasBindings reference hasDeepBindings reference sansData bindData isSrcVM".split(" ")})});
Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var a=this.callParent();a.xclass="Ext.resizer.BorderSplitterTracker";return a}});
Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",
sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(a,b,c){var d=this.axisProps[c],e=!d.horizontal,g=d.sizeProp,h=0,j=a.childItems,k=j.length,l,m,n,p,q,r,s,t;for(m=0;m<k;++m)n=j[m],q=n.target,n.layoutPos={},q.region&&(n.region=r=q.region,n.isCenter=q.isCenter,
n.isHorz=q.isHorz,n.isVert=q.isVert,n.weight=q.weight||this.regionWeights[r]||0,q.weight=n.weight,b[q.id]=n,q.isCenter?(l=n,p=q.flex,a.centerRegion=l):e===n.isVert&&(n.reverseWeighting=r==d.borderEnd,r=q[g],t=typeof r,q.collapsed||("string"==t&&(s=this.percentageRe.exec(r))?n.percentage=parseInt(s[1],10):q.flex&&(h+=n.flex=q.flex))));l&&(a=l.target,(b=a.placeholderFor)?!p&&e===b.collapsedVertical()&&(p=0,l.collapseAxis=c):a.collapsed&&e===a.collapsedVertical()&&(p=0,l.collapseAxis=c));null==p&&(p=
1);return Ext.apply({before:e?"top":"left",totalFlex:h+p},d)},beginLayout:function(a){var b=this.getLayoutItems(),c=this.padding,d=typeof c,e=!1,g,h,j;a.heightModel.shrinkWrap&&Ext.Error.raise("Border layout does not currently support shrinkWrap height. Please specify a height on component: "+this.owner.id+", or use a container layout that sets the component's height.");a.widthModel.shrinkWrap&&Ext.Error.raise("Border layout does not currently support shrinkWrap width. Please specify a width on component: "+
this.owner.id+", or use a container layout that sets the component's width.");if(c){if("string"==d||"number"==d)c=Ext.util.Format.parseBox(c)}else c=a.getEl("getTargetEl").getPaddingInfo(),e=!0;a.outerPad=c;a.padOnContainer=e;d=0;for(c=b.length;d<c;++d)if(g=b[d],e=this.getSplitterTarget(g))h=void 0,j=!!g.hidden,e.split?j!==e.hidden&&(h=!e.hidden):e.isCollapsingOrExpanding&&(h=!!e.collapsed),h?g.show():!1===h&&g.hide();this.callParent(arguments);b=a.childItems;c=b.length;h={};a.borderAxisHorz=this.beginAxis(a,
h,"horz");a.borderAxisVert=this.beginAxis(a,h,"vert");for(d=0;d<c;++d)if(g=b[d],e=this.getSplitterTarget(g.target))j=h[e.id],j||(j=a.getEl(e.el,this),j.region=e.region),g.collapseTarget=e=j,g.weight=e.weight,g.reverseWeighting=e.reverseWeighting,e.splitter=g,g.isHorz=e.isHorz,g.isVert=e.isVert;this.sortWeightedItems(b,"reverseWeighting");this.setupSplitterNeighbors(b)},calculate:function(a){var b=this.getContainerSize(a),c=a.childItems,d=c.length,e=a.borderAxisHorz,g=a.borderAxisVert,h=a.outerPad,
j=a.padOnContainer,k,l;e.begin=h[this.padOnContainerProp];g.begin=h.top;l=e.end=e.flexSpace=b.width+(j?h[this.padOnContainerProp]:-h[this.padNotOnContainerProp]);j=g.end=g.flexSpace=b.height+(j?h.top:-h.bottom);for(b=0;b<d;++b){h=c[b];k=h.getMarginInfo();if(h.isHorz||h.isCenter)e.addUnflexed(k.width),l-=k.width;if(h.isVert||h.isCenter)g.addUnflexed(k.height),j-=k.height;if(!h.flex&&!h.percentage)if(h.isHorz||h.isCenter&&"horz"===h.collapseAxis)k=h.getProp("width"),e.addUnflexed(k),h.collapseTarget&&
(l-=k);else if(h.isVert||h.isCenter&&"vert"===h.collapseAxis)k=h.getProp("height"),g.addUnflexed(k),h.collapseTarget&&(j-=k)}for(b=0;b<d;++b)h=c[b],h.getMarginInfo(),h.percentage&&(h.isHorz?(k=Math.ceil(l*h.percentage/100),k=h.setWidth(k),e.addUnflexed(k)):h.isVert&&(k=Math.ceil(j*h.percentage/100),k=h.setHeight(k),g.addUnflexed(k)));for(b=0;b<d;++b)h=c[b],h.isCenter||(this.calculateChildAxis(h,e),this.calculateChildAxis(h,g));2>this.finishAxis(a,g)+this.finishAxis(a,e)?this.done=!1:this.finishPositions(c)},
calculateChildAxis:function(a,b){var c=a.collapseTarget,d="set"+b.sizePropCap,e=b.sizeProp,g=a.getMarginInfo()[e],h,j;c?h=c.region:(h=a.region,j=a.flex);c=h==b.borderBegin;!c&&h!=b.borderEnd?(a[d](b.end-b.begin-g),d=b.begin):(j?(e=Math.ceil(b.flexSpace*(j/b.totalFlex)),e=a[d](e)):e=a.percentage?a.peek(e):a.getProp(e),e+=g,c?(d=b.begin,b.begin+=e):b.end=d=b.end-e);a.layoutPos[b.posProp]=d},eachItem:function(a,b,c){var d=this.getLayoutItems(),e=0,g;Ext.isFunction(a)&&(c=b=a);for(e;e<d.length&&!(g=d[e],
(!a||g.region===a)&&!1===b.call(c,g));e++);},finishAxis:function(a,b){var c=b.end-b.begin,d=a.centerRegion;d&&(d["set"+b.sizePropCap](c-d.getMarginInfo()[b.sizeProp]),d.layoutPos[b.posProp]=b.begin);return Ext.isNumber(c)?1:0},finishPositions:function(a){var b=a.length,c,d,e=this.horzPositionProp;for(c=0;c<b;++c)d=a[c],d.setProp("x",d.layoutPos.x+d.marginInfo[e]),d.setProp("y",d.layoutPos.y+d.marginInfo.top)},getLayoutItems:function(){for(var a=this.owner,a=a&&a.items&&a.items.items||[],b=a.length,
c=[],d=0,e,g;d<b;d++)e=a[d],g=e.placeholderFor,(e.hidden||(!e.floated||2===e.isCollapsingOrExpanding)&&!(g&&2===g.isCollapsingOrExpanding))&&c.push(e);return c},getPlaceholder:function(a){return a.getPlaceholder&&a.getPlaceholder()},getMaxWeight:function(a){return this.getMinMaxWeight(a)},getMinWeight:function(a){return this.getMinMaxWeight(a,!0)},getMinMaxWeight:function(a,b){var c=null;this.eachItem(a,function(a){if(a.hasOwnProperty("weight"))if(null===c)c=a.weight;else if(b&&a.weight<c||a.weight>
c)c=a.weight},this);return c},getSplitterTarget:function(a){return(a=a.collapseTarget)&&a.collapsed?a.placeholder||a:a},isItemBoxParent:function(){return!0},isItemShrinkWrap:function(){return!0},insertSplitter:function(a,b,c,d){var e=a.region;c=Ext.apply({xtype:"bordersplitter",collapseTarget:a,id:a.id+"-splitter",hidden:c,canResize:!1!==a.splitterResize,splitterFor:a,synthetic:!0},d);"mini"===a.collapseMode&&(c.collapsedCls=a.collapsedCls);a.splitter=this.owner.add(b+("south"===e||"east"===e?0:1),
c)},getMoveAfterIndex:function(a){var b=this.callParent(arguments);a.splitter&&b++;return b},moveItemBefore:function(a,b){var c;if(b&&b.splitter&&(c=b.region,"south"===c||"east"===c))b=b.splitter;return this.callParent([a,b])},onAdd:function(a,b){var c=a.placeholderFor,d=a.region,e,g;this.callParent(arguments);if(d){Ext.apply(a,this.regionFlags[d]);a.initBorderRegion&&a.initBorderRegion();if(c="center"===d)this.centerRegion&&Ext.Error.raise("Cannot have multiple center regions in a BorderLayout."),
this.centerRegion=a;else if(d=a.split,e=!!a.hidden,"object"===typeof d&&(g=d,d=!0),(a.isHorz||a.isVert)&&(d||"mini"==a.collapseMode))this.insertSplitter(a,b,e||!d,g);!c&&!a.hasOwnProperty("collapseMode")&&(a.collapseMode=this.panelCollapseMode);a.hasOwnProperty("animCollapse")||(a.animCollapse="placeholder"!==a.collapseMode?!1:this.panelCollapseAnimate)}else c&&(Ext.apply(a,this.regionFlags[c.region]),a.region=c.region,a.weight=c.weight)},onDestroy:function(){this.centerRegion=null;this.callParent()},
onRemove:function(a,b){var c=a.splitter,d=this.owner,e=d.destroying;a.region&&(a.isCenter&&(this.centerRegion=null),delete a.isCenter,delete a.isHorz,delete a.isVert,c&&!d.destroying&&d.doRemove(c,!0),delete a.splitter);this.callParent(arguments);if(!e&&(!b&&a.rendered)&&(c=a.getEl()))c.setStyle("top",""),c.setStyle(this.horzPositionProp,"")},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,
isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(a){var b={},c=a.length,d=this.touchedRegions,e,g,h,j,k,l,m,n;for(e=0;e<c;++e)if(l=a[e].target,m=l.region,l.isCenter)h=l;else if(m){n=d[m];g=0;for(j=n.length;g<j;++g)(k=b[n[g]])&&k.neighbors.push(l);
if(g=l.placeholderFor?l.placeholderFor.splitter:l.splitter)g.neighbors=[];b[m]=g}if(h){n=d.center;g=0;for(j=n.length;g<j;++g)(k=b[n[g]])&&k.neighbors.push(h)}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,
setsWidth:1,setsHeight:1}},getItemSizePolicy:function(a){var b=this.sizePolicies,c,d;return a.isCenter?(c=a.placeholderFor)?c.collapsedVertical()?b.vert:b.horz:a.collapsed?a.collapsedVertical()?b.vert:b.horz:b.flexAll:(c=a.collapseTarget)?c.isVert?b.vert:b.horz:a.region?(a.isVert?(c=a.height,d=b.vert):(c=a.width,d=b.horz),a.flex||"string"==typeof c&&this.percentageRe.test(c)?b.flexAll:d):this.autoSizePolicy}},function(){var a={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},
b=this.prototype.axisProps;Ext.apply(b.horz,a);Ext.apply(b.vert,a)});Ext.define("Ext.rtl.layout.container.Border",{override:"Ext.layout.container.Border",initLayout:function(){this.owner.getInherited().rtl&&(this.padOnContainerProp="right",this.padNotOnContainerProp="left",this.horzPositionProp="right");this.callParent(arguments)}});
Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var a=this.getActiveItem();if(a){if(a.hasListeners.beforeactivate&&!1===a.fireEvent("beforeactivate",a))a=this.activeItem=this.owner.activeItem=null;else if(a.hasListeners.activate)a.on({boxready:function(){a.fireEvent("activate",a)},single:!0});if(this.deferredRender){if(a)return this.getItemsRenderTree([a])}else return this.callParent(arguments)}},
renderChildren:function(){var a=this.getActiveItem();this.deferredRender?a&&this.renderItems([a],this.getRenderTarget()):this.callParent()},isValidParent:function(a,b){var c=a.el?a.el.dom:Ext.getDom(a);return c&&c.parentNode===(b.dom||b)||!1},getActiveItem:function(){var a=this.parseActiveItem(this.activeItem||this.owner&&this.owner.activeItem);return this.activeItem=a&&-1!=this.owner.items.indexOf(a)?a:null},parseActiveItem:function(a){return a&&a.isComponent?a:"number"==typeof a||void 0===a?this.getLayoutItems()[a||
0]:this.owner.getComponent(a)},configureItem:function(a){a.hidden=a===this.getActiveItem()?!1:!0;this.callParent(arguments)},onRemove:function(a){this.callParent(arguments);a===this.activeItem&&(this.activeItem=null)},getAnimation:function(a,b){var c=(a||{}).cardSwitchAnimation;return!1===c?!1:c||b.cardSwitchAnimation},getNext:function(a){var b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c+1]||(a?b[0]:!1)},next:function(a,b){return this.setActiveItem(this.getNext(b),a)},
getPrev:function(a){var b=this.getLayoutItems(),c=Ext.Array.indexOf(b,this.activeItem);return b[c-1]||(a?b[b.length-1]:!1)},prev:function(a,b){return this.setActiveItem(this.getPrev(b),a)},setActiveItem:function(a){var b=this.owner,c=this.activeItem,d=b.rendered;a=this.parseActiveItem(a);-1==b.items.indexOf(a)&&(Ext.suspendLayouts(),a=b.add(a),Ext.resumeLayouts());if(a&&c!=a){if(!1===a.fireEvent("beforeactivate",a,c)||c&&!1===c.fireEvent("beforedeactivate",c,a))return!1;d?(Ext.suspendLayouts(),a.rendered||
this.renderItem(a,this.getRenderTarget(),b.items.length),c&&(this.hideInactive&&(c.hide(),c.hiddenByLayout=!0),c.fireEvent("deactivate",c,a)),a.hidden&&a.show(),a.hidden||(this.activeItem=a),Ext.resumeLayouts(!0)):this.activeItem=a;a.fireEvent("activate",a,c);return this.activeItem}return!1}});
Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:!0,tabIndex:-1,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+
"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{"default":"top",
"0":"top",1:"left",2:"right"},right:{"default":"top","0":"right",1:"top",2:"bottom"},bottom:{"default":"bottom","0":"bottom",1:"right",2:"left"},left:{"default":"top","0":"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){this.card&&this.setCard(this.card);this.callParent(arguments)},getActualRotation:function(){var a=this.getRotation();return"default"!==a?a:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},
updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var a=this._rotateClasses,b=this.getTabPosition(),c=this.getActualRotation(),d=this._rotateCls,a=this._rotateCls=a[c],e=this._positionCls,b=this._positionCls=this._positions[b][c];d!==a&&(d&&this.removeCls(d),a&&this.addCls(a));e!==b&&(e&&this.removeClsWithUI(e),b&&this.addClsWithUI(b),this.rendered&&this.updateFrame());this.rendered&&this.setElOrientation()},onAdded:function(a,b,c){this.callParent([a,
b,c]);this.syncRotationAndPosition()},getTemplateArgs:function(){var a=this.callParent();a.closable=this.closable;a.closeText=this.closeText;return a},beforeRender:function(){var a=this.up("tabbar"),b=this.up("tabpanel");this.callParent();this.active&&this.addCls(this._activeCls);this.syncClosableCls();this.minWidth||(this.minWidth=a?a.minTabWidth:this.minWidth,!this.minWidth&&b&&(this.minWidth=b.minTabWidth),this.minWidth&&this.iconCls&&(this.minWidth+=25));this.maxWidth||(this.maxWidth=a?a.maxTabWidth:
this.maxWidth,!this.maxWidth&&b&&(this.maxWidth=b.maxTabWidth))},onRender:function(){this.setElOrientation();this.callParent(arguments);this.closable&&(this.closeEl.addClsOnOver(this.closeElOverCls),this.closeEl.addClsOnClick(this.closeElPressedCls));this.initKeyNav()},initKeyNav:function(){this.keyNav=new Ext.util.KeyNav(this.el,{enter:this.onEnterKey,del:this.onDeleteKey,scope:this})},setElOrientation:function(){var a=this.getActualRotation(),b=this.el;a?b.setVertical(1===a?90:270):b.setHorizontal()},
enable:function(a){this.callParent(arguments);this.removeCls(this._disabledCls);return this},disable:function(a){this.callParent(arguments);this.addCls(this._disabledCls);return this},onDestroy:function(){Ext.destroy(this.keyNav);delete this.keyNav;this.callParent(arguments)},setClosable:function(a){a=!arguments.length||!!a;this.closable!=a&&(this.closable=a,this.card&&(this.card.closable=a),this.syncClosableCls(),this.rendered&&(this.syncClosableElements(),this.updateLayout()))},syncClosableElements:function(){var a=
this.closeEl;this.closable?(a||(a=this.closeEl=this.btnWrap.insertSibling({tag:"a",role:"presentation",cls:this.baseCls+"-close-btn",href:"#",title:this.closeText},"after")),a.addClsOnOver(this.closeElOverCls),a.addClsOnClick(this.closeElPressedCls)):a&&(a.destroy(),delete this.closeEl)},syncClosableCls:function(){var a=this._closableCls;this.closable?this.addCls(a):this.removeCls(a)},setCard:function(a){this.card=a;a.iconAlign&&this.setIconAlign(a.iconAlign);a.textAlign&&this.setTextAlign(a.textAlign);
this.setText(this.title||a.title);this.setIconCls(this.iconCls||a.iconCls);this.setIcon(this.icon||a.icon);this.setGlyph(this.glyph||a.glyph)},onCloseClick:function(){!1!==this.fireEvent("beforeclose",this)&&(this.tabBar?this.tabBar.closeTab(this):this.fireClose())},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(a){if(this.tabBar)this.tabBar.onClick(a,this.el)},onDeleteKey:function(){if(this.closable)this.onCloseClick()},afterClick:function(a){a||this.focus()},activate:function(a){this.active=
!0;this.addCls(this._activeCls);!0!==a&&this.fireEvent("activate",this)},deactivate:function(a){this.active=!1;this.removeCls(this._activeCls);!0!==a&&this.fireEvent("deactivate",this)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(a){this.el=new Ext.dom.Element(a)}}});
Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(a){this.callParent(arguments);a.bodyContext=a.getEl("body")},beginLayoutCycle:function(a,b){var c=this.lastWidthModel,d=this.lastHeightModel,e=this.owner.body;this.callParent(arguments);c&&(c.fixed&&a.widthModel.shrinkWrap)&&e.setWidth(null);d&&(d.fixed&&a.heightModel.shrinkWrap)&&e.setHeight(null)},calculateOwnerHeightFromContentHeight:function(a,b){var c=this.callParent(arguments);
a.targetContext!=a&&(c+=a.getPaddingInfo().height);return c},calculateOwnerWidthFromContentWidth:function(a,b){var c=this.callParent(arguments);a.targetContext!=a&&(c+=a.getPaddingInfo().width);return c},measureContentWidth:function(a){return a.bodyContext.setWidth(a.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(a){return a.bodyContext.setHeight(a.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(a,b){var c=b-a.getFrameInfo().height;a.targetContext!=a&&(c-=a.getPaddingInfo().height);
return a.bodyContext.setHeight(c,!a.heightModel.natural)},publishInnerWidth:function(a,b){var c=b-a.getFrameInfo().width;a.targetContext!=a&&(c-=a.getPaddingInfo().width);a.bodyContext.setWidth(c,!a.widthModel.natural)}});
Ext.define("Ext.tab.Bar",{extend:Ext.panel.Bar,xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",mixins:[Ext.util.FocusableContainer],componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0},defaultType:"tab",plain:!1,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" role\x3d"presentation" class\x3d"{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e{%this.renderContainer(out,values)%}\x3c/div\x3e\x3cdiv id\x3d"{id}-strip" data-ref\x3d"strip" role\x3d"presentation" class\x3d"{stripCls} {stripCls}-{ui}{childElCls}"\x3e\x3c/div\x3e',
_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var a=this.initialConfig.layout,b=a&&a.align,a=a&&a.overflowHandler;this.plain&&this.addCls(this.baseCls+"-plain");this.callParent();this.setLayout({align:b||(this.getTabStretchMax()?"stretchmax":this._layoutAlign[this.dock]),overflowHandler:a||"scroller"});this.on({click:this.onClick,element:"el",scope:this})},initRenderData:function(){return Ext.apply(this.callParent(),
{bodyCls:this.bodyCls,baseBodyCls:this._baseBodyCls,bodyTargetCls:this.bodyTargetCls,stripCls:this._stripCls,dock:this.dock})},setDock:function(a){var b=this.items,c=this.ownerCt,d,e,g;if(b=b&&b.items){e=0;for(g=b.length;e<g;e++)d=b[e],d.isTab&&d.setTabPosition(a)}this.rendered&&(this.resetItemMargins(),c&&c.isHeader&&c.resetItemMargins(),this.needsScroll=!0);this.callParent([a])},updateTabRotation:function(a){var b=this.items,c,d,e;if(b=b&&b.items){c=0;for(d=b.length;c<d;c++)e=b[c],e.isTab&&e.setRotation(a)}this.rendered&&
(this.resetItemMargins(),this.needsScroll=!0,this.updateLayout())},onRender:function(){this.callParent();if(Ext.isIE8&&this.vertical)this.el.on({mousemove:this.onMouseMove,scope:this})},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},adjustTabPositions:function(){var a=this.items.items,b=a.length,c,d,e,g;if(!Ext.isIE8)for(;b--;)c=a[b],e=c.el,d=c.lastBox,g=c.isTab?c.getActualRotation():0,1===g&&c.isVisible()?e.setStyle("left",d.x+d.width+"px"):2===g&&c.isVisible()&&e.setStyle("left",
d.x-d.height+"px")},onAdded:function(a,b,c){a.isHeader&&this.addCls(a.baseCls+"-"+a.ui+"-tab-bar");this.callParent([a,b,c])},onRemove:function(a){a===this.previousTab&&(this.previousTab=null);this.callParent(arguments)},onRemoved:function(a){var b=this.ownerCt;b.isHeader&&this.removeCls(b.baseCls+"-"+b.ui+"-tab-bar");this.callParent([a])},afterComponentLayout:function(a){var b=this.needsScroll,c=this.layout.overflowHandler;this.callParent(arguments);c&&(b&&this.tooNarrow&&c.scrollToItem)&&c.scrollToItem(this.activeTab);
delete this.needsScroll},onMouseMove:function(a){var b=this._overTab,c;a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(c=this.getTabInfoFromPoint(a.getXY()),c=c.tab,c!==b&&(b&&b.rendered&&(b.onMouseLeave(a),this._overTab=null),c?(c.onMouseEnter(a),this._overTab=c,c.disabled||this.el.setStyle("cursor","pointer")):this.el.setStyle("cursor","default")))},onMouseLeave:function(a){var b=this._overTab;if(b&&b.rendered)b.onMouseLeave(a)},getTabInfoFromPoint:function(a){var b=this.items.items,c=b.length,
d=this.layout.innerCt,e=d.getXY();a=new Ext.util.Point(a[0],a[1]);for(var g=0,h,j,k,l,m,n,p,q;g<c;g++)if(q=b[g],(h=q.lastBox)&&q.isTab)if(m=e[0]+h.x,l=e[1]-d.dom.scrollTop+h.y,p=h.width,h=h.height,j=new Ext.util.Region(l,m+p,l+h,m),j.contains(a)){if(b=q.closeEl)void 0===this._isTabReversed&&(this._isTabReversed=n=-1!==q.btnWrap.dom.currentStyle.filter.indexOf("rotation\x3d2")),c=n?this._reverseDockNames[this.dock]:this.dock,k=b.getWidth(),n=b.getHeight(),l=this.getCloseXY(b,m,l,p,h,k,n,c),m=l[0],
l=l[1],m=new Ext.util.Region(l,m+k,l+n,m),k=m.contains(a);break}return{tab:q,close:k}},getCloseXY:function(a,b,c,d,e,g,h,j){a=a.getXY();"right"===j?(d=b+d-(a[1]-c+h),b=c+(a[0]-b)):(d=b+(a[1]-c),b=c+b+e-a[0]-g);return[d,b]},closeTab:function(a){var b=a.card,c=this.tabPanel,d;if(b&&!1===b.fireEvent("beforeclose",b))return!1;d=this.findNextActivatable(a);Ext.suspendLayouts();if(c&&b){delete a.ownerCt;b.fireEvent("close",b);c.remove(b);if(c.getComponent(b))return a.ownerCt=this,Ext.resumeLayouts(!0),
!1;a.fireClose();this.remove(a)}d&&(c?c.setActiveTab(d.card):this.setActiveTab(d),d.focus());Ext.resumeLayouts(!0)},findNextActivatable:function(a){if(a.active&&1<this.items.getCount())return this.previousTab&&this.previousTab!==a&&!this.previousTab.disabled?this.previousTab:a.next("tab[disabled\x3dfalse]")||a.prev("tab[disabled\x3dfalse]")},setActiveTab:function(a,b){!a.disabled&&a!==this.activeTab&&(this.activeTab&&(this.activeTab.isDestroyed?this.previousTab=null:(this.previousTab=this.activeTab,
this.activeTab.deactivate())),a.activate(),this.activeTab=a,this.needsScroll=!0,b||(this.fireEvent("change",this,a,a.card),this.updateLayout()))},privates:{applyTargetCls:function(a){this.bodyTargetCls=a},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(a,b){var c,d;if(!a.getTarget("."+Ext.baseCSSPrefix+"box-scroller")&&(Ext.isIE8&&this.vertical?(d=this.getTabInfoFromPoint(a.getXY()),c=d.tab,d=d.close):d=(c=(c=a.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(c.id))&&
c.closeEl&&b===c.closeEl.dom,d&&a.preventDefault(),c&&c.isDisabled&&!c.isDisabled())){if(c.closable&&d)c.onCloseClick();else this.doActivateTab(c);c.afterClick(d)}},doActivateTab:function(a){var b=this.tabPanel;b?b.setActiveTab(a.card):this.setActiveTab(a)},beforeFocusableChildFocus:function(a,b){this.mixins.focusablecontainer.beforeFocusableChildFocus.call(this,a,b);a.active||a.activate();this.doActivateTab(a)}}});
Ext.define("Ext.rtl.tab.Bar",{override:"Ext.tab.Bar",privates:{adjustTabPositions:function(){var a=this.items.items,b=a.length,c;if(!this.getInherited().rtl)return this.callParent();if(!Ext.isIE9m)if("left"===this.dock)for(;b--;)c=a[b],c.el.setStyle("right",-c.lastBox.height+"px");else if("right"===this.dock)for(;b--;)c=a[b],c.el.setStyle("right",c.lastBox.width+"px")},getCloseXY:function(a,b,c,d,e,g,h,j){var k,l;this.isOppositeRootDirection()?(k=a.getXY(),"right"===j?(l=b+k[1]-c,k=c+e-(k[0]-(b+d-
e))-g):(l=b+d-(k[1]-c)-h,k=c+(k[0]-(b+d-e))),l=[l,k]):l=this.callParent(arguments);return l}}});
Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],config:{tabBar:void 0,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var a=this.activeTab||(this.activeTab=0);this.getTabPosition();this.getTabRotation();var b=this.dockedItems,
b=this.header,c=this.tabBarHeaderPosition,d=this.getTabBar(),e;this.layout=new Ext.layout.container.Card(Ext.apply({owner:this,deferredRender:this.deferredRender,itemCls:this.itemCls,activeItem:a},this.layout));null!=c?(b||(b=this.header={}),e=b.items=b.items?b.items.slice():[],b.itemPosition=c,e.push(d),b.hasTabBar=!0):(b=[].concat(this.dockedItems||[]),b.push(d),this.dockedItems=b);this.callParent(arguments);(a=this.activeTab=this.getComponent(a))&&d.setActiveTab(a.tab,!0)},onRender:function(){var a=
this.items.items,b=a.length,c;this.callParent(arguments);for(c=0;c<b;++c)a[c].getBind()},setActiveTab:function(a){var b;if(a=this.getComponent(a)){b=this.getActiveTab();if(b===a||!1===this.fireEvent("beforetabchange",this,a,b))return!1;a.isComponent||(Ext.suspendLayouts(),a=this.add(a),Ext.resumeLayouts());this.activeTab=a;Ext.suspendLayouts();this.layout.setActiveItem(a);(a=this.activeTab=this.layout.getActiveItem())&&a!==b?(this.tabBar.setActiveTab(a.tab),Ext.resumeLayouts(!0),b!==a&&this.fireEvent("tabchange",
this,a,b)):Ext.resumeLayouts(!0);return a}},setActiveItem:function(a){return this.setActiveTab(a)},getActiveTab:function(){var a=this.getComponent(this.activeTab);return this.activeTab=a&&-1!=this.items.indexOf(a)?a:null},applyTabBar:function(a){var b=null!=this.tabBarHeaderPosition?this.getHeaderPosition():this.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:this.ui,dock:b,tabRotation:this.getTabRotation(),vertical:"left"==b||"right"==b,plain:this.plain,tabStretchMax:this.getTabStretchMax(),
tabPanel:this},a))},updateHeaderPosition:function(a,b){var c=this.getTabBar();c&&null!=this.tabBarHeaderPosition&&c.setDock(a);this.callParent([a,b])},updateTabPosition:function(a){var b=this.getTabBar();b&&null==this.tabBarHeaderPosition&&b.setDock(a)},updateTabRotation:function(a){var b=this.getTabBar();b&&b.setTabRotation(a)},onAdd:function(a,b){var c=Ext.apply({},a.tabConfig),d=this.getTabBar(),d={xtype:"tab",title:a.title,icon:a.icon,iconCls:a.iconCls,glyph:a.glyph,ui:d.ui,card:a,disabled:a.disabled,
closable:a.closable,hidden:a.hidden&&!a.hiddenByLayout,tooltip:a.tooltip,tabBar:d,tabPosition:d.dock,rotation:d.getTabRotation()};void 0!==a.closeText&&(d.closeText=a.closeText);c=Ext.applyIf(c,d);a.tab=this.tabBar.insert(b,c);a.on({scope:this,enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,glyphchange:this.onItemGlyphChange,titlechange:this.onItemTitleChange});a.isPanel&&(this.removePanelHeader&&
(a.rendered?a.header&&a.header.hide():a.header=!1),a.isPanel&&this.border&&a.setBorder(!1));this.rendered&&a.getBind()},onItemEnable:function(a){a.tab.enable()},onItemDisable:function(a){a.tab.disable()},onItemBeforeShow:function(a){if(a!==this.activeTab)return this.setActiveTab(a),!1},onItemGlyphChange:function(a,b){a.tab.setGlyph(b)},onItemIconChange:function(a,b){a.tab.setIcon(b)},onItemIconClsChange:function(a,b){a.tab.setIconCls(b)},onItemTitleChange:function(a,b){a.tab.setText(b)},onRemove:function(a){a.un({scope:this,
enable:this.onItemEnable,disable:this.onItemDisable,beforeshow:this.onItemBeforeShow,iconchange:this.onItemIconChange,iconclschange:this.onItemIconClsChange,glyphchange:this.onItemGlyphChange,titlechange:this.onItemTitleChange});a.tab&&(!this.destroying&&a.tab.ownerCt===this.tabBar)&&this.tabBar.remove(a.tab)},privates:{doRemove:function(a,b){var c;this.removingAll||this.destroying||1==this.items.getCount()?this.activeTab=null:a.tab&&-1!==(c=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(a.tab)))&&
this.setActiveTab(c);this.callParent(arguments);a.tab&&(delete a.tab.card,delete a.tab)}}});
Ext.define("Ext.app.bindinspector.Environment",{getCmp:function(a){return this.components.get(a)},getVM:function(a){return this.viewModels.get(a)},getInheritedVM:function(a){var b=a.viewModel;a=a.parent;return b?b:a?this.getInheritedVM(this.getCmp(a)):null},captureSnapshot:function(){var a=Ext.ComponentManager.getAll(),b=a.length,c=[],d,e;this.models={};for(d=0;d<b;++d)e=a[d],e.afterRender&&this.isRootComponent(e)&&c.push(this.buildComponent(e));return{isBindData:!0,version:Ext.getVersion().version,
models:this.models,components:c}},serializeModel:function(a){var b=this.models,c=a.entityName;b[c]||(b[c]=Ext.Array.map(a.getFields(),function(a){return{name:a.getName(),type:a.getType()}}))},isRootComponent:function(a){return a.getRefOwner()||a.isBindInspector||a===Ext.MessageBox||a.is("quicktip")?!1:!0},buildComponent:function(a){var b=a.getRefItems?a.getRefItems():null,c=a.getViewModel(),d=a.getBind(),e=a.id,g;d&&(d=this.buildBind(d));d={id:e,xtype:a.getXType(),publishes:a.getPublishes(),viewModel:c?
this.buildViewModel(c,a):null,bindings:d||null,reference:a.reference||null,items:[]};if(b){c=0;for(a=b.length;c<a;++c)b[c].afterRender&&(g=this.buildComponent(b[c]),g.parent=e,d.items.push(g))}return d},buildBind:function(a){var b={},c,d,e,g;for(c in a)d=a[c],g=d.stub,e={id:d.id,value:this.serializeValue(d.getRawValue()),stub:g?{id:g.id,name:g.name}:null},d.isTemplateBinding?(e.isTemplateBinding=!0,e.tokens=[],Ext.Array.forEach(d.tokens,function(a){e.tokens.push(a.split("."))},this),e.descriptor=
d.tpl.text):d.isMultiBinding?e.isMultiBinding=!0:g&&(d=this.buildStubName(g),e.tokens=d.split("."),e.descriptor="{"+d+"}"),b[c]=e;return b},buildStubName:function(a){var b=a.parent,c="";b&&!b.isRootStub&&(c=this.buildStubName(b)+".");return c+a.name},buildViewModel:function(a,b){var c=a.getParent();return{id:a.getId(),view:b.id,parent:c?c.getId():null,data:this.serializeValue(a.getData(),!0),rootStub:this.buildStub(a.getRoot())}},buildStub:function(a,b){var c={},d=a.children,e=a.isLinkStub,g={},h,
j;a.isRootStub?(c.name="",c.isLoading=!1,c.bindCount=c.cumulativeBindCount=0):(c.name=a.name,c.parent=a.parent?a.parent.id:null,c.isLoading=a.isLoading(),c.bindCount=a.bindings&&a.bindings.length||0,c.cumulativeBindCount=c.bindCount,c.value=this.serializeValue(a.getRawValue()),e&&(e=a.target===a.owner,c.linkInfo={sameTarget:e,descriptor:a.linkDescriptor,value:this.serializeValue(a.binding.getValue())},b=!0));if(d)for(h in d)j=!0,e=this.buildStub(d[h],b),g[h]=e,c.cumulativeBindCount+=e.cumulativeBindCount;
j&&(c.children=g);return c},createModel:function(a,b){return new Ext.app.bindinspector.noconflict[a](b)},unpackSnapshot:function(a){this.components=new Ext.util.Collection;this.viewModels=new Ext.util.Collection;Ext.Object.each(a.models,function(a,c){Ext.define("Ext.app.bindinspector.noconflict."+a,{extend:"Ext.app.bindinspector.noconflict.BaseModel",fields:c})});Ext.Array.forEach(a.components,function(a){this.unpackComponent(a,this.components,this.viewModels)},this);this.rootComponents=a.components},
unpackComponent:function(a,b,c){var d=a.viewModel,e=a.items,g=a.bindings,h,j;b.add(a);if(g)for(j in g)a=g[j],a.value=this.deserializeValue(a.value);d&&(c.add(d),(g=this.getVM(d.parent))&&(h=Ext.Object.chain(g.data)),g=this.deserializeValue(d.data),h&&(g=Ext.apply(h,g)),d.data=g,this.deserializeStub(d.rootStub));if(e){h=0;for(d=e.length;h<d;++h)this.unpackComponent(e[h],b,c)}},serializeValue:function(a,b){var c={},d,e,g,h;if(a&&a.constructor===Object)for(e in d="object",c.value={},a){if(!b||a.hasOwnProperty(e))h=
this.serializeValue(a[e],b),g={type:h.type,value:h.value},h.entityName&&(g.entityName=h.entityName),c.value[e]=g}else a&&a.isModel?(d="model",c.entityName=a.entityName,this.serializeModel(a.self),c.value=this.serializeValue(a.data)):a&&a.isStore?(d="store",e=a.getModel(),(c.entityName=e.entityName)&&this.serializeModel(e)):Ext.isDate(a)?(d="date",c.value=Ext.Date.format(a,"c")):Ext.isArray(a)?(d="array",c.value=[],Ext.Array.forEach(a,function(a){c.value.push(this.serializeValue(a))},this)):(d=Ext.typeOf(a),
c.value=a);c.type=d;return c},deserializeValue:function(a){var b=a.type,c=a.value,d,e;if("null"===b)d=null;else if("undefined"===b)d=void 0;else if("string"===b||"boolean"===b||"number"===b)d=c;else if("date"===b)d=Ext.Date.parse(c,"c");else if("object"===b)for(e in d={},c)d[e]=this.deserializeValue(c[e]);else"model"===b?d=this.createModel(a.entityName,this.deserializeValue(c)):"store"===b?d={isStore:!0,entityName:a.entityName}:"array"===b&&(d=[],Ext.Array.forEach(c,function(a){d.push(this.deserializeValue(a))},
this));return d},deserializeStub:function(a){var b=a.children,c=a.linkInfo,d;a.value&&(a.value=this.deserializeValue(a.value));c&&(c.value=this.deserializeValue(c.value));if(b)for(d in b)this.deserializeStub(b[d])}});
Ext.define("Ext.app.bindinspector.ViewModelDetail",{extend:Ext.tree.Panel,alias:"widget.bindinspector-viewmodeldetail",rootVisible:!1,cls:Ext.baseCSSPrefix+"bindinspector-viewmodeldetail",inheritedCls:Ext.baseCSSPrefix+"bindinspector-inherited",notInheritedCls:Ext.baseCSSPrefix+"bindinspector-not-inherited",highlightedCls:Ext.baseCSSPrefix+"bindinspector-highlighted",unhighlightedCls:Ext.baseCSSPrefix+"bindinspector-unhighlighted",lastItemCls:Ext.baseCSSPrefix+"bindinspector-last-item",initComponent:function(){var a=
this,b=a.vm,c="VM \x26nbsp;\x26nbsp;\x26nbsp;\u21d2 \x26nbsp;\x26nbsp;\x26nbsp;",d=a.up("bindinspector-container").env.getCmp(b.view);d.reference&&(c+="["+d.reference+"] \x26bull; ");a.title=c+=d.id;a.viewConfig={getRowClass:function(b,c,d,j){d=b.get("hasData");var k=b.get("hasStub"),l=[],m=b.get("highlighted");b.get("inherited")?l.push(a.inheritedCls):l.push(a.notInheritedCls);!0===m?l.push(a.highlightedCls):-1===m&&l.push(a.unhighlightedCls);c===j.getCount()-1&&l.push(a.lastItemCls);d&&(!k||0===
b.get("cumulativeBindCount"))&&l.push(a.dataOnlyCls);return l.join(" ")}};a.store={model:a.Model,root:{text:"Root",expanded:!0,children:a.setupData(b,b.data,b.rootStub)}};a.columns=[{width:40,tdCls:Ext.baseCSSPrefix+"bindinspector-indicator-col",align:"center",scope:a,renderer:a.renderIndicator},{flex:1,xtype:"treecolumn",dataIndex:"name",text:"Name",scope:a,renderer:a.renderName},{flex:1,dataIndex:"value",text:"Value",scope:a,renderer:Ext.app.bindinspector.Util.valueRenderer},{text:"Bind #",width:64,
align:"center",renderer:a.renderBindCount,scope:a},{width:40,isSearch:!0,renderer:a.dataSrcConsumerRenderer,scope:a}];a.callParent();a.on("cellclick",a.onSearchCellClick,a)},dataOnlyNode:"This item contains data but has nothing requesting the value",stubOnlyNode:"This item has the value requested but no data backing it",dataPointLoading:"Data point is loading (at the time the app snapshot was captured)",dataPointLoadingCls:Ext.baseCSSPrefix+"bindinspector-isloading",zeroBindingCls:Ext.baseCSSPrefix+
"bi-zero-bind-count",dataOnlyCls:Ext.baseCSSPrefix+"bindinspector-data-only",stubOnlyCls:Ext.baseCSSPrefix+"bindinspector-stub-only",onSearchCellClick:function(a,b,c,d){a.getHeaderCt().getHeaderAtIndex(c).isSearch&&this.up("bindinspector-container").fireEvent("vmSearchClick",d)},getFirstTierRec:function(a){var b=a.parentNode.isRoot(),c;b||a.bubble(function(a){if(a.parentNode.isRoot())return c=a,!1});return b?a:c},dataSrcConsumerRenderer:function(a,b,c){a=this.getFirstTierRec(c).get("name");b.tdCls=
Ext.baseCSSPrefix+"bindinspector-data-search-cell";b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"Click to indicate within the Component List all ViewModels with a data property of \x26nbsp;\x3cb\x3e'+a+'\x3c/b\x3e"'},renderIndicator:function(a,b,c){a=c.get("ownerVMs");var d=a.length,e=!1,g=!1,h="",j=this.getFirstTierRec(c);c=j===c;j=j.get("name");Ext.Array.forEach(a,function(a){a.id===a.thisVM&&(e=!0);a.id!==a.thisVM&&(g=!0)});e&&g?(h=Ext.util.Format.format('\x3cspan style\x3d"color:#DB7851;"\x3e{0}\x3c/span\x3e',
c?"\u25d3":"-"),b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+j+"\x3c/b\x3e\x26nbsp; provided by this VM and "+(d-1)+" ancestor "+(1<d?"VMs":"VM")+'"'):e?(h=c?"\u25cf":"",b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+j+'\x3c/b\x3e\x26nbsp; is provided by this VM"'):g&&(h=c?"\u25cb":"",b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"\x3cb\x3e'+j+"\x3c/b\x3e\x26nbsp; is provided by "+
d+" ancestor "+(1<d?"VMs":"VM")+'"');return h},renderBindCount:function(a,b,c){var d=c.get("children").length,e=c.get("bindCount")||0,g;a=e;0===a&&(a='\x3cspan class\x3d"'+this.zeroBindingCls+'"\x3e'+a+"\x3c/span\x3e");d&&(g=c.get("cumulativeBindCount")||"?",a=0===g||"?"===g?a+(' / \x3cspan class\x3d"'+this.zeroBindingCls+'"\x3e'+g+"\x3c/span\x3e"):a+(" / "+g));c="Bindings Count \x3d \x3cb\x3e"+e+"\x3c/b\x3e";g&&(0!==g&&"?"!==g)&&(c+="\x3cbr\x3eCumulative Bindings Count \x3d \x3cb\x3e"+g+"\x3c/b\x3e");
b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"'+c+'"';return a},renderName:function(a,b,c){var d=c.get("hasData"),e=c.get("hasStub"),g="";c.get("isLoading")?(b.tdCls=this.dataPointLoadingCls,g+=this.dataPointLoading):d&&(!e||0===c.get("cumulativeBindCount"))?g+=this.dataOnlyNode:e&&!d&&(b.tdCls=this.stubOnlyCls,g+=this.stubOnlyNode);""!==g&&(b.tdAttr='data-qclass\x3d"'+Ext.baseCSSPrefix+'componentlist-tip" data-qtip\x3d"'+g+'"');return a},setupData:function(a,b,c,
d,e){var g={},h=[],j=a.dataMap,k=[],l,m,n;if(b&&Ext.isObject(b)&&(b.isModel?b=b.data:b.isStore&&(b=null),b))for(n in b){e||(k=j[n]?j[n].ownerVMs:[]);l={name:n,value:b[n],inherited:Ext.isDefined(d)?d:!b.hasOwnProperty(n),ownerVMs:Ext.isDefined(e)?e:[],hasData:!0};Ext.Array.forEach(k,function(b){l.ownerVMs.push({id:b.id,view:b.view,thisVM:a.id})});if(m=Ext.app.bindinspector.Util.getChildStub(n,c))l.hasStub=!0,l.isLoading=m.isLoading,l.iconCls=m.isLoading?this.dataPointLoadingCls:"",l.bindCount=m.bindCount,
l.cumulativeBindCount=m.cumulativeBindCount,l.stub=m;g[n]=l}if(c)for(n in b=c.children,b)if(m=b[n],l=g[n],!l){l={name:n,value:m.value||void 0,inherited:d||!1,ownerVMs:e||[],hasData:!1,hasStub:!0,isLoading:m.isLoading,iconCls:m.isLoading?this.dataPointLoadingCls:"",bindCount:m.bindCount,cumulativeBindCount:m.cumulativeBindCount,stub:m};if((m=m.linkInfo)&&m.sameTarget)l.value=m.value,l.hasData=void 0!==l.value;g[n]=l}for(n in g)l=g[n],l.children=this.setupData(a,l.value,l.stub,l.inherited,l.ownerVMs),
delete l.stub,l.children&&l.children.length?(l.expanded=!0,l.leaf=!1):l.leaf=!0,h.push(g[n]);return h}},function(){this.prototype.Model=Ext.define(null,{extend:"Ext.data.TreeModel",fields:"name value inherited hasData hasStub isLoading bindCount cumulativeBindCount highlighted".split(" ")})});Ext.define("Ext.app.bindinspector.noconflict.BaseModel",{extend:Ext.data.Model,schema:{id:"Ext_app_bindinspector",namespace:"Ext.app.bindinspector"}});
Ext.define("Ext.app.bindinspector.Container",{extend:Ext.container.Container,alias:"widget.bindinspector-container",isBindInspector:!0,referenceHolder:!0,layout:"border",cls:Ext.baseCSSPrefix+"bindinspector-container",componentPreviewDefault:{xtype:"container",cls:Ext.baseCSSPrefix+"bindinspector-prev-default",padding:20,layout:{type:"hbox",align:"middle",pack:"center"},items:[{xtype:"component",flex:1,html:"Select a component with bindings from the ComponentList to view the bindings details along with the component's inherited ViewModel"}]},
initComponent:function(){Ext.data.schema.Schema.get("Ext_app_bindinspector").clear();this.items=[{xtype:"bindinspector-componentlist",reference:"componentList",region:"west",width:400,split:!0,collapsible:!0,components:this.env.rootComponents,listeners:{scope:this,componentdblclick:this.onComponentDblclick,componentselect:this.onComponentSelect}},{xtype:"tabpanel",region:"center",reference:"tabs",items:[{title:"Preview",reference:"preview",layout:"fit",items:[this.componentPreviewDefault]}],listeners:{add:function(){this.getTabBar().setVisible(1<
this.items.getCount())},remove:function(){this.getTabBar().setVisible(1<this.items.getCount())}}}];this.callParent();this.on("vmSearchClick",this.onVMSearchClick,this)},onVMSearchClick:function(a){var b=this.lookupReference("componentList"),c=b.getStore(),d=a.get("ownerVMs"),e=[],g=a.get("bindCount"),h=[],j=[],k=[],l,m;c.suspendEvents();b.clearVMSearchIndicators();Ext.Array.forEach(d,function(b){l=c.getById(b.view);l.set("isSrcVM",a);e.push(l)});c.resumeEvents();b.getView().refresh();b.indicatedVM=
e;0<g&&(a.bubble(function(a){(a=a.get("name"))&&h.push(a)}),m=h.reverse().join("."),b.getStore().getRootNode().cascadeBy(function(a){a.get("hasBindings")&&Ext.Array.forEach(a.get("bindData"),function(b){var c=[];b.tokens&&Ext.Array.forEach(b.tokens,function(a){Ext.isArray(a)?Ext.Array.forEach(a,function(a){c.push(a)}):c.push(a)});c.join(".")===m&&j.push(a)})}));Ext.Array.forEach(j.concat(e),function(a){k.push(a.getId())});b.expand();b.filterComponentTree(null,k);Ext.Array.forEach(e,function(a){Ext.Array.contains(j)||
a.set("filtervisible",!1)});b.down("#srcVMIndicator").show();b.down("#queryFieldTb").hide();b.down("#vmQueryResultsTb").show()},onComponentSelect:function(a,b){var c=b.getId(),d=this.lookupReference("preview");d.referringID!==c&&(Ext.suspendLayouts(),d.removeAll(),d.add({xtype:"bindinspector-componentdetail",env:this.env,component:this.env.getCmp(c)}),Ext.resumeLayouts(!0),d.referringID=c);d.show()},onComponentDblclick:function(a,b){var c=b.id,d="bindtab-"+c,e=this.lookupReference("tabs"),g=e.items.get(d),
h;g||(g=this.env.getCmp(c),h=g.reference,g=e.add({xtype:"bindinspector-componentdetail",env:this.env,itemId:d,title:h?"["+h+"] "+c:c,closable:!0,component:g}));e.setActiveTab(g)},buildVMDataMap:function(a){var b=this.env,c=a,d=a.dataMap,e=[],g,h;if(!d){for(d=a.dataMap={};c;)e.push(c),c=b.getVM(c.parent);Ext.Array.forEach(e,function(a){var b;if((g=a.data)&&Ext.isObject(g))for(b in g)h=g.hasOwnProperty(b),d[b]||(d[b]={isDirect:h}),d[b].ownerVMs=d[b].ownerVMs||[],h&&d[b].ownerVMs.push(a)})}return a}});
Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(){var a=this.comp;this.startPosition=a.getXY();a.ghost&&!a.liveDrag&&(this.proxy=a.ghost(),this.dragTarget=this.proxy.header.el);if(this.constrain||this.constrainDelegate)this.constrainTo=this.calculateConstrainRegion();a.beginDrag&&a.beginDrag()},calculateConstrainRegion:function(){var a=this.comp,b=this.initialConstrainTo,
c=a.constraintInsets,d;d=this.proxy?this.proxy.el:a.el;var e=!this.constrainDelegate&&d.shadow&&a.constrainShadow&&!d.shadowDisabled?d.shadow.getShadowSize():0;b instanceof Ext.util.Region?b=b.copy():(a=Ext.fly(b),b=a.getViewRegion(),b.right=b.left+a.dom.clientWidth);c&&(c=Ext.isObject(c)?c:Ext.Element.parseBox(c),b.adjust(c.top,c.right,c.bottom,c.length));e&&b.adjust(e[0],-e[1],-e[2],e[3]);this.constrainDelegate||(c=Ext.fly(this.dragTarget).getRegion(),d=d.getRegion(),b.adjust(c.top-d.top,c.right-
d.right,c.bottom-d.bottom,c.left-d.left));return b},onDrag:function(){var a=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,b=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);a.setPagePosition(this.startPosition[0]+b[0],this.startPosition[1]+b[1])},onEnd:function(){var a=this.comp;!a.isDestroyed&&!a.destroying&&(this.proxy&&!a.liveDrag&&a.unghost(),a.endDrag&&a.endDrag())}});
Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},
isWindow:!0,ariaRole:"dialog",initComponent:function(){this.frame=!1;this.callParent();this.plain&&this.addClsWithUI("plain");this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var a;a=this.callParent();a.tabIndex=-1;return a},getState:function(){var a=this.callParent()||{},b=!!this.maximized,c=this.ghostBox,c=(a.maximized=b)?this.restorePos:c?[c.x,c.y]:this.getPosition();Ext.apply(a,{size:b?this.restoreSize:this.getSize(),pos:c});return a},applyState:function(a){a&&
((this.maximized=a.maximized)?(this.hasSavedRestore=!0,this.restoreSize=a.size,this.restorePos=a.pos):Ext.apply(this,{width:a.size.width,height:a.size.height,x:a.pos[0],y:a.pos[1]}))},onRender:function(a,b){this.callParent(arguments);this.focusable=!!this.getFocusEl();if(this.maximizable)this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var a=this.header;this.maximized&&(this.maximized=!1,this.maximize(),a&&a.removeCls(a.indicateDragCls));this.callParent();this.closable?
(a=this.getKeyMap(),a.on(27,this.onEsc,this)):a=this.keyMap;a&&this.hidden&&a.disable()},onEsc:function(a,b){var c=Ext.FocusManager;if(!Ext.enableFocusManager||c.focusedCmp===this)b.stopEvent(),this.close()},beforeDestroy:function(){this.rendered&&(Ext.un("resize",this.onWindowResize,this),delete this.animateTarget,this.hide(),Ext.destroy(this.keyMap));this.callParent()},addTools:function(){var a=[];this.callParent();this.minimizable&&a.push({type:"minimize",handler:"minimize",scope:this});this.maximizable&&
a.push({type:"maximize",handler:"toggleMaximize",scope:this});a.length&&this.addTool(a)},getDefaultFocus:function(){var a,b=this.defaultButton||this.defaultFocus;void 0!==b&&(Ext.isNumber(b)?a=this.query("button")[b]:Ext.isString(b)?(b.match(this.initialAlphaNum)&&(a=this.down(Ext.makeIdSelector(b))),a||(a=this.down(b))):b.focus&&(a=b));return a||this.el},onFocus:function(){var a;Ext.enableFocusManager||(a=this.getDefaultFocus())===this?this.callParent(arguments):a.focus()},onShow:function(){this.callParent(arguments);
this.expandOnShow&&this.expand(!1);this.syncMonitorWindowResize();this.keyMap&&this.keyMap.enable()},doClose:function(){this.hidden?(this.fireEvent("close",this),"destroy"==this.closeAction&&this.destroy()):this.hide(this.animateTarget,this.doClose,this)},afterHide:function(){this.syncMonitorWindowResize();this.keyMap&&this.keyMap.disable();this.callParent(arguments)},onWindowResize:function(){var a;this.isDestroyed||(this.maximized?this.fitContainer():(a=this.getSizeModel(),(a.width.natural||a.height.natural)&&
this.updateLayout(),this.doConstrain()))},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this.header,b=this.tools;a&&this.maximizable&&(a.suspendLayouts(),b.maximize.hide(),this.resumeHeaderLayout(!0));this.resizer&&this.resizer.disable();this.callParent(arguments)},afterExpand:function(){var a=this.header,b=this.tools,c;a&&(a.suspendLayouts(),this.maximizable&&(b.maximize.show(),
c=!0),this.resumeHeaderLayout(c));this.resizer&&this.resizer.enable();this.callParent(arguments)},maximize:function(a){var b=this,c=b.header,d=b.tools,e=b.width,g=b.height,h;b.maximized||(b.expand(!1),b.hasSavedRestore||(b.restoreSize={width:Ext.isNumber(e)?e:null,height:Ext.isNumber(g)?g:null},b.restorePos=b.getPosition(!0)),c&&(c.suspendLayouts(),d.maximize&&d.maximize.setType("restore"),b.collapseTool&&(b.collapseTool.hide(),h=!0),b.resumeHeaderLayout(h)),b.el.disableShadow(),b.dd&&(b.dd.disable(),
c&&c.removeCls(c.indicateDragCls)),b.resizer&&b.resizer.disable(),b.el.addCls(Ext.baseCSSPrefix+"window-maximized"),b.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),b.syncMonitorWindowResize(),b.fitContainer(a=a||b.animateTarget?{callback:function(){b.maximized=!0;b.fireEvent("maximize",b)}}:null),a||(b.maximized=!0,b.fireEvent("maximize",b)));return b},restore:function(a){var b=this,c=b.tools,d=b.header,e=b.restoreSize,g;b.maximized&&(b.hasSavedRestore=null,b.removeCls(Ext.baseCSSPrefix+
"window-maximized"),d&&(d.suspendLayouts(),c.maximize&&c.maximize.setType("maximize"),b.collapseTool&&(b.collapseTool.show(),g=!0),b.resumeHeaderLayout(g)),e.x=b.restorePos[0],e.y=b.restorePos[1],b.setBox(e,a=a||b.animateTarget?{callback:function(){b.el.enableShadow(!0);b.maximized=!1;b.fireEvent("restore",b)}}:null),b.restorePos=b.restoreSize=null,b.dd&&(b.dd.enable(),d&&d.addCls(d.indicateDragCls)),b.resizer&&b.resizer.enable(),b.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),b.syncMonitorWindowResize(),
a||(b.el.enableShadow(!0),b.maximized=!1,b.fireEvent("restore",b)));return b},syncMonitorWindowResize:function(){var a=this._monitoringResize,b=this.hidden||this.destroying||this.isDestroyed;(this.constrain||this.constrainHeader||this.maximized)&&!b?a||(Ext.on("resize",this.onWindowResize,this,{buffer:1}),this._monitoringResize=!0):a&&(Ext.un("resize",this.onWindowResize,this),this._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var a=
this.callParent(arguments);a.xtype="window";return a},privates:{getFocusEl:function(){return this.getDefaultFocus()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);this.maximized&&this.resizer.disable()}}});
Ext.define("Ext.app.bindinspector.Inspector",{extend:Ext.window.Window,title:"Bind Inspector",layout:"fit",autoShow:!0,maximized:!0,maximizable:!0,width:960,height:575,initComponent:function(){var a=(new Ext.app.bindinspector.Environment).captureSnapshot(),b=new Ext.app.bindinspector.Environment;b.unpackSnapshot(a);this.items={xtype:"bindinspector-container",env:b};this.callParent()},afterRender:function(){this.callParent(arguments);Ext.tip.QuickTipManager.init()}});
Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:!0,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){this.callParent();this.monitor(Ext.app.BaseController)},match:function(a,b){var c=!1,d=a.alias;"*"===b?c=!0:"#"===b?c=!!a.isApplication:this.idMatchRe.test(b)?c=a.getId()===b.substring(1):d&&(c=-1<Ext.Array.indexOf(d,this.prefix+b));return c}});
Ext.define("Ext.app.domain.Direct",{extend:Ext.app.EventDomain,singleton:!0,type:"direct",idProperty:"id",constructor:function(){this.callParent();this.monitor(Ext.direct.Provider)}});
Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",isSplitButton:!0,arrowCls:"split",split:!0,setArrowHandler:function(a,b){this.arrowHandler=a;this.scope=b},onClick:function(a){this.doPreventDefault(a);this.disabled||(this.isWithinTrigger(a)?(a.preventDefault(),this.maybeShowMenu(),this.fireEvent("arrowclick",this,a),this.arrowHandler&&this.arrowHandler.call(this.scope||this,this,a)):(this.doToggle(),this.fireHandler(a)))}});
Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:Ext.button.Split,alternateClassName:"Ext.CycleButton",getButtonText:function(a){var b="";return a&&!0===this.showText?(this.prependText&&(b+=this.prependText),b+=a.text):this.text},setActiveItem:function(a,b){Ext.isObject(a)||(a=this.menu.getComponent(a));a&&(this.rendered?(this.setText(this.getButtonText(a)),this.setIconCls(a.iconCls),this.setGlyph(a.glyph)):(this.text=this.getButtonText(a),this.iconCls=a.iconCls,this.glyph=a.glyph),this.activeItem=
a,a.checked||a.setChecked(!0,!1),this.forceIcon&&this.setIconCls(this.forceIcon),this.forceGlyph&&this.setGlyph(this.forceGlyph),b||this.fireEvent("change",this,a))},getActiveItem:function(){return this.activeItem},initComponent:function(){var a=0,b,c,d,e;this.changeHandler&&(this.on("change",this.changeHandler,this.scope||this),delete this.changeHandler);b=(this.menu.items||[]).concat(this.items||[]);this.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},this.menu);d=b.length;for(c=
0;c<d;c++)e=b[c],e=Ext.applyIf({group:this.id,itemIndex:c,checkHandler:this.checkHandler,scope:this,checked:e.checked||!1},e),this.menu.items.push(e),e.checked&&(a=c);this.itemCount=this.menu.items.length;this.callParent(arguments);this.on("click",this.toggleSelected,this);this.setActiveItem(a,this)},checkHandler:function(a,b){b&&this.setActiveItem(a)},toggleSelected:function(){var a=this.menu;(this.activeItem.next(":not([disabled])")||a.items.getAt(0)).setChecked(!0)}});
Ext.define("Ext.button.Segmented",{extend:Ext.container.Container,xtype:"segmentedbutton",config:{allowDepress:!1,allowMultiple:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:void 0},publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:Ext.baseCSSPrefix+"segmented-button",itemCls:Ext.baseCSSPrefix+"segmented-button-item",_firstCls:Ext.baseCSSPrefix+"segmented-button-first",_lastCls:Ext.baseCSSPrefix+
"segmented-button-last",_middleCls:Ext.baseCSSPrefix+"segmented-button-middle",applyValue:function(a,b){var c=this.getAllowMultiple(),d,e,g,h,j,k,l;g=a instanceof Array?a:null==a?[]:[a];h=b instanceof Array?b:null==b?[]:[b];this._isApplyingValue=!0;if(!this.rendered){j=this.items.items;k=0;for(l=j.length;k<l;k++)e=j[k],e.pressed&&(d=e.value,null==d&&(d=this.items.indexOf(e)),Ext.Array.contains(g,d)||g.push(d))}l=g.length;1<l&&!c&&Ext.Error.raise("Cannot set multiple values when allowMultiple is false");
for(k=0;k<l;k++)a=g[k],(e=this._lookupButtonByValue(a))?(d=e.value,null!=d&&d!==a&&(g[k]=d),e.pressed||e.setPressed(!0)):Ext.Error.raise("Invalid value '"+a+"' for segmented button: '"+this.id+"'");a=c?g:l?g[0]:null;k=0;for(l=h.length;k<l;k++)b=h[k],Ext.Array.contains(g,b)||this._lookupButtonByValue(b).setPressed(!1);this._isApplyingValue=!1;return a},beforeRender:function(){this.addCls(this.baseCls+this._getClsSuffix());this._syncItemClasses(!0);this.callParent()},onAdd:function(a){var b=this.items.items,
c=b.length,d=0,e;"default"===a.ui&&!a.hasOwnProperty("ui")&&(e=this.getDefaultUI(),"default"!==e&&(a.ui=e));for(;d<c;d++)b[d]!==a&&(e=b[d].value,null!=e&&e===a.value&&Ext.Error.raise("Segmented button '"+this.id+"' cannot contain multiple items with value: '"+e+"'"));this.mon(a,{hide:"_syncItemClasses",show:"_syncItemClasses",toggle:"_onItemToggle",scope:this});this.getAllowToggle()&&(a.enableToggle=!0,this.getAllowMultiple()||(a.toggleGroup=this.getId(),a.allowDepress=this.getAllowDepress()));a.addCls(this.itemCls+
this._getClsSuffix());this._syncItemClasses();this.callParent([a])},onRemove:function(a){a.removeCls(this.itemCls+this._getClsSuffix());this._syncItemClasses();this.callParent([a])},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth;this.callParent()},updateDefaultUI:function(a){var b=this.items,c,d,e;if(this.rendered)Ext.Error.raise("Changing the ui config of a segmented button after render is not supported.");else if(b){b.items&&(b=b.items);d=0;for(e=b.length;d<e;d++)c=b[d],"default"===
c.ui&&("default"!==a&&!c.hasOwnProperty("ui"))&&(b[d].ui=a)}},updateAllowDepress:function(a,b){this.rendered&&a!==b&&Ext.Error.raise("Changing the allowDepress config of a segmented button after render is not supported.")},updateAllowMultiple:function(a,b){this.rendered&&a!==b&&Ext.Error.raise("Changing the allowMultiple config of a segmented button after render is not supported.")},updateAllowToggle:function(a,b){this.rendered&&a!==b&&Ext.Error.raise("Changing the allowToggle config of a segmented button after render is not supported.")},
updateVertical:function(a,b){this.rendered&&a!==b&&Ext.Error.raise("Changing the orientation of a segmented button after render is not supported.")},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(a){for(var b=this.items.items,c=b.length,d=0,e=null,g,h;d<c;d++)if(h=b[d],g=h.value,null!=g&&g===a){e=h;break}!e&&"number"===typeof a&&(e=b[a]);
return e},_onItemToggle:function(a,b){if(!this._isApplyingValue){var c=Ext.Array,d=this.allowMultiple,e=null!=a.value?a.value:this.items.indexOf(a),g=this.getValue(),h;d&&(h=c.indexOf(g,e));b?d?-1===h&&g.push(e):g=e:d?-1<h&&g.splice(h,1):g===e&&(g=null);this.setValue(g);this.fireEvent("toggle",this,a,b)}},_syncItemClasses:function(a){var b,c,d,e,g,h,j;if(a||this.rendered){a=this._getFirstCls();b=this._middleCls;c=this._getLastCls();d=this.items.items;e=d.length;g=[];for(j=0;j<e;j++)h=d[j],h.hidden||
g.push(h);e=g.length;for(j=0;j<e;j++)g[j].removeCls([a,b,c]);if(1<e){g[0].addCls(a);for(j=1;j<e-1;j++)g[j].addCls(b);g[e-1].addCls(c)}}}}});Ext.define("Ext.rtl.button.Segmented",{override:"Ext.button.Segmented",privates:{_getFirstCls:function(){return this.getInherited().rtl?this._lastCls:this._firstCls},_getLastCls:function(){return this.getInherited().rtl?this._firstCls:this._lastCls}}});
Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(){return this.autoSizePolicy},initInheritedState:function(a,b){b.inShrinkWrapTable=!0},getLayoutItems:function(){var a=[],b=this.callParent(),c,d=b.length,
e;for(e=0;e<d;e++)c=b[e],c.hidden||a.push(c);return a},getHiddenItems:function(){for(var a=[],b=this.owner.items.items,c=b.length,d=0,e;d<c;++d)e=b[d],e.rendered&&e.hidden&&a.push(e);return a},renderChildren:function(){var a=this.getLayoutItems(),b=this.owner.getTargetEl().child("table",!0).tBodies[0],c=b.rows,d=0,e=a.length,g=this.getHiddenItems(),h,j,k,l,m,n,p;for(h=this.calculateCells(a);d<e;d++)if(j=h[d],k=j.rowIdx,j=j.cellIdx,l=a[d],m=c[k],m||(m=b.insertRow(k),this.trAttrs&&m.set(this.trAttrs)),
p=n=Ext.get(m.cells[j]||m.insertCell(j)),this.needsDivWrap()&&(p=n.first()||n.createChild({tag:"div",role:"presentation"}),p.setWidth(null)),l.rendered?this.isValidParent(l,p,k,j,b)||this.moveItem(l,p,0):this.renderItem(l,p,0),this.tdAttrs&&n.set(this.tdAttrs),l.tdAttrs&&n.set(l.tdAttrs),n.set({colSpan:l.colspan||1,rowSpan:l.rowspan||1,id:l.cellId||"",cls:this.cellCls+" "+(l.cellCls||"")}),!h[d+1]||h[d+1].rowIdx!==k)for(j++;m.cells[j];)m.deleteCell(j);for(k++;b.rows[k];)b.deleteRow(k);d=0;for(e=g.length;d<
e;++d)this.ensureInDocument(g[d].getEl())},ensureInDocument:function(a){for(var b=a.dom.parentNode;b;){if("BODY"==b.tagName.toUpperCase())return;b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(a){if(a.hasDomProp("containerChildrenSizeDone")){var b=a.targetContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,e=d||c,g=e&&b.el.child("table",!0),b=e&&b.getPaddingInfo();c&&a.setContentWidth(g.offsetWidth+b.width,!0);d&&a.setContentHeight(g.offsetHeight+b.height,!0)}else this.done=
!1},finalizeLayout:function(){if(this.needsDivWrap()){var a=this.getLayoutItems(),b,c=a.length,d;for(b=0;b<c;b++)d=a[b],Ext.fly(d.el.dom.parentNode).setWidth(d.getWidth())}},calculateCells:function(a){for(var b=[],c=0,d=0,e=0,g=this.columns||Infinity,h=[],j=0,k,l=a.length,m;j<l;j++){for(m=a[j];d>=g||0<h[d];)if(d>=g){e=d=0;c++;for(k=0;k<g;k++)0<h[k]&&h[k]--}else d++;b.push({rowIdx:c,cellIdx:e});for(k=m.colspan||1;k;--k)h[d]=m.rowspan||1,++d;++e}return b},getRenderTree:function(){var a=this.getLayoutItems(),
b,c=[],d=Ext.apply({tag:"table",role:"presentation",cls:this.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",role:"presentation",cn:c}},this.tableAttrs),e=this.tdAttrs,g=this.needsDivWrap(),h,j=a.length,k,l,m,n;b=this.calculateCells(a);for(h=0;h<j;h++)k=a[h],l=b[h],m=l.rowIdx,n=l.cellIdx,l=c[m],l||(l=c[m]={tag:"tr",role:"presentation",cn:[]},this.trAttrs&&Ext.apply(l,this.trAttrs)),m=l.cn[n]={tag:"td",role:"presentation"},e&&Ext.apply(m,e),Ext.apply(m,{colSpan:k.colspan||1,rowSpan:k.rowspan||
1,id:k.cellId||"",cls:this.cellCls+" "+(k.cellCls||"")}),g&&(m=m.cn={tag:"div",role:"presentation"}),this.configureItem(k),m.cn=k.getRenderTree();return d},isValidParent:function(a,b,c,d){var e;if(3===arguments.length)return(e=a.el.up("table"))&&e.dom.parentNode===b.dom;e=this.owner.getTargetEl().child("table",!0).tBodies[0].rows[c].cells[d];return a.el.dom.parentNode===e},needsDivWrap:function(){return Ext.isOpera10_5}});
Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var a=this.columns;a&&(this.layout=Ext.apply({},{columns:a},this.layout));this.title||this.addClsWithUI(this.noTitleCls);this.callParent(arguments)},onBeforeAdd:function(a){a.isButton&&(a.ui=
this.defaultButtonUI&&"default"===a.ui&&!a.hasOwnProperty("ui")?this.defaultButtonUI:a.ui+"-toolbar");this.callParent(arguments)},privates:{applyDefaults:function(a){Ext.isString(a)||(a=this.callParent(arguments));return a}}});
Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(a){this.target=a;a.on("beforedestroy",this.disable,this);this.onContainerAdd(a)},unbind:function(){var a=this.target;a&&a.un("beforedestroy",this.disable,this);this.items=null},disable:function(){++this.disabled},enable:function(){0<this.disabled&&--this.disabled},handleAdd:function(a,b){if(!this.disabled){if(b.is(this.selector))this.onItemAdd(b.ownerCt,
b);if(b.isQueryable)this.onContainerAdd(b)}},onItemAdd:function(a,b){var c=this.items,d=this.addHandler;this.disabled||(d&&d.call(this.scope||b,b),c&&c.add(b))},onItemRemove:function(a,b){var c=this.items,d=this.removeHandler;this.disabled||(d&&d.call(this.scope||b,b),c&&c.remove(b))},onContainerAdd:function(a,b){var c,d;c=this.handleAdd;d=this.handleRemove;var e,g;a.isContainer&&(a.on("add",c,this),a.on("dockedadd",c,this),a.on("remove",d,this),a.on("dockedremove",d,this));if(!0!==b){c=a.query(this.selector);
e=0;for(d=c.length;e<d;++e)g=c[e],this.onItemAdd(g.ownerCt,g)}c=a.query("\x3econtainer");e=0;for(d=c.length;e<d;++e)this.onContainerAdd(c[e],!0)},handleRemove:function(a,b){if(!this.disabled){if(b.is(this.selector))this.onItemRemove(a,b);if(b.isQueryable)this.onContainerRemove(a,b)}},onContainerRemove:function(a,b){var c,d,e,g;if(!b.isDestroyed&&!b.destroying&&b.isContainer){this.removeCtListeners(b);c=b.query(this.selector);d=0;for(e=c.length;d<e;++d)g=c[d],this.onItemRemove(g.ownerCt,g);c=b.query("container");
d=0;for(e=c.length;d<e;++d)this.removeCtListeners(c[d])}else this.invalidateItems(!0)},removeCtListeners:function(a){a.un("add",this.handleAdd,this);a.un("dockedadd",this.handleAdd,this);a.un("remove",this.handleRemove,this);a.un("dockedremove",this.handleRemove,this)},getItems:function(){var a=this.items;a||(a=this.items=new Ext.util.MixedCollection,a.addAll(this.target.query(this.selector)));return a},invalidateItems:function(a){var b=this.invalidateHandler;a&&b&&b.call(this.scope||this,this);this.items=
null}});
Ext.define("Ext.plugin.Responsive",{extend:Ext.mixin.Responsive,alias:"plugin.responsive",pluginId:"responsive",isPlugin:!0,constructor:function(a){var b=a.cmp;a=Ext.apply({responsiveConfig:b.responsiveConfig,responsiveFormulas:b.responsiveFormulas},a);delete a.cmp;(this.cmp=b)||Ext.Error.raise("Responsive plugin must be constructed by Component");this.initConfig(a);this.transformed&&(b.setConfig(this.transformed),this.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(a){var b=this.callParent([a]);
b.ptype&&(b=Ext.apply({},b),delete b.ptype);this.transformed=b;a=Ext.apply({},a);delete a.ptype;delete a.responsiveConfig;delete a.responsiveFormulas;return a},updateResponsiveState:function(){var a=this.getResponsiveState();this.cmp.setConfig(a)}}});
Ext.define("Ext.plugin.Viewport",{extend:Ext.plugin.Responsive,alias:"plugin.viewport",setCmp:function(a){if((this.cmp=a)&&!a.isViewport)this.apply(a),a.renderConfigs&&a.flushRenderConfigs(),a.setupViewport()},statics:{apply:function(a){Ext.applyIf(a.prototype||a,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"});Ext.override(a,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent();this.setupViewport()},handleViewportResize:function(){var a=Ext.dom.Element,
c=a.getViewportWidth(),a=a.getViewportHeight();(c!=this.width||a!=this.height)&&this.setSize(c,a)},setupViewport:function(){var a=document.body.parentNode,c=this.el=Ext.getBody();Ext.getScrollbarSize();this.width=this.height=void 0;Ext.fly(a).addCls(this.viewportCls);this.autoScroll&&(Ext.fly(a).setStyle(this.getOverflowStyle()),delete this.autoScroll);c.setHeight=c.setWidth=Ext.emptyFn;c.dom.scroll="no";this.allowDomMove=!1;this.renderTo=this.el;Ext.supports.Touch&&this.initMeta()},afterLayout:function(a){Ext.supports.Touch&&
(document.body.scrollTop=0);this.callParent([a])},onRender:function(){this.callParent(arguments);this.width=Ext.Element.getViewportWidth();this.height=Ext.Element.getViewportHeight();Ext.supports.TouchEvents&&this.mon(Ext.getDoc(),{touchmove:function(a){a.preventDefault()},translate:!1,delegated:!1})},initInheritedState:function(a,c){var d=Ext.rootInheritedState;a!==d?this.initInheritedState(this.inheritedState=d,this.inheritedStateInner=Ext.Object.chain(d)):this.callParent([a,c])},beforeDestroy:function(){this.removeUIFromElement();
this.el.removeCls(this.baseCls);Ext.fly(document.body.parentNode).removeCls(this.viewportCls);this.callParent()},addMeta:function(a,c){var d=document.createElement("meta");d.setAttribute("name",a);d.setAttribute("content",c);Ext.getHead().appendChild(d)},initMeta:function(){var a=this.maxUserScale||1;this.addMeta("viewport","width\x3ddevice-width, initial-scale\x3d1, maximum-scale\x3d"+a+", user-scalable\x3d"+(1!==a?"yes":"no"));this.addMeta("apple-mobile-web-app-capable","yes")},privates:{applyTargetCls:function(a){this.el.addCls(a)},
disableTabbing:function(){var a=this.el;a&&a.saveChildrenTabbableState()},enableTabbing:function(){var a=this.el;a&&a.restoreChildrenTabbableState()}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();this.callParent()}}},function(a){a.prototype.apply=a.apply});
Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,mixins:[Ext.mixin.Responsive],alias:"widget.viewport",alternateClassName:"Ext.Viewport",privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.apply(this)});
Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(a){var b=0,c,d,e,g,h;this.callParent(arguments);e=a.childItems;h=e.length;for(g=0;g<h;++g)if(d=e[g],c=d.target.anchorSpec)if(d.widthModel.calculated&&c.right&&(b|=1),d.heightModel.calculated&&c.bottom&&(b|=2),3==b)break;a.anchorDimensions=
b;this.sanityCheck(a)},calculateItems:function(a,b){var c=a.childItems,d=c.length,e=b.gotHeight,g=b.gotWidth,h=b.height,j=b.width,k=(g?1:0)|(e?2:0),l=a.anchorDimensions,m,n,p,q,r;if(!l)return!0;for(q=0;q<d;q++)n=c[q],p=n.getMarginInfo(),m=n.target.anchorSpec,g&&n.widthModel.calculated&&(r=m.right(j)-p.width,r=this.adjustWidthAnchor(r,n),n.setWidth(r)),e&&n.heightModel.calculated&&(m=m.bottom(h)-p.height,m=this.adjustHeightAnchor(m,n),n.setHeight(m));return(k&l)===l},sanityCheck:function(a){var b=
a.widthModel.shrinkWrap,c=a.heightModel.shrinkWrap;a=a.childItems;var d,e,g,h,j;h=0;for(j=a.length;h<j;++h)if(g=a[h],e=g.target,d=e.anchorSpec)g.widthModel.calculated&&d.right&&b&&Ext.log({level:"warn",msg:"Right anchor on "+e.id+" in shrinkWrap width container"}),g.heightModel.calculated&&d.bottom&&c&&Ext.log({level:"warn",msg:"Bottom anchor on "+e.id+" in shrinkWrap height container"})},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*
a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(a,b,c){if(a&&"none"!=a){var d=this.anchorFactory;if(this.parseAnchorRE.test(a))return d.standard(c-b);if(-1!=a.indexOf("%"))return d.ratio(0.01*parseFloat(a.replace("%","")));a=parseInt(a,10);if(!isNaN(a))return d.offset(a)}return null},adjustWidthAnchor:function(a){return a},adjustHeightAnchor:function(a){return a},configureItem:function(a){var b=this.owner,c=a.anchor,d,e;this.callParent(arguments);!a.anchor&&(a.items&&
!Ext.isNumber(a.width))&&(a.anchor=c=this.defaultAnchor);b.anchorSize?"number"==typeof b.anchorSize?d=b.anchorSize:(d=b.anchorSize.width,e=b.anchorSize.height):(d=b.initialConfig.width,e=b.initialConfig.height);c&&(b=c.split(" "),a.anchorSpec={right:this.parseAnchor(b[0],a.initialConfig.width,d),bottom:this.parseAnchor(b[1],a.initialConfig.height,e)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,
setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(a){a=a.anchorSpec;var b="$",c=this.sizePolicy,d;a&&(d=this.owner.getSizeModel(),a.right&&!d.width.shrinkWrap&&(c=c.r),a.bottom&&!d.height.shrinkWrap&&(b="b"));return c[b]}});
Ext.define("Ext.dashboard.Panel",{extend:Ext.panel.Panel,xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,loadMessage:"Loading...",minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){this.animateClose?this.closing||(this.closing=!0,this.el.animate({opacity:0,callback:this.finishClose,scope:this})):this.finishClose()},
finishClose:function(){var a=this.closeAction;this.closing=!1;this.fireEvent("close",this);Ext.suspendLayouts();this[a]();Ext.resumeLayouts(!0);"hide"===a&&this.el.setOpacity(0)},afterRender:function(){this.callParent();if(this.loading)this.onViewBeforeLoad()},getLoadMask:function(){var a=this.rendered&&this.loadMask,b;a&&!a.isComponent&&(b={target:this},!0!==a&&Ext.apply(b,a),this.loadMask=a=Ext.ComponentManager.create(b,"loadmask"));return a||null},onAdd:function(a){this.callParent(arguments);a.on({beforeload:"onViewBeforeLoad",
load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var a=this.getLoadMask();a&&a.show()},onViewLoaded:function(){this.loading=!1;var a=this.getLoadMask();a&&a.hide();a=this.items.getAt(0);a.getTitle&&(a=a.getTitle())&&this.setTitle(a)},setBox:function(a){this.setSize(a.width,a.height)},getState:function(){var a=this.callParent()||{};a.collapsed||this.addPropertyToState(a,"height",this.rendered?this.getHeight():this.height||this.minHeight||100);return a}});
Ext.define("Ext.dashboard.Column",{extend:Ext.container.Container,xtype:"dashboard-column",layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:!0,onRemove:function(a,b){var c=this,d=c.ownerCt,e,g,h=0,j;if(d&&0===c.items.getCount()&&(e=Ext.Array.filter(d.query("\x3e"+c.xtype+"[rowIndex\x3d"+c.rowIndex+"]"),function(a){return a!==c}),g=e.length,!c.destroying&&!c.isDestroyed)){d.remove(c);if(1===g)e[0].columnWidth=1;else{for(j=0;j<g;j++)h+=
e[j].columnWidth||0;for(j=0;j<g;j++)e[j].columnWidth/=h}b&&d.updateLayout()}}});
Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,isItemShrinkWrap:function(){return!0},getItemSizePolicy:function(a,b){return a.columnWidth&&(b||(b=this.owner.getSizeModel()),!b.width.shrinkWrap)?
this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(a,b){var c=a.targetContext,d=a.childItems,e=d.length,g=0,h=b.gotWidth,j,k,l,m;if(!1===h)c.domBlock(this,"width"),j=!0;else if(h)k=b.width;else return!0;for(c=0;c<e;++c)h=d[c],l=h.getMarginInfo().width,h.widthModel.calculated||(m=h.getProp("width"),"number"!==typeof m&&(h.block(this,"width"),j=!0),g+=m+l);if(!j){k=k<g?0:k-g;for(c=0;c<e;++c)h=d[c],h.widthModel.calculated&&(l=h.marginInfo.width,m=h.target.columnWidth,m=Math.floor(m*
k)-l,m=h.setWidth(m),g+=m+l);a.setContentWidth(g+a.paddingContext.getPaddingInfo().width)}return!j}});Ext.define("Ext.rtl.layout.container.Column",{override:"Ext.layout.container.Column",getRenderData:function(){var a=this.callParent();this.owner.getInherited().rtl&&(a.innerCtCls=(a.innerCtCls||"")+" "+Ext.baseCSSPrefix+"rtl");return a}});
Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a,b=Ext.dom.Element;a=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"\x26#160;"});a.unselectable();a.setSize(b.getDocumentWidth(),b.getDocumentHeight());a.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},
onBeforeStart:function(a){var b=this.getPrevCmp(),c=this.getNextCmp(),d=this.getSplitter().collapseEl;a=a.getTarget();if(!b||!c||d&&a===d.dom||c.collapsed||b.collapsed)return!1;this.prevBox=b.getEl().getBox();this.nextBox=c.getEl().getBox();this.constrainTo=b=this.calculateConstrainRegion();return!b?!1:b},onStart:function(){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var a=this.getSplitter(),b=a.getWidth(),c=a.defaultSplitMin,
d=a.orientation,a=this.prevBox,e=this.getPrevCmp(),g=this.nextBox,h=this.getNextCmp();"vertical"===d?(b={prevCmp:e,nextCmp:h,prevBox:a,nextBox:g,defaultMin:c,splitWidth:b},d=new Ext.util.Region(a.y,this.getVertPrevConstrainRight(b),a.bottom,this.getVertPrevConstrainLeft(b)),b=new Ext.util.Region(g.y,this.getVertNextConstrainRight(b),g.bottom,this.getVertNextConstrainLeft(b))):(d=new Ext.util.Region(a.y+(e.minHeight||c),a.right,(e.maxHeight?a.y+e.maxHeight:g.bottom-(h.minHeight||c))+b,a.x),b=new Ext.util.Region((h.maxHeight?
g.bottom-h.maxHeight:a.y+(e.minHeight||c))-b,g.right,g.bottom-(h.minHeight||c),g.x));return d.intersect(b)},performResize:function(a,b){for(var c=this.getSplitter(),d=c.orientation,e=this.getPrevCmp(),g=this.getNextCmp(),c=c.ownerCt,h=c.query("\x3e[flex]"),j=h.length,d="vertical"===d,k=0,l=d?"width":"height",m,n;k<j;k++)m=h[k],n=d?m.getWidth():m.getHeight(),m.flex=n;b=d?b[0]:b[1];e&&(n=this.prevBox[l]+b,e.flex?e.flex=n:e[l]=n);g&&(n=this.nextBox[l]-b,g.flex?g.flex=n:g[l]=n);c.updateLayout()},endDrag:function(){this.overlay&&
(this.overlay.destroy(),delete this.overlay);this.callParent(arguments)},onEnd:function(a){var b=this.getSplitter();b.removeCls(b.baseCls+"-active");this.performResize(a,this.getResizeOffset())},onDrag:function(){var a=this.getOffset("dragTarget"),b=this.getSplitter(),c=b.getEl();"vertical"===b.orientation?c.setX(this.startRegion.left+a[0]):c.setY(this.startRegion.top+a[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:
a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});
Ext.define("Ext.rtl.resizer.SplitterTracker",{override:"Ext.resizer.SplitterTracker",getVertPrevConstrainLeft:function(a){return!this.splitter.getInherited().rtl!==!Ext.rootInheritedState.rtl?(a.prevCmp.maxWidth?a.prevBox.right-a.prevCmp.maxWidth:a.nextBox.x+(a.nextCmp.minWidth||a.defaultMin))-a.splitWidth:this.callParent(arguments)},getVertPrevConstrainRight:function(a){return!this.splitter.getInherited().rtl!==!Ext.rootInheritedState.rtl?a.prevBox.right-(a.prevCmp.minWidth||a.defaultMin):this.callParent(arguments)},
getVertNextConstrainLeft:function(a){return!this.splitter.getInherited().rtl!==!Ext.rootInheritedState.rtl?a.nextBox.x+(a.nextCmp.minWidth||a.defaultMin):this.callParent(arguments)},getVertNextConstrainRight:function(a){return!this.splitter.getInherited().rtl!==!Ext.rootInheritedState.rtl?(a.nextCmp.maxWidth?a.nextBox.x+a.nextCmp.maxWidth:a.prevBox.right-(a.prevBox.minWidth||a.defaultMin))+a.splitWidth:this.callParent(arguments)},getResizeOffset:function(){var a=this.getOffset("dragTarget");!this.splitter.getInherited().rtl!==
!Ext.rootInheritedState.rtl&&(a[0]=-a[0]);return a}});
Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:Ext.resizer.SplitterTracker,onStart:function(a){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0});this.callParent(arguments)},endDrag:function(){this.callParent(arguments);this.getSplitter().el.dom.style.left=0},performResize:function(a,b){var c=this.getPrevCmp(),d=this.getNextCmp(),e=this.getSplitter().ownerCt,g=b[0],h,j;c&&d&&(c.width=h=this.prevBox.width+g,d.width=g=this.nextBox.width-g,j=(c.columnWidth+d.columnWidth)/(h+g),
c.columnWidth=h*j,d.columnWidth=g*j);e.updateLayout()}});Ext.define("Ext.layout.container.ColumnSplitter",{extend:Ext.resizer.Splitter,xtype:"columnsplitter",isSplitter:!0,synthetic:!0,cls:Ext.baseCSSPrefix+"splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var a=this.callParent();a.xclass=this.trackerClass;return a}});
Ext.define("Ext.layout.container.Dashboard",{extend:Ext.layout.container.Column,alias:"layout.dashboard",type:"dashboard",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(a){var b=Ext.Array;return b.filter(b.from(a),function(a){return a.target&&!0!==a.target.isSplitter})},beginLayout:function(a){this.callParent([a]);var b=a.childItems;a=a.rows=[];var c=
b.length,d=2,e=0,g=0,h=this.owner.getMaxColumns(),j,k,l,m,n,p,q;for(k=0;k<c;++k){n=(p=(j=b[k]).target)&&p.isSplitter;e+=n?0:1;q=n?0:p.columnWidth||1;if(1<d+q||h&&e>h)l&&(l.orphan=1,l.el.setHeight(0)),d=0,e=1,a.length&&(g=a.length-1,this.syncFirstLast(this.getColumns(a[g].items))),a.push(m={index:a.length,items:[],maxHeight:0});d+=q;m.items.push(j);j.row=m;p.rowIndex=m.index;n&&j.el.setHeight(1);l=j}a.length&&this.syncFirstLast(this.getColumns(a[a.length-1].items))},beforeLayoutCycle:function(a){var b=
this.owner.items;this.splitterGen!==b.generation&&(this.syncSplitters(),this.splitterGen=b.generation);this.callParent(arguments)},finishedLayout:function(a){var b=a.childItems,c=b.length,d,e,g;this.callParent([a]);for(e=0;e<c;e+=2)g=(d=b[e]).target,a=g.lastBox,d=d.row,d.maxHeight=Math.max(d.maxHeight,a.height),g.width=a.width;for(e=1;e<c;e+=2)g=(d=b[e]).target,d.orphan||g.el.setHeight(d.row.maxHeight)},syncSplitters:function(){for(var a=this.owner,b=a.items.items,c=b.length,d=!0,e=!1,g;0<c--;)g=
b[c],e?g.isSplitter?e=!1:(d&&(d=!1,a.suspendLayouts()),a.add(c+1,this.getSplitterConfig())):g.isSplitter?(d&&(d=!1,a.suspendLayouts()),a.remove(g)):e=!0;for(;b.length&&(g=b[0]).isSplitter;)d&&(d=!1,a.suspendLayouts()),a.remove(g);d||a.resumeLayouts()},syncFirstLast:function(a){var b=this.firstColumnCls,c=this.lastColumnCls,d,e=[b,c],g,h,j;a=Ext.Array.from(a);d=a.length;for(g=0;g<d;++g)h=a[g].target,j=g===d-1,g?j?(h.addCls(c),h.removeCls(b)):h.removeCls(e):j?h.addCls(e):(h.addCls(b),h.removeCls(c))}});
Ext.define("Ext.dashboard.DropZone",{extend:Ext.dd.DropTarget,ddScrollConfig:{vthresh:50,hthresh:-1,animate:!0,increment:200},containerScroll:!0,overClass:Ext.baseCSSPrefix+"dashboard-dd-over",constructor:function(a,b){this.dashboard=a;a.body.ddScrollConfig=this.ddScrollConfig;this.callParent([a.body,b])},getOverEvent:function(a,b,c){var d=this.dashboard,e=d.items.items,g=d.body.getBox(),h=e.length,j=b.getXY(),k=j[0]-g.x,g=j[1]-g.y;a={columnIndex:0,column:null,dashboard:d,above:null,extensible:!1,
beforeAfter:0,data:c,panel:c.panel,rawEvent:b,source:a,status:this.dropAllowed};for(j=0;j<h;j+=2){c=e[j];d=c.lastBox.width;e[j+1]&&(d+=e[j+1].lastBox.width);if(b.within(c.el)){a.columnIndex=j;a.column=c;a.extensible=this.isRowExtensible(c.rowIndex);b=Math.min(80,0.2*d);a.beforeAfter=b=a.extensible&&(k<b?-1:k>d-b?1:0);if(!b||!a.extensible){h=c.items.items;b=0;for(e=h.length;b<e;++b){c=h[b];k=c.el.getHeight();if(g<k/2){a.above=c;break}g-=k}}break}k-=d}return a},notifyOver:function(a,b,c){var d=this.dashboard;
b=this.getOverEvent(a,b,c);var e=b.column&&b.column.el,g=a.proxy,h=b.above,j=0,k=d.hasListeners;c.lastOver=b;if((!k.validatedrop||!1!==d.fireEvent("validatedrop",b))&&(!k.beforedragover||!1!==d.fireEvent("beforedragover",b)))c=a.panelProxy.getProxy(),g.getProxy().setWidth("auto"),e?(j=g=e.getWidth(),b.beforeAfter?(a.panelProxy.moveProxy(e.dom,e.dom.firstChild),j=g/2,c.setWidth(j)):(h?a.panelProxy.moveProxy(h.el.dom.parentNode,h.el.dom):a.panelProxy.moveProxy(e.dom,null),c.setWidth("auto")),c.setStyle({"float":"none",
clear:"none","margin-left":0<b.beforeAfter?g-j-e.getPadding("lr")+"px":"","margin-top":"7px"})):(e=d.body.getPadding("lr"),c.setStyle({"float":"left",clear:"left",margin:"0 7px 0 7px"}),c.setWidth(d.body.getWidth()-e),a.panelProxy.moveProxy(d.body.dom.firstChild.firstChild,null)),this.scrollPos=d.body.getScroll(),k.dragover&&d.fireEvent("dragover",b);return b.status},isRowExtensible:function(a){var b=this.dashboard,c=b.getMaxColumns()||1;return Ext.Array.from(b.query("\x3edashboard-column[rowIndex\x3d"+
a+"]")).length<c},notifyDrop:function(a,b,c){this.callParent(arguments);var d=this.dashboard,e=c.lastOver,g=e.panel,h=g.ownerCt,j=e.column,k=j?e.beforeAfter:1,l=h.items.indexOf(g),m=j?e.above?j.items.indexOf(e.above):j.items.getCount():0,n=d.hasListeners;if(h===j&&(1===h.items.getCount()||!k&&(l<m&&--m,l===m)))return;n.validatedrop&&!1===d.fireEvent("validatedrop",e)||n.beforedrop&&!1===d.fireEvent("beforedrop",e)||(Ext.suspendLayouts(),g.isMoving=!0,k&&(h=d.items.indexOf(j),0>h?h=d.items.getCount():
0<k&&++h,k=d.createColumn(),j?(k.columnWidth=j.columnWidth/=2,delete j.width):k.columnWidth=1,j=d.insert(h,k),m=0),g.el.dom.style.display="",j.insert(m,g),g.isMoving=!1,j.updateLayout(),Ext.resumeLayouts(!0),n.drop&&d.fireEvent("drop",e))}});
Ext.define("Ext.dashboard.Part",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Identifiable],alias:"part.part",factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(a){this.initConfig(a)},applyViewTemplate:function(a){Ext.isObject(a)||Ext.Error.raise("The viewTemplate for "+
this.$className+" is not an Object");return Ext.util.ObjectTemplate.create(a,this.viewTemplateOptions)},displayForm:function(a,b,c,d){c.call(d||this,{})},createView:function(a){var b=this.getViewTemplate().apply(a);b.dashboard=this.getDashboard();b.part=this;b._partConfig=a;return b}});
Ext.define("Ext.dashboard.Dashboard",{extend:Ext.panel.Panel,xtype:"dashboard",isDashboard:!0,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",defaultType:"dashboard-column",autoScroll:!0,layout:null,stateful:!1,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){this.layout||(this.layout={type:"dashboard"});this.callParent()},applyParts:function(a,b){b||(b=new Ext.util.Collection({decoder:Ext.Factory.part}));var c,d;for(c in a)d=a[c],Ext.isString(d)&&
(d={type:d}),d.id=c,d.dashboard=this,b.add(d);return b},getPart:function(a){return this.getParts().getByKey(a)},addNew:function(a,b,c){var d=this;d.getPart(a).displayForm(null,null,function(e){e.type=a;d.addView(e,b,c)})},addView:function(a,b,c){var d=this.items,e=d.getCount();b=b||0;a=a.id?a:this.createView(a);var g=this.columnWidths;e||(this.add(0,this.createColumn({columnWidth:1})),e=1,g=this.columnWidths=[]);b>=e&&(b=e-1,c=1);if(!c&&(d=d.getAt(b)))return d.add(a);0<c&&++b;d=this.createColumn();
g&&(d.columnWidth=g[b]||(g[b]=1));d.items||(d.items=[]);d.items.push(a);d=this.add(b,d);return d.items.first()},createColumn:function(a){var b=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","move","resize"],listeners:{remove:this.onRemoveItem,expand:b,collapse:b,scope:this}},a)},createView:function(a){var b=a.type;a=this.getPart(b).createView(a);a.id||(a.id=this.id+"_"+b+this.idSeed++);a.bubbleEvents=Ext.Array.from(a.bubbleEvents).concat(["expand","collapse"]);a.stateful=
this.stateful;return a},initEvents:function(){this.callParent();this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},beforeDestroy:function(){this.dd&&Ext.destroy(this.dd);this.callParent()},applyState:function(a){delete a.items;this.callParent([a]);a=a.columnWidths;var b=this.items.items,c=b.length,d,e;if(a){e=a.length;this.columnWidths=[];for(d=0;d<c;++d)this.columnWidths.push(b[d].columnWidth=d<e?a[d]:1/c)}},getState:function(){var a=[],b=this.items.items,
c=this.callParent()||{},d=b.length,e,g;for(e=0;e<d;++e)(g=b[e]).isSplitter||a.push(g.columnWidth);c.columnWidths=a;c.idSeed=this.idSeed;c.items=this.serializeItems();this.columnWidths=a;return c},initItems:function(){var a=this.defaultContent,b;this.stateful&&(a=(b=Ext.state.Manager.get(this.getStateId()))&&b.items||a);!this.items&&a&&(this.items=this.deserializeItems(a));this.callParent()},deserializeItems:function(a){var b=a.length,c=[],d=this.columnWidths,e=this.getMaxColumns(),g,h,j,k;for(j=0;j<
b;++j){k=a[j];h=Math.min(k.columnIndex||0,e-1);delete k.columnIndex;if(!(g=c[h]))if(c[h]=g=this.createColumn(),h=d&&d[h])g.columnWidth=h;k=this.createView(k);g.items.push(k)}j=0;for(b=c.length;j<b;++j)g=c[j],g.columnWidth||(g.columnWidth=1/b);return c},serializeItem:function(a){return Ext.apply({type:a.part.id,id:a.id,columnIndex:a.columnIndex},a._partConfig)},serializeItems:function(){var a=this.items.items,b=a.length,c=[],d=0,e,g,h,j,k;for(h=0;h<b;++h)if(e=a[h],!e.isSplitter){g=e.items.items;j=
0;for(k=g.length;j<k;++j)e=g[j],e.columnIndex=d,c.push(this.serializeItem(e));++d}return c},onRemoveItem:function(a,b){b.stateful&&!b.isMoving&&Ext.state.Manager.clear(b.getStateId())}});
Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",isLayer:!0,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(a,b){a=a||{};var c=Ext.DomHelper,d=a.parentEl,e=d?Ext.getDom(d):document.body,d=a.hideMode,g=Ext.baseCSSPrefix+(a.fixed?"fixed-layer":"layer"),h;b&&(h=Ext.getDom(b),h.parentNode||e.appendChild(h));h||(h=c.append(e,a.dh||{tag:"div",cls:g}));a.id&&(h.id=a.id);if(c=h.id)if(e=Ext.cache[c])delete Ext.cache[c],e.dom=null;this.callParent([h]);b&&this.addCls(g);
a.preventSync&&(this.preventSync=!0);a.cls&&this.addCls(a.cls);this.constrain=!1!==a.constrain;d?this.setVisibilityMode(Ext.Element[d.toUpperCase()]):a.useDisplay?this.setVisibilityMode(Ext.Element.DISPLAY):this.setVisibilityMode(Ext.Element.VISIBILITY);a.shadow?(this.shadowOffset=a.shadowOffset||4,this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:a.shadow,fixed:a.fixed}),this.disableShadow()):this.shadowOffset=0;!0===a.hidden?this.hide():!1===a.hidden&&this.show()},getZIndex:function(){return parseInt(this.getStyle("z-index"),
10)},disableShadow:function(){this.shadow&&!this.shadowDisabled&&(this.shadowDisabled=!0,this.shadow.hide(),this.lastShadowOffset=this.shadowOffset,this.shadowOffset=0)},enableShadow:function(a){this.shadow&&this.shadowDisabled&&(this.shadowDisabled=!1,this.shadowOffset=this.lastShadowOffset,delete this.lastShadowOffset,a&&this.sync(!0))},sync:function(a){var b=this.shadow,c,d,e,g;if(!this.preventSync)return!this.updating&&(this.isVisible()&&b)&&(c=this[this.localXYNames.get](),d=c[0],c=c[1],e=this.dom.offsetWidth,
g=this.dom.offsetHeight,b&&!this.shadowDisabled&&(a&&!b.isVisible()?b.show(this):b.realign(d,c,e,g))),this},destroy:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=!0},endUpdate:function(){this.updating=!1;this.sync(!0)},hideUnders:function(){this.shadow&&this.shadow.hide()},constrainXY:function(){if(this.constrain){var a=Ext.Element.getViewportWidth(),b=Ext.Element.getViewportHeight(),c=Ext.getDoc().getScroll(),d=this.getXY(),e=d[0],d=d[1],g=this.shadowOffset,
h=this.dom.offsetWidth+g,j=this.dom.offsetHeight+g,k=!1;e+h>a+c.left&&(e=a-h-g,k=!0);d+j>b+c.top&&(d=b-j-g,k=!0);e<c.left&&(e=c.left,k=!0);d<c.top&&(d=c.top,k=!0);k&&(Ext.Layer.superclass.setXY.call(this,[e,d]),this.sync())}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(a,b,c,d,e){var g=this,h;h=function(){a&&g.sync(!0);d&&d()};a||g.hideUnders(!0);g.callParent([a,b,c,d,e]);b||h();return g},beforeAction:function(){!this.updating&&this.shadow&&this.shadow.hide()},
setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(a,b,c,d,e){d=this.createCB(d);this.fixDisplay();this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},createCB:function(a){var b=this,
c=b.shadow&&b.shadow.isVisible();return function(){b.constrainXY();b.sync(c);a&&a()}},setX:function(a,b,c,d,e){this.setXY([a,this.getY()],b,c,d,e);return this},setY:function(a,b,c,d,e){this.setXY([this.getX(),a],b,c,d,e);return this},setSize:function(a,b,c,d,e,g){e=this.createCB(e);this.beforeAction();this.callParent([a,b,c,d,e,g]);c||e();return this},setWidth:function(a,b,c,d,e){d=this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},setHeight:function(a,b,c,d,e){d=
this.createCB(d);this.beforeAction();this.callParent([a,b,c,d,e]);b||d();return this},setZIndex:function(a){this.zindex=a;this.shadow&&this.shadow.setZIndex(a);return this.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;b&&b.setOpacity(a)},deprecated:{"4.2":{methods:{setBounds:function(a,b,c,d,e,g,h,j){h=this.createCB(h);this.beforeAction();e?this.callParent([a,b,c,d,e,g,h,j]):(Ext.Layer.superclass.setXY.call(this,[a,b]),Ext.Layer.superclass.setSize.call(this,c,d),h());return this},
setLeftTop:function(a,b){this.callParent(arguments);return this.sync()}}}}});Ext.define("Ext.rtl.dom.Layer",{override:"Ext.dom.Layer",rtlLocalXYNames:{get:"rtlGetLocalXY",set:"rtlSetLocalXY"},rtlSetLocalX:function(){this.callParent(arguments);return this.sync()},rtlSetLocalXY:function(){this.callParent(arguments);return this.sync()},setRtl:function(a){var b=this.shadow;this.localXYNames=a?this.rtlLocalXYNames:Ext.dom.Layer.prototype.localXYNames;b&&(b.localXYNames=this.localXYNames)}});
Ext.define("Ext.flash.Component",{extend:Ext.Component,alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['\x3cdiv id\x3d"{swfId}" role\x3d"presentation"\x3e\x3c/div\x3e'],initComponent:function(){"swfobject"in window||Ext.Error.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/");
this.url||Ext.Error.raise('The "url" config is required for Ext.flash.Component');this.callParent()},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var a=Ext.apply({},this.flashParams),b=Ext.apply({},this.flashVars);this.callParent();a=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},a);b=Ext.apply({allowedDomain:document.location.hostname},b);new swfobject.embedSWF(this.url,this.getSwfId(),
this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?this.statics.EXPRESS_INSTALL_URL:void 0,b,a,this.flashAttributes,this.swfCallback.bind(this))},swfCallback:function(a){a.success?(this.swf=Ext.get(a.ref),this.onSuccess(),this.fireEvent("success",this)):(this.onFailure(),this.fireEvent("failure",this))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var a=
this.swf;a&&(swfobject.removeSWF(this.getSwfId()),Ext.destroy(a),delete this.swf);this.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}});
Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(a){a&&Ext.apply(this,a);a=a.params;Ext.isString(a)&&(this.params=Ext.Object.fromQueryString(a))},run:Ext.emptyFn,onFailure:function(a){this.response=a;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;this.form.afterAction(this,!1)},processResponse:function(a){this.response=a;return!a.responseText&&!a.responseXML?!0:this.result=this.handleResponse(a)},getUrl:function(){return this.url||
this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var a=this.form;return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:1E3*this.timeout||1E3*a.timeout,upload:a.fileUpload?this.onSuccess:void 0}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});
Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(a){a=this.processResponse(a);var b=this.form;!0===a||!a.success||!a.data?(this.failureType=Ext.form.action.Action.LOAD_FAILURE,b.afterAction(this,!1)):(b.clearInvalid(),b.setValues(a.data),
b.afterAction(this,!0))},handleResponse:function(a){var b=this.form.reader;return b?(a=b.read(a),b=a.records&&a.records[0]?a.records[0].data:null,{success:a.success,data:b}):Ext.decode(a.responseText)}});
Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var a=this.form;!1===this.clientValidation||a.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,a.afterAction(this,!1))},doSubmit:function(){var a=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),b=this.form,c=this.jsonSubmit||b.jsonSubmit,d=c?"jsonData":
"params",e;b.hasUpload()?(e=this.buildForm(),a.form=e.formEl,a.isUpload=!0):a[d]=this.getParams(c);Ext.Ajax.request(a);e&&this.cleanup(e)},cleanup:function(a){var b=a.formEl,c=a.uploadEls;a=a.uploadFields;var d=a.length,e,g;for(e=0;e<d;++e)g=a[e],g.clearOnSubmit||g.restoreInput(c[e]);b&&Ext.removeNode(b)},getParams:function(a){var b=this.callParent();a=this.form.getValues(!1,!1,!1!==this.submitEmptyText,a,!0);return Ext.apply({},a,b)},buildForm:function(){for(var a=[],b=this.form,c=this.getParams(),
d=[],e=[],g=b.getFields().items,h=g.length,j,k,b=0;b<h;++b)j=g[b],j.isFileUpload()&&d.push(j);for(k in c)if(c.hasOwnProperty(k))if(b=c[k],Ext.isArray(b)){g=b.length;for(h=0;h<g;h++)a.push(this.getFieldConfig(k,b[h]))}else a.push(this.getFieldConfig(k,b));a={tag:"form",role:"presentation",action:this.getUrl(),method:this.getMethod(),target:this.target||"_self",style:"display:none",cn:a};d.length&&(a.encoding=a.enctype="multipart/form-data");a=Ext.DomHelper.append(Ext.getBody(),a);h=d.length;for(b=
0;b<h;++b)c=d[b].extractFileInput(),a.appendChild(c),e.push(c);return{formEl:a,uploadFields:d,uploadEls:e}},getFieldConfig:function(a,b){return{tag:"input",type:"hidden",name:a,value:Ext.String.htmlEncode(b)}},onSuccess:function(a){var b=this.form,c=!0;a=this.processResponse(a);!0!==a&&!a.success&&(a.errors&&b.markInvalid(a.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,c=!1);b.afterAction(this,c)},handleResponse:function(a){var b=this.form.errorReader,c,d,e;if(b){a=b.read(a);e=a.records;
b=[];if(e){c=0;for(d=e.length;c<d;c++)b[c]=e[c].data}1>b.length&&(b=null);c={success:a.success,errors:b}}else try{c=Ext.decode(a.responseText)}catch(g){c={success:!1,errors:[]}}return c}});
Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['\x3ctextarea id\x3d"{id}" role\x3d"{role}" {inputAttrTpl}','\x3ctpl if\x3d"name"\x3e name\x3d"{name}"\x3c/tpl\x3e','\x3ctpl if\x3d"placeholder"\x3e placeholder\x3d"{placeholder}"\x3c/tpl\x3e','\x3ctpl if\x3d"maxLength !\x3d\x3d undefined"\x3e maxlength\x3d"{maxLength}"\x3c/tpl\x3e','\x3ctpl if\x3d"readOnly"\x3e readonly\x3d"readonly"\x3c/tpl\x3e',
'\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e',' class\x3d"{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','\x3ctpl if\x3d"fieldStyle"\x3e style\x3d"{fieldStyle}"\x3c/tpl\x3e',' autocomplete\x3d"off"\x3e\n','\x3ctpl if\x3d"value"\x3e{[Ext.util.Format.htmlEncode(values.value)]}\x3c/tpl\x3e',"\x3c/textarea\x3e",{disableFormats:!0}],growMin:60,growMax:1E3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,
returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",constructor:function(a){this.callParent([a]);this.cols&&Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.');this.rows&&Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')},getSubTplData:function(a){var b=this.getFieldStyle(),c=this.callParent(arguments);
this.grow&&this.preventScrollbars&&(c.fieldStyle=(b||"")+";overflow:hidden;height:"+this.growMin+"px");return c},afterRender:function(){this.callParent(arguments);if(this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength)this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},
stripReturns:function(a){a&&"string"===typeof a&&(a=a.replace(this.returnRe,""));return a},onPaste:function(){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this));this.pasteTask.delay(1)},pasteCheck:function(){var a=this.getValue(),b=this.maxLength;a.length>b&&(a=a.substr(0,b),this.setValue(a))},fireKey:function(a){var b=a.getKey();a.isSpecialKey()&&(this.enterIsSpecial||b!==a.ENTER||a.hasModifier())&&this.fireEvent("specialkey",this,a);this.needsMaxCheck&&(b!==a.BACKSPACE&&
b!==a.DELETE&&!a.isNavKeyPress()&&!this.isCutCopyPasteSelectAll(a,b))&&(b=this.getValue(),b.length>=this.maxLength&&a.stopEvent())},isCutCopyPasteSelectAll:function(a,b){return a.ctrlKey?b===a.A||b===a.C||b===a.V||b===a.X:!1},autoSize:function(){var a,b,c;this.grow&&(this.rendered&&this.getSizeModel().height.auto)&&(a=this.inputEl,b=a.getWidth(!0),c=Ext.util.Format.htmlEncode(a.dom.value)||"\x26#160;",c+=this.growAppend,c=c.replace(/\n/g,"\x3cbr/\x3e"),a=Ext.util.TextMetrics.measure(a,c,b).height+
a.getPadding("tb")+this.inputWrap.getBorderWidth("tb")+this.triggerWrap.getBorderWidth("tb"),a=Math.min(Math.max(a,this.growMin),this.growMax),this.bodyEl.setHeight(a),this.updateLayout(),this.fireEvent("autosize",this,a))},beforeDestroy:function(){var a=this.pasteTask;a&&(a.cancel(),this.pasteTask=null);this.callParent()}});
Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,autoScroll:!0,title:"\x26#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,
maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(a){a=
this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:a,scope:this,text:this.buttonText[a],minWidth:75})},btnCallback:function(a){var b,c;if(this.cfg.prompt||this.cfg.multiline)c=this.cfg.multiline?this.textArea:this.textField,b=c.getValue(),c.reset();this.hide();this.userCallback(a.itemId,b,this.cfg)},hide:function(){var a=this.cfg?this.cfg.cls:"";this.progressBar.reset();a&&this.removeCls(a);this.callParent(arguments)},constructor:function(a){this.callParent(arguments);
this.minWidth=this.defaultMinWidth=this.minWidth||this.defaultMinWidth;this.maxWidth=this.defaultMaxWidth=this.maxWidth||this.defaultMaxWidth;this.minHeight=this.defaultMinHeight=this.minHeight||this.defaultMinHeight;this.maxHeight=this.defaultMaxHeight=this.maxHeight||this.defaultMaxHeight},initComponent:function(){var a=this.id,b,c;this.title=this.title||"\x26#160;";this.iconCls=this.iconCls||"";this.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[this.iconComponent=
new Ext.Component({cls:this.baseIconCls}),this.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[this.msg=new Ext.form.field.Display({id:a+"-displayfield",cls:this.baseCls+"-text"}),this.textField=new Ext.form.field.Text({id:a+"-textfield",enableKeyEvents:!0,listeners:{keydown:this.onPromptKey,scope:this}}),this.textArea=new Ext.form.field.TextArea({id:a+"-textarea",height:75})]})]});this.progressBar=new Ext.ProgressBar({id:a+"-progressbar",margin:"0 10 10 10"});
this.items=[this.topContainer,this.progressBar];this.msgButtons=[];for(b=0;4>b;b++)c=this.makeButton(b),this.msgButtons[c.itemId]=c,this.msgButtons.push(c);this.bottomTb=new Ext.toolbar.Toolbar({id:a+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[this.msgButtons[0],this.msgButtons[1],this.msgButtons[2],this.msgButtons[3]]});this.dockedItems=[this.bottomTb];this.on("close",this.onClose,this);this.callParent()},onClose:function(){var a=this.header.child("[type\x3dclose]");a.itemId=
"cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,b){if(b.keyCode===b.RETURN||10===b.keyCode)this.msgButtons.ok.isVisible()?this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes)},reconfigure:function(a){var b=0,c=!0,d=this.buttonText,b=this.resizer,e=this.header,g=e&&!e.isHeader,h=a&&(a.message||a.msg),j,k,l;this.updateButtonText();this.cfg=a=a||{};a.width&&(k=a.width);a.height&&(l=a.height);
this.minWidth=a.minWidth||this.defaultMinWidth;this.maxWidth=a.maxWidth||this.defaultMaxWidth;this.minHeight=a.minHeight||this.defaultMinHeight;this.maxHeight=a.maxHeight||this.defaultMaxHeight;b&&(j=b.resizeTracker,b.minWidth=j.minWidth=this.minWidth,b.maxWidth=j.maxWidth=this.maxWidth,b.minHeight=j.minHeight=this.minHeight,b.maxHeight=j.maxHeight=this.maxHeight);delete this.defaultFocus;a.defaultFocus&&(this.defaultFocus=a.defaultFocus);this.animateTarget=a.animateTarget||void 0;this.modal=!1!==
a.modal;this.setTitle(a.title||g&&e.title||this.title);this.setIconCls(a.iconCls||g&&e.iconCls||this.iconCls);Ext.isObject(a.buttons)?(this.buttonText=a.buttons,b=0):(this.buttonText=a.buttonText||this.buttonText,b=Ext.isNumber(a.buttons)?a.buttons:0);b|=this.updateButtonText();this.buttonText=d;Ext.suspendLayouts();delete this.width;delete this.height;if(k||l)k&&this.setWidth(k),l&&this.setHeight(l);this.hidden=!1;this.rendered||this.render(Ext.getBody());this.closable=!1!==a.closable&&!a.wait;if(e=
this.header)e.child("[type\x3dclose]").setVisible(this.closable),!a.title&&!this.closable&&!a.iconCls?e.hide():e.show();this.liveDrag=!a.proxyDrag;this.userCallback=Ext.Function.bindCallback(a.callback||a.fn||Ext.emptyFn,a.scope||Ext.global);this.setIcon(a.icon);d=this.msg;h?(d.setValue(h),d.show()):d.hide();h=this.textArea;d=this.textField;a.prompt||a.multiline?(this.multiline=a.multiline)?(h.setValue(a.value),h.setHeight(a.defaultTextHeight||this.defaultTextHeight),h.show(),d.hide(),this.defaultFocus=
h):(d.setValue(a.value),h.hide(),d.show(),this.defaultFocus=d):(h.hide(),d.hide());h=this.progressBar;a.progress||a.wait?(h.show(),this.updateProgress(0,a.progressText),(a=a.wait)&&h.wait(a)):h.hide();h=this.msgButtons;for(a=0;4>a;a++)b&Math.pow(2,a)?(this.defaultFocus||(this.defaultFocus=h[a]),h[a].show(),c=!1):h[a].hide();c?this.bottomTb.hide():this.bottomTb.show();Ext.resumeLayouts(!0)},updateButtonText:function(){var a=this.buttonText,b=0,c,d;for(c in a)if(a.hasOwnProperty(c)&&(d=this.msgButtons[c]))this.cfg&&
this.cfg.buttonText&&(b|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,c))),d.text!=a[c]&&d.setText(a[c]);return b},show:function(a){var b=this,c;a=a||{};if(Ext.Component.layoutSuspendCount)return Ext.on({resumelayouts:function(){b.show(a)},single:!0}),b;b.reconfigure(a);a.cls&&b.addCls(a.cls);c=b.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");b.preventFocusOnActivate=!c.length;b.hidden=!0;b.callParent();return b},onShow:function(){this.callParent(arguments);this.center()},
updateText:function(a){this.msg.setValue(a)},setIcon:function(a,b,c){var d=this.iconComponent,e=this.messageIconCls;e&&d.removeCls(e);if(a){d.show();if(b||c)d.setSize(b||d.getWidth(),c||d.getHeight());d.addCls(Ext.baseCSSPrefix+"dlg-icon");d.addCls(this.messageIconCls=a)}else d.removeCls(Ext.baseCSSPrefix+"dlg-icon"),d.hide();return this},updateProgress:function(a,b,c){this.progressBar.updateProgress(a,b);c&&this.updateText(c);return this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},
confirm:function(a,b,c,d){Ext.isString(a)&&(a={title:a,icon:this.QUESTION,message:b,buttons:this.YESNO,callback:c,scope:d});return this.show(a)},prompt:function(a,b,c,d,e,g){Ext.isString(a)&&(a={prompt:!0,title:a,minWidth:this.minPromptWidth,message:b,buttons:this.OKCANCEL,callback:c,scope:d,multiline:e,value:g});return this.show(a)},wait:function(a,b,c){Ext.isString(a)&&(a={title:b,message:a,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:c});return this.show(a)},alert:function(a,
b,c,d){Ext.isString(a)&&(a={title:a,message:b,buttons:this.OK,fn:c,scope:d,minWidth:this.minWidth});return this.show(a)},progress:function(a,b,c){Ext.isString(a)&&(a={title:a,message:b,progress:!0,progressText:c});return this.show(a)}},function(){Ext.MessageBox=Ext.Msg=new this});
Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(a,b){var c;this.owner=a;this.checkValidityTask=new Ext.util.DelayedTask(this.checkValidity,this);this.checkDirtyTask=new Ext.util.DelayedTask(this.checkDirty,this);this.checkErrorTask=new Ext.util.DelayedTask(this.checkError,this);this.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:this,addHandler:this.onFieldAdd,removeHandler:this.onFieldRemove,
invalidateHandler:this.onMonitorInvalidate});this.monitor.bind(a);Ext.apply(this,b);Ext.isString(this.paramOrder)&&(this.paramOrder=this.paramOrder.split(/[\s,|]/));if((c=this.reader)&&!c.isReader)"string"===typeof c&&(c={type:c}),this.reader=Ext.createByAlias("reader."+c.type,c);if((c=this.errorReader)&&!c.isReader)"string"===typeof c&&(c={type:c}),this.errorReader=Ext.createByAlias("reader."+c.type,c);this.callParent()},initialize:function(){this.initialized=!0;this.onValidityChange(!this.hasInvalidField())},
timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var a=this.monitor;a&&(a.unbind(),this.monitor=null);this.clearListeners();this.checkValidityTask.cancel();this.checkDirtyTask.cancel();this.checkErrorTask.cancel();this.checkValidityTask=this.checkDirtyTask=checkErrorTask=null;this.isDestroyed=!0},onFieldAdd:function(a){this.mon(a,"validitychange",this.checkValidityDelay,this);this.mon(a,"dirtychange",this.checkDirtyDelay,this);this.mon(a,"errorchange",
this.checkErrorDelay,this);this.onMonitorInvalidate()},onFieldRemove:function(a){this.mun(a,"validitychange",this.checkValidityDelay,this);this.mun(a,"dirtychange",this.checkDirtyDelay,this);this.mun(a,"errorchange",this.checkErrorDelay,this);this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var a=this._boundItems;if(!a||0===a.getCount())a=this._boundItems=new Ext.util.MixedCollection,
a.addAll(this.owner.query("[formBind]"));return a},hasInvalidField:function(){return!!this.getFields().findBy(function(a){var b=a.preventMark,c;a.preventMark=!0;c=a.isValid();a.preventMark=b;return!c})},isValid:function(){var a;Ext.suspendLayouts();a=this.getFields().filterBy(function(a){return!a.validate()});Ext.resumeLayouts(!0);return 1>a.length},checkValidity:function(){var a;this.isDestroyed||(a=!this.hasInvalidField(),a!==this.wasValid&&(this.onValidityChange(a),this.fireEvent("validitychange",
this,a),this.wasValid=a))},checkValidityDelay:function(){var a=this.taskDelay;a?this.checkValidityTask.delay(a):this.checkValidity()},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var a=this.taskDelay;a?this.checkErrorTask.delay(a):this.checkError()},onValidityChange:function(a){var b=this.getBoundItems(),c,d,e;if(b){b=b.items;d=b.length;for(c=0;c<d;c++)e=b[c],e.disabled===a&&e.setDisabled(!a)}},isDirty:function(){return!!this.getFields().findBy(function(a){return a.isDirty()})},
checkDirtyDelay:function(){var a=this.taskDelay;a?this.checkDirtyTask.delay(a):this.checkDirty()},checkDirty:function(){var a;this.isDestroyed||(a=this.isDirty(),a!==this.wasDirty&&(this.fireEvent("dirtychange",this,a),this.wasDirty=a))},hasUpload:function(){return!!this.getFields().findBy(function(a){return a.isFileUpload()})},doAction:function(a,b){Ext.isString(a)&&(a=Ext.ClassManager.instantiateByAlias("formaction."+a,Ext.apply({},b,{form:this})));!1!==this.fireEvent("beforeaction",this,a)&&(this.beforeAction(a),
Ext.defer(a.run,100,a));return this},submit:function(a){a=a||{};return this.doAction(a.standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit",a)},load:function(a){return this.doAction(this.api?"directload":"load",a)},updateRecord:function(a){a=a||this._record;if(!a)return Ext.Error.raise("A record is required."),this;for(var b=a.self.fields,c=this.getFieldValues(),d={},e=0,g=b.length,h;e<g;++e)h=b[e].name,c.hasOwnProperty(h)&&(d[h]=c[h]);a.beginEdit();a.set(d);a.endEdit();
return this},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},getRecord:function(){return this._record},beforeAction:function(a){var b=a.waitMsg,c=Ext.baseCSSPrefix+"mask-loading",d=this.getFields().items,e,g=d.length,h;for(e=0;e<g;e++)h=d[e],h.isFormField&&h.syncValue&&h.syncValue();if(b)if(d=this.waitMsgTarget,!0===d)this.owner.el.mask(b,c);else if(d)d=this.waitMsgTarget=Ext.get(d),d.mask(b,c);else{if(this.floatingAncestor=this.owner.up("[floating]"))this.savePreventFocusOnActivate=
this.floatingAncestor.preventFocusOnActivate,this.floatingAncestor.preventFocusOnActivate=!0;Ext.MessageBox.wait(b,a.waitTitle||this.waitTitle)}},afterAction:function(a,b){if(a.waitMsg){var c=Ext.MessageBox,d=this.waitMsgTarget;!0===d?this.owner.el.unmask():d?d.unmask():c.hide()}this.floatingAncestor&&(this.floatingAncestor.preventFocusOnActivate=this.savePreventFocusOnActivate);b?(a.reset&&this.reset(),Ext.callback(a.success,a.scope||a,[this,a]),this.fireEvent("actioncomplete",this,a)):(Ext.callback(a.failure,
a.scope||a,[this,a]),this.fireEvent("actionfailed",this,a))},findField:function(a){return this.getFields().findBy(function(b){return b.id===a||b.name===a||b.dataIndex===a})},markInvalid:function(a){function b(a,b){var d=c.findField(a);d&&d.markInvalid(b)}var c=this,d,e,g;if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++)g=a[d],b(g.id,g.msg)}else if(a instanceof Ext.data.ErrorCollection){e=a.items.length;for(d=0;d<e;d++)g=a.items[d],b(g.field,g.message)}else for(e in a)a.hasOwnProperty(e)&&(d=a[e],b(e,
d,a));return this},setValues:function(a){function b(a,b){var d=c.findField(a);d&&(d.setValue(b),c.trackResetOnLoad&&d.resetOriginalValue())}var c=this,d,e,g;Ext.suspendLayouts();if(Ext.isArray(a)){e=a.length;for(d=0;d<e;d++)g=a[d],b(g.id,g.value)}else Ext.iterate(a,b);Ext.resumeLayouts(!0);return this},getValues:function(a,b,c,d,e){var g={},h=this.getFields().items,j=h.length,k=Ext.isArray,l,m,n,p,q,r;for(r=0;r<j;r++)if(l=h[r],!b||l.isDirty())if(m=l[d?"getModelData":"getSubmitData"](c,e),Ext.isObject(m))for(q in m)m.hasOwnProperty(q)&&
(n=m[q],c&&""===n&&(n=l.emptyText||""),l.isRadio?g[q]=g[q]||n:g.hasOwnProperty(q)?(p=g[q],k(p)||(p=g[q]=[p]),k(n)?g[q]=p.concat(n):p.push(n)):g[q]=n);a&&(g=Ext.Object.toQueryString(g));return g},getFieldValues:function(a){return this.getValues(!1,a,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();var a=this.getFields().items,b,c=a.length;for(b=0;b<c;b++)a[b].clearInvalid();Ext.resumeLayouts(!0);return this},reset:function(a){Ext.suspendLayouts();var b=this.getFields().items,c,d=b.length;for(c=
0;c<d;c++)b[c].reset();Ext.resumeLayouts(!0);!0===a&&delete this._record;return this},applyToFields:function(a){var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++)Ext.apply(b[c],a);return this},applyIfToFields:function(a){var b=this.getFields().items,c,d=b.length;for(c=0;c<d;c++)Ext.applyIf(b[c],a);return this}});
Ext.define("Ext.form.FieldAncestor",{extend:Ext.Mixin,mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{destroy:"onBeforeDestroy"}},initFieldAncestor:function(){this.monitor=new Ext.container.Monitor({scope:this,selector:"[isFormField]:not([excludeForm])",addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove});this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(a){var b=a.fieldDefaults,
c=this.fieldDefaults;c&&(a.fieldDefaults=b?Ext.apply(Ext.Object.chain(b),c):c)},onChildFieldAdd:function(a){this.mon(a,"errorchange",this.handleFieldErrorChange,this);this.mon(a,"validitychange",this.handleFieldValidityChange,this)},onChildFieldRemove:function(a){this.mun(a,"errorchange",this.handleFieldErrorChange,this);this.mun(a,"validitychange",this.handleFieldValidityChange,this)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(a,b){a!==
this&&(this.fireEvent("fieldvaliditychange",this,a,b),this.onFieldValidityChange(a,b))},handleFieldErrorChange:function(a,b){a!==this&&(this.fireEvent("fielderrorchange",this,a,b),this.onFieldErrorChange(a,b))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor.unbind()}});
Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.Auto,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(a){var b=this.owner;this.callParent(arguments);a.hasRawContent=!0;b.containerEl.setStyle("height","");a.containerElContext=a.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?
this.callParent(arguments):NaN},publishInnerHeight:function(a,b){var c=this.owner;"top"===c.labelAlign&&c.hasVisibleLabel()&&(b-=c.labelEl.getHeight());"under"===c.msgTarget&&c.hasActiveError()&&(b-=c.errorWrapEl.getHeight());b-=c.bodyEl.getPadding("tb");a.containerElContext.setHeight(b,!1)},publishInnerWidth:function(a,b){var c=this.owner;"top"!==c.labelAlign&&c.hasVisibleLabel()&&(b-=c.labelWidth+(c.labelPad||0));"side"===c.msgTarget&&c.hasActiveError()&&(b-=c.errorWrapEl.getWidth());b-=c.bodyEl.getPadding("lr");
a.containerElContext.setWidth(b,!1)}});
Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:!0,customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['\x3cdiv id\x3d"{id}-containerEl" data-ref\x3d"containerEl" class\x3d"{containerElCls}" role\x3d"presentation"\x3e',"{%this.renderContainer(out,values)%}",
"\x3c/div\x3e"],initComponent:function(){this.initLabelable();this.initFieldAncestor();this.callParent();this.initMonitor()},onAdd:function(a){a.isLabelable&&(Ext.isGecko&&"absolute"===this.layout.type&&!this.hideLabel&&"top"!==this.labelAlign)&&(a.x+=this.labelWidth+this.labelPad);this.callParent(arguments);a.isLabelable&&this.combineLabels&&(a.oldHideLabel=a.hideLabel,a.hideLabel=!0);this.updateLabel()},onRemove:function(a,b){this.callParent(arguments);b||(a.isLabelable&&this.combineLabels&&(a.hideLabel=
a.oldHideLabel),this.updateLabel())},initRenderData:function(){var a=this.callParent();a.containerElCls=this.containerElCls;return Ext.applyIf(a,this.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";!a&&this.combineLabels&&(a=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector));return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(a){var b=
this.getTpl("fieldSubTpl");b.renderContent||this.setupRenderTpl(b);return b.apply(this.getSubTplData(a))},updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(){if(this.combineErrors){var a=this.getActiveError(),b=Ext.Array.filter(this.query("[isFormField]"),function(a){return a.hasActiveError()});(b=this.getCombinedErrors(b))?this.setActiveErrors(b):this.unsetActiveError();a!==this.getActiveError()&&this.updateLayout()}},getCombinedErrors:function(a){var b=
[],c,d=a.length,e,g,h,j,k,l;for(c=0;c<d;c++){e=a[c];g=e.getActiveErrors();j=g.length;for(h=0;h<j;h++)k=g[h],l=e.getFieldLabel(),b.push((l?l+": ":"")+k)}return b},privates:{applyTargetCls:function(a){var b=this.containerElCls;this.containerElCls=b?b+" "+a:a},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){this.hasOwnProperty("renderTpl")||(this.renderTpl=this.getTpl("labelableRenderTpl"));return this.callParent()}}});
Ext.define("Ext.layout.container.CheckboxGroup",{extend:Ext.layout.container.Container,alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['\x3ctable id\x3d"{ownerId}-innerCt" data-ref\x3d"innerCt" class\x3d"'+Ext.plainTableCls+'" cellpadding\x3d"0"','role\x3d"presentation" style\x3d"{tableStyle}"\x3e\x3ctr role\x3d"presentation"\x3e','\x3ctpl for\x3d"columns"\x3e','\x3ctd class\x3d"{parent.colCls}" valign\x3d"top" style\x3d"{style}" role\x3d"presentation"\x3e',
"{% this.renderColumn(out,parent,xindex-1) %}","\x3c/td\x3e","\x3c/tpl\x3e","\x3c/tr\x3e\x3c/table\x3e"],lastOwnerItemsGeneration:null,beginLayout:function(a){var b,c,d,e,g=0,h=0,j=this.autoFlex,k=this.innerCt.dom.style;this.callParent(arguments);b=this.columnNodes;a.innerCtContext=a.getEl("innerCt",this);if(a.widthModel.shrinkWrap)k.tableLayout="auto",k.width="";else{c=b.length;if(this.columnsArray){for(d=0;d<c;d++)e=this.owner.columns[d],1>e&&(g+=e,h++);for(d=0;d<c;d++)e=this.owner.columns[d],e=
1>e?100*(e/g)+"%":e+"px",b[d].style.width=e}else for(d=0;d<c;d++)e=j?100*(1/c)+"%":"",b[d].style.width=e,h++;h?h<c?(k.tableLayout="fixed",k.width="100%"):(k.tableLayout="auto",k.width=j?"100%":""):(k.tableLayout="fixed",k.width="")}},cacheElements:function(){this.callParent();this.rowEl=this.innerCt.down("tr");this.columnNodes=this.rowEl.dom.childNodes},calculate:function(a){var b,c,d,e;a.getDomProp("containerChildrenSizeDone")?(b=a.innerCtContext,c=a.widthModel.shrinkWrap,d=a.heightModel.shrinkWrap,
e=b.el.dom,b=(d||c)&&b.getPaddingInfo(),c&&a.setContentWidth(e.offsetWidth+b.width,!0),d&&a.setContentHeight(e.offsetHeight+b.height,!0)):this.done=!1},doRenderColumn:function(a,b,c){var d=b.$layout,e=d.owner,g=b.columnCount;b=e.items.items;var h=b.length;e.vertical?(e=Math.ceil(h/g),c*=e,h=Math.min(h,c+e),e=1):e=g;for(;c<h;c+=e)g=b[c],d.configureItem(g),g=g.getRenderTree(),Ext.DomHelper.generateMarkup(g,a)},getColumnCount:function(){var a=this.owner,b=a.columns;return this.columnsArray?b.length:
Ext.isNumber(b)?b:a.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var a=this.callParent(),b=this.owner,c,d=this.getColumnCount(),e,g=this.autoFlex,h=0,j=0;if(this.columnsArray)for(c=0;c<d;c++)e=this.owner.columns[c],1>e&&(h+=e,j++);a.colCls=b.groupCls;a.columnCount=d;a.columns=[];for(c=0;c<d;c++)b=a.columns[c]={},this.columnsArray?(e=this.owner.columns[c],e=1>e?100*(e/h)+"%":e+"px",b.style="width:"+e):(b.style="width:"+100*(1/d)+"%",j++);a.tableStyle=
!j?"table-layout:fixed;":j<d?"table-layout:fixed;width:100%":g?"table-layout:auto;width:100%":"table-layout:auto;";return a},initLayout:function(){var a=this.owner;this.columnsArray=Ext.isArray(a.columns);this.autoColumns=!a.columns||"auto"===a.columns;this.vertical=a.vertical;this.callParent()},isValidParent:Ext.returnTrue,setupRenderTpl:function(a){this.callParent(arguments);a.renderColumn=this.doRenderColumn},renderChildren:function(){var a=this.owner.items.generation;this.lastOwnerItemsGeneration!==
a&&(this.lastOwnerItemsGeneration=a,this.renderItems(this.getLayoutItems()))},renderItems:function(a){var b=a.length,c,d,e,g,h,j;if(b){Ext.suspendLayouts();this.autoColumns&&this.addMissingColumns(b);g=this.columnNodes.length;e=Math.ceil(b/g);for(c=0;c<b;c++)d=a[c],h=this.getRenderRowIndex(c,e,g),j=this.getRenderColumnIndex(c,e,g),d.rendered?this.isItemAtPosition(d,h,j)||this.moveItem(d,h,j):this.renderItem(d,h,j);this.autoColumns&&this.removeExceedingColumns(b);Ext.resumeLayouts(!0)}},isItemAtPosition:function(a,
b,c){return a.el.dom===this.getNodeAt(b,c)},getRenderColumnIndex:function(a,b,c){return this.vertical?Math.floor(a/b):a%c},getRenderRowIndex:function(a,b,c){return this.vertical?a%b:Math.floor(a/c)},getNodeAt:function(a,b){return this.columnNodes[b].childNodes[a]},addMissingColumns:function(a){var b=this.columnNodes.length,c,d;if(b<a){a-=b;b=this.rowEl;c=this.owner.groupCls;for(d=0;d<a;d++)b.createChild({cls:c,tag:"td",vAlign:"top",role:"presentation"})}},removeExceedingColumns:function(a){var b=
this.columnNodes.length,c;if(b>a){a=b-a;b=this.rowEl;for(c=0;c<a;c++)b.last().destroy()}},renderItem:function(a,b,c){this.configureItem(a);a.render(Ext.get(this.columnNodes[c]),b)},moveItem:function(a,b,c){c=this.columnNodes[c];c.insertBefore(a.el.dom,c.childNodes[b]||null)}});
Ext.define("Ext.form.CheckboxGroup",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.checkboxgroup",columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",initComponent:function(){this.callParent();
this.initField()},initValue:function(){var a=this.value;this.originalValue=this.lastValue=a||this.getValue();a&&this.setValue(a)},onAdd:function(a){var b,c,d;if(a.isCheckbox)this.mon(a,"change",this.checkChange,this);else if(a.isContainer){b=a.items.items;d=0;for(c=b.length;d<c;d++)this.onAdd(b[d])}this.callParent(arguments)},onRemove:function(a){var b,c,d;if(a.isCheckbox)this.mun(a,"change",this.checkChange,this);else if(a.isContainer){b=a.items.items;d=0;for(c=b.length;d<c;d++)this.onRemove(b[d])}this.callParent(arguments)},
isEqual:function(a,b){var c=Ext.Object.toQueryString;return c(a)===c(b)},getErrors:function(){var a=[];!this.allowBlank&&Ext.isEmpty(this.getChecked())&&a.push(this.blankText);return a},getBoxes:function(a){return this.query("[isCheckbox]"+(a||""))},eachBox:function(a,b){Ext.Array.forEach(this.getBoxes(),a,b||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){var a=this.getBoxes(),b,c=a.length;for(b=0;b<c;b++)if(a[b].isDirty())return!0},setReadOnly:function(a){var b=
this.getBoxes(),c,d=b.length;for(c=0;c<d;c++)b[c].setReadOnly(a);this.readOnly=a},reset:function(){var a=this,b=a.hasActiveError(),c=a.preventMark;a.preventMark=!0;a.batchChanges(function(){var b=a.getBoxes(),c,g=b.length;for(c=0;c<g;c++)b[c].reset()});a.preventMark=c;a.unsetActiveError();b&&a.updateLayout()},resetOriginalValue:function(){var a=this.getBoxes(),b,c=a.length;for(b=0;b<c;b++)a[b].resetOriginalValue();this.originalValue=this.getValue();this.checkDirty()},setValue:function(a){var b=this.getBoxes(),
c,d=b.length,e,g,h;this.batchChanges(function(){for(c=0;c<d;c++)e=b[c],g=e.getName(),h=!1,a&&a.hasOwnProperty(g)&&(h=Ext.isArray(a[g])?Ext.Array.contains(a[g],e.inputValue):a[g]),e.setValue(h)});return this},getValue:function(){var a={},b=this.getBoxes(),c,d=b.length,e,g,h;for(c=0;c<d;c++)e=b[c],g=e.getName(),h=e.inputValue,e.getValue()&&(a.hasOwnProperty(g)?(e=a[g],Ext.isArray(e)||(e=a[g]=[e]),e.push(h)):a[g]=h);return a},getSubmitData:function(){return null},getModelData:function(){return null},
validate:function(){var a,b,c;this.disabled?b=!0:(a=this.getErrors(),b=Ext.isEmpty(a),c=this.wasValid,b?this.unsetActiveError():this.setActiveError(a));b!==c&&(this.wasValid=b,this.fireEvent("validitychange",this,b),this.updateLayout());return b}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])});
Ext.define("Ext.form.FieldSet",{extend:Ext.container.Container,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldset",focusable:!0,checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",componentLayout:"fieldset",ariaRole:null,autoEl:"fieldset",childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'\x3cdiv id\x3d"{id}-body" data-ref\x3d"body" class\x3d"{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role\x3d"presentation"\x3ctpl if\x3d"bodyStyle"\x3e style\x3d"{bodyStyle}"\x3c/tpl\x3e\x3e',
"{%this.renderContainer(out,values);%}","\x3c/div\x3e"],stateEvents:["collapse","expand"],maskOnDisable:!1,beforeDestroy:function(){var a=this.legend;a&&(delete a.ownerCt,a.destroy(),this.legend=null);this.callParent()},initComponent:function(){var a=this.baseCls;this.initFieldAncestor();this.callParent();this.layout.managePadding=this.layout.manageOverflow=!1;this.collapsed&&(this.addCls(a+"-collapsed"),this.collapse());if(this.title||this.checkboxToggle||this.collapsible)this.addTitleClasses(),
this.legend=Ext.widget(this.createLegendCt());this.initMonitor()},initRenderData:function(){var a=this.callParent();a.bodyTargetCls=this.bodyTargetCls;this.protoBody.writeTo(a);delete this.protoBody;return a},getState:function(){var a=this.callParent();return a=this.addPropertyToState(a,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var a=[],b={xtype:"container",baseCls:this.baseCls+
"-header",layout:"container",ui:this.ui,id:this.id+"-legend",autoEl:"legend",ariaRole:null,ariaLabelledBy:"."+this.baseCls+"-header-text",items:a,ownerCt:this,shrinkWrap:!0,ownerLayout:this.componentLayout};this.checkboxToggle?a.push(this.createCheckboxCmp()):this.collapsible&&a.push(this.createToggleCmp());a.push(this.createTitleCmp());return b},createTitleCmp:function(){var a={xtype:"component",html:this.title,ui:this.ui,cls:this.baseCls+"-header-text",id:this.id+"-legendTitle"};this.collapsible&&
this.toggleOnTitleClick&&(a.listeners={click:{element:"el",scope:this,fn:this.toggle}},a.cls+=" "+this.baseCls+"-header-text-collapsible");return this.titleCmp=Ext.widget(a)},createCheckboxCmp:function(){var a=this.baseCls+"-header-checkbox",a=a+(" "+a+"-"+this.ui);return this.checkboxCmp=Ext.widget({xtype:"checkbox",hideEmptyLabel:!0,name:this.checkboxName||this.id+"-checkbox",cls:a,id:this.id+"-legendChk",ui:this.checkboxUI,checked:!this.collapsed,msgTarget:"none",listeners:{change:this.onCheckChange,
scope:this}})},createToggleCmp:function(){return this.toggleCmp=Ext.widget({xtype:"tool",cacheHeight:!1,cls:this.baseCls+"-header-tool-"+this.ui,type:"toggle",handler:this.toggle,id:this.id+"-legendToggle",scope:this})},doRenderLegend:function(a,b){var c=b.$comp.legend;c&&(c.ownerLayout.configureItem(c),c=c.getRenderTree(),Ext.DomHelper.generateMarkup(c,a))},getCollapsed:function(){return this.collapsed?"top":!1},getCollapsedDockedItems:function(){var a=this.legend;return a?[a]:[]},setTitle:function(a){var b=
this.legend;this.title=a;this.rendered?(b||(this.legend=b=Ext.widget(this.createLegendCt()),this.addTitleClasses(),b.ownerLayout.configureItem(b),b.render(this.el,0)),this.titleCmp.update(a)):b?this.titleCmp.update(a):(this.addTitleClasses(),this.legend=Ext.widget(this.createLegendCt()));return this},addTitleClasses:function(){var a=this.title,b=this.baseCls;a&&this.addCls(b+"-with-title");(a||this.checkboxToggle||this.collapsible)&&this.addCls(b+"-with-legend")},expand:function(){return this.setExpanded(!0)},
collapse:function(){return this.setExpanded(!1)},setExpanded:function(a){var b=this.checkboxCmp,c=a?"expand":"collapse";if(!this.rendered||!1!==this.fireEvent("before"+c,this))a=!!a,b&&b.setValue(a),a?this.removeCls(this.baseCls+"-collapsed"):this.addCls(this.baseCls+"-collapsed"),this.collapsed=!a,a?delete this.getInherited().collapsed:this.getInherited().collapsed=!0,this.rendered&&(this.updateLayout({isRoot:!1}),this.fireEvent(c,this));return this},getRefItems:function(a){var b=this.callParent(arguments),
c=this.legend;c&&(b.unshift(c),a&&b.unshift.apply(b,c.getRefItems(!0)));return b},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(a){this.bodyTargetCls=a},finishRender:function(){var a=this.legend;this.callParent();a&&a.finishRender()},getProtoBody:function(){var a=this.protoBody;a||(this.protoBody=a=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0}));return a},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||
this.frameBody||this.el},initPadding:function(a){var b=this.getProtoBody(),c=this.padding,d;void 0!==c&&(Ext.isIE8&&(c=this.parseBox(c),d=Ext.Element.parseBox(0),d.top=c.top,c.top=0,b.setStyle("padding",this.unitizeBox(d))),a.setStyle("padding",this.unitizeBox(c)))},onCheckChange:function(a,b){this.setExpanded(b)},setupRenderTpl:function(a){this.callParent(arguments);a.renderLegend=this.doRenderLegend}}});
Ext.define("Ext.form.Label",{extend:Ext.Component,alias:"widget.label",autoEl:"label",maskOnDisable:!1,getElConfig:function(){this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"";return Ext.apply(this.callParent(),{htmlFor:this.forId||""})},setText:function(a,b){(b=!1!==b)?(this.text=a,delete this.html):(this.html=a,delete this.text);this.rendered&&(this.el.dom.innerHTML=!1!==b?Ext.util.Format.htmlEncode(a):a,this.updateLayout());return this}});
Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:"api baseParams errorReader jsonSubmit method paramOrder paramsAsHash reader standardSubmit timeout trackResetOnLoad url waitMsgTarget waitTitle".split(" "),initComponent:function(){this.frame&&(this.border=!1);this.initFieldAncestor();this.callParent();this.relayEvents(this.form,
["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){for(var a={},b=this.basicFormConfigs,c=b.length,d=0,e;d<c;++d)e=b[d],a[e]=this[e];return new Ext.form.Basic(this,a)},getForm:function(){return this.form},loadRecord:function(a){return this.getForm().loadRecord(a)},
getRecord:function(){return this.getForm().getRecord()},updateRecord:function(a){return this.getForm().updateRecord(a)},getValues:function(a,b,c,d){return this.getForm().getValues(a,b,c,d)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(a){this.form.load(a)},
submit:function(a){this.form.submit(a)},startPolling:function(a){this.stopPolling();a=new Ext.util.TaskRunner(a);a.start({interval:0,run:this.checkChange,scope:this});this.pollTask=a},stopPolling:function(){var a=this.pollTask;a&&(a.stopAll(),delete this.pollTask)},checkChange:function(){var a=this.form.getFields().items,b,c=a.length;for(b=0;b<c;b++)a[b].checkChange()}});
Ext.define("Ext.form.RadioManager",{extend:Ext.util.MixedCollection,singleton:!0,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})},getWithValue:function(a,b,c){return this.filterBy(function(d){return d.name==a&&d.inputValue==b&&d.getFormId()==c})},getChecked:function(a,b){return this.findBy(function(c){return c.name==a&&c.checked&&c.getFormId()==b})}});
Ext.define("Ext.form.field.Radio",{extend:Ext.form.field.Checkbox,alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",isRadio:!0,inputType:"radio",ariaRole:"radio",tabIndex:0,formId:null,getGroupValue:function(){var a=this.getManager().getChecked(this.name,this.getFormId());return a?a.inputValue:null},onBoxClick:function(){!this.disabled&&!this.readOnly&&this.setValue(!0)},onRemoved:function(){this.callParent(arguments);this.formId=null},setValue:function(a){var b;Ext.isBoolean(a)?
this.callParent(arguments):(b=this.getManager().getWithValue(this.name,a,this.getFormId()).getAt(0))&&b.setValue(!0);return this},getSubmitValue:function(){return this.checked?this.inputValue:null},getModelData:function(){var a=this.callParent(arguments);a&&(a[this.getName()]=this.getSubmitValue());return a},onChange:function(a,b){var c,d,e,g;this.callParent(arguments);if(a){g=this.getManager().getByName(this.name,this.getFormId()).items;d=g.length;for(c=0;c<d;c++)e=g[c],e!==this&&e.setValue(!1)}},
getManager:function(){return Ext.form.RadioManager}});
Ext.define("Ext.form.RadioGroup",{extend:Ext.form.CheckboxGroup,alias:"widget.radiogroup",mixins:[Ext.util.FocusableContainer],allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",getBoxes:function(a,b){return(b||this).query("[isRadio]"+(a||""))},checkChange:function(){var a=this.getValue(),b=Ext.Object.getKeys(a)[0];Ext.isArray(a[b])||this.callParent(arguments)},setValue:function(a){var b,c,d,
e;if(Ext.isObject(a))for(e in a)if(a.hasOwnProperty(e)){b=a[e];c=(c=this.items.first())?c.getFormId():null;b=Ext.form.RadioManager.getWithValue(e,b,c).items;d=b.length;for(c=0;c<d;++c)b[c].setValue(!0)}return this},privates:{getFocusables:function(){return this.getBoxes()},initDefaultFocusable:function(a){var b;b=this.getChecked();1<b.length&&Ext.log.error("RadioGroup "+this.id+" has more than one checked button");(a=b.length?b[0]:this.findNextFocusableChild(null,!0,null,a))&&this.activateFocusable(a);
return a},onFocusableContainerFocusLeave:function(){this.clearFocusables();this.initDefaultFocusable()},doFocusableChildAdd:function(a){var b=this.mixins.focusablecontainer,c,d;a=a.isContainer?this.getBoxes("",a):[a];c=0;for(d=a.length;c<d;c++)b.doFocusableChildAdd.call(this,a[c])},doFocusableChildRemove:function(a){var b=this.mixins.focusablecontainer,c,d;a=a.isContainer?this.getBoxes("",a):[a];c=0;for(d=a.length;c<d;c++)b.doFocusableChildRemove.call(this,a[c])},focusChild:function(a,b,c){var d=
this.mixins.focusablecontainer.focusChild.apply(this,arguments);c.ctrlKey||d.setValue(!0)}}});
Ext.define("Ext.form.action.DirectLoad",{extend:Ext.form.action.Load,alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",type:"directload",run:function(){var a=this.form,b=a.api,c=b.load;if("function"!==typeof c){var d=c;b.load=c=Ext.direct.Manager.parseMethod(c);Ext.isFunction(c)||Ext.Error.raise("Cannot resolve Ext.Direct API method "+d)}a=c.directCfg.method.getArgs(this.getParams(),a.paramOrder,a.paramsAsHash);a.push(this.onComplete,this);c.apply(window,a)},processResponse:function(a){return this.result=
a},onComplete:function(a){if(a)this.onSuccess(a);else this.onFailure(null)}});
Ext.define("Ext.form.action.DirectSubmit",{extend:Ext.form.action.Submit,alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",type:"directsubmit",doSubmit:function(){var a=this.form,b=a.api,c=b.submit,d;if("function"!==typeof c){var e=c;b.submit=c=Ext.direct.Manager.parseMethod(c);Ext.isFunction(c)||Ext.Error.raise("Cannot resolve Ext.Direct API method "+e)}if(this.timeout||a.timeout)d={timeout:1E3*this.timeout||1E3*a.timeout};a=this.buildForm();c.call(window,a.formEl,
this.onComplete,this,d);this.cleanup(a)},processResponse:function(a){return this.result=a},onComplete:function(a){if(a)this.onSuccess(a);else this.onFailure(null)}});Ext.define("Ext.form.action.StandardSubmit",{extend:Ext.form.action.Submit,alias:"formaction.standardsubmit",doSubmit:function(){var a=this.buildForm();a.formEl.submit();this.cleanup(a)}});
Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Text,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:!0,applyTriggers:function(a){var b=a.picker;b.cls||(b.cls=this.triggerCls);return this.callParent([a])},initEvents:function(){this.callParent();this.keyNav=new Ext.util.KeyNav(this.inputEl,{down:this.onDownArrow,esc:{handler:this.onEsc,
scope:this,defaultEventAction:!1},scope:this,forceKeyDown:!0});this.editable||this.mon(this.inputEl,"click",this.onTriggerClick,this);Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},onEsc:function(a){Ext.isIE&&a.preventDefault();this.isExpanded&&(this.collapse(),a.stopEvent())},onDownArrow:function(){if(!this.isExpanded)this.onTriggerClick()},expand:function(){var a,b,c;this.rendered&&(!this.isExpanded&&!this.isDestroyed)&&(this.expanding=!0,a=this.bodyEl,b=this.getPicker(),c=this.collapseIf,
b.show(),this.isExpanded=!0,this.alignPicker(),a.addCls(this.openCls),this.mon(Ext.getDoc(),{mousewheel:c,mousedown:c,scope:this}),Ext.on("resize",this.alignPicker,this),this.fireEvent("expand",this),this.onExpand(),delete this.expanding)},onExpand:Ext.emptyFn,alignPicker:function(){var a,b=this.getPicker();this.isExpanded&&(this.matchFieldWidth&&(a=this.bodyEl.getWidth(),b.setWidth(a)),b.isFloating()&&this.doAlign())},doAlign:function(){var a=this.picker,b;this.picker.alignTo(this.triggerWrap,this.pickerAlign,
this.pickerOffset);b=a.el.getY()<this.inputEl.getY();this.bodyEl[b?"addCls":"removeCls"](this.openCls+"-above");a[b?"addCls":"removeCls"](a.baseCls+"-above")},collapse:function(){if(this.isExpanded&&!this.isDestroyed&&!this.destroying){var a=this.openCls,b=this.picker,c=Ext.getDoc(),d=this.collapseIf;b.hide();this.isExpanded=!1;this.bodyEl.removeCls([a,a+"-above"]);b.el.removeCls(b.baseCls+"-above");c.un("mousewheel",d,this);c.un("mousedown",d,this);Ext.un("resize",this.alignPicker,this);this.fireEvent("collapse",
this);this.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(a){!this.isDestroyed&&(!a.within(this.bodyEl,!1,!0)&&!this.owns(a.target))&&this.collapse()},getPicker:function(){var a=this.picker;a||(this.picker=a=this.createPicker(),a.ownerCmp=this);return this.picker},getRefItems:function(){var a=[];this.picker&&(a[0]=this.picker);return a},createPicker:Ext.emptyFn,onTriggerClick:function(){!this.readOnly&&!this.disabled&&(this.isExpanded?this.collapse():this.expand())},onOtherFocus:function(a){this.hasFocus&&
!this.owns(a)&&this.callParent([a])},beforeDestroy:function(){var a=this.picker;this.collapse();this.callParent();Ext.un("resize",this.alignPicker,this);Ext.destroy(this.keyNav,a);a&&(delete this.picker,delete a.pickerField)}});
Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(a){var b=this.owner,c=b.pagingToolbar;this.scrollPos=b.listWrap.getScroll();this.callParent(arguments);b.floating&&(a.savedXY=b.getXY(),b.setXY([0,-9999]));c&&(a.toolbarContext=a.context.getCmp(c));a.listContext=a.getEl("listWrap")},beginLayoutCycle:function(a){var b=this.owner;this.callParent(arguments);a.heightModel.auto&&(b.el.setHeight("auto"),b.listWrap.setHeight("auto"))},
getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return!0},finishedLayout:function(a){var b=a.savedXY,c=this.owner.listWrap,d=this.scrollPos;this.callParent(arguments);b&&this.owner.setXY(b);c.setScrollLeft(d.left);c.setScrollTop(d.top)},measureContentWidth:function(){return this.owner.listWrap.getWidth()},measureContentHeight:function(){return this.owner.listWrap.getHeight()},publishInnerHeight:function(a,b){var c=a.toolbarContext,d=0;c&&(d=c.getProp("height"));
void 0===d?this.done=!1:a.listContext.setHeight(b-a.getFrameInfo().height-d)},calculateOwnerHeightFromContentHeight:function(a){var b=this.callParent(arguments),c=a.toolbarContext;c&&(b+=c.getProp("height"));return b}});
Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){this.callParent();Ext.apply(this.renderData,{text:this.text})},setText:function(a){this.text=a;this.rendered&&(this.el.setHtml(a),this.updateLayout())}});
Ext.define("Ext.form.trigger.Spinner",{extend:Ext.form.trigger.Trigger,alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'\x3ctpl if\x3d"vertical"\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"\x3e\x3c/div\x3e\x3ctpl if\x3d"!vertical"\x3e\x3cdiv class\x3d"{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e',
getBodyRenderData:function(){return{vertical:this.vertical,upDisabledCls:this.upEnabled?"":this.spinnerUpCls+"-disabled",downDisabledCls:this.downEnabled?"":this.spinnerDownCls+"-disabled",spinnerCls:this.spinnerCls,spinnerUpCls:this.spinnerUpCls,spinnerDownCls:this.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(a){var b=arguments;a=this.clickRepeater?b[1]:b[0];b=this.field;!b.readOnly&&!b.disabled&&(this.upEl.contains(a.target)?Ext.callback(this.upHandler,this.scope,
[b,this,a],0,b):this.downEl.contains(a.target)&&Ext.callback(this.downHandler,this.scope,[b,this,a],0,b));b.inputEl.focus()},onFieldRender:function(){var a=this.vertical,b;this.callParent();b=(this.spinnerEl=this.el.select("."+this.spinnerCls,!0)).elements;this.upEl=a?b[0]:b[1];this.downEl=a?b[1]:b[0]},setUpEnabled:function(a){this.upEl[a?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(a){this.downEl[a?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}});
Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Text,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(a){var b=a.spinner;b.upEnabled=this.spinUpEnabled;b.downEnabled=this.spinDownEnabled;
return this.callParent([a])},onRender:function(){var a=this.getTrigger("spinner");this.callParent();this.keyNavEnabled&&(this.spinnerKeyNav=new Ext.util.KeyNav(this.inputEl,{scope:this,up:this.spinUp,down:this.spinDown}));this.mouseWheelEnabled&&this.mon(this.bodyEl,"mousewheel",this.onMouseWheel,this);this.spinUpEl=a.upEl;this.spinDownEl=a.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){this.spinUpEnabled&&!this.disabled&&(this.fireEvent("spin",
this,"up"),this.fireEvent("spinup",this),this.onSpinUp())},spinDown:function(){this.spinDownEnabled&&!this.disabled&&(this.fireEvent("spin",this,"down"),this.fireEvent("spindown",this),this.onSpinDown())},setSpinUpEnabled:function(a){var b=this.spinUpEnabled;this.spinUpEnabled=a;b!==a&&this.rendered&&this.getTrigger("spinner").setUpEnabled(a)},setSpinDownEnabled:function(a){var b=this.spinDownEnabled;this.spinDownEnabled=a;b!==a&&this.rendered&&this.getTrigger("spinner").setDownEnabled(a)},onMouseWheel:function(a){var b;
this.hasFocus&&(b=a.getWheelDelta(),0<b?this.spinUp():0>b&&this.spinDown(),a.stopEvent())},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");this.callParent()}});
Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",
baseChars:"0123456789",autoStripChars:!1,initComponent:function(){null===this.decimalSeparator&&(this.decimalSeparator=Ext.util.Format.decimalSeparator);this.callParent();this.setMinValue(this.minValue);this.setMaxValue(this.maxValue)},getErrors:function(a){a=0<arguments.length?a:this.processRawValue(this.getRawValue());var b=this.callParent([a]),c=Ext.String.format,d;if(1>a.length)return b;a=String(a).replace(this.decimalSeparator,".");isNaN(a)&&b.push(c(this.nanText,a));d=this.parseValue(a);0===
this.minValue&&0>d?b.push(this.negativeText):d<this.minValue&&b.push(c(this.minText,this.minValue));d>this.maxValue&&b.push(c(this.maxText,this.maxValue));return b},rawToValue:function(a){var b=this.fixPrecision(this.parseValue(a));null===b&&(b=a||null);return b},valueToRaw:function(a){var b=this.decimalSeparator;a=this.parseValue(a);a=this.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(b,"."));return a=isNaN(a)?"":String(a).replace(".",b)},getSubmitValue:function(){var a=this.callParent();
this.submitLocaleSeparator||(a=a.replace(this.decimalSeparator,"."));return a},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var a=this.getValue(),b=null===a,c;if(this.spinUpEnabled||this.spinUpDisabledByToggle)c=b||a<this.maxValue,this.setSpinUpEnabled(c,!0);if(this.spinDownEnabled||this.spinDownDisabledByToggle)c=b||a>this.minValue,this.setSpinDownEnabled(c,!0)},setMinValue:function(a){this.minValue=Ext.Number.from(a,Number.NEGATIVE_INFINITY);this.toggleSpinners();
!0!==this.disableKeyFilter&&(a=this.baseChars+"",this.allowExponential?a+=this.decimalSeparator+"e+-":(this.allowDecimals&&(a+=this.decimalSeparator),0>this.minValue&&(a+="-")),a=Ext.String.escapeRegex(a),this.maskRe=RegExp("["+a+"]"),this.autoStripChars&&(this.stripCharsRe=RegExp("[^"+a+"]","gi")))},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:
a},fixPrecision:function(a){var b=isNaN(a),c=this.decimalPrecision;if(b||!a)return b?"":a;if(!this.allowDecimals||0>=c)c=0;return parseFloat(Ext.Number.toFixed(parseFloat(a),c))},onBlur:function(a){var b=this.rawToValue(this.getRawValue());Ext.isEmpty(b)||this.setValue(b);this.callParent([a])},setSpinUpEnabled:function(a,b){this.callParent(arguments);b?this.spinUpDisabledByToggle=!a:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+
this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(a,b){this.callParent(arguments);b?this.spinDownDisabledByToggle=!a:delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(a){this.enforceMaxLength&&this.fixPrecision(a).toString().length>this.maxLength||this.setValue(a)}});
Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:[Ext.util.StoreHolder],displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var a={scope:this,blur:this.onPagingBlur};a[Ext.supports.SpecialKeyDownRepeat?
"keydown":"keypress"]=this.onPagingKeyDown;return[{itemId:"first",tooltip:this.firstText,overflowText:this.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:this.moveFirst,scope:this},{itemId:"prev",tooltip:this.prevText,overflowText:this.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:this.movePrevious,scope:this},"-",this.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,
minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:this.inputItemWidth,margin:"-1 2 3 2",listeners:a},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(this.afterPageText,1)},"-",{itemId:"next",tooltip:this.nextText,overflowText:this.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:this.moveNext,scope:this},{itemId:"last",tooltip:this.lastText,overflowText:this.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",
disabled:!0,handler:this.moveLast,scope:this},"-",{itemId:"refresh",tooltip:this.refreshText,overflowText:this.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:this.store.isLoading(),handler:this.doRefresh,scope:this}]},initComponent:function(){var a=this.items||this.buttons||[],b;this.bindStore(this.store||"ext-empty-store",!0);b=this.getPagingItems();this.items=this.prependButtons?a.concat(b):b.concat(a);delete this.buttons;this.displayInfo&&(this.items.push("-\x3e"),this.items.push({xtype:"tbtext",
itemId:"displayItem"}));this.callParent()},beforeRender:function(){this.callParent(arguments);this.store.isLoading()||(this.calledFromRender=!0,this.onLoad(),delete this.calledFromRender)},updateInfo:function(){var a=this.child("#displayItem"),b=this.store,c=this.getPageData();a&&(b=b.getCount(),c=0===b?this.emptyMsg:Ext.String.format(this.displayMsg,c.fromRecord,c.toRecord,c.total),a.setText(c))},onLoad:function(){var a,b,c,d,e,g;if(e=0===this.store.getCount())c=b=0,d=Ext.String.format(this.afterPageText,
0);else{a=this.getPageData();b=a.currentPage;c=a.pageCount;if(b>c){this.store.loadPage(c);return}d=Ext.String.format(this.afterPageText,isNaN(c)?1:c)}Ext.suspendLayouts();(g=this.child("#afterTextItem"))&&g.setText(d);(g=this.getInputItem())&&g.setDisabled(e).setValue(b);this.setChildDisabled("#first",1===b||e);this.setChildDisabled("#prev",1===b||e);this.setChildDisabled("#next",b===c||e);this.setChildDisabled("#last",b===c||e);this.setChildDisabled("#refresh",!1);this.updateInfo();Ext.resumeLayouts(!0);
this.calledFromRender||this.fireEvent("change",this,a)},setChildDisabled:function(a,b){var c=this.child(a);c&&c.setDisabled(b)},getPageData:function(){var a=this.store,b=a.getTotalCount();return{total:b,currentPage:a.currentPage,pageCount:Math.ceil(b/a.pageSize),fromRecord:(a.currentPage-1)*a.pageSize+1,toRecord:Math.min(a.currentPage*a.pageSize,b)}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(a){var b=
this.getInputItem(),c=!1,d;return b&&(d=b.getValue(),c=parseInt(d,10),!d||isNaN(c))?(b.setValue(a.currentPage),!1):c},onPagingBlur:function(){var a=this.getInputItem(),b;a&&(b=this.getPageData().currentPage,a.setValue(b))},onPagingKeyDown:function(a,b){this.processKeyEvent(a,b)},processKeyEvent:function(a,b){var c=b.getKey(),d=this.getPageData(),e=b.shiftKey?10:1,g;if(c==b.RETURN)b.stopEvent(),g=this.readPageFromInput(d),!1!==g&&(g=Math.min(Math.max(1,g),d.pageCount),g!==d.currentPage&&!1!==this.fireEvent("beforechange",
this,g)&&this.store.loadPage(g));else if(c==b.HOME||c==b.END)b.stopEvent(),g=c==b.HOME?1:d.pageCount,a.setValue(g);else if(c==b.UP||c==b.PAGE_UP||c==b.DOWN||c==b.PAGE_DOWN)if(b.stopEvent(),g=this.readPageFromInput(d)){if(c==b.DOWN||c==b.PAGE_DOWN)e*=-1;g+=e;1<=g&&g<=d.pageCount&&a.setValue(g)}},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return!1!==this.fireEvent("beforechange",this,1)?(this.store.loadPage(1),!0):!1},movePrevious:function(){var a=this.store,b=
a.currentPage-1;return 0<b&&!1!==this.fireEvent("beforechange",this,b)?(a.previousPage(),!0):!1},moveNext:function(){var a=this.store,b=this.getPageData().pageCount,c=a.currentPage+1;return c<=b&&!1!==this.fireEvent("beforechange",this,c)?(a.nextPage(),!0):!1},moveLast:function(){var a=this.getPageData().pageCount;return!1!==this.fireEvent("beforechange",this,a)?(this.store.loadPage(a),!0):!1},doRefresh:function(){var a=this.store,b=a.currentPage;return!1!==this.fireEvent("beforechange",this,b)?(a.loadPage(b),
!0):!1},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onDestroy:function(){this.bindStore(null);this.callParent()}});
Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:[Ext.mixin.Queryable],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,componentLayout:"boundlist",navigationModel:"boundlist",autoScroll:!0,childEls:["listWrap","listEl"],renderTpl:['\x3cdiv id\x3d"{id}-listWrap" data-ref\x3d"listWrap" role\x3d"presentation" class\x3d"{baseCls}-list-ct ',
Ext.dom.Element.unselectableCls,'"\x3e','\x3cul id\x3d"{id}-listEl" data-ref\x3d"listEl" class\x3d"'+Ext.plainListCls+'"\x3e',"\x3c/ul\x3e","\x3c/div\x3e","{%","var pagingToolbar\x3dvalues.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],focusable:!1,initComponent:function(){var a=this.baseCls,b=this.itemCls;this.selectedItemCls=a+"-selected";this.trackOver&&(this.overItemCls=a+"-item-over");this.itemSelector=
"."+b;this.scrollerSelector="ul."+Ext.plainListCls;this.floating&&this.addCls(a+"-floating");this.tpl?this.tpl.isTemplate||(this.tpl=new Ext.XTemplate(this.tpl)):this.tpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e','\x3cli role\x3d"option" unselectable\x3d"on" class\x3d"'+b+'"\x3e'+this.getInnerTpl(this.displayField)+"\x3c/li\x3e","\x3c/tpl\x3e");this.pageSize&&(this.pagingToolbar=this.createPagingToolbar());this.callParent();this.getSelectionModel().preventFocus=!0},getRefOwner:function(){return this.pickerField||
this.callParent()},getRefItems:function(){var a=this.callParent(),b=this.pagingToolbar;b&&a.push(b);return a},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var a=this.tpl,b=this.pagingToolbar,c=this.rendered;a.field=this.pickerField;a.store=this.store;this.callParent();a.field=
a.store=null;c&&(b&&b.rendered&&!this.preserveScrollOnRefresh)&&this.el.appendChild(b.el,!0)},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);c&&c.bindStore(a,b)},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){this.callParent();Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);
a&&a.finishRender()}}});
Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.view.NavigationModel,alias:"view.navigation.boundlist",initKeyNav:function(a){var b=this.view.pickerField;if(a.pickerField)if(b.rendered)this.keyNav=new Ext.util.KeyNav({target:b.inputEl,forceKeyDown:!0,up:this.onKeyUp,down:this.onKeyDown,right:this.onKeyRight,left:this.onKeyLeft,pageDown:this.onKeyPageDown,pageUp:this.onKeyPageUp,home:this.onKeyHome,end:this.onKeyEnd,tab:this.onKeyTab,space:this.onKeySpace,enter:this.onKeyEnter,scope:this});else b.on("render",
Ext.Function.bind(this.initKeyNav,this,[a],0),this,{single:!0})},onItemMouseDown:function(a,b,c,d,e){this.callParent([a,b,c,d,e]);e.preventDefault()},onKeyUp:function(){var a=this.view,b=a.all,c=a.highlightedItem,a=c?a.indexOf(c):-1,b=0<a?a-1:b.getCount()-1;this.setPosition(b)},onKeyDown:function(){var a=this.view,b=a.all,c=a.highlightedItem,a=c?a.indexOf(c):-1,b=a<b.getCount()-1?a+1:0;this.setPosition(b)},onKeyLeft:Ext.emptyFn,onKeyRight:Ext.emptyFn,onKeyTab:function(a){var b=this.view,c=b.pickerField;
b.isVisible()&&(c.selectOnTab&&this.selectHighlighted(a),c.collapse());return!0},onKeyEnter:function(a){var b=this.view.getSelectionModel(),c=this.view.pickerField,d=b.getCount();this.selectHighlighted(a);!c.multiSelect&&d===b.getCount()&&c.collapse()},onKeySpace:function(){this.callParent(arguments);return!0},focusItem:function(a){var b=this.view;"number"===typeof a&&(a=b.all.item(a));a&&(a=a.dom,b.highlightItem(a),b.getOverflowEl().scrollChildIntoView(a,!1))},selectHighlighted:function(a){var b=
this.view,c=b.getSelectionModel();(b=b.getNavigationModel().getRecord())&&(a.getKey()===a.ENTER||!c.isSelected(b))&&c.selectWithEvent(b,a)}});
Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:[Ext.util.StoreHolder],config:{filters:null,selection:null},publishes:["selection"],twoWayBindable:["selection"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){this.callParent(arguments);
this.setHiddenValue(this.value)},multiSelect:!1,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){return this.grow&&
this.growToLongestValue},initComponent:function(){var a=Ext.isDefined,b=this.store,c=this.transform,d=this.displayTpl,e;this.typeAhead&&this.multiSelect&&Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them.");this.typeAhead&&!this.editable&&Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.");this.selectOnFocus&&!this.editable&&Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings.");
if(c&&(e=Ext.getDom(c)))this.store||(b=Ext.Array.map(Ext.Array.from(e.options),function(a){return[a.value,a.text]})),this.name||(this.name=e.name),"value"in this||(this.value=e.value);this.bindStore(b||"ext-empty-store",!0,!0);b=this.store;b.autoCreated&&(this.queryMode="local",this.valueField=this.displayField="field1",b.expanded||(this.displayField="field2"));a(this.valueField)||(this.valueField=this.displayField);b="local"===this.queryMode;a(this.queryDelay)||(this.queryDelay=b?10:500);a(this.minChars)||
(this.minChars=b?0:4);d?d.isTemplate||(this.displayTpl=new Ext.XTemplate(d)):this.displayTpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e{[typeof values \x3d\x3d\x3d "string" ? values : values["'+this.displayField+'"]]}\x3ctpl if\x3d"xindex \x3c xcount"\x3e'+this.delimiter+"\x3c/tpl\x3e\x3c/tpl\x3e");this.callParent();this.doQueryTask=new Ext.util.DelayedTask(this.doRawQuery,this);0<this.store.getCount()&&this.setValue(this.value);e&&(this.transformInPlace&&(this.render(e.parentNode,e),delete this.renderTo),
Ext.removeNode(e))},getSubTplMarkup:function(a){var b="",c=this.callParent(arguments);this.hiddenName&&(b='\x3cdiv id\x3d"'+a.id+'-hiddenDataEl" data-ref\x3d"hiddenDataEl" class\x3d"'+this.hiddenDataCls+'" role\x3d"presentation"\x3e\x3c/div\x3e');return b+c},applyFilters:function(a,b){var c=this;if(null===a||a.isFilterCollection)return a;a&&(b||(b=this.getFilters()),b.beginUpdate(),b.splice(0,b.length,a),b.each(function(a){a.ownerId=c.id}),b.endUpdate());return b},getFilters:function(a){var b=this.filters;
!b&&!1!==a&&(b=new Ext.util.FilterCollection,this.setFilters(b));return b},updateFilters:function(a,b){b&&b.un("endupdate","onEndUpdateFilters",this);if(a)a.on("endupdate","onEndUpdateFilters",this);this.onEndUpdateFilters(a)},onEndUpdateFilters:function(a){var b=this,c=!!a&&0<a.length,d;if(b.filtered||c)b.filtered=c,d=[],c=b.store.getFilters(),c.each(function(c){c.ownerId===b.id&&!a.contains(c)&&d.push(c)}),c.splice(0,d,a.items)},getStore:function(){return this.store},onBlur:function(a){var b=this.queryFilter;
this.doQueryTask.cancel();this.assertValue();b&&("local"===this.queryMode&&this.clearFilterOnBlur)&&this.getStore().getFilters().remove(b);this.callParent([a])},onFocus:function(a){this.callParent([a]);!this.duringTriggerClick&&("all"!==this.triggerAction&&this.queryFilter&&"local"===this.queryMode&&this.clearFilterOnBlur)&&(delete this.lastQuery,this.doRawQuery())},assertValue:function(){var a=this.getRawValue(),b;this.forceSelection&&(this.multiSelect?a!==this.getDisplayValue()&&this.setValue(this.lastSelection):
(a=this.findRecordByDisplay(a))?(b=this.value,this.findRecordByValue(b)||this.select(a,!0)):this.setValue(this.lastSelection));this.collapse()},onTypeAhead:function(){var a=this.displayField,b=this.store.findRecord(a,this.getRawValue()),c=this.getPicker(),d,e;b&&(a=b.get(a),d=a.length,e=this.getRawValue().length,c.highlightItem(c.getNode(b)),0!==e&&e!==d&&(this.setRawValue(a),this.selectText(e,a.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){var a=this.queryFilter;this.callParent();
a&&this.getStore().getFilters().remove(a)},onUnbindStore:function(){var a=this.picker,b=this.queryFilter;b&&!this.store.isDestroyed&&this.getStore().getFilters().remove(b);a&&a.bindStore(null)},onBindStore:function(a,b){var c=this.picker;b||this.resetToDefault();c&&c.bindStore(a)},bindStore:function(a,b,c){var d=this.queryFilter;this.mixins.storeholder.bindStore.call(this,a,c);(a=this.getStore())&&(d&&!b)&&a.getFilters().add(d);!c&&a&&this.setValueOnData()},getStoreListeners:function(){return{beforeload:this.onBeforeLoad,
clear:this.onClear,datachanged:this.onDataChanged,load:this.onLoad,exception:this.onException,remove:this.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){this.resizeComboToGrow()&&this.updateLayout()},onClear:function(){this.resizeComboToGrow()&&(this.removingRecords=!0,this.onDataChanged())},onRemove:function(){this.resizeComboToGrow()&&(this.removingRecords=!0)},onException:function(){0<this.ignoreSelection&&--this.ignoreSelection;this.collapse()},onLoad:function(a,
b,c){0<this.ignoreSelection&&--this.ignoreSelection;c&&!a.lastOptions.rawQuery&&this.setValueOnData()},setValueOnData:function(){null==this.value?this.getStore().getCount()?this.doAutoSelect():this.setValue(this.value):this.setValue(this.value)},doRawQuery:function(){this.doQuery(this.getRawValue(),!1,!0)},doQuery:function(a,b,c){a=this.beforeQuery({query:a||"",rawQuery:c,forceAll:b,combo:this,cancel:!1});if(!1===a||a.cancel)return!1;this.queryCaching&&a.query===this.lastQuery?(this.expand(),"local"===
this.queryMode&&this.doAutoSelect()):(this.lastQuery=a.query,"local"===this.queryMode?this.doLocalQuery(a):this.doRemoteQuery(a));return!0},beforeQuery:function(a){!1===this.fireEvent("beforequery",a)?a.cancel=!0:!a.cancel&&(a.query.length<this.minChars&&!a.forceAll)&&(a.cancel=!0);return a},doLocalQuery:function(a){var b=a.query,c=this.getStore().getFilters(),d=this.queryFilter;this.queryFilter=null;c.beginUpdate();d&&c.remove(d);b&&(d=this.queryFilter=new Ext.util.Filter({id:this.id+"-filter",anyMatch:this.anyMatch,
caseSensitive:this.caseSensitive,root:"data",property:this.displayField,value:this.enableRegEx?RegExp(b):b}),c.add(d));c.endUpdate();this.store.getCount()||this.getPicker().emptyText?this.expand():this.collapse();this.afterQuery(a)},doRemoteQuery:function(a){var b=this,c=function(){b.afterQuery(a)};b.expand();b.pageSize?b.loadPage(1,{rawQuery:a.rawQuery,callback:c}):b.store.load({params:b.getParams(a.query),rawQuery:a.rawQuery,callback:c})},afterQuery:function(a){this.store.getCount()&&(this.typeAhead&&
this.doTypeAhead(),this.getRawValue()!==this.getDisplayValue()&&(this.ignoreSelection++,this.picker.getSelectionModel().deselectAll(),this.ignoreSelection--),a.rawQuery?(this.syncSelection(),this.picker&&!this.picker.getSelectionModel().hasSelection()&&this.doAutoSelect()):this.doAutoSelect())},loadPage:function(a,b){this.store.loadPage(a,Ext.apply({params:this.getParams(this.lastQuery)},b))},onPageChange:function(a,b){this.loadPage(b);return!1},getParams:function(a){var b={},c=this.queryParam;c&&
(b[c]=a);return b},doAutoSelect:function(){var a=this.picker;a&&(this.autoSelect&&0<this.store.getCount())&&a.getNavigationModel().setPosition(this.picker.getSelectionModel().lastSelected||0)},doTypeAhead:function(){var a=Ext.event.Event;this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this));this.lastKey!==a.BACKSPACE&&this.lastKey!==a.DELETE&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(){this.duringTriggerClick=!0;!this.readOnly&&!this.disabled&&
(this.isExpanded?this.collapse():(this.onFocus({}),"all"===this.triggerAction?this.doQuery(this.allQuery,!0):"last"===this.triggerAction?this.doQuery(this.lastQuery,!0):this.doQuery(this.getRawValue(),!1,!0)));delete this.duringTriggerClick},onPaste:function(){!this.readOnly&&(!this.disabled&&this.editable)&&this.doQueryTask.delay(this.queryDelay)},onKeyUp:function(a,b){var c=a.getKey();!this.readOnly&&(!this.disabled&&this.editable)&&(this.lastKey=c,(!a.isSpecialKey()||c===a.BACKSPACE||c===a.DELETE)&&
this.doQueryTask.delay(this.queryDelay));this.enableKeyEvents&&this.callParent(arguments)},initEvents:function(){this.callParent();this.enableKeyEvents||this.mon(this.inputEl,"keyup",this.onKeyUp,this);this.mon(this.inputEl,"paste",this.onPaste,this)},onDestroy:function(){this.typeAheadTask&&(this.typeAheadTask.cancel(),this.typeAheadTask=null);this.bindStore(null);this.callParent()},onAdded:function(){this.callParent(arguments);this.picker&&(this.picker.ownerCt=this.up("[floating]"),this.picker.registerWithOwnerCt())},
createPicker:function(){var a;a=Ext.apply({xtype:"boundlist",pickerField:this,selModel:{mode:this.multiSelect?"SIMPLE":"SINGLE",enableInitialSelection:!1},floating:!0,hidden:!0,store:this.store,displayField:this.displayField,preserveScrollOnRefresh:!0,pageSize:this.pageSize,tpl:this.tpl},this.listConfig,this.defaultListConfig);a=this.picker=Ext.widget(a);if(this.pageSize)a.pagingToolbar.on("beforechange",this.onPageChange,this);this.mon(a,{refresh:this.onListRefresh,scope:this});this.mon(a.getSelectionModel(),
{beforeselect:this.onBeforeSelect,beforedeselect:this.onBeforeDeselect,selectionchange:this.onListSelectionChange,scope:this});return a},alignPicker:function(){var a=this.getPicker(),b=this.getPosition()[1]-Ext.getBody().getScroll().top,c=Ext.Element.getViewportHeight()-b-this.getHeight(),b=Math.max(b,c),c=a.getTargetEl().dom,d=c.scrollTop;a.height&&(delete a.height,a.updateLayout());a.getHeight()>b-5&&a.setHeight(b-5);this.callParent();c.scrollTop=d},onListRefresh:function(){this.expanding||this.alignPicker();
this.syncSelection()},onBeforeSelect:function(a,b){return this.fireEvent("beforeselect",this,b,this.getStore().indexOf(b))},onBeforeDeselect:function(a,b){return this.fireEvent("beforedeselect",this,b,this.getStore().indexOf(b))},getSelection:function(){var a=this.getPicker().getSelectionModel();return a.getSelection().length?a.getLastSelected():null},updateSelection:function(a){var b;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b=this.getPicker().getSelectionModel(),this.processSelectionChange=
!0,a?b.select(a):b.deselectAll(),this.ignoreNextSelection=this.processSelectionChange=!1)},updateBindSelection:function(a,b){var c=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,b.length&&(c=a.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(c),this.ignoreNextSelection=!1)},onListSelectionChange:function(a,b){var c=this.multiSelect,d=0<b.length,e=this.processSelectionChange;this.updateBindSelection(a,b);if(!this.ignoreSelection&&(this.isExpanded||e))c||
this.collapse(),(c||d||e)&&this.setValue(b,!1),d&&this.fireEvent("select",this,b)},onExpand:function(){var a;this.selectOnTab&&(this.ignoreMonitorTab=!0);a=this.getPicker().getNavigationModel();Ext.defer(a.enable,1,a)},onCollapse:function(){var a=this.getPicker().getNavigationModel();a&&(a.disable(),this.ignoreMonitorTab=!1)},select:function(a,b){var c=this.picker,d;a&&(a.isModel&&!0===b&&c)&&(d=!c.getSelectionModel().isSelected(a));this.setValue(a,!0);d&&this.fireEvent("select",this,a)},findRecord:function(a,
b){var c=this.store,d=c.findExact(a,b);return-1!==d?c.getAt(d):!1},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(a,b){var c=this.valueNotFoundText,d=this.getStore(),e=this.inputEl,g=[],h=[],j=[],k=this.autoLoadOnValue,l=d.hasPendingLoad(),k=k&&0===d.loadCount&&!l;if(null!=a&&(l||k||d.isEmptyStore))return this.value=
a,this.setHiddenValue(this.value),k&&d.getProxy().isRemote&&d.load(),this;a=Ext.Array.from(a);d=0;for(l=a.length;d<l;d++){k=a[d];if(!k||!k.isModel)k=this.findRecordByValue(k);k?(g.push(k),h.push(k.data),j.push(k.get(this.valueField))):this.forceSelection?Ext.isDefined(c)&&h.push(c):(j.push(a[d]),k={},k[this.displayField]=a[d],h.push(k))}this.setHiddenValue(j);this.value=this.multiSelect?j:j[0];Ext.isDefined(this.value)||(this.value=void 0);this.displayTplData=h;this.lastSelection=this.valueModels=
g;e&&(this.emptyText&&!Ext.isEmpty(a))&&e.removeCls(this.emptyCls);this.setRawValue(this.getDisplayValue());this.checkChange();!1!==b&&this.syncSelection();this.applyEmptyText();return this},setHiddenValue:function(a){var b=this.hiddenName,c,d,e,g,h;if(this.hiddenDataEl&&b){a=Ext.Array.from(a);c=this.hiddenDataEl.dom;d=c.childNodes;e=d[0];g=a.length;h=d.length;!e&&0<g&&(this.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:b})),h=1,e=c.firstChild);for(;h>g;)c.removeChild(d[0]),
--h;for(;h<g;)c.appendChild(e.cloneNode(!0)),++h;for(b=0;b<g;b++)d[b].value=a[b]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var a=this.picker,b=this.getRawValue(),c=this.value;this.getDisplayValue()!==b&&(c=b,this.value=this.displayTplData=this.valueModels=void 0,a&&(this.ignoreSelection++,a.getSelectionModel().deselectAll(),this.ignoreSelection--));return this.value=null==c?null:c},getSubmitValue:function(){var a=this.getValue();Ext.isEmpty(a)&&
(a="");return a},isEqual:function(a,b){var c=Ext.Array.from,d;a=c(a);b=c(b);d=a.length;if(d!==b.length)return!1;for(c=0;c<d;c++)if(b[c]!==a[c])return!1;return!0},clearValue:function(){this.setValue([])},syncSelection:function(){var a=this.getPicker(),b,c=this.valueModels||[],d=c.length,e,g;if(a){b=[];for(e=0;e<d;e++)(g=c[e])&&(g.isModel&&0<=this.store.indexOf(g))&&b.push(g);this.ignoreSelection++;a=a.getSelectionModel();b.length?a.select(b,!1):a.deselectAll();this.ignoreSelection--}},onEditorTab:function(a){var b=
this.getPicker().getNavigationModel();this.selectOnTab&&b&&b.selectHighlighted(a)}});
Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",isMonthPicker:!0,focusable:!0,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['\x3cdiv id\x3d"{id}-bodyEl" data-ref\x3d"bodyEl" class\x3d"{baseCls}-body"\x3e','\x3cdiv id\x3d"{id}-monthEl" data-ref\x3d"monthEl" class\x3d"{baseCls}-months"\x3e','\x3ctpl for\x3d"months"\x3e','\x3cdiv class\x3d"{parent.baseCls}-item {parent.baseCls}-month"\x3e','\x3ca style\x3d"{parent.monthStyle}" role\x3d"button" hidefocus\x3d"on" class\x3d"{parent.baseCls}-item-inner"\x3e{.}\x3c/a\x3e',
"\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e",'\x3cdiv id\x3d"{id}-yearEl" data-ref\x3d"yearEl" class\x3d"{baseCls}-years"\x3e','\x3cdiv class\x3d"{baseCls}-yearnav"\x3e','\x3cdiv class\x3d"{baseCls}-yearnav-button-ct"\x3e','\x3ca id\x3d"{id}-prevEl" data-ref\x3d"prevEl" class\x3d"{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus\x3d"on" role\x3d"button"\x3e\x3c/a\x3e',"\x3c/div\x3e",'\x3cdiv class\x3d"{baseCls}-yearnav-button-ct"\x3e','\x3ca id\x3d"{id}-nextEl" data-ref\x3d"nextEl" class\x3d"{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus\x3d"on" role\x3d"button"\x3e\x3c/a\x3e',
"\x3c/div\x3e","\x3c/div\x3e",'\x3ctpl for\x3d"years"\x3e','\x3cdiv class\x3d"{parent.baseCls}-item {parent.baseCls}-year"\x3e','\x3ca hidefocus\x3d"on" class\x3d"{parent.baseCls}-item-inner" role\x3d"button"\x3e{.}\x3c/a\x3e',"\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e",'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'clear"\x3e\x3c/div\x3e','\x3ctpl if\x3d"showButtons"\x3e','\x3cdiv class\x3d"{baseCls}-buttons"\x3e{%',"var me\x3dvalues.$comp, okBtn\x3dme.okBtn, cancelBtn\x3dme.cancelBtn;","okBtn.ownerLayout \x3d cancelBtn.ownerLayout \x3d me.componentLayout;",
"okBtn.ownerCt \x3d cancelBtn.ownerCt \x3d me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){this.selectedCls=this.baseCls+"-selected";this.small&&
this.addCls(this.smallCls);this.setValue(this.value);this.activeYear=this.getYear((new Date).getFullYear()-4,-4);this.showButtons&&(this.okBtn=new Ext.button.Button({text:this.okText,handler:this.onOkClick,scope:this}),this.cancelBtn=new Ext.button.Button({text:this.cancelText,handler:this.onCancelClick,scope:this}));this.callParent()},beforeRender:function(){var a=0,b=[],c=Ext.Date.getShortMonthName,d=this.monthOffset,e=this.monthMargin,g="";this.padding&&!this.width&&this.cacheWidth();for(this.callParent();a<
d;++a)b.push(c(a),c(a+d));Ext.isDefined(e)&&(g="margin: 0 "+e+"px;");Ext.apply(this.renderData,{months:b,years:this.getYears(),showButtons:this.showButtons,monthStyle:g})},cacheWidth:function(){var a=this.parseBox(this.padding),b=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"\x26nbsp;"});this.self.prototype.width=b.getWidth()+a.left+a.right;b.destroy()},afterRender:function(){var a=this.bodyEl;this.callParent();this.mon(a,
"click",this.onBodyClick,this);this.mon(a,"dblclick",this.onBodyClick,this);this.years=a.select("."+this.baseCls+"-year a");this.months=a.select("."+this.baseCls+"-month a");this.backRepeater=new Ext.util.ClickRepeater(this.prevEl,{handler:Ext.Function.bind(this.adjustYear,this,[-this.totalYears])});this.prevEl.addClsOnOver(this.baseCls+"-yearnav-prev-over");this.nextRepeater=new Ext.util.ClickRepeater(this.nextEl,{handler:Ext.Function.bind(this.adjustYear,this,[this.totalYears])});this.nextEl.addClsOnOver(this.baseCls+
"-yearnav-next-over");this.updateBody();Ext.isDefined(this.monthMargin)||(Ext.picker.Month.prototype.monthMargin=this.calculateMonthMargin())},calculateMonthMargin:function(){for(var a=this.months,b=a.first().getMargin("l");b&&this.getLargest()>this.measureMaxHeight;)--b,a.setStyle("margin","0 "+b+"px");return b},getLargest:function(){var a=0;this.months.each(function(b){b=b.getHeight();b>a&&(a=b)});return a},setValue:function(a){var b=this.activeYear;this.value=a?Ext.isDate(a)?[a.getMonth(),a.getFullYear()]:
[a[0],a[1]]:[null,null];if(this.rendered){a=this.value[1];if(null!==a&&(a<b||a>b+this.yearOffset))this.activeYear=a-this.yearOffset+1;this.updateBody()}return this},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return null!==a[0]&&null!==a[1]},getYears:function(){for(var a=this.yearOffset,b=this.activeYear,c=b+a,d=[];b<c;++b)d.push(b,b+a);return d},updateBody:function(){var a=this.years,b=this.months,c=this.getYears(),d=this.selectedCls,e=this.getYear(null),g=this.value[0],
h=this.monthOffset,j,k,l,m;if(this.rendered){a.removeCls(d);b.removeCls(d);j=a.elements;l=j.length;for(k=0;k<l;k++)m=Ext.fly(j[k]),a=c[k],m.dom.innerHTML=a,a==e&&m.addCls(d);null!==g&&b.item(g<h?2*g:2*(g-h)+1).addCls(d)}},getYear:function(a,b){var c=this.value[1];return null===c?a:c+(b||0)},onBodyClick:function(a,b){var c="dblclick"==a.type;a.getTarget("."+this.baseCls+"-month")?(a.stopEvent(),this.onMonthClick(b,c)):a.getTarget("."+this.baseCls+"-year")&&(a.stopEvent(),this.onYearClick(b,c))},adjustYear:function(a){"number"!=
typeof a&&(a=this.totalYears);this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(a,b){this.value[0]=this.resolveOffset(this.months.indexOf(a),this.monthOffset);this.updateBody();this.fireEvent("month"+(b?"dbl":"")+"click",this,this.value);this.fireEvent("select",this,this.value)},onYearClick:function(a,b){this.value[1]=this.activeYear+this.resolveOffset(this.years.indexOf(a),
this.yearOffset);this.updateBody();this.fireEvent("year"+(b?"dbl":"")+"click",this,this.value);this.fireEvent("select",this,this.value)},resolveOffset:function(a,b){return 0===a%2?a/2:b+Math.floor(a/2)},beforeDestroy:function(){this.years=this.months=null;Ext.destroyMembers(this,"backRepeater","nextRepeater","okBtn","cancelBtn");this.callParent()},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()},privates:{finishRenderChildren:function(){this.callParent(arguments);
this.showButtons&&(this.okBtn.finishRender(),this.cancelBtn.finishRender())}}});
Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",isDatePicker:!0,focusable:!0,childEls:"innerEl eventEl prevEl nextEl middleBtnEl footerEl".split(" "),border:!0,renderTpl:['\x3cdiv id\x3d"{id}-innerEl" data-ref\x3d"innerEl"\x3e','\x3cdiv class\x3d"{baseCls}-header"\x3e','\x3cdiv id\x3d"{id}-prevEl" data-ref\x3d"prevEl" class\x3d"{baseCls}-prev {baseCls}-arrow" role\x3d"button" title\x3d"{prevText}"\x3e\x3c/div\x3e','\x3cdiv id\x3d"{id}-middleBtnEl" data-ref\x3d"middleBtnEl" class\x3d"{baseCls}-month" role\x3d"heading"\x3e{%this.renderMonthBtn(values, out)%}\x3c/div\x3e',
'\x3cdiv id\x3d"{id}-nextEl" data-ref\x3d"nextEl" class\x3d"{baseCls}-next {baseCls}-arrow" role\x3d"button" title\x3d"{nextText}"\x3e\x3c/div\x3e',"\x3c/div\x3e",'\x3ctable role\x3d"grid" id\x3d"{id}-eventEl" data-ref\x3d"eventEl" class\x3d"{baseCls}-inner" {%','if (values.$comp.focusable) {out.push("tabindex\x3d\\"0\\"");}','%} cellspacing\x3d"0"\x3e','\x3cthead\x3e\x3ctr role\x3d"row"\x3e','\x3ctpl for\x3d"dayNames"\x3e','\x3cth role\x3d"columnheader" class\x3d"{parent.baseCls}-column-header" aria-label\x3d"{.}"\x3e',
'\x3cdiv role\x3d"presentation" class\x3d"{parent.baseCls}-column-header-inner"\x3e{.:this.firstInitial}\x3c/div\x3e',"\x3c/th\x3e","\x3c/tpl\x3e","\x3c/tr\x3e\x3c/thead\x3e",'\x3ctbody\x3e\x3ctr role\x3d"row"\x3e','\x3ctpl for\x3d"days"\x3e',"{#:this.isEndOfWeek}",'\x3ctd role\x3d"gridcell" id\x3d"{[Ext.id()]}"\x3e','\x3cdiv hidefocus\x3d"on" class\x3d"{parent.baseCls}-date"\x3e\x3c/div\x3e',"\x3c/td\x3e","\x3c/tpl\x3e","\x3c/tr\x3e\x3c/tbody\x3e","\x3c/table\x3e",'\x3ctpl if\x3d"showToday"\x3e',
'\x3cdiv id\x3d"{id}-footerEl" data-ref\x3d"footerEl" role\x3d"presentation" class\x3d"{baseCls}-footer"\x3e{%this.renderTodayBtn(values, out)%}\x3c/div\x3e',"\x3c/tpl\x3e","\x3c/div\x3e",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;return 0===a%7&&0!==a?'\x3c/tr\x3e\x3ctr role\x3d"row"\x3e':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),
b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",
initHour:12,numDays:42,initComponent:function(){var a=Ext.Date.clearTime;this.selectedCls=this.baseCls+"-selected";this.disabledCellCls=this.baseCls+"-disabled";this.prevCls=this.baseCls+"-prevday";this.activeCls=this.baseCls+"-active";this.cellCls=this.baseCls+"-cell";this.nextCls=this.baseCls+"-prevday";this.todayCls=this.baseCls+"-today";this.format||(this.format=Ext.Date.defaultFormat);this.dayNames||(this.dayNames=Ext.Date.dayNames);this.dayNames=this.dayNames.slice(this.startDay).concat(this.dayNames.slice(0,
this.startDay));this.callParent();this.value=this.value?a(this.value,!0):a(new Date);this.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var a=[],b=this.monthBtn,c=this.todayBtn;b&&a.push(b);c&&a.push(c);return a},beforeRender:function(){var a=Array(this.numDays),b=Ext.Date.format(new Date,this.format);this.padding&&!this.width&&this.cacheWidth();this.monthBtn=new Ext.button.Split({ownerCt:this,ownerLayout:this.getComponentLayout(),text:"",
tooltip:this.monthYearText,listeners:{click:this.doShowMonthPicker,arrowclick:this.doShowMonthPicker,scope:this}});this.showToday&&(this.todayBtn=new Ext.button.Button({ownerCt:this,ownerLayout:this.getComponentLayout(),text:Ext.String.format(this.todayText,b),tooltip:Ext.String.format(this.todayTip,b),tooltipType:"title",handler:this.selectToday,scope:this}));this.callParent();Ext.applyIf(this,{renderData:{}});Ext.apply(this.renderData,{dayNames:this.dayNames,showToday:this.showToday,prevText:this.prevText,
nextText:this.nextText,days:a});this.protoEl.unselectable()},cacheWidth:function(){var a=this.parseBox(this.padding),b=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});this.self.prototype.width=b.getWidth()+a.left+a.right;b.destroy()},onRender:function(a,b){this.callParent(arguments);this.cells=this.eventEl.select("tbody td");this.textNodes=this.eventEl.query("tbody td div");this.eventEl.set({"aria-labelledby":this.monthBtn.id});
this.mon(this.eventEl,{scope:this,mousewheel:this.handleMouseWheel,click:{fn:this.handleDateClick,delegate:"div."+this.baseCls+"-date"}})},initEvents:function(){var a=this,b=a.pickerField,c=Ext.Date,d=c.DAY;a.callParent();if(!a.focusable)a.el.on({mousedown:a.onMouseDown});a.prevRepeater=new Ext.util.ClickRepeater(a.prevEl,{handler:a.showPrevMonth,scope:a,preventDefault:!0,stopDefault:!0});a.nextRepeater=new Ext.util.ClickRepeater(a.nextEl,{handler:a.showNextMonth,scope:a,preventDefault:!0,stopDefault:!0});
a.keyNav=new Ext.util.KeyNav(b?b.inputEl:a.eventEl,Ext.apply({scope:a,capture:!0,left:function(b){b.ctrlKey?a.showPrevMonth():a.update(c.add(a.activeDate,d,-1))},right:function(b){b.ctrlKey?a.showNextMonth():a.update(c.add(a.activeDate,d,1))},up:function(b){b.ctrlKey?a.showNextYear():a.update(c.add(a.activeDate,d,-7))},down:function(b){b.ctrlKey?a.showPrevYear():a.update(c.add(a.activeDate,d,7))},pageUp:function(b){b.ctrlKey?a.showPrevYear():a.showPrevMonth()},pageDown:function(b){b.ctrlKey?a.showNextYear():
a.showNextMonth()},tab:function(b){a.handleTabClick(b);return!0},enter:function(b){a.handleDateClick(b,a.activeCell.firstChild)},space:function(){a.setValue(new Date(a.activeCell.firstChild.dateValue));var c=a.startValue,d=a.value,h;b&&((h=b.getValue())&&c&&h.getTime()===d.getTime()?b.setValue(c):b.setValue(d))},home:function(){a.update(c.getFirstDateOfMonth(a.activeDate))},end:function(){a.update(c.getLastDateOfMonth(a.activeDate))}},a.keyNavConfig));a.disabled&&a.syncDisabled(!0);a.update(a.value)},
onMouseDown:function(a){a.preventDefault()},handleTabClick:function(){var a=this.getSelectedDate(this.activeDate),b=this.handler;!this.disabled&&(a.dateValue&&!Ext.fly(a.parentNode).hasCls(this.disabledCellCls))&&(this.setValue(new Date(a.dateValue)),this.fireEvent("select",this,this.value),b&&b.call(this.scope||this,this,this.value),this.onSelect())},getSelectedDate:function(a){a=a.getTime();var b=this.cells,c=b.elements,d=c.length,e;b.removeCls(this.selectedCls);for(b=0;b<d;b++)if(e=Ext.fly(c[b]),
e.dom.firstChild.dateValue==a)return e.dom.firstChild;return null},initDisabledDays:function(){var a=this.disabledDates,b="(?:",c,d,e,g;if(!this.disabledDatesRE&&a){c=a.length-1;e=a.length;for(d=0;d<e;d++)g=a[d],b+=Ext.isDate(g)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(g,this.format))+"$":g,d!==c&&(b+="|");this.disabledDatesRE=RegExp(b+")")}},setDisabledDates:function(a){Ext.isArray(a)?(this.disabledDates=a,this.disabledDatesRE=null):this.disabledDatesRE=a;this.initDisabledDays();this.update(this.value,
!0);return this},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,!0)},setMinDate:function(a){this.minDate=a;return this.update(this.value,!0)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,!0)},setValue:function(a){this.value=Ext.Date.clearTime(a||new Date,!0);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},onEnable:function(){this.callParent();this.syncDisabled(!1);this.update(this.activeDate)},
onShow:function(){this.callParent();this.syncDisabled(!1);this.pickerField&&(this.startValue=this.pickerField.getValue())},onHide:function(){this.callParent();this.syncDisabled(!0)},onDisable:function(){this.callParent();this.syncDisabled(!0)},getActive:function(){return this.activeDate||this.value},runAnimation:function(a){var b=this.monthPicker,c={duration:200,callback:function(){b.setVisible(!a)}};a?b.el.slideOut("t",c):b.el.slideIn("t",c)},hideMonthPicker:function(a){var b=this.monthPicker;b&&
b.isVisible()&&(this.shouldAnimate(a)?this.runAnimation(!0):b.hide());return this},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(a){var b=this.el,c;this.rendered&&!this.disabled&&(c=this.createMonthPicker(),c.isVisible()||(c.setValue(this.getActive()),c.setSize(b.getSize()),c.setPosition(-b.getBorderWidth("l"),-b.getBorderWidth("t")),this.shouldAnimate(a)?this.runAnimation(!1):c.show()));return this},shouldAnimate:function(a){return Ext.isDefined(a)?
a:!this.disableAnim},createMonthPicker:function(){var a=this.monthPicker;a||(this.monthPicker=a=new Ext.picker.Month({renderTo:this.el,floating:!0,padding:this.padding,shadow:!1,small:!1===this.showToday,listeners:{scope:this,cancelclick:this.onCancelClick,okclick:this.onOkClick,yeardblclick:this.onOkClick,monthdblclick:this.onOkClick}}),this.disableAnim||a.el.setStyle("display","none"),a.hide(),this.on("beforehide",this.doHideMonthPicker,this));return a},onOkClick:function(a,b){var c=b[0],d=b[1],
e=new Date(d,c,this.getActive().getDate());e.getMonth()!==c&&(e=Ext.Date.getLastDateOfMonth(new Date(d,c,1)));this.setValue(e);this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,
Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();this.disabled||(a=a.getWheelDelta(),0<a?this.showPrevMonth():0>a&&this.showNextMonth())},handleDateClick:function(a,b){var c=this.handler;a.stopEvent();!this.disabled&&(b.dateValue&&!Ext.fly(b.parentNode).hasCls(this.disabledCellCls))&&(this.setValue(new Date(b.dateValue)),this.fireEvent("select",this,this.value),c&&c.call(this.scope||this,this,
this.value),this.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var a=this.todayBtn,b=this.handler;a&&!a.disabled&&(this.setValue(Ext.Date.clearTime(new Date)),this.fireEvent("select",this,this.value),b&&b.call(this.scope||this,this,this.value),this.onSelect());return this},selectedUpdate:function(a){a=a.getTime();var b=this.cells,c=this.selectedCls,d,e=b.getCount(),g;if(g=this.activeCell)Ext.fly(g).removeCls(c),g.setAttribute("aria-selected",!1);for(d=0;d<
e;d++)if(g=b.item(d),this.textNodes[d].dateValue==a){this.activeCell=g.dom;this.eventEl.dom.setAttribute("aria-activedescendant",g.dom.id);g.dom.setAttribute("aria-selected",!0);g.addCls(c);this.fireEvent("highlightitem",this,g);break}},fullUpdate:function(a){var b=this,c=b.cells.elements,d=b.textNodes,e=b.disabledCellCls,g=Ext.Date,h=0,j=0,k=+g.clearTime(a,!0),l=+g.clearTime(new Date),m=b.minDate?g.clearTime(b.minDate,!0):Number.NEGATIVE_INFINITY,n=b.maxDate?g.clearTime(b.maxDate,!0):Number.POSITIVE_INFINITY,
p=b.disabledDatesRE,q=b.disabledDatesText,r=b.disabledDays?b.disabledDays.join(""):!1,s=b.disabledDaysText,t=b.format,u=g.getDaysInMonth(a),v=g.getFirstDateOfMonth(a).getDay()-b.startDay,w=g.add(a,g.MONTH,-1),x=b.ariaTitleDateFormat,A,z,B,y,C,E;0>v&&(v+=7);u+=v;A=g.getDaysInMonth(w)-v;z=new Date(w.getFullYear(),w.getMonth(),A,b.initHour);b.showToday&&(w=g.clearTime(new Date),w=w<m||w>n||p&&t&&p.test(g.dateFormat(w,t))||r&&-1!=r.indexOf(w.getDay()),b.disabled||b.todayBtn.setDisabled(w));for(w=function(a,
d){var h=c[a];E=+g.clearTime(z,!0);h.setAttribute("aria-label",g.format(z,x));h.firstChild.dateValue=E;E==l&&(d+=" "+b.todayCls,h.firstChild.title=b.todayText,b.todayElSpan=Ext.DomHelper.append(h.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hidden-clip",html:b.todayText},!0));E==k?(b.activeCell=h,b.eventEl.dom.setAttribute("aria-activedescendant",h.id),h.setAttribute("aria-selected",!0),d+=" "+b.selectedCls,b.fireEvent("highlightitem",b,h)):h.setAttribute("aria-selected",!1);E<m?(d+=" "+e,h.setAttribute("aria-label",
b.minText)):E>n?(d+=" "+e,h.setAttribute("aria-label",b.maxText)):r&&-1!==r.indexOf(z.getDay())?(h.setAttribute("aria-label",s),d+=" "+e):p&&t&&(C=g.dateFormat(z,t),p.test(C)&&(h.setAttribute("aria-label",q.replace("%0",C)),d+=" "+e));h.className=d+" "+b.cellCls};h<b.numDays;++h)h<v?(B=++A,y=b.prevCls):h>=u?(B=++j,y=b.nextCls):(B=h-v+1,y=b.activeCls),d[h].innerHTML=B,z.setDate(z.getDate()+1),w(h,y);b.monthBtn.setText(Ext.Date.format(a,b.monthYearFormat))},update:function(a,b){var c=this.activeDate;
this.rendered&&(this.activeDate=a,!b&&c&&this.el&&c.getMonth()==a.getMonth()&&c.getFullYear()==a.getFullYear()?this.selectedUpdate(a,c):this.fullUpdate(a,c));return this},beforeDestroy:function(){this.rendered&&(Ext.destroy(this.keyNav,this.monthPicker,this.monthBtn,this.nextRepeater,this.prevRepeater,this.todayBtn),delete this.textNodes,delete this.cells.elements);this.callParent()},privates:{finishRenderChildren:function(){this.callParent();this.monthBtn.finishRender();this.showToday&&this.todayBtn.finishRender()},
getFocusEl:function(){return this.eventEl},syncDisabled:function(a){var b=this.keyNav;b&&(b.setDisabled(a),this.prevRepeater.setDisabled(a),this.nextRepeater.setDisabled(a),this.todayBtn&&this.todayBtn.setDisabled(a))}}});
Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",
triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,valuePublishEvent:["select","blur"],initComponent:function(){var a=Ext.isString,b,c;b=this.minValue;c=this.maxValue;a(b)&&(this.minValue=this.parseDate(b));a(c)&&(this.maxValue=this.parseDate(c));this.disabledDatesRE=null;this.initDisabledDays();this.callParent()},initValue:function(){var a=this.value;Ext.isString(a)&&(this.value=this.rawToValue(a));this.callParent()},
initDisabledDays:function(){if(this.disabledDates){var a=this.disabledDates,b=a.length-1,c="(?:",d,e=a.length,g;for(d=0;d<e;d++)g=a[d],c+=Ext.isDate(g)?"^"+Ext.String.escapeRegex(g.dateFormat(this.format))+"$":g,d!==b&&(c+="|");this.disabledDatesRE=RegExp(c+")")}},setDisabledDates:function(a){var b=this.picker;this.disabledDates=a;this.initDisabledDays();b&&b.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(a){var b=this.picker;this.disabledDays=a;b&&b.setDisabledDays(a)},setMinValue:function(a){var b=
this.picker;this.minValue=a=Ext.isString(a)?this.parseDate(a):a;b&&(b.minText=Ext.String.format(this.minText,this.formatDate(this.minValue)),b.setMinDate(a))},setMaxValue:function(a){var b=this.picker;this.maxValue=a=Ext.isString(a)?this.parseDate(a):a;b&&(b.maxText=Ext.String.format(this.maxText,this.formatDate(this.maxValue)),b.setMaxDate(a))},getErrors:function(a){a=0<arguments.length?a:this.formatDate(this.processRawValue(this.getRawValue()));var b=Ext.String.format,c=Ext.Date.clearTime,d=this.callParent([a]),
e=this.disabledDays,g=this.disabledDatesRE,h=this.minValue,j=this.maxValue,k=e?e.length:0,l=0,m;if(null===a||1>a.length)return d;m=a;a=this.parseDate(a);if(!a)return d.push(b(this.invalidText,m,Ext.Date.unescapeFormat(this.format))),d;m=a.getTime();h&&m<c(h).getTime()&&d.push(b(this.minText,this.formatDate(h)));j&&m>c(j).getTime()&&d.push(b(this.maxText,this.formatDate(j)));if(e)for(c=a.getDay();l<k;l++)if(c===e[l]){d.push(this.disabledDaysText);break}e=this.formatDate(a);g&&g.test(e)&&d.push(b(this.disabledDatesText,
e));return d},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(a,b){var c=Ext.Date,d=null,e=this.useStrict;c.formatContainsHourInfo(b)?d=c.parse(a,b,e):(e=c.parse(a+" "+this.initTime,b+" "+this.initTimeFormat,e))&&(d=c.clearTime(e));return d},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):""},parseDate:function(a){if(!a||Ext.isDate(a))return a;
var b=this.safeParse(a,this.format),c=this.altFormats,d=this.altFormatsArray,e=0;if(!b&&c){d=d||c.split("|");for(c=d.length;e<c&&!b;++e)b=this.safeParse(a,d[e])}return b},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,floating:!0,focusable:!1,hidden:!0,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,
disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onSelect:function(a,b){this.setValue(b);this.fireEvent("select",this,b);this.collapse()},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date)},onBlur:function(a){var b=this.rawToValue(this.getRawValue());
Ext.isDate(b)&&this.setValue(b);this.callParent([a])}});
Ext.define("Ext.form.field.FileButton",{extend:Ext.button.Button,alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,tabIndex:null,autoEl:{tag:"div",unselectable:"on"},afterTpl:['\x3cinput id\x3d"{id}-fileInputEl" data-ref\x3d"fileInputEl" class\x3d"{childElCls} {inputCls}" ','type\x3d"file" size\x3d"1" name\x3d"{inputName}" role\x3d"{role}" ','\x3ctpl if\x3d"tabIndex !\x3d null"\x3etabindex\x3d"{tabIndex}"\x3c/tpl\x3e',
"\x3e"],getAfterMarkup:function(a){return this.getTpl("afterTpl").apply(a)},getTemplateArgs:function(){var a=this.callParent();a.inputCls=this.inputCls;a.inputName=this.inputName;a.tabIndex=this.ownerCt.tabIndex;return a},afterRender:function(){this.callParent(arguments);this.fileInputEl.on({scope:this,change:this.fireChange,focus:this.onFocus,blur:this.onBlur})},fireChange:function(a){this.fireEvent("change",this,a,this.fileInputEl.dom.value)},createFileInput:function(a){this.fileInputEl=this.el.createChild({name:this.inputName,
id:!a?this.id+"-fileInputEl":void 0,cls:this.inputCls,tag:"input",type:"file",size:1,role:"button"});this.fileInputEl.on({scope:this,change:this.fireChange,focus:this.onFocus,blur:this.onBlur})},reset:function(a){a&&this.fileInputEl.destroy();this.createFileInput(!a)},restoreInput:function(a){this.fileInputEl.destroy();a=Ext.get(a);this.el.appendChild(a);this.fileInputEl=a},onDisable:function(){this.callParent();this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent();this.fileInputEl.dom.disabled=
!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el}}});
Ext.define("Ext.rtl.form.field.FileButton",{override:"Ext.form.field.FileButton",createFileInput:function(a){this.fileInputEl=this.el.createChild({name:this.inputName,id:!a?this.id+"-fileInputEl":void 0,cls:this.inputCls+" "+(this.getInherited().rtl?Ext.baseCSSPrefix+"rtl":""),tag:"input",type:"file",size:1,role:"button"});this.fileInputEl.on({scope:this,change:this.fireChange,focus:this.onFocus,blur:this.onBlur})}});
Ext.define("Ext.form.trigger.Component",{extend:Ext.form.trigger.Trigger,alias:"trigger.component",cls:Ext.baseCSSPrefix+"form-trigger-cmp",onFieldRender:function(){var a=this.component;this.callParent();!a.isComponent&&!a.isWidget&&(a=Ext.widget(a));this.component=a;a.render(this.el)},destroy:function(){var a=this.component;(a.isComponent||a.isWidget)&&a.destroy()}});
Ext.define("Ext.form.field.File",{extend:Ext.form.field.Text,alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],needArrowKeys:!1,triggers:{filebutton:{type:"component",hideOnReadOnly:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",inputCls:Ext.baseCSSPrefix+"form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",
childEls:["browseButtonWrap"],applyTriggers:function(a){var b=(a||{}).filebutton;if(b)return b.component=Ext.apply({xtype:"filebutton",ownerCt:this,id:this.id+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,change:this.onFileChange}},this.buttonConfig),this.callParent([a]);Ext.Error.raise(this.$className+' requires a valid trigger config containing "filebutton" specification')},
getSubTplData:function(a){a=this.callParent([a]);a.tabIdx=-1;return a},onRender:function(){var a,b;this.callParent(arguments);this.inputEl.dom.name="";b=this.getTrigger("filebutton");a=this.button=b.component;this.fileInputEl=a.fileInputEl;a=a.el;this.buttonOnly&&(this.inputWrap.setDisplayed(!1),this.shrinkWrap=3);b.el.setWidth(a.getWidth()+a.getMargin("lr"));Ext.isIE&&this.button.getEl().repaint()},getTriggerMarkup:function(){return'\x3ctd id\x3d"'+this.id+'-browseButtonWrap" data-ref\x3d"browseButtonWrap" role\x3d"presentation"\x3e\x3c/td\x3e'},
onFileChange:function(a,b,c){this.duringFileSelect=!0;Ext.form.field.File.superclass.setValue.call(this,c);delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setValue:Ext.emptyFn,reset:function(){var a=this.clearOnSubmit;this.rendered&&(this.button.reset(a),this.fileInputEl=this.button.fileInputEl,a&&(this.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null)));this.callParent()},onShow:function(){this.callParent();this.button.updateLayout()},
onDisable:function(){this.callParent();this.button.disable()},onEnable:function(){this.callParent();this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var a;this.rendered?(a=this.button.fileInputEl.dom,this.reset()):(a=document.createElement("input"),a.type="file",a.className=Ext.baseCSSPrefix+"hidden-display",a.name=this.getName());return a},restoreInput:function(a){if(this.rendered){var b=this.button;b.restoreInput(a);this.fileInputEl=b.fileInputEl}},onDestroy:function(){Ext.destroyMembers(this,
"button");delete this.fileInputEl;this.callParent()},getButtonMarginProp:function(){return"margin-left:"},privates:{getFocusEl:function(){return this.button}}});Ext.define("Ext.rtl.form.field.File",{override:"Ext.form.field.File",buttonText:"\u05e2\u05d9\u05d5\u05df ...",getButtonMarginProp:function(){return this.getInherited().rtl?"margin-right:":"margin-left:"}});
Ext.define("Ext.form.field.Hidden",{extend:Ext.form.field.Base,alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",focusable:!1,inputType:"hidden",isTextInput:!1,hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden";this.callParent()},isEqual:function(a,b){return this.isEqualAsString(a,b)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,
markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});
Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",focusable:!0,componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:"000000 993300 333300 003300 003366 000080 333399 333333 800000 FF6600 808000 008000 008080 0000FF 666699 808080 FF0000 FF9900 99CC00 339966 33CCCC 3366FF 800080 969696 FF00FF FFCC00 FFFF00 00FF00 00FFFF 00CCFF 993366 C0C0C0 FF99CC FFCC99 FFFF99 CCFFCC CCFFFF 99CCFF CC99FF FFFFFF".split(" "),colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,
renderTpl:['\x3ctpl for\x3d"colors"\x3e','\x3ca href\x3d"#" role\x3d"button" class\x3d"color-{.} {parent.itemCls}" hidefocus\x3d"on"\x3e','\x3cspan class\x3d"{parent.itemCls}-inner" style\x3d"background:#{.}"\x3e\x26#160;\x3c/span\x3e',"\x3c/a\x3e","\x3c/tpl\x3e"],initComponent:function(){this.callParent(arguments);if(this.handler)this.on("select",this.handler,this.scope,!0)},initRenderData:function(){return Ext.apply(this.callParent(),{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var a=
this.clickEvent;this.callParent(arguments);this.mon(this.el,a,this.handleClick,this,{delegate:"a"});"click"!==a&&this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",stopEvent:!0})},afterRender:function(){var a;this.callParent(arguments);this.value&&(a=this.value,this.value=null,this.select(a,!0))},handleClick:function(a){a.stopEvent();this.disabled||(a=a.currentTarget.className.match(this.colorRe)[1],this.select(a.toUpperCase()))},select:function(a,b){var c=this.selectedCls,d=this.value,e;a=a.replace("#",
"");if(this.rendered){if(a!=d||this.allowReselect)e=this.el,this.value&&e.down("a.color-"+d).removeCls(c),e.down("a.color-"+a).addCls(c),this.value=a,!0!==b&&this.fireEvent("select",this,a)}else this.value=a},clear:function(){var a=this.value;a&&this.rendered&&(a=this.el.down("a.color-"+a),a.removeCls(this.selectedCls));this.value=null},getValue:function(){return this.value||null}});
Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(a){var b=this.owner,c;Ext.isGecko&&(c=b.textareaEl.dom,this.lastValue=c.value,c.value="");this.callParent(arguments);a.toolbarContext=a.context.getCmp(b.toolbar);a.inputCmpContext=a.context.getCmp(b.inputCmp);a.bodyCellContext=a.getEl("bodyEl");a.textAreaContext=a.getEl("textareaEl");a.iframeContext=
a.getEl("iframeEl")},beginLayoutCycle:function(a){var b=a.widthModel,c=a.heightModel,d=this.owner,e=d.iframeEl,d=d.textareaEl;this.callParent(arguments);b.shrinkWrap?(e.setStyle("width",""),d.setStyle("width","")):b.natural&&a.bodyCellContext.setWidth(this.naturalWidth);if(c.natural||c.shrinkWrap)e.setHeight(this.naturalHeight),d.setHeight(this.naturalHeight)},finishedLayout:function(){var a=this.owner;this.callParent(arguments);Ext.isGecko&&(a.textareaEl.dom.value=this.lastValue)}});
Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",focusable:!0,componentLayout:"htmleditor",textareaCls:Ext.baseCSSPrefix+"htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'\x3ctextarea id\x3d"{id}-textareaEl" data-ref\x3d"textareaEl" name\x3d"{name}" tabindex\x3d"-1" {inputAttrTpl}',' class\x3d"{textareaCls}" autocomplete\x3d"off"\x3e',"{[Ext.util.Format.htmlEncode(values.value)]}",
"\x3c/textarea\x3e","{afterTextAreaTpl}","{beforeIFrameTpl}",'\x3ciframe id\x3d"{id}-iframeEl" data-ref\x3d"iframeEl" name\x3d"{iframeName}" frameBorder\x3d"0" {iframeAttrTpl}',' src\x3d"{iframeSrc}" class\x3d"{iframeCls}"\x3e\x3c/iframe\x3e',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:"beforeTextAreaTpl afterTextAreaTpl beforeIFrameTpl afterIFrameTpl iframeAttrTpl inputAttrTpl".split(" "),enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,
enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"\x26#160;":"\x26#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,
initComponent:function(){this.items=[this.createToolbar(),this.createInputCmp()];this.layout={type:"vbox",align:"stretch"};this.callParent(arguments);this.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg())},getInputCmpCfg:function(){var a=this.id+"-inputCmp",b={id:a,name:this.name,textareaCls:this.textareaCls+" "+Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};this.getInsertionRenderData(b,
this.subTplInsertions);return{flex:1,xtype:"component",tpl:this.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:a,cls:Ext.baseCSSPrefix+"html-editor-input",data:b}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg())},getToolbarCfg:function(){function a(a,c,d){return{itemId:a,cls:g+"btn-icon",iconCls:g+"edit-"+a,enableToggle:!1!==c,scope:b,handler:d||b.relayBtnCmd,clickEvent:"mousedown",tooltip:e?b.buttonTips[a]||h:h,overflowText:b.buttonTips[a].title||h,tabIndex:-1}}
var b=this,c=[],d,e=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),g=Ext.baseCSSPrefix,h;b.enableFont&&!Ext.isSafari2&&(d=Ext.widget("component",{itemId:"fontSelect",renderTpl:['\x3cselect id\x3d"{id}-selectEl" data-ref\x3d"selectEl" class\x3d"'+g+'font-select"\x3e',"\x3c/select\x3e"],childEls:["selectEl"],afterRender:function(){b.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var a=this.selectEl;a&&(a.dom.disabled=!0);Ext.Component.prototype.onDisable.apply(this,
arguments)},onEnable:function(){var a=this.selectEl;a&&(a.dom.disabled=!1);Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){b.win.focus();b.relayCmd("fontName",b.fontSelect.dom.value);b.deferFocus()},element:"selectEl"}}),c.push(d,"-"));b.enableFormat&&c.push(a("bold"),a("italic"),a("underline"));b.enableFontSize&&c.push("-",a("increasefontsize",!1,b.adjustFont),a("decreasefontsize",!1,b.adjustFont));b.enableColors&&c.push("-",{itemId:"forecolor",cls:g+"btn-icon",
iconCls:g+"edit-forecolor",overflowText:b.buttonTips.forecolor.title,tooltip:e?b.buttonTips.forecolor||h:h,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(a,c){b.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+c:c);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:g+"btn-icon",iconCls:g+"edit-backcolor",overflowText:b.buttonTips.backcolor.title,tooltip:e?b.buttonTips.backcolor||
h:h,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(a,c){Ext.isGecko?(b.execCmd("useCSS",!1),b.execCmd("hilitecolor","#"+c),b.execCmd("useCSS",!0),b.deferFocus()):b.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+c:c);this.up("menu").hide()}}]})});b.enableAlignments&&c.push("-",a("justifyleft"),a("justifycenter"),a("justifyright"));Ext.isSafari2||
(b.enableLinks&&c.push("-",a("createlink",!1,b.createLink)),b.enableLists&&c.push("-",a("insertorderedlist"),a("insertunorderedlist")),b.enableSourceEdit&&c.push("-",a("sourceedit",!0,function(){b.toggleSourceEdit(!b.sourceEditMode)})));for(d=0;d<c.length;d++)"sourceedit"!==c[d].itemId&&(c[d].disabled=!0);return{xtype:"toolbar",defaultButtonUI:b.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:c,listeners:{click:function(a){a.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?
this.inputCmp.el:this.bodyEl},setReadOnly:function(a){var b=this.textareaEl,c=this.iframeEl;this.readOnly=a;b&&(b.dom.readOnly=a);this.initialized&&(b=this.getEditorBody(),Ext.isIE?(c.setDisplayed(!1),b.contentEditable=!a,c.setDisplayed(!0)):this.setDesignMode(!a),b&&(b.style.cursor=a?"default":"text"),this.disableItems(a))},getDocMarkup:function(){var a=this.iframeEl.getHeight()-2*this.iframePad;return Ext.String.format('\x3c!DOCTYPE html\x3e\x3chtml\x3e\x3chead\x3e\x3cstyle type\x3d"text/css"\x3e'+
(Ext.isOpera?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(this.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}\x3c/style\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e",this.iframePad,a,this.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},
getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var a=0,b,c,d,e,g,h,j;if(!this.defaultFont){c=this.textareaEl.getStyle("font-family");c=Ext.String.capitalize(c.split(",")[0]);b=Ext.Array.clone(this.fontFamilies);Ext.Array.include(b,c);b.sort();this.defaultFont=c;d=this.down("#fontSelect").selectEl.dom;g=0;for(h=b.length;g<h;++g)c=b[g],j=c.toLowerCase(),
e=new Option(c,j),c===this.defaultFont&&(a=g),e.style.fontFamily=j,Ext.isIE?d.add(e):d.options.add(e);d.options[a].selected=!0}},isEqual:function(a,b){return this.isEqualAsString(a,b)},afterRender:function(){var a=this.inputCmp;this.callParent(arguments);this.iframeEl=a.iframeEl;this.textareaEl=a.textareaEl;this.inputEl=this.iframeEl;this.enableFont&&this.initDefaultFont();this.monitorTask=Ext.TaskManager.start({run:this.checkDesignMode,scope:this,interval:100})},initFrameDoc:function(){var a=this,
b,c;Ext.TaskManager.stop(a.monitorTask);b=a.getDoc();a.win=a.getWin();b.open();b.write(a.getDocMarkup());b.close();c={run:function(){var b=a.getDoc();if(b.body||"complete"===b.readyState)Ext.TaskManager.stop(c),a.setDesignMode(!0),Ext.defer(a.initEditor,10,a)},interval:10,duration:1E4,scope:a};Ext.TaskManager.start(c)},checkDesignMode:function(){var a=this.getDoc();a&&(!a.editorInitialized||"on"!==this.getDesignMode())&&this.initFrameDoc()},setDesignMode:function(a){var b=this.getDoc();b&&(this.readOnly&&
(a=!1),b.designMode=/on|true/i.test(String(a).toLowerCase())?"on":"off")},getDesignMode:function(){var a=this.getDoc();return!a?"":String(a.designMode).toLowerCase()},disableItems:function(a){var b=this.getToolbar().items.items,c,d=b.length,e;for(c=0;c<d;c++)e=b[c],"sourceedit"!==e.getItemId()&&e.setDisabled(a)},toggleSourceEdit:function(a){var b=this.iframeEl,c=this.textareaEl,d=Ext.baseCSSPrefix+"hidden",e=this.getToolbar().getComponent("sourceedit");Ext.isBoolean(a)||(a=!this.sourceEditMode);this.sourceEditMode=
a;e.pressed!==a&&e.toggle(a);a?(this.disableItems(!0),this.syncValue(),b.addCls(d),c.removeCls(d),c.dom.removeAttribute("tabindex"),c.focus(),this.inputEl=c):(this.initialized&&this.disableItems(this.readOnly),this.pushValue(),b.removeCls(d),c.addCls(d),c.dom.setAttribute("tabindex",-1),this.deferFocus(),this.inputEl=b);this.fireEvent("editmodechange",this,a);this.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);a&&"http://"!==a&&this.relayCmd("createlink",
a)},clearInvalid:Ext.emptyFn,setValue:function(a){var b=this.textareaEl;if(null===a||void 0===a)a="";b&&(b.dom.value=a);this.pushValue();!this.rendered&&this.inputCmp&&(this.inputCmp.data.value=a);this.mixins.field.setValue.call(this,a);return this},cleanHtml:function(a){a=String(a);Ext.isWebKit&&(a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,""));a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)&&(a=a.substring(1));return a},syncValue:function(){var a,
b,c,d;this.initialized&&(a=this.getEditorBody(),c=a.innerHTML,d=this.textareaEl.dom,Ext.isWebKit&&(a=a.getAttribute("style"),(a=a.match(/text-align:(.*?);/i))&&a[1]&&(c='\x3cdiv style\x3d"'+a[0]+'"\x3e'+c+"\x3c/div\x3e")),c=this.cleanHtml(c),!1!==this.fireEvent("beforesync",this,c)&&(Ext.isGecko&&(""===d.value&&"\x3cbr\x3e"===c)&&(c=""),d.value!==c&&(d.value=c,b=!0),this.fireEvent("sync",this,c),b&&this.checkChange()))},getValue:function(){var a;this.sourceEditMode||this.syncValue();return this.value=
a=this.rendered?this.textareaEl.dom.value:this.value},pushValue:function(){var a;this.initialized&&(a=this.textareaEl.dom.value||"",!this.activated&&1>a.length&&(a=this.defaultValue),!1!==this.fireEvent("beforepush",this,a)&&(this.getEditorBody().innerHTML=a,Ext.isGecko&&(this.setDesignMode(!1),this.setDesignMode(!0)),this.fireEvent("push",this,a)))},focus:function(a,b){var c;b?(this.focusTask||(this.focusTask=new Ext.util.DelayedTask(this.focus)),this.focusTask.delay(Ext.isNumber(b)?b:10,null,this,
[a,!1])):(a&&(this.textareaEl&&this.textareaEl.dom&&(c=this.textareaEl.dom.value),c&&c.length&&this.execCmd("selectall",!0)),(c=this.getFocusEl())&&c.focus&&c.focus());return this},initEditor:function(){var a=this,b,c,d;if(!a.destroying&&!a.isDestroyed&&(b=a.getEditorBody(),c=a.textareaEl.getStyle("font-size font-family background-image background-repeat background-color color".split(" ")),c["background-attachment"]="fixed",b.bgProperties="fixed",Ext.DomHelper.applyStyles(b,c),d=a.getDoc(),b=Ext.get(d))){try{b.clearListeners()}catch(e){}c=
a.onEditorEvent.bind(a);b.on({mousedown:c,dblclick:c,click:c,keyup:c,delegated:!1,buffer:100});c=a.onRelayedEvent;b.on({mousedown:c,mousemove:c,mouseup:c,click:c,dblclick:c,delegated:!1,scope:a});if(Ext.isGecko)b.on("keypress",a.applyCommand,a);if(a.fixKeys)b.on("keydown",a.fixKeys,a);if(a.fixKeysAfter)b.on("keyup",a.fixKeysAfter,a);if(Ext.isIE9)Ext.get(d.documentElement).on("focus",a.focus,a);Ext.isIE8&&(b.on("focusout",function(){a.savedSelection="None"!==d.selection.type?d.selection.createRange():
null},a),b.on("focusin",function(){a.savedSelection&&a.savedSelection.select()},a));Ext.getWin().on("beforeunload",a.beforeDestroy,a);d.editorInitialized=!0;a.initialized=!0;a.pushValue();a.setReadOnly(a.readOnly);a.fireEvent("initialize",a)}},beforeDestroy:function(){var a=this.monitorTask,b;a&&Ext.TaskManager.stop(a);if(this.rendered){Ext.getWin().un(this.beforeDestroy,this);if(a=this.getDoc())if(Ext.get(a).clearListeners(),a.hasOwnProperty)for(b in a)try{a.hasOwnProperty(b)&&delete a[b]}catch(c){}delete this.iframeEl;
delete this.textareaEl;delete this.toolbar;delete this.inputCmp}this.callParent()},onRelayedEvent:function(a){var b=this.iframeEl,c=Ext.fly(b).getTrueXY(),d=a.getXY(),e=a.getXY();a.xy=[c[0]+e[0],c[1]+e[1]];a.injectEvent(b);a.xy=d},onFirstFocus:function(){var a;this.activated=!0;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();a=this.win.getSelection();a.focusNode&&!this.getValue().length&&(a=a.getRangeAt(0),a.selectNodeContents(this.getEditorBody()),a.collapse(!0),this.deferFocus());
try{this.execCmd("useCSS",!0),this.execCmd("styleWithCSS",!1)}catch(b){}}this.fireEvent("activate",this)},adjustFont:function(a){a="increasefontsize"===a.getItemId()?1:-1;var b=this.getDoc().queryCommandValue("FontSize")||"2",c=Ext.isString(b)&&-1!==b.indexOf("px"),b=parseInt(b,10);c?b=Ext.Number.constrain(10>=b?1+a:13>=b?2+a:16>=b?3+a:18>=b?4+a:24>=b?5+a:6+a,1,6):((c=Ext.isSafari)&&(a*=2),b=Math.max(1,b+a)+(c?"px":0));this.relayCmd("FontSize",b)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){function a(){var a;
b=0;c=arguments.length;for(g;b<c;b++){g=arguments[b];try{a=e.queryCommandState(g)}catch(h){a=!1}d[g].toggle(a)}}var b,c,d,e,g,h,j;if(!this.readOnly)if(this.activated){d=this.getToolbar().items.map;e=this.getDoc();if(this.enableFont&&!Ext.isSafari2&&(h=e.queryCommandValue("fontName"),g=(h?h.split(",")[0].replace(this.reStripQuotes,""):this.defaultFont).toLowerCase(),j=this.fontSelect.dom,g!==j.value||g!==h))j.value=g;this.enableFormat&&a("bold","italic","underline");this.enableAlignments&&a("justifyleft",
"justifycenter","justifyright");!Ext.isSafari2&&this.enableLists&&a("insertorderedlist","insertunorderedlist");h=this.toolbar.query("menu");for(b=0;b<h.length;b++)h[b].hide();this.syncValue()}else this.onFirstFocus()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(a,b){Ext.defer(function(){this.isDestroyed||(this.win.focus(),this.execCmd(a,b),this.updateToolbar())},10,this)},execCmd:function(a,b){this.getDoc().execCommand(a,!1,void 0===b?null:b);this.syncValue()},applyCommand:function(a){if(a.ctrlKey){var b=
a.getCharCode(),c;if(0<b){b=String.fromCharCode(b);switch(b){case "b":c="bold";break;case "i":c="italic";break;case "u":c="underline"}c&&(this.win.focus(),this.execCmd(c),this.deferFocus(),a.preventDefault())}}},insertAtCursor:function(a){var b;if(this.activated)if(this.win.focus(),Ext.isIE){if(b=this.getDoc().selection.createRange())b.pasteHTML(a),this.syncValue(),this.deferFocus()}else this.execCmd("InsertHTML",a),this.deferFocus()},fixKeys:function(){var a;return Ext.isIE?function(b){var c=b.getKey(),
d=this.getDoc(),e=this.readOnly;if(c===b.TAB){if(b.stopEvent(),!e&&(c=d.selection.createRange()))c.collapse&&(c.collapse(!0),c.pasteHTML("\x26#160;\x26#160;\x26#160;\x26#160;")),this.deferFocus()}else if(c===b.ENTER&&!e)if(Ext.isIE10m){if(c=d.selection.createRange())if(d=c.parentElement(),!d||"li"!==d.tagName.toLowerCase())b.stopEvent(),c.pasteHTML("\x3cbr /\x3e"),c.collapse(!1),c.select()}else if((c=d.getSelection().getRangeAt(0))&&"li"!==c.commonAncestorContainer.parentNode.tagName.toLowerCase())b.stopEvent(),
a=d.createElement("div"),c.insertNode(a)}:Ext.isOpera?function(a){var c=a.getKey(),d=this.readOnly;c===a.TAB&&(a.stopEvent(),d||(this.win.focus(),this.execCmd("InsertHTML","\x26#160;\x26#160;\x26#160;\x26#160;"),this.deferFocus()))}:null}(),fixKeysAfter:function(){return Ext.isIE?function(a){var b=a.getKey(),c=this.getDoc();if(!this.readOnly&&(b===a.BACKSPACE||b===a.DELETE))if(a=c.body.innerHTML,"\x3cp\x3e\x26nbsp;\x3c/p\x3e"===a||"\x3cP\x3e\x26nbsp;\x3c/P\x3e"===a)c.body.innerHTML=""}:null}(),getToolbar:function(){return this.toolbar},
buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",
cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},
justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",
cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){var a=this.win;return a&&!this.sourceEditMode?a:this.textareaEl}}});
Ext.define("Ext.form.field.Tag",{extend:Ext.form.field.ComboBox,xtype:"tagfield",multiSelect:!0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,pinList:!0,filterPickList:!1,selectOnFocus:!0,grow:!0,growMin:!1,growMax:!1,fieldSubTpl:['\x3cdiv id\x3d"{cmpId}-listWrapper" data-ref\x3d"listWrapper" class\x3d"'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}"\x3e','\x3cul id\x3d"{cmpId}-itemList" data-ref\x3d"itemList" class\x3d"'+
Ext.baseCSSPrefix+'tagfield-list"\x3e','\x3cli id\x3d"{cmpId}-inputElCt" data-ref\x3d"inputElCt" class\x3d"'+Ext.baseCSSPrefix+'tagfield-input"\x3e','\x3cdiv id\x3d"{cmpId}-emptyEl" data-ref\x3d"emptyEl" class\x3d"{emptyCls}"\x3e{emptyText}\x3c/div\x3e','\x3cinput id\x3d"{cmpId}-inputEl" data-ref\x3d"inputEl" type\x3d"{type}" ','\x3ctpl if\x3d"name"\x3ename\x3d"{name}" \x3c/tpl\x3e','\x3ctpl if\x3d"value"\x3e value\x3d"{[Ext.util.Format.htmlEncode(values.value)]}"\x3c/tpl\x3e','\x3ctpl if\x3d"size"\x3esize\x3d"{size}" \x3c/tpl\x3e',
'\x3ctpl if\x3d"tabIdx !\x3d null"\x3etabindex\x3d"{tabIdx}" \x3c/tpl\x3e','\x3ctpl if\x3d"disabled"\x3e disabled\x3d"disabled"\x3c/tpl\x3e','class\x3d"'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls}" autocomplete\x3d"off"\x3e',"\x3c/li\x3e","\x3c/ul\x3e","\x3c/div\x3e",{disableFormats:!0}],childEls:["listWrapper","itemList","inputEl","inputElCt","emptyEl"],emptyInputCls:Ext.baseCSSPrefix+"tagfield-emptyinput",initComponent:function(){var a=this.typeAhead,b=this.delimiter;a&&!this.editable&&
Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.");this.typeAhead=!1;this.listConfig=Ext.apply({refreshSelmodelOnRefresh:!1},this.listConfig);this.selectionModel=new Ext.selection.Model({mode:"MULTI",lastFocused:null,onSelectChange:function(a,b,e,g){g()}});this.callParent();this.typeAhead=a;b&&this.multiSelect&&(this.delimiterRegexp=RegExp(Ext.String.escapeRegex(b)))},initEvents:function(){this.callParent(arguments);if(!this.enableKeyEvents)this.inputEl.on("keydown",
this.onKeyDown,this);this.inputEl.on("paste",this.onPaste,this);this.listWrapper.on("click",this.onItemListClick,this);this.selectionModel.on({scope:this,selectionchange:this.onSelectionChange,focuschange:this.onFocusChange})},onBindStore:function(a){var b=this,c=b.selectedFilter,d;a&&(b.valueStore=d=new Ext.data.Store({model:a.getModel()}),d.on("datachanged",b.onValueStoreChange,b),b.selectionModel.bindStore(d),b.filterPickList&&(c||(b.selectedFilter=c=new Ext.util.Filter({filterFn:function(a){return!b.valueStore.contains(a)}})),
a.addFilter(c)))},onUnbindStore:function(a){var b=this.valueStore;b&&(b.destroy(),this.valueStore=null);this.filterPickList&&a.removeFilter(this.selectedFilter);this.callParent(arguments)},onValueStoreChange:function(){var a=this.store.getFilters();this.filterPickList&&a.add(this.selectedFilter);this.applyMultiselectItemMarkup()},onSelectionChange:function(a,b){this.applyMultiselectItemMarkup();this.fireEvent("valueselectionchange",this,b)},onFocusChange:function(a,b,c){this.fireEvent("valuefocuschange",
this,b,c)},createPicker:function(){var a=this.callParent(arguments);this.mon(a,"beforerefresh",this.onBeforeListRefresh,this);return a},onDestroy:function(){this.selectionModel=Ext.destroy(this.selectionModel);this.callParent(arguments)},getSubTplData:function(a){var b=this.callParent(arguments),c=this.emptyText,d=this.emptyInputCls,e=c&&1>b.value.length;b.value="";b.emptyText=e?c:"";b.emptyCls=e?this.emptyCls:d;b.inputElCls=e?d:"";return b},afterRender:function(){var a=this.listWrapper,b=this.itemList,
c=this.growMin,d=this.growMax;Ext.supports.Placeholder&&(this.inputEl&&this.emptyText)&&delete this.inputEl.dom.placeholder;this.bodyEl.applyStyles("vertical-align:top");this.grow&&(Ext.isNumber(c)&&0<c&&a.applyStyles("min-height:"+c+"px"),Ext.isNumber(d)&&0<d&&a.applyStyles("max-height:"+d+"px"));!0===this.stacked&&b.addCls(Ext.baseCSSPrefix+"tagfield-stacked");this.multiSelect||b.addCls(Ext.baseCSSPrefix+"tagfield-singleselect");this.applyMultiselectItemMarkup();this.callParent(arguments)},findRecord:function(a,
b){var c=this.store,d;c&&(d=c.queryBy(function(c){return c.isEqual(c.get(a),b)}));return d||!1},onLoad:function(){var a=this,b=a.valueField,c=a.valueStore,d=!1;if(c&&(!Ext.isEmpty(a.value)&&0===c.getCount()&&a.setValue(a.value,!1,!0),c.suspendEvents(),c.each(function(e){var g=a.findRecord(b,e.get(b));e=g?c.indexOf(e):-1;0<=e&&(c.removeAt(e),c.insert(e,g),d=!0)}),c.resumeEvents(),d))a.onValueStoreChange();a.callParent(arguments)},isFilteredRecord:function(a){var b=this.store,c=this.valueField,d=!1,
e;e=b.findExact(c,a.get(c));return d=(d=-1===e&&(!b.snapshot||!1!==this.findRecord(c,a.get(c))))||!d&&-1===e&&!0!==this.forceSelection&&0<=this.valueStore.findExact(c,a.get(c))},doRawQuery:function(){var a=this.inputEl.dom.value;this.multiSelect&&(a=a.split(this.delimiter).pop());this.doQuery(a,!1,!0)},onBeforeListRefresh:function(){this.ignoreSelection++},onListRefresh:function(){this.callParent(arguments);0<this.ignoreSelection&&--this.ignoreSelection},onListSelectionChange:function(a,b){var c=
this,d=c.valueStore,e=[],g;if(0>=c.ignoreSelection&&c.isExpanded){d.each(function(a){(Ext.Array.contains(b,a)||c.isFilteredRecord(a))&&e.push(a)});e=Ext.Array.merge(e,b);g=Ext.Array.intersect(e,d.getRange()).length;if(g!=e.length||g!=c.valueStore.getCount())c.setValue(e,!1),(!c.multiSelect||!c.pinList)&&Ext.defer(c.collapse,1,c),0<d.getCount()&&c.fireEvent("select",c,d.getRange());c.pinList||(c.inputEl.dom.value="");Ext.supports.TouchEvents||(c.inputEl.focus(),c.selectOnFocus&&c.inputEl.dom.select())}},
syncSelection:function(){var a=this.picker,b=this.valueField,c,d;a&&(c=a.store,d=[],this.valueStore&&this.valueStore.each(function(a){a=c.findExact(b,a.get(b));0<=a&&d.push(c.getAt(a))}),this.ignoreSelection++,a=a.getSelectionModel(),a.deselectAll(),0<d.length&&a.select(d),0<this.ignoreSelection&&--this.ignoreSelection)},getCursorPosition:function(){var a;document.selection?(a=document.selection.createRange(),a.collapse(!0),a.moveStart("character",-this.inputEl.dom.value.length),a=a.text.length):
a=this.inputEl.dom.selectionStart;return a},hasSelectedText:function(){var a=this.inputEl.dom,b;return document.selection?(b=document.selection,b=b.createRange(),b.parentElement()===a):a.selectionStart!==a.selectionEnd},onKeyDown:function(a){var b=a.getKey(),c=this.inputEl,d=c.dom.value,e=this.valueStore,g=this.selectionModel,h=!1;if(!this.readOnly&&!this.disabled&&this.editable){if(this.isExpanded&&b===a.A&&a.ctrlKey)this.select(this.getStore().getRange()),g.setLastFocused(null),g.deselectAll(),
this.collapse(),c.focus(),h=!0;else if(0<e.getCount()&&(""===d||0===this.getCursorPosition()&&!this.hasSelectedText()))d=0<g.getCount()?e.indexOf(g.getLastSelected()||g.getLastFocused()):-1,b===a.BACKSPACE||b===a.DELETE?(-1<d?(1<g.getCount()&&(d=-1),e.remove(g.getSelection())):e.remove(e.last()),g.clearSelections(),this.setValue(e.getRange()),0<d&&g.select(d-1),h=!0):b===a.RIGHT||b===a.LEFT?-1===d&&b===a.LEFT?(g.select(e.last()),h=!0):-1<d&&(b===a.RIGHT?d<e.getCount()-1?(g.select(d+1,a.shiftKey),
h=!0):a.shiftKey||(g.setLastFocused(null),g.deselectAll(),h=!0):b===a.LEFT&&0<d&&(g.select(d-1,a.shiftKey),h=!0)):b===a.A&&a.ctrlKey&&(g.selectAll(),h=a.A),c.focus();h?(this.preventKeyUpEvent=h,a.stopEvent()):(this.isExpanded&&(b===a.ENTER&&this.picker.highlightedItem)&&(this.preventKeyUpEvent=!0),this.enableKeyEvents&&this.callParent(arguments),!a.isSpecialKey()&&!a.hasModifier()&&(g.setLastFocused(null),g.deselectAll(),c.focus()))}},onKeyUp:function(a,b){var c=this.inputEl,d=c.dom.value,e=this.preventKeyUpEvent;
if(this.preventKeyUpEvent)a.stopEvent(),(!0===e||a.getKey()===e)&&delete this.preventKeyUpEvent;else{if(this.multiSelect&&this.delimiterRegexp&&this.delimiterRegexp.test(d)||!0===this.createNewOnEnter&&a.getKey()===a.ENTER)d=Ext.Array.clean(d.split(this.delimiterRegexp)),c.dom.value="",this.setValue(this.valueStore.getRange().concat(d)),c.focus();this.callParent([a,b])}},onPaste:function(a){var b=this.inputEl,c=b.dom.value;a=a&&a.browserEvent&&a.browserEvent.clipboardData?a.browserEvent.clipboardData:
!1;this.multiSelect&&(this.delimiterRegexp&&this.delimiterRegexp.test(c))&&(a&&a.getData&&(/text\/plain/.test(a.types)?c=a.getData("text/plain"):/text\/html/.test(a.types)&&(c=a.getData("text/html"))),c=Ext.Array.clean(c.split(this.delimiterRegexp)),b.dom.value="",this.setValue(this.valueStore.getRange().concat(c)),b.focus())},onTypeAhead:function(){var a=this.displayField,b=this.inputEl.dom,c=this.getPicker(),d=this.store.findRecord(a,b.value),e,g;d&&(a=d.get(a),e=a.length,g=b.value.length,c.highlightItem(c.getNode(d)),
0!==g&&g!==e&&(b.value=a,this.selectText(g,a.length)))},onItemListClick:function(a){var b=this.selectionModel,c=a.getTarget("."+Ext.baseCSSPrefix+"tagfield-item"),d=c?a.getTarget("."+Ext.baseCSSPrefix+"tagfield-item-close"):!1;if(!this.readOnly&&!this.disabled)if(a.stopPropagation(),c)d?(this.removeByListItemNode(c),0<this.valueStore.getCount()&&this.fireEvent("select",this,this.valueStore.getRange())):this.toggleSelectionByListItemNode(c,a.shiftKey),Ext.supports.TouchEvents||this.inputEl.focus();
else if(0<b.getCount()&&(b.setLastFocused(null),b.deselectAll()),this.triggerOnClick)this.onTriggerClick()},getMultiSelectItemMarkup:function(){var a=this;a.multiSelectItemTpl||(a.labelTpl||(a.labelTpl="{"+a.displayField+"}"),a.labelTpl=a.getTpl("labelTpl"),a.multiSelectItemTpl=new Ext.XTemplate(['\x3ctpl for\x3d"."\x3e','\x3cli class\x3d"    '+Ext.baseCSSPrefix+"tagfield-item ",'\x3ctpl if\x3d"this.isSelected(values)"\x3e'," selected","\x3c/tpl\x3e","{%","values \x3d values.data;","%}",'" qtip\x3d"{'+
a.displayField+'}"\x3e','\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'tagfield-item-text"\x3e{[this.getItemLabel(values)]}\x3c/div\x3e','\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'tagfield-item-close"\x3e\x3c/div\x3e',"\x3c/li\x3e","\x3c/tpl\x3e",{isSelected:function(b){return a.selectionModel.isSelected(b)},getItemLabel:function(b){return a.labelTpl.apply(b)}}]));a.multiSelectItemTpl.isTemplate||(a.multiSelectItemTpl=this.getTpl("multiSelectItemTpl"));return a.multiSelectItemTpl.apply(this.valueStore.getRange())},
applyMultiselectItemMarkup:function(){var a=this,b;if(a.itemList){for(;b=a.inputElCt.prev();)b.destroy();a.inputElCt.insertHtml("beforeBegin",a.getMultiSelectItemMarkup())}Ext.GlobalEvents.on({idle:function(){a.picker&&a.isExpanded&&a.alignPicker();a.hasFocus&&(a.inputElCt&&a.listWrapper)&&a.inputElCt.scrollIntoView(a.listWrapper)},single:!0})},getRecordByListItemNode:function(a){for(var b=0,c=this.itemList.dom.firstChild;c&&c.nextSibling&&c!=a;)b++,c=c.nextSibling;b=c==a?b:!1;return!1===b?!1:this.valueStore.getAt(b)},
toggleSelectionByListItemNode:function(a,b){var c=this.getRecordByListItemNode(a),d=this.selectionModel;c&&(d.isSelected(c)?(d.isFocused(c)&&d.setLastFocused(null),d.deselect(c)):d.select(c,b))},removeByListItemNode:function(a){if(a=this.getRecordByListItemNode(a))this.valueStore.remove(a),this.setValue(this.valueStore.getRange())},getRawValue:function(){var a=this.inputEl,b;this.inputEl=!1;b=this.callParent(arguments);this.inputEl=a;return b},setRawValue:function(a){var b=this.inputEl;this.inputEl=
!1;a=this.callParent([a]);this.inputEl=b;return a},addValue:function(a){a&&this.setValue(Ext.Array.merge(this.value,Ext.Array.from(a)))},removeValue:function(a){a&&this.setValue(Ext.Array.difference(this.value,Ext.Array.from(a)))},setValue:function(a,b,c){var d=this,e=d.valueStore,g=d.valueField,h=[],j,k,l,m;Ext.isEmpty(a)&&(a=null);Ext.isString(a)&&d.multiSelect&&(a=a.split(d.delimiter));a=Ext.Array.from(a,!0);l=0;for(k=a.length;l<k;l++)if(j=a[l],!j||!j.isModel)m=e.findExact(g,j),0<=m?a[l]=e.getAt(m):
(m=d.findRecord(g,j),m||(d.forceSelection?h.push(j):(m={},m[d.valueField]=j,m[d.displayField]=j,j=d.valueStore.getModel(),m=new j(m))),m&&(a[l]=m));if(!0!==c&&0<h.length&&"remote"===d.queryMode)return c={},c[d.valueParam||d.valueField]=h.join(d.delimiter),d.store.load({params:c,callback:function(){d.itemList&&d.itemList.unmask();d.setValue(a,b,!0);d.autoSize();d.lastQuery=!1}}),!1;if(!d.multiSelect&&0<a.length){for(l=a.length-1;0<=l;l--)if(a[l].isModel){a=a[l];break}Ext.isArray(a)&&(a=a[a.length-
1])}return d.callParent([a,b])},getValueRecords:function(){return this.valueStore.getRange()},getSubmitData:function(){var a=this.callParent(arguments);this.multiSelect&&(this.encodeSubmitValue&&a&&a[this.name])&&(a[this.name]=Ext.encode(a[this.name]));return a},mimicBlur:function(){this.selectOnTab&&(this.picker&&this.picker.highlightedItem)&&(this.inputEl.dom.value="");this.callParent(arguments)},assertValue:function(){var a=this.inputEl.dom.value,b=!Ext.isEmpty(a)?this.findRecordByDisplay(a):!1,
c=!1;!b&&!this.forceSelection&&this.createNewOnBlur&&!Ext.isEmpty(a)?c=a:b&&(c=b);c&&this.addValue(c);this.inputEl.dom.value="";this.collapse()},checkChange:function(){if(!this.suspendCheckChange&&!this.isDestroyed){var a=this.valueStore,b=this.lastValue||"",c=this.valueField,d=Ext.Array.map(Ext.Array.from(this.value),function(a){return a.isModel?a.get(c):a},this).join(this.delimiter),e=this.isEqual(d,b);if(!e||0<d.length&&a.getCount()<this.value.length)a.suspendEvents(),a.removeAll(),Ext.isArray(this.valueModels)&&
a.add(this.valueModels),a.resumeEvents(),a.fireEvent("datachanged",a),e||(this.lastValue=d,this.fireEvent("change",this,d,b),this.onChange(d,b))}},isEqual:function(a,b){var c=Ext.Array.from,d=this.valueField,e,g,h;a=c(a);b=c(b);e=a.length;if(e!==b.length)return!1;for(c=0;c<e;c++)if(g=a[c].isModel?a[c].get(d):a[c],h=b[c].isModel?b[c].get(d):b[c],g!==h)return!1;return!0},applyEmptyText:function(){var a=this.emptyText,b=this.emptyEl,c=this.inputEl,d=this.listWrapper,e=this.emptyCls,g=this.emptyInputCls,
h;this.rendered&&a&&((h=Ext.isEmpty(this.value)&&!this.hasFocus)?(c.dom.value="",b.setHtml(a),b.addCls(e),b.removeCls(g),d.addCls(e),c.addCls(g)):(b.addCls(g),b.removeCls(e),d.removeCls(e),c.removeCls(g)),this.autoSize())},preFocus:function(){var a=this.inputEl,b=""===a.dom.value;this.emptyEl.addCls(this.emptyInputCls);this.emptyEl.removeCls(this.emptyCls);this.listWrapper.removeCls(this.emptyCls);this.inputEl.removeCls(this.emptyInputCls);(this.selectOnFocus||b)&&a.dom.select()},onFocus:function(){var a=
this.focusCls,b=this.itemList;a&&b&&b.addCls(a);this.callParent(arguments)},onBlur:function(){var a=this.focusCls,b=this.itemList;a&&b&&b.removeCls(a);this.callParent(arguments)},renderActiveError:function(){var a=this.invalidCls,b=this.itemList,c=this.hasActiveError();if(a&&b)b[c?"addCls":"removeCls"](this.invalidCls+"-field");this.callParent(arguments)},autoSize:function(){this.grow&&this.rendered&&(this.autoSizing=!0,this.updateLayout());return this},afterComponentLayout:function(){var a;this.autoSizing&&
(a=this.getHeight(),a!==this.lastInputHeight&&(this.isExpanded&&this.alignPicker(),this.fireEvent("autosize",this,a),this.lastInputHeight=a,this.autoSizing=!1))}});
Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:!1,initComponent:function(){var a=Ext.Date,b=a.clearTime,c=this.initDate;this.absMin=b(new Date(c[0],c[1],c[2]));this.absMax=a.add(b(new Date(c[0],c[1],c[2])),"mi",1439);this.store=this.createStore();this.updateList();this.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=
a;this.updateList()},normalizeDate:function(a){var b=this.initDate;a.setFullYear(b[0],b[1],b[2]);return a},updateList:function(){var a=this.normalizeDate(this.minValue||this.absMin),b=this.normalizeDate(this.maxValue||this.absMax),c=this.getStore().getFilters(),d=this.rangeFilter;c.beginUpdate();d&&c.remove(d);d=this.rangeFilter=new Ext.util.Filter({filterFn:function(c){c=c.get("date");return c>=a&&c<=b}});c.add(d);c.endUpdate()},createStore:function(){for(var a=Ext.Date,b=[],c=this.absMin,d=this.absMax;c<=
d;)b.push({disp:a.dateFormat(c,this.format),date:c}),c=a.add(c,"mi",this.increment);return new Ext.data.Store({model:this.modelType,autoDestroy:!0,data:b})}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})});
Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,
pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var a=this.minValue,b=this.maxValue;a&&this.setMinValue(a);b&&this.setMaxValue(b);this.store=this.getPicker().store;this.displayTpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e{[typeof values \x3d\x3d\x3d "string" ? values : this.formatDate(values["'+
this.displayField+'"])]}\x3ctpl if\x3d"xindex \x3c xcount"\x3e'+this.delimiter+"\x3c/tpl\x3e\x3c/tpl\x3e",{formatDate:this.formatDate.bind(this)});this.callParent()},isEqual:function(a,b){var c=Ext.Array.from,d=Ext.Date.isEqual,e;a=c(a);b=c(b);e=a.length;if(e!==b.length)return!1;for(c=0;c<e;c++)if(!d(b[c],a[c]))return!1;return!0},setMinValue:function(a){var b=this.picker;this.setLimit(a,!0);b&&b.setMinValue(this.minValue)},setMaxValue:function(a){var b=this.picker;this.setLimit(a,!1);b&&b.setMaxValue(this.maxValue)},
setLimit:function(a,b){var c,d;Ext.isString(a)?c=this.parseDate(a):Ext.isDate(a)&&(c=a);c?(d=this.getInitDate(),d.setHours(c.getHours(),c.getMinutes(),c.getSeconds(),c.getMilliseconds())):d=null;this[b?"minValue":"maxValue"]=d},getInitDate:function(a,b,c){var d=this.initDateParts;return new Date(d[0],d[1],d[2],a||0,b||0,c||0,0)},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(a){a=0<arguments.length?a:this.getRawValue();var b=Ext.String.format,c=this.callParent([a]),
d=this.minValue,e=this.maxValue,g=this.displayTplData,h=this.getRawValue(),j,k,l;if(g&&0<g.length){h=0;for(j=g.length;h<j;h++)l=g[h],l=l.date||l.disp,(k=this.parseDate(l))?(d&&k<d&&c.push(b(this.minText,this.formatDate(d))),e&&k>e&&c.push(b(this.maxText,this.formatDate(e)))):c.push(b(this.invalidText,l,Ext.Date.unescapeFormat(this.format)))}else h.length&&!this.parseDate(h)&&c.push(b(this.invalidText,h,Ext.Date.unescapeFormat(this.format)));return c},formatDate:function(a){var b=[],c,d;a=Ext.Array.from(a);
c=0;for(d=a.length;c<d;c++)b.push(Ext.form.field.Date.prototype.formatDate.call(this,a[c]));return b.join(this.delimiter)},parseDate:function(a){var b=a,c=this.altFormats,d=this.altFormatsArray,e=0;if(a&&!Ext.isDate(a)&&(b=this.safeParse(a,this.format),!b&&c)){d=d||c.split("|");for(c=d.length;e<c&&!b;++e)b=this.safeParse(a,d[e])}b&&this.snapToIncrement&&(b=new Date(Ext.Number.snap(b.getTime(),6E4*this.increment)));return b},safeParse:function(a,b){var c=Ext.Date,d=null;c.formatContainsDateInfo(b)?
d=c.parse(a,b):(c=c.parse(this.initDate+" "+a,this.initDateFormat+" "+b))&&(d=c);return d},getSubmitValue:function(){var a=this.submitFormat||this.format,b=this.getValue();return b?Ext.Date.format(b,a):null},createPicker:function(){this.listConfig=Ext.apply({xtype:"timepicker",pickerField:this,selModel:{mode:this.multiSelect?"SIMPLE":"SINGLE"},cls:void 0,minValue:this.minValue,maxValue:this.maxValue,increment:this.increment,format:this.format,maxHeight:this.pickerMaxHeight},this.listConfig);return this.callParent()},
onItemClick:function(a,b){var c=a.getSelectionModel().getSelection();!this.multiSelect&&c.length&&0<c.length&&(c=c[0])&&Ext.Date.isEqual(b.get("date"),c.get("date"))&&this.collapse()},syncSelection:function(){var a=this.picker,b=Ext.Date.isEqual,c=[],d,e,g,h,j,k,l,m;if(a){a.clearHighlight();e=this.getValue();d=a.getSelectionModel();this.ignoreSelection++;if(null===e)d.deselectAll();else{e=Ext.Array.from(e);j=a.store.data.items;l=j.length;a=0;for(g=e.length;a<g;a++)if(h=e[a],Ext.isDate(h)){for(k=0;k<
l&&!(m=j[k],b(m.get("date"),h)&&(c.push(m),!this.multiSelect));k++);c.length&&d.select(c)}}this.ignoreSelection--}},postBlur:function(){var a=this.getValue();this.callParent(arguments);this.validateValue(a)&&this.setValue(a)},findRecordByValue:function(a){"string"===typeof a&&(a=this.parseDate(a));return this.callParent([a])},rawToValue:function(a){var b,c,d;if(this.multiSelect){b=[];a=Ext.Array.from(a);c=0;for(d=a.length;c<d;c++)b.push(this.parseDate(a[c]));return b}return this.parseDate(a)},setValue:function(a){this.getPicker();
Ext.isDate(a)&&(a=this.getInitDate(a.getHours(),a.getMinutes(),a.getSeconds()));return this.callParent([a])},getValue:function(){return this.rawToValue(this.callParent(arguments))}});
Ext.define("Ext.form.field.Trigger",{extend:Ext.form.field.Text,alias:["widget.triggerfield","widget.trigger"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){Ext.log.warn("Ext.form.field.Trigger is deprecated. Use Ext.form.field.Text instead.")}},onClassExtended:function(){this.warnDeprecated()},constructor:function(a){this.self.warnDeprecated();this.callParent([a])}});
Ext.define("Ext.grid.CellEditor",{extend:Ext.Editor,y:0,constructor:function(a){a=Ext.apply({},a);a.field&&(a.field.monitorTab=!1);this.callParent([a])},setGrid:function(a){var b=this.grid,c;a!==b&&(c={beforerefresh:this.beforeViewRefresh,refresh:this.onViewRefresh,scope:this},b&&b.getView().un(c),b=a.getView(),this.renderTo=b.getTargetEl().dom,this.grid=this.ownerCt=a,b.on(c))},adjustPosition:function(){return{x:0,y:0}},beforeViewRefresh:function(){var a=this.el&&this.el.dom;if(a){if(this.editing&&
(!this.field.column||!this.field.column.sorting))this.grid.containsFocus=!1,this.wasAllowBlur=this.allowBlur,this.allowBlur=!1;a.parentNode&&a.parentNode.removeChild(a)}},onViewRefresh:function(){var a=this.el&&this.el.dom,b;a&&(b=this.field.column&&this.field.column.sorting,this.editing&&!b?(this.allowBlur=this.wasAllowBlur,this.renderTo.appendChild(a),this.grid.containsFocus=!0,this.field.focus()):b||Ext.getDetachedBody().dom.appendChild(a),this.editing&&b&&this.completeEdit())},onShow:function(){var a=
this.boundEl.first();this.el.dom.parentNode!==this.renderTo&&this.renderTo.appendChild(this.el.dom);a&&(this.isForTree&&(a=a.child(this.treeNodeSelector)),a.hide());this.callParent(arguments)},onEditComplete:function(a){a&&this.restoreCell();this.callParent(arguments)},onHide:function(){this.restoreCell();this.callParent(arguments)},restoreCell:function(){var a=this.boundEl.first();a&&(this.isForTree&&(a=a.child(this.treeNodeSelector)),a.show())},afterRender:function(){var a=this.field;this.callParent(arguments);
a.isCheckbox&&a.mon(a.inputEl,{mousedown:this.onCheckBoxMouseDown,click:this.onCheckBoxClick,scope:this});Ext.on("mousedown",this.onDocMouseDown,this)},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onDocMouseDown:function(a){var b=this.field;b&&(b.hasFocus&&!b.owns(a.target))&&b.blur()},onCheckBoxClick:function(){delete this.completeEdit;this.field.focus(!1,10)},realign:function(a){var b=this.boundEl,c=b.first(),d=c.dom.firstChild,e=b.getWidth(),g=Ext.Array.clone(this.offsets),h=this.grid,
j="",k=!d||3===d.nodeType&&!Ext.String.trim(j=d.data).length;this.isForTree&&(d=this.getTreeNodeOffset(c),e-=Math.abs(d),g[0]+=d);h.columnLines&&(e-=b.getBorderWidth("rl"));!0===a&&this.field.setWidth(e);k&&(c.dom.innerHTML="X");this.alignTo(c,this.alignment,g);k&&(c.dom.firstChild.data=j)},getTreeNodeOffset:function(a){return a.child(this.treeNodeSelector).getOffsetsTo(a)[0]},onEditorTab:function(a){var b=this.field;if(b.onEditorTab)b.onEditorTab(a)},onFieldBlur:function(){this.callParent(arguments);
this.selectSameEditor=!1},alignment:"l-l",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1});Ext.define("Ext.rtl.grid.CellEditor",{override:"Ext.grid.CellEditor",getTreeNodeOffset:function(a){var b=this.callParent(arguments);this.editingPlugin.grid.isOppositeRootDirection()&&(b=-(a.getWidth()-b-a.child(this.treeNodeSelector).getWidth()));return b}});
Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(a,b,c){!b.isRootHeader&&!b.isGroupHeader&&Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header");this.headerCt=b;c&&(!b.isRootHeader&&!b.isGroupHeader&&Ext.Error.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.secondHeaderCt=c);this.visibleOnly=!!a},getColumns:function(){this.columns||this.cacheColumns();
return this.columns},hasVariableRowHeight:function(){var a=this.getColumns(),b=a.length,c;if(null==this.variableRowHeight){this.variableRowHeight=!1;for(c=0;!this.variableRowHeight&&c<b;c++)this.variableRowHeight=!!a[c].variableRowHeight}return this.variableRowHeight},getHeaderIndex:function(a){a.isGroupHeader&&(a=this.getHeaderColumns(a)[0]);return Ext.Array.indexOf(this.getColumns(),a)},getHeaderAtIndex:function(a){return this.getColumns()[a]||null},getPreviousSibling:function(a){a=this.getHeaderIndex(a);
var b=null;0<a&&(b=this.getColumns()[a-1]);return b},getNextSibling:function(a){a=this.getHeaderIndex(a);var b;-1!==a&&(b=this.getColumns()[a+1]);return b||null},getFirst:function(){var a=this.getColumns();return 0<a.length?a[0]:null},getLast:function(){var a=this.getColumns(),b=a.length;return 0<b?a[b-1]:null},getHeaderByDataIndex:function(a){var b=this.getColumns(),c=b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.dataIndex===a)return e;return null},getHeaderById:function(a){var b=this.getColumns(),c=
b.length,d,e;for(d=0;d<c;++d)if(e=b[d],e.getItemId()===a)return e;return null},getVisibleHeaderClosestToIndex:function(a){(a=this.getHeaderAtIndex(a))&&a.hidden&&(a=a.next(":not([hidden])")||a.prev(":not([hidden])"));return a},cacheColumns:function(){var a=this.getHeaderColumns(this.headerCt),b=this.secondHeaderCt;b&&(a=a.concat(this.getHeaderColumns(b)));this.columns=a},getHeaderColumns:function(a){a=this.visibleOnly?a.getVisibleGridColumns():a.getGridColumns();return Ext.Array.clone(a)},invalidate:function(){var a=
this.rootColumns;this.columns=this.variableRowHeight=null;a&&a.invalidate()},destroy:function(){this.columns=this.rootColumns=null}},function(){this.createAlias("indexOf","getHeaderIndex")});
Ext.define("Ext.grid.RowEditorButtons",{extend:Ext.container.Container,alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",constructor:function(a){var b=a.rowEditor,c=Ext.baseCSSPrefix,d=b.editingPlugin;a=Ext.apply({baseCls:c+"grid-row-editor-buttons",defaults:{xtype:"button",ui:b.buttonUI,scope:d,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:c+"row-editor-update-button",itemId:"update",handler:d.completeEdit,text:b.saveBtnText,disabled:b.updateButtonDisabled},
{cls:c+"row-editor-cancel-button",handler:d.cancelEdit,text:b.cancelBtnText}]},a);this.callParent([a]);this.addClsWithUI(this.position)},setButtonPosition:function(a){var b=this.rowEditor,c=b.getHeight(),b=b.body,d="",e="";this.removeClsWithUI(this.position);this.position=a;this.addClsWithUI(a);"top"===a?d=c-b.getBorderWidth("t")+"px":e=c-b.getBorderWidth("b")+"px";this.el.setStyle({top:e,bottom:d})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var a=
this.callParent();a.top=!0;return a}}});
Ext.define("Ext.grid.RowEditor",{extend:Ext.form.Panel,alias:"widget.roweditor",saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",initComponent:function(){var a=this.editingPlugin.grid,b=Ext.container.Container;this.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor";this.layout=
{type:"hbox",align:"middle"};(this.lockable=a.lockable)?this.items=[this.lockedColumnContainer=new b({id:a.id+"-locked-editor-cells",layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),this.normalColumnContainer=new b({flex:1,id:a.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})]:this.lockedColumnContainer=this.normalColumnContainer=this;this.callParent(arguments);this.fields&&(this.addFieldsForColumn(this.fields,!0),this.insertColumnEditor(this.fields),delete this.fields);this.mon(Ext.GlobalEvents,
{scope:this,show:this.repositionIfVisible});a=this.getForm();a.trackResetOnLoad=!0;a.on("validitychange",this.onValidityChange,this);a.on("errorchange",this.onErrorChange,this)},onGridResize:function(){var a=this.getClientWidth(),b=this.editingPlugin.grid,c=b.body,d=this.getFloatingButtons();this.setLocalX(c.getOffsetsTo(b)[0]+c.getBorderWidth("l")-b.el.getBorderWidth("l"));this.setWidth(a);d.setLocalX((a-d.getWidth())/2)},syncAllFieldWidths:function(){var a=this;Ext.Array.each(a.query("[isEditorComponent]"),
function(b){if(b.column.isVisible())a.onColumnShow(b.column)},a)},syncFieldWidth:function(a){var b=a.getEditor();b._marginWidth=b._marginWidth||b.el.getMargin("lr");a=a.getWidth()-b._marginWidth;b.setWidth(a);"displayfield"===b.xtype&&(b.inputWidth=a)},onValidityChange:function(a,b){this.updateButton(b);this.isValid=b},onErrorChange:function(){var a;this.errorSummary&&this.isVisible()&&(a=this.getForm().isValid(),this[a?"hideToolTip":"showToolTip"]())},updateButton:function(a){var b=this.floatingButtons;
b?b.child("#update").setDisabled(!a):this.updateButtonDisabled=!a},afterRender:function(){var a=this.editingPlugin,b=a.grid,c=b.lockable?b.normalGrid.view:b.view;this.callParent(arguments);this.scrollingView=c;this.scrollingViewEl=c.el;c.on("scroll",this.onViewScroll,this);this.mon(this.el,{click:Ext.emptyFn,stopPropagation:!0});this.mon(b,{resize:this.onGridResize,scope:this});this.el.swallowEvent(["keypress","keydown"]);this.fieldScroller=this.normalColumnContainer.layout.innerCt;this.fieldScroller.dom.style.overflow=
"hidden";this.fieldScroller.on({scroll:this.onFieldContainerScroll,scope:this});this.initKeyNav();this.mon(a.view,{beforerefresh:this.onBeforeViewRefresh,refresh:this.onViewRefresh,itemremove:this.onViewItemRemove,scope:this});this.preventReposition=!0;this.syncAllFieldWidths();delete this.preventReposition},initKeyNav:function(){var a=this.editingPlugin;this.keyNav=new Ext.util.KeyNav(this.el,{enter:a.completeEdit,esc:a.onEscKey,scope:a})},onBeforeViewRefresh:function(a){a=a.el.dom;this.el.dom.parentNode===
a&&a.removeChild(this.el.dom)},onViewRefresh:function(a){var b=this.context,c;b&&(c=a.getRow(b.record))?(b.row=c,this.reposition(),this.tooltip&&this.tooltip.isVisible()&&this.tooltip.setTarget(b.row)):this.editingPlugin.cancelEdit()},onViewItemRemove:function(a,b,c,d){d.refreshing||(b=this.context)&&a===b.record&&this.editingPlugin.cancelEdit()},onViewScroll:function(){var a=this.editingPlugin.view.el,b=this.scrollingView,c=b.getScrollY(),d=b.getScrollX(),b=d!==this.lastScrollLeft,e=c!==this.lastScrollTop;
this.lastScrollTop=c;this.lastScrollLeft=d;this.isVisible()&&((c=Ext.getDom(this.context.row))&&a.contains(c)?e&&(this.context.row=c,this.reposition(null,!0),(this.tooltip&&this.tooltip.isVisible()||this.hiddenTip)&&this.repositionTip(),this.syncEditorClip()):this.setLocalY(-400));this.rendered&&b&&this.syncFieldsHorizontalScroll()},syncFieldsHorizontalScroll:function(){this.fieldScroller.setScrollLeft(this.lastScrollLeft)},onFieldContainerScroll:function(){this.scrollingView.setScrollX(this.getFieldScrollerScrollX())},
getFieldScrollerScrollX:function(){return this.fieldScroller.getScrollLeft()},onColumnResize:function(a){this.rendered&&!this.editingPlugin.reconfiguring&&(this.onGridResize(),this.onViewScroll(),a.isGroupHeader||(this.syncFieldWidth(a),this.repositionIfVisible()))},onColumnHide:function(a){!this.editingPlugin.reconfiguring&&!a.isGroupHeader&&(a.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(a){this.rendered&&(!this.editingPlugin.reconfiguring&&!a.isGroupHeader&&a.getEditor)&&
(a.getEditor().show(),this.syncFieldWidth(a),this.preventReposition||this.repositionIfVisible())},onColumnMove:function(a,b,c){var d=a.isLocked()?this.lockedColumnContainer:this.normalColumnContainer,e,g,h,j;if(a.isGroupHeader){Ext.suspendLayouts();j=(h=c>b)?1:0;b=a.getGridColumns();e=0;for(g=b.length;e<g;++e)a=b[e],c=a.getIndex(),h&&++j,this.setColumnEditor(a,c+j,d);Ext.resumeLayouts(!0)}else this.setColumnEditor(a,a.getIndex(),d)},setColumnEditor:function(a,b,c){this.addFieldsForColumn(a);c.insert(b,
a.getEditor())},onColumnAdd:function(a){a.isGroupHeader&&(a=a.getGridColumns());this.addFieldsForColumn(a);this.insertColumnEditor(a);this.preventReposition=!1},insertColumnEditor:function(a){var b,c;if(Ext.isArray(a)){c=0;for(b=a.length;c<b;c++)this.insertColumnEditor(a[c])}else a.getEditor&&(b=a.isLocked()?this.lockedColumnContainer:this.normalColumnContainer,b.insert(a.getIndex(),a.getEditor()),this.needsSyncFieldWidths=!0)},destroyColumnEditor:function(a){var b,c;if(Ext.isArray(a)){c=0;for(b=
a.length;c<b;c++)this.removeColumnEditor(a[c])}else a.hasEditor()&&(b=a.getEditor())&&b.destroy()},getFloatingButtons:function(){var a=this.floatingButtons;a||(this.floatingButtons=a=new Ext.grid.RowEditorButtons({rowEditor:this}));return a},repositionIfVisible:function(a){var b=this.view;(!a||a!==this&&a.el.isAncestor(b.el))&&this.isVisible()&&b.isVisible(!0)&&this.reposition()},isDescendantOf:function(){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(a){var b;
this.lockable?(b=[this.lockedColumnContainer],b.push.apply(b,this.lockedColumnContainer.getRefItems(a)),b.push(this.normalColumnContainer),b.push.apply(b,this.normalColumnContainer.getRefItems(a))):b=this.callParent(arguments);b.push.apply(b,this.getFloatingButtons().getRefItems(a));return b},reposition:function(a,b){var c=this,d=c.context,e=d&&d.row,d=0,g,h;e&&Ext.isElement(e)&&(g=c.syncButtonPosition(c.getScrollDelta()),c.editingPlugin.grid.rowLines||(d=-parseInt(Ext.fly(e).first().getStyle("border-bottom-width"),
10)),e=c.calculateLocalRowTop(e),d=c.calculateEditorTop(e)+d,b||(h=function(){g&&c.scrollingViewEl.scrollBy(0,g,!0);c.focusContextCell()}),c.syncEditorClip(),a?c.animate(Ext.applyIf({to:{top:d},duration:a.duration||125,callback:h},a)):(c.setLocalY(d),h&&h()))},getScrollDelta:function(){var a=this.scrollingViewEl.dom,b=this.context,c=this.body,d=0;b&&(d=Ext.fly(b.row).getOffsetsTo(a)[1],0>d?d-=c.getBorderPadding().beforeY:0<d&&(d=Math.max(d+this.getHeight()+this.floatingButtons.getHeight()-a.clientHeight-
c.getBorderWidth("b"),0),0<d&&(d-=c.getBorderPadding().afterY)));return d},calculateLocalRowTop:function(a){var b=this.editingPlugin.grid;return Ext.fly(a).getOffsetsTo(b)[1]-b.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(a){return a-this.body.getBorderPadding().beforeY-this.lastScrollTop},getClientWidth:function(){var a=this.editingPlugin.grid;return this.lockable?a.lockedGrid.getWidth()+a.normalGrid.view.el.dom.clientWidth-1:a.view.el.dom.clientWidth},getEditor:function(a){if(Ext.isNumber(a))return this.query("[isEditorComponent]")[a];
if(a.isHeader&&!a.isGroupHeader)return a.getEditor()},addFieldsForColumn:function(a,b){var c,d;if(Ext.isArray(a)){c=0;for(d=a.length;c<d;c++)this.addFieldsForColumn(a[c],b)}else if(a.getEditor)if(c=a.getEditor(null,this.getDefaultFieldCfg()),"right"===a.align&&(c.fieldStyle="text-align:right"),"actioncolumn"===a.xtype&&(c.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),this.isVisible()&&this.context&&(c.is("displayfield")?this.renderColumnData(c,this.context.record,a):(c.suspendEvents(),
c.setValue(this.context.record.get(a.dataIndex)),c.resumeEvents())),a.hidden)this.onColumnHide(a);else if(a.rendered&&!b)this.onColumnShow(a)},getDefaultFieldCfg:function(){return{xtype:"displayfield",getModelData:function(){return null}}},loadRecord:function(a){var b=this.getForm(),c=b.getFields().items,d=c.length,e;for(e=0;e<d;e++)c[e].suspendEvents();b.loadRecord(a);for(e=0;e<d;e++)c[e].resumeEvents();b.hasInvalidField()===b.wasValid&&delete b.wasValid;d=b.isValid();this.errorSummary&&(d?this.hideToolTip():
this.showToolTip());this.updateButton(d);b=this.query("\x3edisplayfield");d=b.length;for(e=0;e<d;e++)this.renderColumnData(b[e],a)},renderColumnData:function(a,b,c){var d=this.editingPlugin.grid.headerCt,e=this.scrollingView,g=e.dataSource,h=c||a.column;c=b.get(h.dataIndex);var j=h.editRenderer||h.renderer,k,l,m=h.usingDefaultRenderer&&!h.scope?h:h.scope;j&&(k={tdCls:"",style:""},l=g.indexOf(b),h=d.getHeaderIndex(h),c=j.call(m||d.ownerCt,c,k,b,l,h,g,e));a.setRawValue(c);a.resetOriginalValue()},beforeEdit:function(){var a;
if(this.isVisible()&&this.errorSummary&&!this.autoCancel&&this.isDirty())return(a=this.getScrollDelta())&&this.scrollingViewEl.scrollBy(0,a,!0),this.showToolTip(),!1},startEdit:function(a){var b=this.editingPlugin,c=b.grid,b=this.context=b.context;this.rendered?this.syncFieldsHorizontalScroll():(this.width=this.getClientWidth(),this.render(c.el,c.el.dom.firstChild),this.getFloatingButtons().render(this.el),this.onViewScroll());b.grid.getSelectionModel().select(a);this.isVisible()?this.reposition(!0):
this.show();this.onGridResize();this.loadRecord(a)},syncButtonPosition:function(a){var b=this.getFloatingButtons(),c=this.scrollingView,d=c.el.dom;0<this.getScrollDelta()-(d.scrollHeight-c.getScrollY()-this.scrollingViewEl.dom.clientHeight)?(this._buttonsOnTop||(b.setButtonPosition("top"),this._buttonsOnTop=!0),a=0):!1!==this._buttonsOnTop&&(b.setButtonPosition("bottom"),this._buttonsOnTop=!1);return a},syncEditorClip:function(){var a=this.getScrollDelta(),b;a?(this.isOverflowing=!0,b=this.floatingButtons.getHeight(),
0<a?this.clipBottom(Math.max(this.getHeight()-a+b,-b)):0>a&&(a=Math.abs(a),this.clipTop(Math.max(a,0)))):this.isOverflowing&&(this.clearClip(),this.isOverflowing=!1)},focusContextCell:function(){var a=this.context.column;a.isDestroyed||(a=this.getEditor(a))&&a.focus&&a.focus()},cancelEdit:function(){var a=this.getForm(),b=a.getFields().items,c=b.length,d;this.hide();a.clearInvalid();for(d=0;d<c;d++)b[d].suspendEvents();a.reset();for(d=0;d<c;d++)b[d].resumeEvents()},completeEdit:function(){var a=this.getForm();
if(!a.isValid())return!1;a.updateRecord(this.context.record);this.hide();return!0},onShow:function(){this.previousFocus=Ext.Element.getActiveElement();this.callParent(arguments);this.needsSyncFieldWidths&&(this.suspendLayouts(),this.syncAllFieldWidths(),this.resumeLayouts(!0));delete this.needsSyncFieldWidths;this.reposition()},onHide:function(){this.previousFocus.focus();this.callParent(arguments);this.tooltip&&this.hideToolTip();this.context&&(this.context.view.focusRow(this.context.record),this.context=
null)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){return this.tooltip||(this.tooltip=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!1}))},hideToolTip:function(){var a=this.getToolTip();a.rendered&&a.disable();this.hiddenTip=!1},showToolTip:function(){var a=this.getToolTip();a.showAt([0,0]);a.update(this.getErrors());this.repositionTip();a.enable()},
repositionTip:function(){var a=this.getToolTip(),b=Ext.get(this.context.row),c=this.scrollingViewEl,d=this.lastScrollTop,e=d+c.dom.clientHeight,g=b.getHeight(),h=b.getOffsetsTo(this.context.view.body)[1];h+g>d&&h<e?(a.showAt(a.getAlignToXY(c,"tl-tr",[15,b.getOffsetsTo(c)[1]])),this.hiddenTip=!1):(a.hide(),this.hiddenTip=!0)},getErrors:function(){var a=[],b=this.query("\x3e[isFormField]"),c=b.length,d,e,g;for(d=0;d<c;d++)g=b[d],e=g.getErrors(),e.length&&a.push(this.createErrorListItem(e[0],g.column.text));
!a.length&&(!this.autoCancel&&this.isDirty())&&(a[0]=this.createErrorListItem(this.dirtyText));return'\x3cul class\x3d"'+Ext.plainListCls+'"\x3e'+a.join("")+"\x3c/ul\x3e"},createErrorListItem:function(a,b){return'\x3cli class\x3d"'+this.errorCls+'"\x3e'+(b?b+": "+a:a)+"\x3c/li\x3e"},beforeDestroy:function(){Ext.destroy(this.floatingButtons,this.tooltip);this.callParent()},clipBottom:function(a){this.el.setStyle("clip","rect(-1000px auto "+a+"px auto)")},clipTop:function(a){this.el.setStyle("clip",
"rect("+a+"px auto 1000px auto)")},clearClip:function(){this.el.setStyle("clip",Ext.isIE8?"rect(-1000px auto 1000px auto)":"auto")}});Ext.define("Ext.rtl.grid.RowEditor",{override:"Ext.grid.RowEditor",getFieldScrollerScrollX:function(){return this.fieldScroller[this.getInherited().rtl?"rtlGetScrollLeft":"getScrollLeft"]()},syncFieldsHorizontalScroll:function(){this.fieldScroller[this.getInherited().rtl?"rtlSetScrollLeft":"setScrollLeft"](this.lastScrollLeft)}});Ext.define("Ext.grid.Scroller",{constructor:Ext.deprecated()});
Ext.define("Ext.view.DropZone",{extend:Ext.dd.DropZone,indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['\x3cdiv class\x3d"',Ext.baseCSSPrefix,'grid-drop-indicator-left" role\x3d"presentation"\x3e\x3c/div\x3e','\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role\x3d"presentation"\x3e\x3c/div\x3e'].join(""),constructor:function(a){Ext.apply(this,a);this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id);this.callParent([this.view.el])},fireViewEvent:function(){var a;
this.lock();a=this.view.fireEvent.apply(this.view,arguments);this.unlock();return a},getTargetFromEvent:function(a){var b=a.getTarget(this.view.getItemSelector()),c,d,e,g,h;if(!b){a=a.getY();e=0;c=this.view.getNodes();for(g=c.length;e<g;e++)if(d=c[e],h=Ext.fly(d).getBox(),a<=h.bottom)return d}return b},getIndicator:function(){this.indicator||(this.indicator=new Ext.Component({ariaRole:"presentation",html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:!0,shadow:!1}));return this.indicator},
getPosition:function(a,b){var c=a.getXY()[1],d=Ext.fly(b).getRegion();return d.bottom-c>=(d.bottom-d.top)/2?"before":"after"},containsRecordAtOffset:function(a,b,c){if(!b)return!1;var d=this.view;b=d.indexOf(b);return(d=(c=d.getNode(b+c))?d.getRecord(c):null)&&Ext.Array.contains(a,d)},positionIndicator:function(a,b,c){var d=this.view;c=this.getPosition(c,a);var e=d.getRecord(a);b=b.records;if(!Ext.Array.contains(b,e)&&("before"===c&&!this.containsRecordAtOffset(b,e,-1)||"after"===c&&!this.containsRecordAtOffset(b,
e,1))){if(this.valid=!0,this.overRecord!==e||this.currentPosition!==c)b=Ext.fly(a).getY()-d.el.getY()-1,"after"===c&&(b+=Ext.fly(a).getHeight()),2===d.touchScroll&&(b+=d.getScrollY()),this.getIndicator().setWidth(Ext.fly(d.el).getWidth()).showAt(0,b),this.overRecord=e,this.currentPosition=c}else this.invalidateDrop()},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(a,b,c,d){Ext.Array.contains(d.records,this.view.getRecord(a))||this.positionIndicator(a,
d,c);return this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(a,b,c,d){this.callParent(arguments);this.overRecord=this.currentPosition=null;this.valid=!1;this.indicator&&this.indicator.hide()},onContainerOver:function(a,b,c){a=this.view;a.dataSource.getCount()?this.positionIndicator(a.all.last(),c,b):(this.overRecord=this.currentPosition=null,this.getIndicator().setWidth(Ext.fly(a.el).getWidth()).showAt(0,0),this.valid=!0);return this.dropAllowed},onContainerDrop:function(a,b,c){return this.onNodeDrop(a,
null,b,c)},onNodeDrop:function(a,b,c,d){var e=this,g=!1;b={wait:!1,processDrop:function(){e.invalidateDrop();e.handleNodeDrop(d,e.overRecord,e.currentPosition);g=!0;e.fireViewEvent("drop",a,d,e.overRecord,e.currentPosition)},cancelDrop:function(){e.invalidateDrop();g=!0}};c=!1;if(e.valid){c=e.fireViewEvent("beforedrop",a,d,e.overRecord,e.currentPosition,b);if(b.wait)return;!1!==c&&(g||b.processDrop())}return c},destroy:function(){Ext.destroy(this.indicator);delete this.indicator;this.callParent()}});
Ext.define("Ext.grid.ViewDropZone",{extend:Ext.view.DropZone,indicatorHtml:'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role\x3d"presentation"\x3e\x3c/div\x3e\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role\x3d"presentation"\x3e\x3c/div\x3e',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(a,b,c){var d=this.view,e=d.getStore(),g,h,j;if(a.copy){g=a.records;a.records=[];h=0;for(j=g.length;h<j;h++)a.records.push(g[h].copy())}else a.view.store.remove(a.records,
a.view===d);b&&c?(b=e.indexOf(b),"before"!==c&&b++,e.insert(b,a.records)):e.add(a.records);d.getSelectionModel().select(a.records)}});
Ext.define("Ext.grid.column.Action",{extend:Ext.grid.column.Column,alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",stopSelection:!0,actionIdRe:RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"\x3ci\x3eActions\x3c/i\x3e",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",actionIconCls:Ext.baseCSSPrefix+"action-col-icon",constructor:function(a){var b=Ext.apply({},a);a=b.items||this.items||[this];var c,d;this.origRenderer=b.renderer||this.renderer;
this.origScope=b.scope||this.scope;this.renderer=this.scope=b.renderer=b.scope=null;b.items=null;this.callParent([b]);this.items=a;b=0;for(d=a.length;b<d;++b)if(a[b].getClass){c=!0;break}if(this.origRenderer||c)this.hasCustomRenderer=!0},initComponent:function(){this.callParent();this.sortable&&!this.dataIndex&&(this.sortable=!1)},defaultRenderer:function(a,b,c,d,e,g,h){var j=Ext.baseCSSPrefix,k=this.origScope||this,l=this.items,m=l.length,n=0,p,q,r,s;q=Ext.isFunction(this.origRenderer)?this.origRenderer.apply(k,
arguments)||"":"";for(b.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";n<m;n++)p=l[n],s=(r=p.disabled||(p.isDisabled?p.isDisabled.call(p.scope||k,h,d,e,p,c):!1))?null:p.tooltip||(p.getTip?p.getTip.apply(p.scope||k,arguments):null),p.hasActionConfiguration||(p.stopSelection=this.stopSelection,p.disable=Ext.Function.bind(this.disableAction,this,[n],0),p.enable=Ext.Function.bind(this.enableAction,this,[n],0),p.hasActionConfiguration=!0),q+='\x3cimg role\x3d"button" alt\x3d"'+(p.altText||this.altText)+
'" src\x3d"'+(p.icon||Ext.BLANK_IMAGE_URL)+'" class\x3d"'+this.actionIconCls+" "+j+"action-col-"+String(n)+" "+(r?j+"item-disabled":" ")+(Ext.isFunction(p.getClass)?p.getClass.apply(p.scope||k,arguments):p.iconCls||this.iconCls||"")+'"'+(s?' data-qtip\x3d"'+s+'"':"")+" /\x3e";return q},updater:function(a,b,c,d,e){var g={};a.firstChild.innerHTML=this.defaultRenderer(b,g,c,null,null,e,d);Ext.fly(a).addCls(g.tdCls)},enableAction:function(a,b){a?Ext.isNumber(a)||(a=Ext.Array.indexOf(this.items,a)):a=
0;this.items[a].disabled=!1;this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).removeCls(this.disabledCls);b||this.fireEvent("enable",this)},disableAction:function(a,b){a?Ext.isNumber(a)||(a=Ext.Array.indexOf(this.items,a)):a=0;this.items[a].disabled=!0;this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+a).addCls(this.disabledCls);b||this.fireEvent("disable",this)},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(a,
b,c,d,e,g,h,j){var k=g.getTarget(),l="keydown"===a&&g.getKey(),m;if("mousedown"===a)return!1;l&&!Ext.fly(k).findParent(b.getCellSelector())&&(k=Ext.fly(c).down("."+Ext.baseCSSPrefix+"action-col-icon",!0));if(k&&(m=k.className.match(this.actionIdRe)))if(k=this.items[parseInt(m[1],10)],m=k.disabled||(k.isDisabled?k.isDisabled.call(k.scope||this.origScope||this,b,d,e,k,h):!1),k&&!m&&("click"===a||l===g.ENTER||l===g.SPACE))if(Ext.callback(k.handler||this.handler,k.scope||this.origScope,[b,d,e,k,g,h,j],
void 0,this),!1!==k.stopSelection)return!1;return this.callParent(arguments)},cascade:function(a,b){a.call(b||this,this)},getRefItems:function(){return[]}});
Ext.define("Ext.grid.column.Boolean",{extend:Ext.grid.column.Column,alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"\x26#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(a){return void 0===a?this.undefinedText:!a||"false"===a?this.falseText:this.trueText},updater:function(a,b){a.firstChild.firstChild.data=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,b)}});
Ext.define("Ext.grid.column.Check",{extend:Ext.grid.column.Column,alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",align:"center",stopSelection:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-checkcolumn",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-checkcolumn",clickTargetName:"el",defaultFilterType:"boolean",constructor:function(){this.scope=this;this.callParent(arguments)},processEvent:function(a,b,c,d,e,g,h,j){var k="keydown"===a&&g.getKey(),l="mousedown"==
a;return!this.disabled&&(l||k==g.ENTER||k==g.SPACE)?(k=!this.isRecordChecked(h),!1!==this.fireEvent("beforecheckchange",this,d,k)?(this.setRecordCheck(h,k,c,j,g),this.fireEvent("checkchange",this,d,k),l&&g.stopEvent(),this.stopSelection||b.selModel.selectByPosition({row:d,column:e}),!1):!this.stopSelection):this.callParent(arguments)},onEnable:function(){this.callParent(arguments);this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(a){var b=this.disabledCls,c;
c=this.up("tablepanel").el.select(this.getCellSelector());a?c.addCls(b):c.removeCls(b)},defaultRenderer:function(a,b){var c=Ext.baseCSSPrefix,d=c+"grid-checkcolumn";this.disabled&&(b.tdCls+=" "+this.disabledCls);a&&(d+=" "+c+"grid-checkcolumn-checked");return'\x3cimg class\x3d"'+d+'" src\x3d"'+Ext.BLANK_IMAGE_URL+'"/\x3e'},isRecordChecked:function(a){var b=this.property;return b?a[b]:a.get(this.dataIndex)},setRecordCheck:function(a,b,c){var d=this.property;d?(a[d]=b,this.updater(c,b)):a.set(this.dataIndex,
b)},updater:function(a,b){var c={};a.firstChild.innerHTML=this.defaultRenderer(b,c);Ext.fly(a).addCls(c.tdCls)}});
Ext.define("Ext.grid.column.Date",{extend:Ext.grid.column.Column,alias:["widget.datecolumn"],alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat);this.callParent(arguments)},defaultRenderer:function(a){return Ext.util.Format.date(a,this.format)},updater:function(a,b){a.firstChild.innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,b)}});
Ext.define("Ext.grid.column.Number",{extend:Ext.grid.column.Column,alias:["widget.numbercolumn"],alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(a){return Ext.util.Format.number(a,this.format)},updater:function(a,b){a.firstChild.innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,b)}});
Ext.define("Ext.grid.column.RowNumberer",{extend:Ext.grid.column.Column,alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",text:"\x26#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,constructor:function(a){this.width=this.width;this.callParent(arguments);this.sortable=!1;this.scope=this},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+
"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,defaultRenderer:function(a,b,c,d,e,g,h){a=this.rowspan;d=g.currentPage;c=h.store.indexOf(c);b&&a&&(b.tdAttr='rowspan\x3d"'+a+'"');1<d&&(c+=(d-1)*g.pageSize);return c+1},updater:function(a,b,c,d,e){a.firstChild.innerHTML=this.defaultRenderer(b,null,c,null,null,e,d)}});
Ext.define("Ext.grid.column.Template",{extend:Ext.grid.column.Column,alias:["widget.templatecolumn"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){this.tpl=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl);this.hasCustomRenderer=!0;this.callParent(arguments)},defaultRenderer:function(a,b,c){a=Ext.apply({},c.data,c.getAssociatedData());return this.tpl.apply(a)},updater:function(a,b){a.firstChild.innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,
b)}});
Ext.define("Ext.grid.column.Widget",{extend:Ext.grid.column.Column,alias:"widget.widgetcolumn",config:{defaultWidgetUI:{}},sortable:!1,stopSelection:!0,preventUpdate:!0,initComponent:function(){var a;this.callParent(arguments);a=this.widget;(!a||a.isComponent)&&Ext.Error.raise("column.Widget requires a widget configuration.");a.ui||(a.ui=this.getDefaultWidgetUI()[a.xtype]||"default");this.isFixedSize=Ext.isNumber(a.width)},processEvent:function(a,b,c,d,e,g){b=b.innerSelector;if(this.stopSelection&&"click"===
a&&(a=g.getTarget(b))&&a!==g.target)return!1},beforeRender:function(){var a=this,b;a.liveWidgets={};a.cachedStyles={};a.freeWidgetStack=[];a.listenerScopeFn=function(b){return"this"===b?this:a.resolveListenerScope(b)};b=a.getFreeWidget();a.tdCls=b.getTdCls();a.setupViewListeners(a.getView());a.callParent(arguments)},afterRender:function(){var a=this.getView();this.callParent(arguments);if(a&&a.viewReady)this.onViewRefresh(a,a.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(a,b,c){this.updateWidget(c)},
onResize:function(a){var b=this.liveWidgets,c=this.getView(),d;if(!this.isFixedSize&&(this.rendered&&c&&c.viewReady)&&(c=c.getEl().down(this.getCellInnerSelector())))for(d in a-=parseInt(this.getCachedStyle(c,"padding-left"),10)+parseInt(this.getCachedStyle(c,"padding-right"),10),b)b[d].setWidth(a)},onAdded:function(){var a;this.callParent(arguments);(a=this.getView())&&this.setupViewListeners(a)},onRemoved:function(a){var b=this.liveWidgets,c=this.viewListeners,d;if(this.rendered&&(c&&(c.destroy(),
this.viewListeners=null),!a))for(d in b)c=b[d],Ext.detachedBodyEl.dom.appendChild((c.el||c.element).dom);this.callParent(arguments)},onDestroy:function(){var a=this.liveWidgets,b=this.freeWidgetStack,c,d;if(this.rendered){for(c in a)d=a[c],d.$widgetRecord=d.$widgetColumn=null,delete d.getWidgetRecord,delete d.getWidgetColumn,d.destroy();a=0;for(c=b.length;a<c;++a)b[a].destroy()}this.freeWidgetStack=this.liveWidgets=null;this.callParent()},getWidget:function(a){var b=this.liveWidgets,c;a&&b&&(c=b[a.internalId]);
return c||null},privates:{getCachedStyle:function(a,b){var c=this.cachedStyles;return c[b]||(c[b]=Ext.fly(a).getStyle(b))},getFreeWidget:function(){var a=this.freeWidgetStack.pop();a||(a=Ext.widget(this.widget),a.resolveListenerScope=this.listenerScopeFn,a.getWidgetRecord=this.widgetRecordDecorator,a.getWidgetColumn=this.widgetColumnDecorator,a.dataIndex=this.dataIndex,a.measurer=this);return a},onViewRefresh:function(a,b){var c=a.all,d=!!this.onWidgetAttach,e=this.liveWidgets,g=this.dataIndex,h=
this.isFixedSize,j,k,l,m,n,p,q,r;if(this.rendered&&!this.hidden){this.liveWidgets={};Ext.suspendLayouts();n=c.startIndex;for(p=0;n<=c.endIndex;n++,p++)if(q=b[p],!q.isNonData&&(l=q.internalId,j=a.getRow(c.item(n)).cells[this.getVisibleIndex()].firstChild,k=this.liveWidgets[l]=e[l]||this.getFreeWidget(),delete e[l],(l=this.lastBox)&&(!h&&void 0===m)&&(m=l.width-parseInt(this.getCachedStyle(j,"padding-left"),10)-parseInt(this.getCachedStyle(j,"padding-right"),10)),Ext.fly(j).empty(),(l=k.el||k.element)?
(j.appendChild(l.dom),h||k.setWidth(m)):(h||(k.width=m),k.render(j)),k.defaultBindProperty&&g&&k.setConfig(k.defaultBindProperty,b[p].get(g)),k.$widgetRecord=q,k.$widgetColumn=this,d))this.onWidgetAttach(k,q);Ext.resumeLayouts(!0);for(r in e)k=e[r],k.$widgetRecord=k.$widgetColumn=null,this.freeWidgetStack.unshift(k),Ext.detachedBodyEl.dom.appendChild((k.el||k.element).dom)}},onItemUpdate:function(a){this.updateWidget(a)},onItemAdd:function(a,b,c){b=this.getView();var d=!!this.onWidgetAttach,e=this.isFixedSize,
g=a.length,h,j,k,l,m,n;if(this.rendered&&!this.hidden)for(h=0;h<g;h++)if(j=a[h],!j.isNonData&&(k=b.getRowFromItem(c[h])))if(k=k.cells[this.getVisibleIndex()].firstChild,!e&&!n&&(n=this.lastBox.width-parseInt(this.getCachedStyle(k,"padding-left"),10)-parseInt(this.getCachedStyle(k,"padding-right"),10)),l=this.liveWidgets[j.internalId]=this.getFreeWidget(),Ext.fly(k).empty(),(m=l.el||l.element)?(k.appendChild(m.dom),e||l.setWidth(n)):(e||(l.width=n),l.render(k)),l.defaultBindProperty&&this.dataIndex&&
l.setConfig(l.defaultBindProperty,j.get(this.dataIndex)),l.$widgetColumn=this,l.$widgetRecord=j,d)this.onWidgetAttach(l,j)},onItemRemove:function(a){var b=this.liveWidgets,c;if(this.rendered&&a&&(c=b[a.internalId]))delete b[a.internalId],this.freeWidgetStack.unshift(c),c.$widgetRecord=c.$widgetColumn=null,Ext.detachedBodyEl.dom.appendChild((c.el||c.element).dom)},setupViewListeners:function(a){this.viewListeners=a.on({refresh:this.onViewRefresh,itemupdate:this.onItemUpdate,itemadd:this.onItemAdd,
itemremove:this.onItemRemove,scope:this,destroyable:!0})},updateWidget:function(a){var b=this.dataIndex,c;this.rendered&&(c=this.liveWidgets[a.internalId])&&(c.defaultBindProperty&&b)&&c.setConfig(c.defaultBindProperty,a.get(b))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}});
Ext.define("Ext.grid.feature.Feature",{extend:Ext.util.Observable,alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(a){this.initialConfig=a;this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,destroy:function(){this.clearListeners()},getFireEventArgs:function(a,b,c,d){return[a,b,c,d]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},
disable:function(){this.disabled=!0}});
Ext.define("Ext.grid.feature.AbstractSummary",{extend:Ext.grid.feature.Feature,alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",summaryRowSelector:"."+Ext.baseCSSPrefix+"grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(a,b,c){b.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(b.record,b,a,c):this.nextTpl.applyOut(b,a,c)},priority:1E3},showSummaryRow:!0,init:function(){this.view.summaryFeature=
this;this.rowTpl=this.view.self.prototype.rowTpl;this.view.addRowTpl(this.summaryRowTpl).summaryFeature=this;this.summaryData={};this.groupInfo={};this.summaryTableCls||(this.summaryTableCls=Ext.baseCSSPrefix+"grid-item")},toggleSummaryRow:function(a){var b=this.showSummaryRow;if((this.showSummaryRow=a=1===arguments.length?!!a:!this.showSummaryRow)&&a!==b)this.updateNext=!0},createRenderer:function(a,b){var c=b.ownerGroup,d=c?this.summaryData[c]:this.summaryData,e=a.dataIndex||a.getItemId();return function(){return a.summaryRenderer?
a.summaryRenderer(b.data[e],d,e):b.data[e]}},outputSummaryRecord:function(a,b,c){var d=b.view,e=d.rowValues;b=b.columns||d.headerCt.getVisibleGridColumns();var g=b.length,h,j,k={view:d,record:a,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:d.getRowId(a),columns:b};for(h=0;h<g;h++)j=b[h],j.savedRenderer=j.renderer,j.renderer=j.summaryType||j.summaryRenderer?this.createRenderer(j,a):Ext.emptyFn;d.rowValues=k;d.self.prototype.rowTpl.applyOut(k,c,parent);d.rowValues=
e;for(h=0;h<g;h++)j=b[h],j.renderer=j.savedRenderer,j.savedRenderer=null},getSummary:function(a,b,c,d){var e=!!d;a=e?d:a;if(b){if(Ext.isFunction(b))return e?a.aggregate(c,b):a.aggregate(b,null,!1,[c]);switch(b){case "count":return a.count(c);case "min":return a.min(c);case "max":return a.max(c);case "sum":return a.sum(c);case "average":return a.average(c);default:return""}}},generateSummaryData:function(){var a=this.view.store,b=a.getGroups().items,c=a.getProxy().getReader(),d=b.length,e=this.getGroupField(),
g={},h=this.lockingPartner,j=this.updateNext,k,l,m,n,p,q;if(this.remoteRoot&&c.rawData){n=!0;q={};l=c.getRootProperty();c.setRootProperty(this.remoteRoot);c.buildExtractors(!0);m=c.getRoot(c.rawData)||[];d=m.length;for(k=0;k<d;++k)p=c.extractRecordData(m[k],this.readDataOptions),q[p[e]]=p;c.setRootProperty(l);c.buildExtractors(!0)}for(k=0;k<d;++k){c=b[k];l=this.getGroupInfo(c);if(j||n||a.updating||l.lastGeneration!==c.generation){if(e=this.populateRecord(c,l,q),!h||this.view.ownerCt===this.view.ownerCt.ownerLockable.normalGrid)l.lastGeneration=
c.generation}else e=this.getAggregateRecord(c);g[c.getGroupKey()]=e}this.updateNext=!1;return g},setSummaryData:function(a,b,c,d){d?(this.summaryData[d]||(this.summaryData[d]={}),this.summaryData[d][b]=c):this.summaryData[b]=c},populateRecord:function(a,b,c){var d=this.grid.ownerLockable?this.grid.ownerLockable.view:this.view;b=this.view.getStore();var e=this.getAggregateRecord(a),d=d.headerCt.getGridColumns(),g=d.length,h=a.getGroupKey(),j,k,l,m;e.beginEdit();if(c)for(k in j=c[h],j)j.hasOwnProperty(k)&&
k!==e.idProperty&&e.set(k,j[k]);for(k=0;k<g;++k)j=d[k],l=j.dataIndex||j.getItemId(),c?m=e.get(j.dataIndex):(m=this.getSummary(b,j.summaryType,l,a),e.set(l,m)),this.setSummaryData(e,j.getItemId(),m,h);e.ownerGroup=h;e.endEdit(!0);e.commit();return e},getGroupInfo:function(a){var b=this.groupInfo;a=a.getGroupKey();var c=b[a];c||(c=b[a]={lastGeneration:null,aggregateRecord:new Ext.data.Model});return c},getAggregateRecord:function(a,b){var c;if(!0===b||a.dirty||!a.aggregateRecord)c=new Ext.data.Model,
a.aggregateRecord=c,c.isNonData=c.isSummary=!0;return a.aggregateRecord}});
Ext.define("Ext.grid.feature.GroupStore",{extend:Ext.util.Observable,isStore:!0,defaultViewSize:100,isFeatureStore:!0,constructor:function(a,b){this.callParent();this.groupingFeature=a;this.bindStore(b)},bindStore:function(a){this.store&&(Ext.destroy(this.storeListeners),this.store=null);a&&(this.storeListeners=a.on({groupchange:this.onGroupChange,remove:this.onRemove,add:this.onAdd,update:this.onUpdate,refresh:this.onRefresh,clear:this.onClear,scope:this,destroyable:!0}),this.store=a,this.processStore(a))},
processStore:function(a){var b=a.getGroups(),c=b?b.length:0,d,e,g,h=this.data,j=this.groupingFeature.groupCache,k=this.groupingFeature.clearGroupCache(),l=this.groupingFeature.startCollapsed,m=a.getGroupField(),n,p;h?h.clear():h=this.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}});if(a.getCount())if(this.groupingFeature.startCollapsed=!1,0<c)for(d=0;d<c;d++)e=b.getAt(d),g=e.getGroupKey(),k[g]=e,e.isCollapsed=l||j[g]&&j[g].isCollapsed,
e.isCollapsed?(p=a.getModel(),n={},n[p.idProperty]="group-"+g+"-placeholder",n[m]=g,e.placeholder=g=new p(n),g.isNonData=g.isCollapsedPlaceholder=!0,g.group=e,h.add(g)):h.insert(this.data.length,e.items);else h.add(a.getRange())},isCollapsed:function(a){return this.groupingFeature.groupCache[a].isCollapsed},isInCollapsedGroup:function(a){var b=this.store,c;return b.isGrouped()&&(c=this.groupingFeature.groupCache[a.get(b.getGroupField())])?c.isCollapsed||!1:!1},getCount:function(){return this.data.getCount()},
getTotalCount:function(){return this.data.getCount()},rangeCached:function(a,b){return b<this.getCount()},getRange:function(a,b,c){var d=this.data.getRange(a,Ext.isNumber(b)?b+1:b);c&&c.callback&&c.callback.call(c.scope||this,d,a,b,c);return d},getAt:function(a){return this.data.getAt(a)},getById:function(a){return this.store.getById(a)},getByInternalId:function(a){return this.data.byInternalId.get(a)||null},expandGroup:function(a){var b,c;"string"===typeof a&&(a=this.groupingFeature.groupCache[a]);
a&&(c=a.items);if(c.length&&-1!==(b=this.data.indexOf(a.placeholder)))a.isCollapsed=!1,this.isExpandingOrCollapsing=1,this.data.removeAt(b),this.data.insert(b,a.items),this.fireEvent("replace",this,b,[a.placeholder],a.items),this.fireEvent("groupexpand",this,a),this.isExpandingOrCollapsing=0},collapseGroup:function(a){var b,c,d;"string"===typeof a&&(a=this.groupingFeature.groupCache[a]);a&&(d=a.items);if(d&&(c=d.length)&&-1!==(b=this.data.indexOf(d[0])))a.isCollapsed=!0,this.isExpandingOrCollapsing=
2,this.data.removeAt(b,c),this.data.insert(b,c=this.getGroupPlaceholder(a)),this.fireEvent("replace",this,b,d,[c]),this.fireEvent("groupcollapse",this,a),this.isExpandingOrCollapsing=0},getGroupPlaceholder:function(a){if(!a.placeholder){var b=this.store,c=b.getModel(),d={},e=a.getGroupKey();d[c.idProperty]="group-"+e+"-placeholder";d[b.getGroupField()]=e;b=a.placeholder=new c(d);b.isNonData=b.isCollapsedPlaceholder=!0;b.group=a}return a.placeholder},indexOf:function(a){return!a.isCollapsedPlaceholder?
this.data.indexOf(a):-1},indexOfTotal:function(a){return this.store.indexOf(a)},onRefresh:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onRemove:function(){this.processStore(this.store);this.fireEvent("refresh",this)},onClear:function(){this.processStore(this.store);this.fireEvent("clear",this)},onAdd:function(a,b){this.processStore(this.store);this.fireEvent("replace",this,this.indexOf(b[0]),[],b)},onUpdate:function(a,b,c,d){var e;if(a.isGrouped()){a=b.group=this.groupingFeature.getRecordGroup(b);
if(d&&Ext.Array.contains(d,this.groupingFeature.getGroupField()))return this.onRefresh(this.store);a.isCollapsed?this.fireEvent("update",this,a.placeholder):(Ext.suspendLayouts(),this.fireEvent("update",this,b,c,d),e=a.items,c=e[0],e=e[e.length-1],c!==b&&(c.group=a,this.fireEvent("update",this,c,"edit",d),delete c.group),e!==b&&(e!==c&&this.groupingFeature.showSummaryRow)&&(e.group=a,this.fireEvent("update",this,e,"edit",d),delete e.group),Ext.resumeLayouts(!0));delete b.group}else this.fireEvent("update",
this,b,c,d)},onGroupChange:function(a){this.fireEvent("groupchange",a)}});
Ext.define("Ext.grid.feature.Grouping",{extend:Ext.grid.feature.Feature,mixins:{summary:Ext.grid.feature.AbstractSummary},alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},groupInfo:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+
"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length \x3d\x3d\x3d 1 \x26\x26 values.rows[0].isSummary)) {",
"this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length \x3d\x3d\x3d 1 \x26\x26 values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me \x3d this.groupingFeature,",'colspan \x3d "colspan\x3d" + values.columns.length;',"if (me.disabled || parent.rows.length \x3d\x3d\x3d 1 \x26\x26 parent.rows[0].isSummary) {",
"values.needsWrap \x3d false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'\x3ctpl if\x3d"needsWrap"\x3e','\x3ctpl if\x3d"isFirstRow"\x3e',"{% values.view.renderColumnSizer(values, out); %}",'\x3ctr data-boundView\x3d"{view.id}" data-recordId\x3d"{record.internalId:htmlEncode}" data-recordIndex\x3d"{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class\x3d"{groupHeaderCls}"\x3e','\x3ctd class\x3d"{[me.ctCls]}" {[colspan]}\x3e',"{%",'var groupTitleStyle \x3d (!values.view.lockingPartner || (values.view.ownerCt \x3d\x3d\x3d values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length \x3d\x3d\x3d 0)) ? "" : "visibility:hidden";',
"%}",'\x3cdiv data-groupname\x3d"{groupName:htmlEncode}" class\x3d"',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" nottabindex\x3d"0" hidefocus\x3d"on" {ariaCellInnerAttr}\x3e','\x3cdiv class\x3d"',Ext.baseCSSPrefix,'grid-group-title" style\x3d"{[groupTitleStyle]}" {ariaGroupTitleAttr}\x3e','{[values.groupHeaderTpl.apply(values.groupInfo, parent) || "\x26#160;"]}',"\x3c/div\x3e","\x3c/div\x3e","\x3c/td\x3e","\x3c/tr\x3e","\x3c/tpl\x3e",'\x3ctpl if\x3d"!isCollapsedGroup"\x3e',"{%","values.itemClasses.length \x3d 0;",
"this.nextTpl.applyOut(values, out, parent);","%}","\x3c/tpl\x3e",'\x3ctpl if\x3d"summaryRecord"\x3e',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","\x3c/tpl\x3e","\x3ctpl else\x3e","{%this.nextTpl.applyOut(values, out, parent);%}","\x3c/tpl\x3e",{priority:200,syncRowHeights:function(a,b){a=Ext.fly(a,"syncDest");b=Ext.fly(b,"sycSrc");var c=this.owner,d=a.down(c.eventSelector,!0),e,g=a.down(c.summaryRowSelector,!0),h,j,k;if(d&&(e=b.down(c.eventSelector,!0)))d.style.height=
e.style.height="",(j=d.offsetHeight)>(k=e.offsetHeight)?Ext.fly(e).setHeight(j):k>j&&Ext.fly(d).setHeight(k);if(g&&(h=b.down(c.summaryRowSelector,!0)))g.style.height=h.style.height="",(j=g.offsetHeight)>(k=h.offsetHeight)?Ext.fly(h).setHeight(j):k>j&&Ext.fly(g).setHeight(k)},syncContent:function(a,b,c){a=Ext.fly(a,"syncDest");b=Ext.fly(b,"sycSrc");var d=this.owner,e=a.down(d.eventSelector,!0),g=b.down(d.eventSelector,!0);a=a.down(d.summaryRowSelector,!0);b=b.down(d.summaryRowSelector,!0);e&&g&&Ext.fly(e).syncContent(g);
a&&b&&(c?this.groupingFeature.view.updateColumns(a,b,c):Ext.fly(a).syncContent(b))}}],constructor:function(){this.groupCache={};this.callParent(arguments)},init:function(a){var b=this.view,c=b.getStore(),d;b.isGrouping=!!c.getGrouper();this.lockingPartner&&this.lockingPartner.groupCache&&(this.groupCache=this.lockingPartner.groupCache);this.mixins.summary.init.call(this);this.callParent(arguments);b.headerCt.on({columnhide:this.onColumnHideShow,columnshow:this.onColumnHideShow,columnmove:this.onColumnMove,
scope:this});b.addTpl(Ext.XTemplate.getTpl(this,"outerTpl")).groupingFeature=this;b.addRowTpl(Ext.XTemplate.getTpl(this,"groupRowTpl")).groupingFeature=this;b.preserveScrollOnRefresh=!0;c.isBufferedStore?this.collapsible=!1:this.dataSource=(d=this.lockingPartner)&&d.dataSource?b.dataSource=d.dataSource:b.dataSource=new Ext.grid.feature.GroupStore(this,c);a=a.ownerLockable||a;a.on({reconfigure:this.onReconfigure,scope:this});b.on({afterrender:this.afterViewRender,scope:this,single:!0});this.storeListeners=
b.store.on({groupchange:this.onGroupChange,scope:this,destroyable:!0})},indexOf:function(a){return this.dataSource.indexOf(a)},isInCollapsedGroup:function(a){var b;return this.view.getStore().isGrouped()&&(b=this.getGroup(a))?b.isCollapsed||!1:!1},clearGroupCache:function(){var a=this.groupCache={};this.lockingPartner&&(this.lockingPartner.groupCache=a);return a},vetoEvent:function(a,b,c,d){if("mouseover"!==d.type&&"mouseout"!==d.type&&"mouseenter"!==d.type&&"mouseleave"!==d.type&&d.getTarget(this.eventSelector))return!1},
enable:function(){var a=this.view,b=a.getStore();a.isGrouping=!0;a.lockingPartner&&(a.lockingPartner.isGrouping=!0);this.callParent();this.lastGrouper&&(b.group(this.lastGrouper),this.lastGrouper=null);(a=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&a.setChecked(!0,!0)},disable:function(){var a=this.view,b=a.getStore(),c=b.getGrouper();a.isGrouping=!1;a.lockingPartner&&(a.lockingPartner.isGrouping=!1);this.callParent();c&&(this.lastGrouper=c,b.clearGrouping());(a=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&
a.setChecked(!1,!0)},afterViewRender:function(){this.view.on({scope:this,groupclick:this.onGroupClick});this.enableGroupingMenu&&this.injectGroupingMenu();this.pruneGroupedHeader();this.lastGrouper=this.view.getStore().getGrouper();this.disabled&&this.disable()},injectGroupingMenu:function(){var a=this.view.headerCt;a.showMenuBy=this.showMenuBy;a.getMenuItems=this.getMenuItems()},onColumnHideShow:function(){var a=this.view,b=a.headerCt.getMenu(),c=b.activeHeader,d=b.down("#groupMenuItem"),b=this.grid.getVisibleColumnManager().getColumns().length;
c&&d&&(c=!1===c.groupable||null==c.dataIndex||2>this.view.headerCt.getVisibleGridColumns().length?"disable":"enable",d[c]());if(a.rendered&&b){a=a.el.query("."+this.ctCls);d=0;for(c=a.length;d<c;++d)a[d].colSpan=b}},onColumnMove:function(){var a=this.view.getStore(),b,c,d,e;if(a.isGrouped()){b=this.groupCache;Ext.suspendLayouts();for(c in b)b.hasOwnProperty(c)&&(d=b[c],e=d.items[0],d=d.items[d.items.length-1],a.fireEvent("update",a,e,"edit",null),d!==e&&this.showSummaryRow&&a.fireEvent("update",a,
d,"edit",null));Ext.resumeLayouts(!0)}},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#groupMenuItem"),e=!1===b.groupable||null==b.dataIndex||2>this.view.headerCt.getVisibleGridColumns().length?"disable":"enable",c=c.down("#groupToggleMenuItem"),g=this.view.store.isGrouped();d[e]();c&&(c.setChecked(g,!0),c[g?"enable":"disable"]());Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var a=this,b=a.groupByText,c=a.disabled||!a.getGroupField(),d=a.showGroupsText,
e=a.enableNoGroups,g=a.view.headerCt.getMenuItems;return function(){var h=g.call(this);h.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:b,handler:a.onGroupMenuItemClick,scope:a});e&&h.push({itemId:"groupToggleMenuItem",text:d,checked:!c,checkHandler:a.onGroupToggleMenuItemClick,scope:a});return h}},onGroupMenuItemClick:function(a){a=a.parentMenu.activeHeader;var b=this.view.store;this.disabled&&(this.lastGrouper=null,this.block(),this.enable(),this.unblock());b.group(a.dataIndex);
this.pruneGroupedHeader()},block:function(a){this.blockRefresh=this.view.blockRefresh=!0;this.lockingPartner&&!a&&this.lockingPartner.block(!0)},unblock:function(a){this.blockRefresh=this.view.blockRefresh=!1;this.lockingPartner&&!a&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(a,b){this[b?"enable":"disable"]()},pruneGroupedHeader:function(){var a=this.getGroupedHeader();this.hideGroupedHeader&&a&&(Ext.suspendLayouts(),this.prunedHeader&&this.prunedHeader!==a&&this.prunedHeader.show(),
this.prunedHeader=a,a.rendered&&a.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(a){var b=this.view.getEl(),c,d,e;if(b){a=Ext.htmlEncode(a);b=b.query(this.eventSelector);c=0;for(d=b.length;c<d;++c)if(e=b[c],e.getAttribute("data-groupName")===a)return e}},getGroup:function(a){a.isModel&&(a=a.get(this.view.getStore().getGroupField()));var b=this.groupCache,c=b[a];c||(c=b[a]={isCollapsed:!1});return c},isExpanded:function(a){return!this.getGroup(a).isCollapsed},expand:function(a,b){this.doCollapseExpand(!1,
a,b)},expandAll:function(){var a=this.groupCache,b,c=this.lockingPartner;for(b in a)a.hasOwnProperty(b)&&(a[b].isCollapsed=!1);Ext.suspendLayouts();this.dataSource.onRefresh();Ext.resumeLayouts(!0);for(b in a)a.hasOwnProperty(b)&&(this.afterCollapseExpand(!1,b),c&&c.afterCollapseExpand(!1,b))},collapse:function(a,b){this.doCollapseExpand(!0,a,b)},isAllCollapsed:function(){var a=this.groupCache,b;for(b in a)if(a.hasOwnProperty(b)&&!a[b].isCollapsed)return!1;return!0},isAllExpanded:function(){var a=
this.groupCache,b;for(b in a)if(a.hasOwnProperty(b)&&a[b].isCollapsed)return!1;return!0},collapseAll:function(){var a=this.groupCache,b,c=this.lockingPartner;for(b in a)a.hasOwnProperty(b)&&(a[b].isCollapsed=!0);Ext.suspendLayouts();this.dataSource.onRefresh();c&&!c.isAllCollapsed()&&c.collapseAll();Ext.resumeLayouts(!0);for(b in a)a.hasOwnProperty(b)&&(this.afterCollapseExpand(!0,b),c&&c.afterCollapseExpand(!0,b))},doCollapseExpand:function(a,b,c){var d=this.lockingPartner,e=this.groupCache[b];e.isCollapsed!==
a&&(Ext.suspendLayouts(),a?this.dataSource.collapseGroup(e):this.dataSource.expandGroup(e),Ext.resumeLayouts(!0),this.afterCollapseExpand(a,b,c),d&&d.afterCollapseExpand(a,b,!1))},afterCollapseExpand:function(a,b,c){var d=this.view,e;e=this.getHeaderNode(b);d.fireEvent(a?"groupcollapse":"groupexpand",d,e,b);c&&(e?d.scrollElIntoView(Ext.fly(e).up(d.getItemSelector()),!1,!0):d.bufferedRenderer&&d.bufferedRenderer.scrollTo(this.dataSource.indexOf(this.getGroup(b).getAt(0))))},onGroupChange:function(a,
b){var c=this.grid.ownerCt,d=this.view;b?this.lastGrouper=b:c&&c.lockable?c.view.refresh():d.refresh()},getMenuItem:function(a){var b=this.view;a=b.headerCt.down("gridcolumn[dataIndex\x3d"+a+"]");b=b.headerCt.getMenu();return a?b.down("menuitem[headerId\x3d"+a.id+"]"):null},onGroupKey:function(a,b){var c=this.getGroupName(b.target);if(c)this.onGroupClick(this.view,b.target,c,b)},onGroupClick:function(a,b,c,d){a=this.groupCache;b=!this.isExpanded(c);var e;if(this.collapsible)if(d.ctrlKey){Ext.suspendLayouts();
for(e in a)e===c?b&&this.expand(c):a[e].isCollapsed||this.doCollapseExpand(!0,e,!1);Ext.resumeLayouts(!0)}else b?this.expand(c):this.collapse(c)},setupRowData:function(a,b,c){var d=c.recordIndex;b=this.refreshData;var e=this.groupInfo,g=b.header,h=b.groupField,j=this.view.getStore(),k=this.view.dataSource,l,m,n;c.isCollapsedGroup=!1;c.summaryRecord=c.groupHeaderCls=null;if(b.doGrouping)if(l=j.getGrouper(),a.isCollapsedPlaceholder)m=a.group.getGroupKey(),l=a.group.items,c.isFirstRow=c.isLastRow=!0,
c.groupHeaderCls=this.hdCollapsedCls,c.isCollapsedGroup=c.needsWrap=!0,c.groupName=m,c.groupInfo=e,e.groupField=h,e.name=m,e.groupValue=l[0].get(h),e.columnName=g?g.text:h,c.collapsibleCls=this.collapsible?this.collapsibleCls:this.hdNotCollapsibleCls,e.rows=e.children=l,this.showSummaryRow&&(c.summaryRecord=b.summaryData[m]);else{m=l.getGroupString(a);if(a.group)l=a.group.items,c.isFirstRow=a===l[0],c.isLastRow=a===l[l.length-1];else{c.isFirstRow=0===d;if(!c.isFirstRow&&(n=j.getAt(d-1)))c.isFirstRow=
!n.isEqual(l.getGroupString(n),m);c.isLastRow=d==(j.isBufferedStore?j.getTotalCount():j.getCount())-1;if(!c.isLastRow&&(d=j.getAt(d+1)))c.isLastRow=!d.isEqual(l.getGroupString(d),m)}c.isFirstRow&&(e.groupField=h,e.name=m,e.groupValue=a.get(h),e.columnName=g?g.text:h,c.collapsibleCls=this.collapsible?this.collapsibleCls:this.hdNotCollapsibleCls,c.groupName=m,this.isExpanded(m)||(c.itemClasses.push(this.hdCollapsedCls),c.isCollapsedGroup=!0),e.rows=k.isBufferedStore?e.children=[]:e.children=this.getRecordGroup(a).items,
c.groupInfo=e);c.isLastRow&&this.showSummaryRow&&(c.summaryRecord=b.summaryData[m],c.itemClasses.push(Ext.baseCSSPrefix+"grid-group-last"));c.needsWrap=c.isFirstRow||c.summaryRecord}},setup:function(a,b){var c=this.refreshData,d=b.view,e=d.store.isGrouped(),g=!this.disabled&&d.isGrouping&&e;this.skippedRows=0;d.bufferedRenderer&&(d.bufferedRenderer.variableRowHeight=d.bufferedRenderer.variableRowHeight||e);c.groupField=this.getGroupField();c.header=this.getGroupedHeader(c.groupField);c.doGrouping=
g;b.groupHeaderTpl=Ext.XTemplate.getTpl(this,"groupHeaderTpl");g&&this.showSummaryRow&&(c.summaryData=this.generateSummaryData())},cleanup:function(a,b){var c=this.refreshData;b.groupInfo=b.groupHeaderTpl=b.isFirstRow=null;c.groupField=c.header=null},getGroupName:function(a){var b=this.view,c=this.eventSelector,d;d=Ext.fly(a).findParent(c);d||(a=Ext.fly(a).findParent(b.itemSelector))&&(d=a.down(c,!0));if(d)return Ext.htmlDecode(d.getAttribute("data-groupname"))},getRecordGroup:function(a){var b=this.view.getStore().getGrouper();
if(b)return this.groupCache[b.getGroupString(a)]},getGroupField:function(){return this.view.store.getGroupField()},getGroupedHeader:function(a){var b=this.view.headerCt,c=this.lockingPartner,d;if(a=a||this.getGroupField())a="[dataIndex\x3d"+a+"]",d=b.down(a),!d&&c&&(d=c.view.headerCt.down(a));return d||null},getFireEventArgs:function(a,b,c,d){return[a,b,c,this.getGroupName(c),d]},destroy:function(){var a=this.dataSource;this.view=this.prunedHeader=this.grid=this.groupCache=this.dataSource=null;this.callParent();
a&&a.bindStore(null)},onReconfigure:function(a,b,c,d){c=this.view;var e=this.dataSource;a=a.lockable?a:null;var g;b&&b!==d&&(g=b.isBufferedStore,this.storeListeners&&this.storeListeners.destroy(),this.storeListeners=b.on({groupchange:this.onGroupChange,scope:this,destroyable:!0}),g!==d.isBufferedStore&&Ext.Error.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),c.isGrouping=!!b.getGrouper(),e.bindStore(b),a?a.getView().bindStore(e,!1,"dataSource"):c.refresh())}});
Ext.define("Ext.grid.feature.GroupingSummary",{extend:Ext.grid.feature.Grouping,alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(a,b,c,d){var e=this.callParent(arguments);!1!==e&&d.getTarget(this.summaryRowSelector)&&(e=!1);return e}});
Ext.define("Ext.grid.feature.RowBody",{extend:Ext.grid.feature.Feature,alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",colSpanDecrement:0,bodyBefore:!1,outerTpl:{fn:function(a,b,c){var d=b.view.rowValues;this.rowBody.setup(b.rows,d);this.nextTpl.applyOut(b,a,c);this.rowBody.cleanup(b.rows,
d)},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'\x3ctr class\x3d"'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls}" {ariaRowAttr}\x3e','\x3ctd class\x3d"'+Ext.baseCSSPrefix+"grid-td "+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan\x3d"{rowBodyColspan}" {ariaCellAttr}\x3e','\x3cdiv class\x3d"'+
Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}\x3e{rowBody}\x3c/div\x3e',"\x3c/td\x3e","\x3c/tr\x3e","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,syncRowHeights:function(a,b){var c=this.owner,d=Ext.fly(a).down(c.eventSelector,!0),e,g,h;if(d&&(e=Ext.fly(b).down(c.eventSelector,!0)))(g=d.offsetHeight)>(h=e.offsetHeight)?Ext.fly(e).setHeight(g):h>g&&Ext.fly(d).setHeight(h)},syncContent:function(a,b){var c=this.owner,d=
Ext.fly(a).down(c.eventSelector,!0),e;d&&(e=Ext.fly(b).down(c.eventSelector,!0))&&Ext.fly(d).syncContent(e)}}],init:function(a){var b=this.view=a.getView();a.variableRowHeight=b.variableRowHeight=!0;b.rowBodyFeature=this;a.mon(b,{element:"el",click:this.onClick,scope:this});b.headerCt.on({columnschanged:this.onColumnsChanged,scope:this});b.addTpl(this.outerTpl).rowBody=this;b.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=this;this.callParent(arguments)},onClick:function(a){var b=a.getTarget(this.eventSelector);
if(b&&Ext.fly(b=b.previousSibling||b.nextSibling).is(this.view.rowSelector))a.target=b,this.view.handleEvent(a)},getSelectedRow:function(a,b){var c=a.getNode(b);return c?Ext.fly(c).down(this.eventSelector):null},onColumnsChanged:function(a){var b=this.view.el.query(this.rowBodyTdSelector);a=a.getVisibleGridColumns().length;var c=b.length,d;for(d=0;d<c;++d)b[d].colSpan=a},setupRowData:function(a,b,c){this.getAdditionalData&&Ext.apply(c,this.getAdditionalData(a.data,b,a,c))},setup:function(a,b){b.rowBodyCls=
this.rowBodyCls;b.rowBodyColspan=this.view.headerCt.visibleColumnManager.getColumns().length-this.colSpanDecrement},cleanup:function(a,b){b.rowBodyCls=b.rowBodyColspan=b.rowBody=null}});
Ext.define("Ext.grid.feature.Summary",{extend:Ext.grid.feature.AbstractSummary,alias:"feature.summary",dock:void 0,dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",summaryItemCls:Ext.baseCSSPrefix+"grid-item-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",scrollPadProperty:"padding-right",hasFeatureEvent:!1,init:function(a){var b=this,c=b.view;b.callParent(arguments);b.dock?(a.headerCt.on({add:b.onStoreUpdate,afterlayout:b.onStoreUpdate,scope:b}),a.on({beforerender:function(){var d=[b.summaryTableCls];
c.columnLines&&(d[d.length]=c.ownerCt.colLinesCls);b.summaryBar=a.addDocked({childEls:["innerCt","item"],renderTpl:['\x3cdiv id\x3d"{id}-innerCt" data-ref\x3d"innerCt" role\x3d"presentation"\x3e','\x3ctable id\x3d"{id}-item" data-ref\x3d"item" cellPadding\x3d"0" cellSpacing\x3d"0" class\x3d"'+d.join(" ")+'"\x3e','\x3ctr class\x3d"'+b.summaryRowCls+'"\x3e\x3c/tr\x3e',"\x3c/table\x3e","\x3c/div\x3e"],style:"overflow:hidden",itemId:"summaryBar",cls:[b.dockedSummaryCls,b.dockedSummaryCls+"-"+b.dock],
xtype:"component",dock:b.dock,weight:1E7})[0]},afterrender:function(){a.body.addCls(b.panelBodyCls+b.dock);c.on("scroll",b.onViewScroll,b);b.onStoreUpdate()},single:!0}),a.headerCt.afterComponentLayout=Ext.Function.createSequence(a.headerCt.afterComponentLayout,function(){var a=this.getTableWidth(),c=b.summaryBar.innerCt;b.summaryBar.item.setWidth(a);this.tooNarrow&&(a+=Ext.getScrollbarSize().width);c.setWidth(a)})):b.view.addFooterFn(b.renderSummaryRow);a.on({columnmove:b.onStoreUpdate,scope:b});
c.mon(c.store,{update:b.onStoreUpdate,datachanged:b.onStoreUpdate,scope:b})},renderSummaryRow:function(a,b,c){var d=a.view,e=d.findFeature("summary");e.showSummaryRow&&(b.push('\x3ctable class\x3d"'+Ext.baseCSSPrefix+"table-plain "+e.summaryItemCls+'"\x3e'),e.outputSummaryRecord(e.createSummaryRecord(d),a,b,c),b.push("\x3c/table\x3e"))},toggleSummaryRow:function(a){var b=this.summaryBar;this.callParent(arguments);b&&(b.setVisible(this.showSummaryRow),this.onViewScroll())},vetoEvent:function(a,b,c,
d){return!d.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},createSummaryRecord:function(a){var b=a.headerCt.getVisibleGridColumns(),c=this.summaryRecord,d=b.length,e,g,h,j;c||(c={id:a.id+"-summary-record"},c=this.summaryRecord=new Ext.data.Model(c));c.beginEdit();for(e=0;e<d;e++)g=b[e],h=g.dataIndex||g.getItemId(),j=this.getSummary(a.store,g.summaryType,h),c.set(h,j),this.setSummaryData(c,g.getItemId(),j);c.endEdit(!0);c.commit(!0);
c.isSummary=!0;return c},onStoreUpdate:function(){var a=this.view,b=this.createSummaryRecord(a),c=a.createRowElement(b,-1).firstChild.firstChild;if(a.rendered&&(this.dock?(b=this.summaryBar.item.dom.firstChild,a=b.firstChild):b=(a=this.view.getRow(b))?a.parentNode:null,b&&(b.insertBefore(c,a),b.removeChild(a)),this.dock))this.onColumnHeaderLayout()},onColumnHeaderLayout:function(){var a=this.view,b=a.headerCt.getVisibleGridColumns(),c,d=b.length,e,g=this.summaryBar.el,h;for(e=0;e<d;e++)c=b[e],(h=
g.down(a.getCellSelector(c)))&&h.setWidth(c.width||(c.lastBox?c.lastBox.width:100))}});Ext.define("Ext.rtl.grid.feature.Summary",{override:"Ext.grid.feature.Summary",init:function(){this.callParent(arguments);this.view.getInherited().rtl&&(this.scrollPadProperty="padding-left")}});
Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:[Ext.mixin.Queryable],activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:!0,clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",
baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'\x3ctpl if\x3d"plain"\x3e{text}\x3ctpl else\x3e\x3ca id\x3d"{id}-itemEl" data-ref\x3d"itemEl" class\x3d"{linkCls}\x3ctpl if\x3d"hasHref"\x3e {linkHrefCls}\x3c/tpl\x3e{childElCls}" href\x3d"{href}" role\x3d"menuitem" \x3ctpl if\x3d"hrefTarget"\x3e target\x3d"{hrefTarget}"\x3c/tpl\x3e hidefocus\x3d"true" unselectable\x3d"on"\x3ctpl if\x3d"tabIndex !\x3d null"\x3e tabindex\x3d"{tabIndex}"\x3c/tpl\x3e\x3e\x3cspan id\x3d"{id}-textEl" data-ref\x3d"textEl" class\x3d"{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable\x3d"on"\x3e{text}\x3c/span\x3e\x3ctpl if\x3d"hasIcon"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-iconEl" data-ref\x3d"iconEl" class\x3d"{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style\x3d"\x3ctpl if\x3d"icon"\x3ebackground-image:url({icon});\x3c/tpl\x3e\x3ctpl if\x3d"glyph \x26\x26 glyphFontFamily"\x3efont-family:{glyphFontFamily};\x3c/tpl\x3e"\x3e\x3ctpl if\x3d"glyph"\x3e\x26#{glyph};\x3c/tpl\x3e\x3c/div\x3e\x3c/tpl\x3e\x3ctpl if\x3d"showCheckbox"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-checkEl" data-ref\x3d"checkEl" class\x3d"{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon \x26\x26 !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3ctpl if\x3d"hasMenu"\x3e\x3cdiv role\x3d"presentation" id\x3d"{id}-arrowEl" data-ref\x3d"arrowEl" class\x3d"{arrowCls} {arrowCls}-{ui}{childElCls}"\x3e\x3c/div\x3e\x3c/tpl\x3e\x3c/a\x3e\x3c/tpl\x3e',
maskOnDisable:!1,iconAlign:"left",activate:function(a){if(a||!this.activated&&this.canActivate&&this.rendered&&!this.isDisabled()&&this.isVisible())this.plain||this.el.addCls(this.activeCls),this.focus(!1,!0),this.activated=!0,this.hasListeners.activate&&this.fireEvent("activate",this)},deactivate:function(){var a;this.activated&&(a=this.up(""),this.plain||this.el.removeCls(this.activeCls),a&&a.focus(!1,!0),this.hideMenu(),this.activated=!1,this.hasListeners.deactivate&&this.fireEvent("deactivate",
this))},deferHideMenu:function(){this.menu.isVisible()&&this.menu.hide()},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();Ext.Element.getActiveElement()||(a=this.up(":not([hidden])"))&&a.focus()},expandMenu:function(a){this.menu&&(this.cancelDeferHide(),0===a?this.doExpandMenu():(clearTimeout(this.expandMenuTimer),this.expandMenuTimer=Ext.defer(this.doExpandMenu,Ext.isNumber(a)?a:this.menuExpandDelay,this)))},doExpandMenu:function(){var a=
this.menu;if(this.activated&&(!a.rendered||!a.isVisible()))this.parentMenu.activeChild=a,a.ownerCmp=this,a.parentMenu=this.parentMenu,a.constrainTo=document.body,a.showBy(this,this.menuAlign)},getRefItems:function(a){var b=this.menu,c;b&&(c=b.getRefItems(a),c.unshift(b));return c||[]},hideMenu:function(a){this.menu&&(clearTimeout(this.expandMenuTimer),this.hideMenuTimer=Ext.defer(this.deferHideMenu,Ext.isNumber(a)?a:this.menuHideDelay,this))},initComponent:function(){var a=Ext.baseCSSPrefix,b="";
this.plain&&(b+=a+"menu-item-plain");this.cls&&(b+=" "+this.cls);this.cls=b;this.menu&&(a=this.menu,delete this.menu,this.setMenu(a));this.callParent(arguments)},onClick:function(a){var b=this.clickHideDelay,c=a.browserEvent;(!this.href||this.disabled)&&a.stopEvent();!this.disabled&&!this.handlingClick&&(this.hideOnClick&&("touchcancel"!==a.browserEvent.type&&!("tap"===a.type&&this.menu))&&(b?this.deferHideParentMenusTimer=Ext.defer(this.deferHideParentMenus,b,this):this.deferHideParentMenus()),Ext.callback(this.handler,
this.scope,[this,a],0,this),this.fireEvent("click",this,a),b=Ext.isIE9m?!1===c.returnValue?!0:!1:!!c.defaultPrevented,this.href&&("click"!==a.type&&!b)&&(this.handlingClick=!0,this.itemEl.dom.click(),delete this.handlingClick),this.hideOnClick||this.focus())},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem();this.callParent(arguments);this.parentMenu=this.ownerCmp=null},beforeDestroy:function(){this.rendered&&this.clearTip();this.callParent()},
onDestroy:function(){clearTimeout(this.expandMenuTimer);this.cancelDeferHide();clearTimeout(this.deferHideParentMenusTimer);this.setMenu(null);this.callParent(arguments)},beforeRender:function(){var a=this.glyph,b=Ext._glyphFontFamily,c=!(!this.icon&&!this.iconCls&&!a),d=!!this.menu,e="right"===this.iconAlign&&!d,g=this.isMenuCheckItem,h=[],j=this.ownerCt,k=j.plain;this.callParent();c&&d&&this.showCheckbox&&(c=!1);"string"===typeof a&&(b=a.split("@"),a=b[0],b=b[1]);if(!k||c&&!e||g)j.showSeparator&&
!k?h.push(this.indentCls):h.push(this.indentNoSeparatorCls);d?h.push(this.indentRightArrowCls):c&&(e||g)&&h.push(this.indentRightIconCls);Ext.applyIf(this.renderData,{hasHref:!!this.href,href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon,iconCls:this.iconCls,glyph:a,glyphCls:a?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:b,hasIcon:c,hasMenu:d,indent:!k||c||g,isCheckItem:g,rightIcon:e,plain:this.plain,text:this.text,arrowCls:this.arrowCls,baseIconCls:this.baseIconCls,textCls:this.textCls,
indentCls:h.join(" "),linkCls:this.linkCls,linkHrefCls:this.linkHrefCls,groupCls:this.group?this.groupCls:"",tabIndex:this.tabIndex})},onRender:function(){this.callParent(arguments);this.tooltip&&this.setTooltip(this.tooltip,!0)},setMenu:function(a,b){var c=this.menu,d=this.arrowEl;c&&(c.ownerCmp=c.parentMenu=null,(!0===b||!1!==b&&this.destroyMenu)&&Ext.destroy(c));a?(a=this.menu=Ext.menu.Manager.get(a,{ownerCmp:this}),a.ownerCmp=this):a=this.menu=null;if(a&&this.rendered&&!this.destroying&&d)d[a?
"addCls":"removeCls"](this.arrowCls)},setHandler:function(a,b){this.handler=a||null;this.scope=b},setIcon:function(a){var b=this.iconEl,c=this.icon;b&&(b.src=a||Ext.BLANK_IMAGE_URL);this.icon=a;this.fireEvent("iconchange",this,c,a)},setIconCls:function(a){var b=this.iconEl,c=this.iconCls;b&&(this.iconCls&&b.removeCls(this.iconCls),a&&b.addCls(a));this.iconCls=a;this.fireEvent("iconchange",this,c,a)},setText:function(a){var b=this.textEl||this.el,c=this.text;this.text=a;this.rendered&&(b.setHtml(a||
""),this.ownerCt.updateLayout());this.fireEvent("textchange",this,c,a)},getTipAttr:function(){return"qtip"==this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(a,b){this.rendered?(b||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(a)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},a)),this.tooltip=a):this.itemEl.dom.setAttribute(this.getTipAttr(),a)):this.tooltip=
a;return this},privates:{getFocusEl:function(){return this.itemEl}}});
Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){this.checked=!!this.checked;this.callParent(arguments);Ext.menu.Manager.registerCheckable(this);
this.group&&!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0)},beforeRender:function(){this.callParent();Ext.apply(this.renderData,{checkboxCls:this.checkboxCls,showCheckbox:this.showCheckbox})},afterRender:function(){this.callParent();this.checked=!this.checked;this.setChecked(!this.checked,!0);this.checkChangeDisabled&&this.disableCheckChange()},disableCheckChange:function(){var a=this.checkEl;a&&a.addCls(this.disabledCls);Ext.isIE8&&this.rendered&&this.el.repaint();this.checkChangeDisabled=
!0},enableCheckChange:function(){var a=this.checkEl;a&&a.removeCls(this.disabledCls);this.checkChangeDisabled=!1},onClick:function(a){!this.disabled&&(!this.checkChangeDisabled&&(!this.checked||!this.group))&&this.setChecked(!this.checked);this.callParent([a])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(a,b){var c=this.checkedCls,d=this.uncheckedCls,e=this.el;if(this.checked!==a&&(b||!1!==this.fireEvent("beforecheckchange",this,
a)))e&&(a?(e.addCls(c),e.removeCls(d)):(e.addCls(d),e.removeCls(c))),this.checked=a,Ext.menu.Manager.onCheckChange(this,a),b||(Ext.callback(this.checkHandler,this.scope||this,[this,a]),this.fireEvent("checkchange",this,a))}});
Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(a){this.menu=a.target;this.callParent([Ext.apply({down:this.down,enter:this.enter,esc:this.escape,left:this.left,right:this.right,space:this.enter,tab:this.tab,up:this.up},a)])},down:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==a.DOWN&&this.isWhitelisted(b))return!0;this.focusNextItem(1)},enter:function(a){var b=this.menu,c=b.focusedItem;if(b.activeItem)b.onClick(a);else if(c&&c.isFormField)return!0},escape:function(){Ext.menu.Manager.hideAll()},
focusNextItem:function(a){for(var b=this.menu,c=b.items,d=b.focusedItem,d=d?c.indexOf(d):-1,e=d+a,g=c.length,h=0,j;h<g&&e!==d;){0>e?e=g-1:e>=g&&(e=0);j=c.getAt(e);if(b.canActivateItem(j)){b.setActiveItem(j);break}e+=a;++h}},isWhitelisted:function(a){return!!a.needArrowKeys},left:function(){var a=this.menu,b=a.focusedItem;if(b&&this.isWhitelisted(b))return!0;a.parentMenu&&(a.hide(),a.parentMenu.focus())},right:function(){var a=this.menu,b=a.focusedItem,c=a.activeItem;if(b&&this.isWhitelisted(b))return!0;
if(c&&(a=a.activeItem.menu))c.expandMenu(0),a.setActiveItem(a.child(":focusable"))},tab:function(a){a.shiftKey?this.up(a):this.down(a)},up:function(a){var b=this.menu.focusedItem;if(b&&a.getKey()==a.UP&&this.isWhitelisted(b))return!0;this.focusNextItem(-1)}});
Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"\x26#160;",ariaRole:"separator",beforeRender:function(){this.callParent();this.addCls(this.separatorCls)}});
Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",focusable:!0,baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},
initComponent:function(){var a=[Ext.baseCSSPrefix+"menu"],b=this.bodyCls?[this.bodyCls]:[],c=!1!==this.floating;Ext.menu.Manager.register(this);this.plain&&a.push(Ext.baseCSSPrefix+"menu-plain");this.cls=a.join(" ");b.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls);this.bodyCls=b.join(" ");c?void 0===this.minWidth&&(this.minWidth=this.defaultMinWidth):(this.hidden=!!this.initialConfig.hidden,this.constrain=!1);this.callParent(arguments);Ext.override(this.getLayout(),{configureItem:this.configureItem})},
initFloatConstrain:Ext.emptyFn,initHierarchyEvents:Ext.emptyFn,getInherited:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch")},onBoxReady:function(){var a={click:this.onClick,mouseover:this.onMouseOver,scope:this},b=this._iconSeparatorCls;Ext.supports.Touch&&(a.pointerdown=this.onMouseOver,this.mon(Ext.GlobalEvents,"mousedown",this.onDocMouseDown,this));this.callParent(arguments);
this.showSeparator&&(this.iconSepEl=this.body.insertFirst({role:"presentation",cls:b+" "+b+"-"+this.ui,html:"\x26#160;"}));this.mon(this.el,a);this.mouseMonitor=this.el.monitorMouseLeave(100,this.onMouseLeave,this);this.enableKeyNav&&(this.keyNav=new Ext.menu.KeyNav({target:this,keyMap:this.getKeyMap()}))},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||!a.isMenuItem)},deactivateActiveItem:function(a){var b=this.activeItem,c=this.focusedItem;b&&(b.deactivate(),
b.activated||delete this.activeItem);c&&a&&(c.blur(),delete this.focusedItem)},hide:function(){this.deactivateActiveItem(!0);this.callParent(arguments)},getItemFromEvent:function(a){var b=this.layout.getRenderTarget().dom;for(a=a.getTarget();a.parentNode!==b;)if(a=a.parentNode,!a)return;return Ext.getCmp(a.id)},lookupComponent:function(a){"string"==typeof a?a=this.lookupItemFromString(a):Ext.isObject(a)&&(a=this.lookupItemFromObject(a));a.minWidth=a.minWidth||this.minWidth;return a},lookupItemFromObject:function(a){a.isComponent||
(a=a.xtype?Ext.ComponentManager.create(a,a.xtype):Ext.create("Ext.menu."+(Ext.isBoolean(a.checked)?"Check":"")+"Item",a));a.isMenuItem&&(a.parentMenu=this);return a},lookupItemFromString:function(a){return"separator"==a||"-"==a?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:a})},configureItem:function(a){var b=this.owner,c=Ext.baseCSSPrefix,d=b.ui,e;a.isMenuItem?a.setUI(d):1<b.items.getCount()&&(!a.rendered&&!a.dock)&&(e=b._itemCmpCls,e=[e+" "+e+"-"+d],!b.plain&&
(!1!==a.indent||"no-icon"===a.iconCls)&&e.push(c+"menu-item-indent-"+d),a.rendered?a.el.addCls(e):a.cls=(a.cls||"")+" "+e.join(" "));this.callParent(arguments)},onClick:function(a){var b=a.type;if(this.disabled)a.stopEvent();else{if((b="keydown"!==b?this.getItemFromEvent(a):this.activeItem)&&b.isMenuItem)if(!b.menu||!this.ignoreParentClicks)b.onClick(a);else a.stopEvent();if(!b||b.disabled)b=void 0;this.fireEvent("click",this,b,a)}},onDestroy:function(){Ext.menu.Manager.unregister(this);this.parentMenu=
this.ownerCmp=null;this.rendered&&(this.el.un(this.mouseMonitor),Ext.destroy(this.keyNav),this.keyNav=null);this.callParent(arguments)},onDocMouseDown:function(a){this.owns(a.target)||this.deactivateActiveItem()},onMouseLeave:function(a){this.deactivateActiveItem();this.disabled||this.fireEvent("mouseleave",this,a)},onMouseOver:function(a){var b=a.getRelatedTarget(),b=!this.el.contains(b),c=this.getItemFromEvent(a),d=this.parentMenu,e=this.ownerCmp;b&&d&&(d.setActiveItem(e),e.cancelDeferHide(),d.mouseMonitor.mouseenter());
this.disabled||(c&&!c.activated&&(this.setActiveItem(c),c.activated&&c.expandMenu&&c.expandMenu()),b&&this.fireEvent("mouseenter",this,a),this.fireEvent("mouseover",this,c,a))},setActiveItem:function(a){a&&a!=this.activeItem&&(this.deactivateActiveItem(),this.canActivateItem(a)&&(a.activate?(a.activate(!0),a.activated&&(this.focusedItem=this.activeItem=a)):(a.focus(),this.focusedItem=a)))},beforeShow:function(){var a;this.floating&&(this.savedMaxHeight=this.maxHeight,a=this.container.getViewSize().height,
this.maxHeight=Math.min(this.maxHeight||a,a));this.callParent(arguments)},afterShow:function(){this.callParent(arguments);this.floating&&(this.maxHeight=this.savedMaxHeight)},privates:{getFocusEl:function(){return this.el}}});
Ext.define("Ext.grid.filters.filter.Base",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"}},active:!1,type:"string",dataIndex:null,menu:null,updateBuffer:500,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:"x-gridfilter",constructor:function(a){this.initConfig(a)},destroy:function(){this.menu=Ext.destroy(this.menu)},getStore:function(){return this.grid.getStore()},addStoreFilter:function(a){this.getStore().getFilters().add(a)},
createFilter:function(a,b){a.id=this.getBaseIdPrefix();a.property||(a.property=this.column.dataIndex);a.root||(a.root=this.defaultRoot);b&&(a.id+="-"+b);return new Ext.util.Filter(a)},createMenu:function(){var a=this.getMenuConfig();this.menu=Ext.widget(a)},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.column.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getStoreFilter:function(a){var b=this.getBaseIdPrefix();a&&(b+="-"+a);return this.getStore().getFilters().get(b)},
removeStoreFilter:function(a){this.getStore().getFilters().remove(a)},setActive:function(a){var b=this.owner,c=b.activeFilterMenuItem,d;this.active!==a&&(this.active=a,d=this.getStore().getFilters(),d.beginUpdate(),a?this.activate():this.deactivate(),d.endUpdate(),c&&c.activeFilter===this&&c.setChecked(a),this.column[a?"addCls":"removeCls"](b.filterCls))},showMenu:function(a){this.menu||this.createMenu();a.activeFilter=this;a.setMenu(this.menu,!1);a.setChecked(this.active);a.setDisabled(!0===this.disabled);
this.active&&this.activate(!0)},updateStoreFilter:function(){this.getStore().getFilters().notify("endupdate")}});
Ext.define("Ext.grid.filters.filter.SingleFilter",{extend:Ext.grid.filters.filter.Base,constructor:function(a){var b;this.callParent([a]);b=this.value;(a=this.getStoreFilter())?this.active=!0:(this.grid.stateful&&this.getStore().saveStatefulFilters&&(b=void 0),this.active=void 0!==b,a=this.createFilter({operator:this.operator,value:b}),this.active&&this.addStoreFilter(a));this.filter=a},activate:function(a){a?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},
onFilterRemove:function(){if(!this.menu||this.active)this.active=!1}});
Ext.define("Ext.grid.filters.filter.Boolean",{extend:Ext.grid.filters.filter.SingleFilter,alias:"grid.filter.boolean",type:"boolean",operator:"\x3d",defaultValue:!1,yesText:"Yes",noText:"No",createMenu:function(a){var b=Ext.id(),c={scope:this,click:this.onClick},d=this.getItemDefaults();this.callParent(arguments);this.menu.add([Ext.apply({text:this.yesText,filterKey:1,group:b,checked:!!this.defaultValue,listeners:c},d),Ext.apply({text:this.noText,filterKey:0,group:b,checked:!this.defaultValue,listeners:c},
d)])},onClick:function(a){this.setValue(!!a.filterKey)},setValue:function(a){this.filter.setValue(a);void 0!==a&&this.active?this.updateStoreFilter(this.filter):this.setActive(!0)},activateMenu:Ext.emptyFn});
Ext.define("Ext.grid.filters.filter.TriFilter",{extend:Ext.grid.filters.filter.Base,menuItems:["lt","gt","-","eq"],constructor:function(a){var b=!1,c={},d,e,g,h;this.callParent([a]);g=this.value;d=this.getStoreFilter("lt");a=this.getStoreFilter("gt");e=this.getStoreFilter("eq");d||a||e?b=this.active=!0:(this.grid.stateful&&this.getStore().saveStatefulFilters&&(g=void 0),this.active=!!g);c.lt=d||this.createFilter({operator:"lt",value:!b&&g&&g.lt||null},"lt");c.gt=a||this.createFilter({operator:"gt",
value:!b&&g&&g.gt||null},"gt");c.eq=e||this.createFilter({operator:"eq",value:!b&&g&&g.eq||null},"eq");this.filter=c;if(!b&&this.active)for(h in g)this.addStoreFilter(this.filter[h])},activate:function(a){var b=this.filter,c=this.fields,d,e,g,h;if(!this.settingValue)for(g in b)if(d=b[g],e=c[g],h=d.getValue())h=this.convertValue(h,!0),e.setValue(h),e.up("menuitem").setChecked(!0,!0),a||this.addStoreFilter(d)},deactivate:function(){var a=this.filter,b,c;if(this.hasActiveFilter()&&!this.settingValue){this.settingValue=
!0;for(b in a)c=a[b],c.getValue()&&this.removeStoreFilter(c);this.settingValue=!1}},hasActiveFilter:function(){var a=!1,b=this.filter,c=this.getStore().getFilters();if(c.length)for(filter in b)if(c.map[this.getBaseIdPrefix()+"-"+filter]){a=!0;break}return a},onFilterRemove:function(a){var b;!this.menu&&!this.hasActiveFilter()?this.active=!1:this.menu&&(b={},b[a]=null,this.setValue(b))},setValue:function(a){var b=this.fields,c=this.filter,d=[],e=[],g=!1,h=this.getStore().getFilters(),j;if(!this.settingValue){this.settingValue=
!0;"eq"in a?(c.lt.getValue()&&e.push(b.lt),c.gt.getValue()&&e.push(b.gt),a.eq?(j=this.convertValue(a.eq,!1),d.push(b.eq),c.eq.setValue(j)):e.push(b.eq)):(c.eq.getValue()&&e.push(b.eq),"lt"in a&&(a.lt?(j=this.convertValue(a.lt,!1),d.push(b.lt),c.lt.setValue(j)):e.push(b.lt)),"gt"in a&&(a.gt?(j=this.convertValue(a.gt,!1),d.push(b.gt),c.gt.setValue(j)):e.push(b.gt)));if(e.length||d.length){h.beginUpdate();if(e.length){c=0;for(j=e.length;c<j;c++)a=e[c],b=a.filter,a.setValue(null),b.setValue(null),this.removeStoreFilter(b)}if(d.length){c=
0;for(j=d.length;c<j;c++)this.addStoreFilter(d[c].filter);g=!0}h.endUpdate()}!g&&h.length&&(g=this.hasActiveFilter());(!g||!this.active)&&this.setActive(g);this.settingValue=!1}}});
Ext.define("Ext.grid.filters.filter.Date",{extend:Ext.grid.filters.filter.TriFilter,alias:"grid.filter.date",type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0}},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},dateFormat:null,convertValue:function(a,b){b&&!Ext.isDate(a)?a=Ext.isDate(a):!b&&Ext.isDate(a)&&(a=+a);return a},createMenu:function(a){var b={scope:this,checkchange:this.onCheckChange},
c,d,e,g,h,j,k,l;this.callParent(arguments);d=this.getItemDefaults();c=this.getFields();this.dateFormat||(this.dateFormat=Ext.Date.defaultFormat);e=Ext.apply({minDate:this.minDate,maxDate:this.maxDate,format:this.dateFormat,listeners:{scope:this,select:this.onMenuSelect}},this.getPickerDefaults());this.fields={};g=0;for(h=this.menuItems.length;g<h;g++)j=this.menuItems[g],"-"!==j&&(k={menu:{items:[Ext.apply({itemId:j},e)]}},d&&Ext.merge(k,d),c&&Ext.merge(k,c[j]),k=this.menu.add(k),l=this.fields[j]=
k.down("datepicker"),l.filter=this.filter[j],l.filterKey=j,k.on(b))},getPicker:function(a){return this.fields[a]},onCheckChange:function(a,b){var c=a.down("datepicker").filter,d;!b&&c.getValue()&&(d={},d[c.getOperator()]=null,this.setValue(d))},onFilterRemove:function(a){var b={};b[a]=null;this.setValue(b);this.fields[a].up("menuitem").setChecked(!1,!0)},onMenuSelect:function(a,b){var c=this.fields,d=c[a.itemId],e=c.gt,g=c.lt,c=c.eq,h={};d.up("menuitem").setChecked(!0,!0);d===c?(g.up("menuitem").setChecked(!1,
!0),e.up("menuitem").setChecked(!1,!0)):(c.up("menuitem").setChecked(!1,!0),d===e&&+g.value<+b?g.up("menuitem").setChecked(!1,!0):d===g&&+e.value>+b&&e.up("menuitem").setChecked(!1,!0));h[d.filterKey]=b;this.setValue(h);a.up("menu").hide()}});
Ext.define("Ext.grid.filters.filter.List",{extend:Ext.grid.filters.filter.SingleFilter,alias:"grid.filter.list",type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,destroy:function(){var a=this.optionsStore;a&&(this.autoStore?a.destroy():a.un("unload",this.onLoad,this),this.optionsStore=null);this.callParent()},activateMenu:function(){var a=this.menu.items,b=this.filter.getValue(),c,d,e;c=0;for(d=
a.length;c<d;c++)e=a.getAt(c),-1<b.indexOf(e.value)&&e.setChecked(!0,!0)},createMenu:function(a){var b=this.getStore(),c=this.optionsStore,d=this.options,e;this.callParent(arguments);e=this.menu;if(c)b=c.getData(),b.length?this.createMenuItems(c):(e.add({text:this.loadingText,iconCls:"loading-indicator"}),e.mon(e,"show",this.show,this),c.on("load",this.createMenuStore,this,{single:!0}));else if(d)this.createMenuStore(d);else if(b.getData().length)this.createMenuStore();else b.on("load",this.createMenuStore,
e,{single:!0})},createMenuItems:function(a){var b=this.menu;a=a.getData();var c=a.length,d={checkchange:this.setValue,scope:this},e=this.getItemDefaults(),g,h,j,k;if(c){g=a.items;b.removeAll(!0);h=this.single?Ext.id():null;for(k=0;k<c;k++)a=g[k].data,j=a[this.idField],b.add(Ext.apply({text:a[this.labelField],group:h,value:j,listeners:d},e));this.loaded=!0}},createMenuStore:function(a){var b=[],c,d,e;a=!a?this.getStore().collect(this.column.dataIndex,!1,!0):a.isStore?a.collect(this.labelField,!1,!0):
a||[];c=0;for(d=a.length;c<d;c++)switch(e=a[c],Ext.typeOf(e)){case "array":b.push(e);break;case "object":b.push([e[this.idField],e[this.labelField]]);break;default:null!=e&&b.push([e,e])}a=this.menu.store=new Ext.data.ArrayStore({fields:[this.idField,this.labelField],data:b});this.createMenuItems(a);this.autoStore=this.loaded=!0},setValue:function(){var a=this.menu.items,b=[],c,d,e;c=0;for(d=a.length;c<d;c++)e=a.getAt(c),e.checked&&b.push(e.value);this.filter.setValue(b);(d=b.length)&&this.active?
this.updateStoreFilter(this.filter):this.setActive(!!d)},show:function(){this.loadOnShow&&(!this.loaded&&!this.optionsStore.loading)&&this.optionsStore.load()}});
Ext.define("Ext.grid.filters.filter.Number",{extend:Ext.grid.filters.filter.TriFilter,alias:["grid.filter.number","grid.filter.numeric"],type:"number",config:{fields:{gt:{iconCls:Ext.baseCSSPrefix+"grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:Ext.baseCSSPrefix+"grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:Ext.baseCSSPrefix+"grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},
menuDefaults:{bodyPadding:3,showSeparator:!1},convertValue:Ext.identityFn,createMenu:function(){var a={scope:this,keyup:{fn:this.onInputKeyUp,buffer:200},spin:{fn:this.onInputSpin,buffer:200},el:{click:this.stopFn}},b=this.getItemDefaults(),c=this.getFields(),d,e,g,h,j;this.callParent();this.fields={};e=0;for(g=this.menuItems.length;e<g;e++)h=this.menuItems[e],"-"!==h&&(d=c[h],j={labelClsExtra:Ext.baseCSSPrefix+"grid-filters-icon "+d.iconCls},b&&Ext.merge(j,b),Ext.merge(j,d),j.emptyText=j.emptyText||
this.emptyText,delete j.iconCls,this.fields[h]=d=this.menu.add(j),d.filter=this.filter[h],d.filterKey=h,d.on(a))},onInputKeyUp:function(a,b){var c;b.getKey()===b.RETURN&&a.isValid()&&this.menu.hide();c={};c[a.filterKey]=a.getValue();this.setValue(c)},onInputSpin:function(a){var b={};b[a.filterKey]=a.getValue();this.setValue(b)},stopFn:function(a){a.stopPropagation()}});
Ext.define("Ext.grid.filters.filter.String",{extend:Ext.grid.filters.filter.SingleFilter,alias:"grid.filter.string",type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:Ext.baseCSSPrefix+"grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var a;this.callParent();a=Ext.apply({},this.getItemDefaults());a.iconCls&&!("labelClsExtra"in
a)&&(a.labelClsExtra=Ext.baseCSSPrefix+"grid-filters-icon "+a.iconCls);delete a.iconCls;a.emptyText=a.emptyText||this.emptyText;this.inputItem=this.menu.add(a);this.inputItem.on({scope:this,keyup:{fn:this.onInputKeyUp,buffer:200},el:{click:function(a){a.stopPropagation()}}})},onInputKeyUp:function(a,b){b.getKey()===b.RETURN&&a.isValid()?this.menu.hide():this.setValue(a.getValue())},setValue:function(a){this.inputItem&&this.inputItem.setValue(a);this.filter.setValue(a);a&&this.active?this.updateStoreFilter(this.filter):
this.setActive(!!a)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())}});
Ext.define("Ext.grid.filters.Filters",{extend:Ext.plugin.Abstract,mixins:[Ext.util.StoreHolder],alias:"plugin.gridfilters",pluginId:"gridfilters",defaultFilterTypes:{"boolean":"boolean","int":"number",date:"date",number:"number"},filterCls:Ext.baseCSSPrefix+"grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:void 0,init:function(a){var b;Ext.Assert.falsey(this.grid);this.grid=a;a.filters=this;this.grid.normalGrid&&(this.isLocked=!0);a.clearFilters=this.clearFilters.bind(this);
b=a.store;a.headerCt.on({scope:this,add:this.onAdd,menucreate:this.onMenuCreate});a.on({scope:this,beforedestroy:this.destroy,beforereconfigure:this.onBeforeReconfigure,reconfigure:this.onReconfigure});this.bindStore(b);a.stateful&&(b.statefulFilters=!0);this.initColumns()},initColumns:function(){var a,b,c,d,e,g;c=this.grid.columnManager.getColumns();a=0;for(b=c.length;a<b;a++)if(d=c[a],(e=d.filter)&&!e.isGridFilter)g||(g=this.grid.store.getFilters(),g.beginUpdate()),this.createColumnFilter(d);g&&
g.endUpdate()},createColumnFilter:function(a){var b=a.filter,c={column:a,grid:this.grid,owner:this};Ext.isString(b)?c.type=b:Ext.apply(c,b);c.type||(b=(b=(b=this.store.getModel())&&b.getField(a.dataIndex))&&b.type,c.type=b&&this.defaultFilterTypes[b]||a.defaultFilterType||"string");return a.filter=Ext.Factory.gridFilter(c)},onAdd:function(a,b){var c=b.filter;c&&!c.isGridFilter&&this.createColumnFilter(b)},onMenuCreate:function(a,b){b.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(a){var b,
c,d;if(this.showMenu){this.menuItems||(this.menuItems={});c=a.up("grid");d=c.id;b=this.menuItems[d];if(!b||b.isDestroyed)b=this.createMenuItem(a,d);this.activeFilterMenuItem=b;(a=this.getMenuFilter(c.headerCt))&&a.showMenu(b);b.setVisible(!!a);this.sep.setVisible(!!a)}},createMenuItem:function(a,b){var c;this.sep=a.add("-");c=a.add({checked:!1,itemId:"filters",text:this.menuFilterText,listeners:{scope:this,checkchange:this.onCheckChange}});return this.menuItems[b]=c},destroy:function(){this.bindStore(null);
Ext.destroyMembers(this,"menuItem","sep");this.callParent()},onUnbindStore:function(a){a.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(a){this.local=!a.getRemoteFilter();a.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(a,b){var c=b.items.length,d=this.grid.columnManager,e,g,h;for(e=0;e<c;e++)if(g=b.items[e],h=d.getHeaderByDataIndex(g.getProperty()))if((h=h.filter)&&!h.settingValue)h.onFilterRemove(g.getOperator())},getMenuFilter:function(a){return a.getMenu().activeHeader.filter},
onCheckChange:function(a,b){var c=this.isLocked?a.up("grid"):this.grid;this.getMenuFilter(c.headerCt).setActive(b)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(a){var b=this.grid,c=this.store,d=!0,e,g,h,j,k;Ext.isArray(a)||(a=[a]);g=0;for(h=a.length;g<h;g++)if(j=a[g],e=j.dataIndex,j.value&&(d=!1),e=b.columnManager.getHeaderByDataIndex(e))k=e.filter,!k||k&&!k.isGridFilter?e.filter=Ext.apply(k||
{},j):(Ext.destroy(k),e.filter=j);c.suppressNextFilter=d;this.initColumns();c.suppressNextFilter=!1},addFilters:function(a){a&&this.addFilter(a)},clearFilters:function(a){var b=this.grid,c=b.columnManager.getColumns(),b=b.store,d=b.getAutoFilter(),e,g,h,j;void 0!==a&&b.setAutoFilter(a);g=0;for(h=c.length;g<h;g++)if(e=c[g],(e=e.filter)&&e.isGridFilter)j||(j=b.getFilters(),j.beginUpdate()),e.setActive(!1);j&&j.endUpdate();void 0!==a&&b.setAutoFilter(d)},onBeforeReconfigure:function(a,b,c){c&&b.getFilters().beginUpdate();
this.reconfiguring=!0},onReconfigure:function(a,b,c,d){d!==b&&this.bindStore(b);c&&(this.initColumns(),b.getFilters().endUpdate());this.reconfiguring=!1}});
Ext.define("Ext.grid.locking.HeaderContainer",{extend:Ext.grid.header.Container,headerCtRelayEvents:"blur focus move resize destroy beforedestroy boxready afterrender render beforerender removed hide beforehide show beforeshow enable disable added deactivate beforedeactivate activate beforeactivate remove add beforeremove beforeadd afterlayout menucreate sortchange columnschanged columnshow columnhide columnmove headertriggerclick headercontextmenu headerclick columnresize statesave beforestatesave staterestore beforestaterestore".split(" "),constructor:function(a){var b=
a.lockedGrid,c=a.normalGrid;this.lockable=a;this.callParent();b.visibleColumnManager.rootColumns=c.visibleColumnManager.rootColumns=a.visibleColumnManager=this.visibleColumnManager=new Ext.grid.ColumnManager(!0,b.headerCt,c.headerCt);b.columnManager.rootColumns=c.columnManager.rootColumns=a.columnManager=this.columnManager=new Ext.grid.ColumnManager(!1,b.headerCt,c.headerCt);this.relayEvents(b.headerCt,this.headerCtRelayEvents);this.relayEvents(c.headerCt,this.headerCtRelayEvents)},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},
getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var a=this.lockable.lockedGrid.headerCt.getColumnsState(),b=this.lockable.normalGrid.headerCt.getColumnsState();return a.concat(b)},applyColumnsState:function(a){var b=this.lockable.lockedGrid,c=b.headerCt,d=this.lockable.normalGrid.headerCt,e=Ext.Array.toValueMap(c.items.items,"headerId"),g=Ext.Array.toValueMap(d.items.items,"headerId"),
h=[],j=[],k=1,l=a.length,m,n,p,q;for(m=0;m<l;m++)if(q=a[m],n=(p=e[q.id])||g[q.id])n.applyColumnState&&n.applyColumnState(q),void 0===n.locked&&(n.locked=!!p),n.locked?(h.push(n),!n.hidden&&"number"==typeof n.width&&(k+=n.width)):j.push(n);h.length+j.length==c.items.getCount()+d.items.getCount()&&(c.removeAll(!1),d.removeAll(!1),c.add(h),d.add(j),b.setWidth(k))}});
Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",mixins:[Ext.util.Observable,Ext.util.StoreHolder,Ext.util.Focusable],isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(a){var b,c;this.ownerGrid=a.ownerGrid;this.navigationModel=new Ext.grid.NavigationModel(this);a.locked.viewConfig.bindStore=a.normal.viewConfig.bindStore=Ext.emptyFn;a.locked.viewConfig.beforeLayout=a.normal.viewConfig.beforeLayout=
this.beforeLayout;a.locked.viewConfig.navigationModel=a.normal.viewConfig.navigationModel=this.navigationModel;this.lockedGrid=this.ownerGrid.lockedGrid=Ext.ComponentManager.create(a.locked);this.lockedView=b=this.lockedGrid.getView();this.lockedGrid.isTree&&(this.lockedView.animate=!1,a.normal.store=b.store,a.normal.viewConfig.stripeRows=this.lockedView.stripeRows,a.normal.rowLines=this.lockedGrid.rowLines);this.normalGrid=this.ownerGrid.normalGrid=Ext.ComponentManager.create(a.normal);b.lockingPartner=
c=this.normalView=this.normalGrid.getView();c.lockingPartner=b;b.isLockedView=c.isNormalView=!0;this.loadMask=void 0!==a.loadMask?a.loadMask:this.loadMask;this.mixins.observable.constructor.call(this);this.relayEvents(b,Ext.view.Table.events);this.relayEvents(c,Ext.view.Table.events);c.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});b.on({scope:this,itemmouseleave:this.onItemMouseLeave,itemmouseenter:this.onItemMouseEnter});this.ownerGrid.on({render:this.onPanelRender,
scope:this});this.loadingText=c.loadingText;this.loadingCls=c.loadingCls;this.loadingUseMsg=c.loadingUseMsg;this.bindStore(c.dataSource,!0,"dataSource");this.getSelectionModel().bindStore(this.ownerGrid.store)},beforeLayout:function(){var a=this.ownerCt.ownerLockable.view,b=a.lockedGrid.view,c=a.normalGrid.view;a.relayingOperation||(a.lockedGrid.isVisible()&&b.refreshNeeded&&b.doFirstRefresh(b.dataSource),c.refreshNeeded&&c.doFirstRefresh(c.dataSource))},onPanelRender:function(){var a=this.loadMask,
b={target:this.ownerGrid,msg:this.loadingText,msgCls:this.loadingCls,useMsg:this.loadingUseMsg,store:this.ownerGrid.store};this.el=this.ownerGrid.getTargetEl();this.rendered=!0;this.initFocusableEvents();this.fireEvent("render",this);a&&(Ext.isObject(a)&&(b=Ext.apply(b,a)),this.loadMask=new Ext.LoadMask(b))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},
getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(a){return this.getViewForColumn(a).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getViewForColumn:function(a){var b=this.lockedView,c;b.headerCt.cascade(function(b){if(b===a)return c=!0,!1});return c?b:this.normalView},onItemMouseEnter:function(a,b){var c=this.lockedView,d=this.normalView;a.trackOver&&(a!==c&&(d=c),c=d.getNode(b),d.highlightItem(c))},onItemMouseLeave:function(a){var b=
this.lockedView,c=this.normalView;a.trackOver&&(a!==b&&(c=b),c.clearHighlight())},relayFn:function(a,b){b=b||[];var c=this.lockedView;this.relayingOperation=!0;c[a].apply(c,b);c=this.normalView;c[a].apply(c,b);this.relayingOperation=!1},getSelectionModel:function(){return this.ownerGrid.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(a,b,c){!b&&"dataSource"!==c&&this.getSelectionModel().bindStore(a);
this.normalView.componentLayoutCounter&&(Ext.suspendLayouts(),this.normalView.doFirstRefresh(a),this.lockedView.doFirstRefresh(a),Ext.resumeLayouts(!0))},getStoreListeners:function(){return{refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh}},onDataRefresh:function(){this.relayFn("onDataRefresh",arguments)},onReplace:function(){this.relayFn("onReplace",arguments)},onAdd:function(){this.relayFn("onAdd",arguments)},onRemove:function(){this.relayFn("onRemove",
arguments)},onUpdate:function(){this.relayFn("onUpdate",arguments)},refresh:function(){this.relayFn("refresh",arguments)},getNode:function(a){return this.normalView.getNode(a)},getRow:function(a){return this.normalView.getRow(a)},getCell:function(a,b){var c=this.getViewForColumn(b).getRow(a);return Ext.fly(c).down(b.getCellSelector())},indexOf:function(a){var b=this.lockedView.indexOf(a);b||(b=this.normalView.indexOf(a));return b},focus:function(){this.getFocusEl().focus()},focusRow:function(a){var b=
this.getNavigationModel().lastFocused;(b?b.view:this.normalView).focusRow(a)},focusCell:function(a){a.view.focusCell(a)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(a){return this.ownerGrid.isVisible(a)},getFocusEl:function(){var a=this.getNavigationModel().lastFocused;return(a?a.view:this.normalView).getFocusEl()},getCellInclusive:function(a,b){var c=a.column,d=this.lockedGrid.getColumnManager().getColumns().length;return c>=d?(a=Ext.apply({},a),a.column-=d,this.normalView.getCellInclusive(a,
b)):this.lockedView.getCellInclusive(a,b)},getCellByPosition:function(a,b){var c=a.view,d=a.column;c===this&&(c=d.getView());return c.getCellByPosition(a,b)},getRecord:function(a){var b=this.lockedView.getRecord(a);b||(b=this.normalView.getRecord(a));return b},scrollBy:function(){var a=this.normalView;a.scrollBy.apply(a,arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",
arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){this.bindStore(null,!1,"dataSource");this.isDestroyed=!0;this.clearListeners();Ext.destroy(this.loadMask,this.navigationModel,this.selModel)}},function(){this.borrow(Ext.Component,["up"]);this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"])});
Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",supportsOverflowX:"overflow-x"in document.documentElement.style,syncRowHeight:!0,headerCounter:0,scrollDelta:40,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:"invalidateScrollerOnRefresh hideHeaders enableColumnHide enableColumnMove enableColumnResize sortableColumns multiColumnSort columnLines rowLines variableRowHeight numFromEdge trailingBufferZone leadingBufferZone scrollToLoadBuffer".split(" "),
normalCfgCopy:["verticalScroller","verticalScrollDock","verticalScrollerType","scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(a){var b,c;if(this.subGridXType)a=this.subGridXType;else{if(!a)return"gridpanel";b=this.getXTypes().split("/");c=b.length;a=b[c-1];b=b[c-2];a="tablepanel"!==b?b:a}return a},injectLockable:function(){this.focusable=!1;this.hasView=this.lockable=!0;var a=this,b=Ext.getScrollbarSize().height,c=a.store=Ext.StoreManager.lookup(a.store),d=a.getSelectionModel(),e,g,h,j,
k,l;j=(k=a.viewConfig)&&k.loadMask;l=void 0!==j?j:a.loadMask;j=a.findPlugin("bufferedrenderer");e=a.constructLockableFeatures();a.features=null;g=a.constructLockablePlugins();a.plugins=g.topPlugins;h=Ext.apply({id:a.id+"-locked",isLocked:!0,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(!0),store:c,bufferedRenderer:a.bufferedRenderer,scrollerOwner:!1,animate:!1,scroll:b?!1:"vertical",selModel:d,border:!1,cls:a.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||a.normalGrid.floatedFromCollapse},
features:e.lockedFeatures,plugins:g.lockedPlugins},a.lockedGridConfig);d=Ext.apply({id:a.id+"-normal",isLocked:!1,ownerGrid:a,ownerLockable:a,xtype:a.determineXTypeToCreate(),store:c,bufferedRenderer:a.bufferedRenderer,scrollerOwner:!1,selModel:d,border:!1,cls:a.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||a.lockedGrid.floatedFromCollapse},features:e.normalFeatures,plugins:g.normalPlugins},a.normalGridConfig);a.addCls(Ext.baseCSSPrefix+"grid-locked");Ext.copyTo(d,a,a.bothCfgCopy,
!0);Ext.copyTo(h,a,a.bothCfgCopy,!0);Ext.copyTo(d,a,a.normalCfgCopy,!0);Ext.copyTo(h,a,a.lockedCfgCopy,!0);for(e=0;e<a.normalCfgCopy.length;e++)delete a[a.normalCfgCopy[e]];for(e=0;e<a.lockedCfgCopy.length;e++)delete a[a.lockedCfgCopy[e]];a.addStateEvents(["lockcolumn","unlockcolumn"]);e=a.processColumns(a.columns,h);h.columns=e.locked;h.columns.items.length||(h.hidden=!0);d.columns=e.normal;d.columns.items.length||(d.hidden=!0);d.flex=1;h.viewConfig=a.lockedViewConfig||{};d.viewConfig=a.normalViewConfig||
{};h.viewConfig.loadingUseMsg=!1;h.viewConfig.loadMask=!1;b&&!a.supportsOverflowX&&(h.viewConfig.style="border-bottom:"+b+"px solid #f6f6f6;"+(h.viewConfig.style||""),d.viewConfig.style="border-bottom:"+b+"px solid #f6f6f6;"+(h.viewConfig.style||""));d.viewConfig.loadMask=!1;k&&k.id&&Ext.log.warn('id specified on Lockable viewConfig, it will be shared between both views: "'+k.id+'"');Ext.applyIf(h.viewConfig,k);Ext.applyIf(d.viewConfig,k);a.initialConfig.layout||(a.layout={type:"hbox",align:"stretch"});
a.getLayout();"border"===a.layout.type&&(a.split&&(h.split=!0),d.title||(h.header=!1),h.region||(h.region="west"),d.region||(d.region="center"),a.addCls(Ext.baseCSSPrefix+"grid-locked-split"));a.layout instanceof Ext.layout.container.Box||(a.split=!1);a.view=new Ext.grid.locking.View({loadMask:l,locked:h,normal:d,ownerGrid:a});k=a.lockedGrid.getView();h=a.normalGrid.getView();l=j?{}:{scroll:a.onLockedViewScroll,scope:a};b&&(a.lockedGrid.on({afterlayout:a.afterLockedViewLayout,scope:a}),k.getOverflowStyle(),
k.scrollFlags.y||(l.mousewheel={fn:a.onLockedViewMouseWheel,element:"el",scope:a}));k.on(l);l=j?{}:{scroll:a.onNormalViewScroll,scope:a};h.on(l);b=a.lockedGrid.headerCt;j=a.normalGrid.headerCt;a.headerCt=a.view.headerCt=new Ext.grid.locking.HeaderContainer(a);b.lockedCt=!0;b.lockableInjected=!0;j.lockableInjected=!0;b.on({add:a.delaySyncLockedWidth,remove:a.delaySyncLockedWidth,columnshow:a.delaySyncLockedWidth,columnhide:a.delaySyncLockedWidth,sortchange:a.onLockedHeaderSortChange,columnresize:a.delaySyncLockedWidth,
scope:a});j.on({add:a.delaySyncLockedWidth,remove:a.delaySyncLockedWidth,columnshow:a.delaySyncLockedWidth,columnhide:a.delaySyncLockedWidth,sortchange:a.onNormalHeaderSortChange,scope:a});a.modifyHeaderCt();a.items=[a.lockedGrid];a.split&&(a.addCls(Ext.baseCSSPrefix+"grid-locked-split"),a.items[1]={xtype:"splitter"});a.items.push(a.normalGrid);a.relayHeaderCtEvents(b);a.relayHeaderCtEvents(j);a.storeRelayers=a.relayEvents(c,["filterchange","groupchange"]);a.gridRelayers=a.relayEvents(a.normalGrid,
["viewready"])},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},processColumns:function(a,b){var c,d,e,g=new Ext.grid.header.Container,h=[],j=[];c={itemId:"lockedHeaderCt",stretchMaxPartner:"^^\x3e\x3e#normalHeaderCt",items:h};d={itemId:"normalHeaderCt",stretchMaxPartner:"^^\x3e\x3e#lockedHeaderCt",items:j};var k={lockedWidth:b.width||0,locked:c,normal:d},l=!(b.width||b.flex);this.hasOwnProperty("shrinkWrapLocked")||
(this.shrinkWrapLocked=l);Ext.isObject(a)&&(Ext.applyIf(c,a),Ext.applyIf(d,a),c=Ext.apply({},a),delete c.items,Ext.apply(g,c),a=a.items);c=0;for(d=a.length;c<d;++c)e=a[c],e.isComponent||(e=g.lookupComponent(g.applyDefaults(e))),e.processed=!0,e.locked||e.autoLock?(l&&!e.hidden&&(k.lockedWidth+=this.getColumnWidth(e)||g.defaultWidth),h.push(e)):j.push(e),e.headerId||(e.headerId=(e.initialConfig||e).id||"h"+ ++this.headerCounter);this.fireEvent("processcolumns",this,h,j);g.destroy();l&&(b.width=k.lockedWidth+=
Ext.num(this.getSelectionModel().headerWidth,0)+(h.length?1:0));return k},getColumnWidth:function(a){var b=a.width||0,c,d;a.flex&&Ext.Error.raise("Locked columns in an unsized locked side do NOT support a flex width. You must set a width on the "+a.text+"column.");if(!b&&a.isGroupHeader){a=a.items.items;c=a.length;for(d=0;d<c;d++)b+=this.getColumnWidth(a[d])}return b},afterLockedViewLayout:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=a.el,d=b.el,e=Ext.getScrollbarSize().height,
g=a.scrollFlags.x&&this.lockedGrid.headerCt.tooNarrow?e:0,e=b.scrollFlags.x&&this.normalGrid.headerCt.tooNarrow?e:0;g!==e?g?this.supportsOverflowX?(d.dom.style.overflowX="scroll",a.getOverflowEl().setStyle(a.getOverflowStyle())):(d.dom.style.borderBottomWidth=g+"px",c.dom.style.borderBottomWidth="0px"):this.supportsOverflowX?(c.dom.style.overflowX="scroll",b.getOverflowEl().setStyle(b.getOverflowStyle())):(c.dom.style.borderBottomWidth=e+"px",d.dom.style.borderBottomWidth="0px"):this.supportsOverflowX?
(a.getOverflowEl().dom.style.overflowX=e?"scroll":"",b.getOverflowEl().setStyle(b.getOverflowStyle())):d.dom.style.borderBottomWidth=c.dom.style.borderBottomWidth="0px"},onLockedViewMouseWheel:function(a){var b=-this.scrollDelta*a.getWheelDeltas().y,c=this.lockedGrid.getView(),d=c.el.dom,e,g,h;if(!this.ignoreMousewheel&&(d&&(e=c.getScrollY(),g=e!==d.scrollHeight-d.clientHeight,h=0!==e),0>b&&h||0<b&&g))a.stopEvent(),e+=b,c.setScrollY(e),this.normalGrid.getView().setScrollY(e),this.onNormalViewScroll()},
onLockedViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=a.getScrollY();b.getScrollY()!==c&&(b.setScrollY(c),b.bufferedRenderer&&(a=a.body.dom,b=b.body.dom,b.style.position="absolute",b.style.top=a.style.top))},onNormalViewScroll:function(){var a=this.lockedGrid.getView(),b=this.normalGrid.getView(),c=a.getScrollY(),d=b.getScrollY();d!==c&&(a.setScrollY(d),b.bufferedRenderer&&(a=a.body,a.dom&&(a.dom.style.position="absolute",a.translate(null,b.bufferedRenderer.bodyTop))))},
syncRowHeights:function(){if(!this.isDestroyed){var a,b=this.lockedGrid.getView(),c=this.normalGrid.getView(),d=b.all.slice(),e=c.all.slice(),g=d.length;if(e.length===g){for(a=0;a<g;a++)c.syncRowHeights(d[a],e[a]);a=c.getScrollY();c.setScrollY(a);b.setScrollY(a)}}},modifyHeaderCt:function(){this.lockedGrid.headerCt.getMenuItems=this.getMenuItems(this.lockedGrid.headerCt.getMenuItems,!0);this.normalGrid.headerCt.getMenuItems=this.getMenuItems(this.normalGrid.headerCt.getMenuItems,!1);this.lockedGrid.headerCt.showMenuBy=
Ext.Function.createInterceptor(this.lockedGrid.headerCt.showMenuBy,this.showMenuBy);this.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(this.normalGrid.headerCt.showMenuBy,this.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(a,b){var c=this.getMenu(),d=c.down("#unlockItem"),c=c.down("#lockItem"),e=d.prev();!1===b.lockable?(e.hide(),d.hide(),c.hide()):(e.show(),d.show(),c.show(),d.initialConfig.disabled||d.setDisabled(!1===
b.lockable),c.initialConfig.disabled||c.setDisabled(!b.isLockable()))},getMenuItems:function(a,b){var c=this.unlockText,d=this.lockText,e=Ext.baseCSSPrefix+"hmenu-unlock",g=Ext.baseCSSPrefix+"hmenu-lock",h=this.onUnlockMenuClick.bind(this),j=this.onLockMenuClick.bind(this);return function(){var k=a.call(this);k.push("-",{itemId:"unlockItem",iconCls:e,text:c,handler:h,disabled:!b});k.push({itemId:"lockItem",iconCls:g,text:d,handler:j,disabled:b});return k}},syncTaskDelay:1,delaySyncLockedWidth:function(){var a=
this.syncLockedWidthTask;a||(a=this.syncLockedWidthTask=new Ext.util.DelayedTask(this.syncLockedWidth,this));0===this.syncTaskDelay?this.syncLockedWidth():a.delay(1)},syncLockedWidth:function(){var a=this.lockedGrid,b=a.view,c=b.el.dom,d=this.normalGrid,e=a.headerCt.getVisibleGridColumns().length,g=d.headerCt.getVisibleGridColumns().length,h=this.syncLockedWidthTask;h&&h.cancel();Ext.suspendLayouts();g?(d.show(),e?(this.shrinkWrapLocked&&!a.headerCt.forceFit&&(delete a.flex,a.setWidth(a.headerCt.getTableWidth()+
a.el.getBorderWidth("lr"))),a.addCls(this.lockedGridCls),a.show(),this.split&&this.child("splitter").show()):(a.getView().clearViewEl(!0),a.hide(),this.split&&this.child("splitter").hide()),b.el.setStyle(b.getOverflowStyle()),this.ignoreMousewheel=b.scrollFlags.y):(d.hide(),c.style.borderBottomWidth="0",a.flex=1,delete a.width,a.removeCls(this.lockedGridCls),a.show(),b.el.setStyle(d.view.getOverflowStyle()),this.ignoreMousewheel=!0);Ext.resumeLayouts(!0);return[e,g]},onLockedHeaderSortChange:Ext.emptyFn,
onNormalHeaderSortChange:Ext.emptyFn,lock:function(a,b,c){var d=this.normalGrid,e=this.lockedGrid,g=d.view,h=e.view,j=d.headerCt;a=a||j.getMenu().activeHeader;c=c||e.headerCt;j=a.ownerCt;a.isLockable()&&(a.flex&&(a.width=a.getWidth(),a.flex=null),Ext.suspendLayouts(),g.blockRefresh=h.blockRefresh=!0,j.remove(a,!1),this.ignoreAddLockedColumn=a.locked=!0,Ext.isDefined(b)?c.insert(b,a):c.add(a),this.ignoreAddLockedColumn=!1,g.blockRefresh=h.blockRefresh=!1,b=this.syncLockedWidth(),b[0]&&e.getView().refreshView(),
b[1]&&d.getView().refreshView(),Ext.resumeLayouts(!0),this.fireEvent("lockcolumn",this,a))},unlock:function(a,b,c){var d=this.normalGrid,e=this.lockedGrid,g=d.view,h=e.view,j=e.headerCt;Ext.isDefined(b)||(b=0);a=a||j.getMenu().activeHeader;c=c||d.headerCt;Ext.suspendLayouts();g.blockRefresh=h.blockRefresh=!0;a.ownerCt.remove(a,!1);a.locked=!1;c.insert(b,a);g.blockRefresh=h.blockRefresh=!1;b=this.syncLockedWidth();b[0]&&e.getView().refreshView();b[1]&&d.getView().refreshView();Ext.resumeLayouts(!0);
this.fireEvent("unlockcolumn",this,a)},reconfigureLockable:function(a,b){var c=this.store,d=this.lockedGrid,e=this.normalGrid;Ext.suspendLayouts();b&&(d.reconfiguring=e.reconfiguring=!0,d.headerCt.removeAll(),e.headerCt.removeAll(),b=this.processColumns(b,d),this.ignoreAddLockedColumn=!0,d.headerCt.add(b.locked.items),this.ignoreAddLockedColumn=!1,e.headerCt.add(b.normal.items),d.reconfiguring=e.reconfiguring=!1,this.syncLockedWidth());a&&a!==c?(this.store=a=Ext.data.StoreManager.lookup(a),d.bindStore(a),
c=d.view,c.store=a,c.dataSource.isFeatureStore||(c.dataSource=a),e.bindStore(a),c=e.view,c.store=a,c.dataSource.isFeatureStore||(c.dataSource=a),this.view.store=a,this.view.bindStore(a,!1,"dataSource")):(d.getView().refreshView(),e.getView().refreshView());Ext.resumeLayouts(!0)},constructLockableFeatures:function(){var a=this.features,b,c,d,e,g=0,h;if(a){Ext.isArray(a)||(a=[a]);d=[];e=[];for(h=a.length;g<h;g++)switch(b=a[g],b.isFeature||(b=Ext.create("feature."+b.ftype,b)),b.lockableScope){case "locked":d.push(b);
break;case "normal":e.push(b);break;default:b.lockableScope="both",d.push(b),e.push(c=b.clone()),c.lockingPartner=b,b.lockingPartner=c}}return{normalFeatures:e,lockedFeatures:d}},constructLockablePlugins:function(){var a=this.plugins,b,c,d,e,g,h,j=0,k;if(a){Ext.isArray(a)||(a=[a]);e=[];g=[];h=[];for(k=a.length;j<k;j++)switch(b=a[j],b.init?c=b.lockableScope:(c=b.ptype?Ext.ClassManager.getByAlias("plugin."+b.ptype):Ext.ClassManager.get(b.xclass),c=c.prototype.lockableScope),c){case "both":g.push(d=
b.clonePlugin());h.push(c=b.clonePlugin());d.lockingPartner=c;c.lockingPartner=d;Ext.destroy(b);break;case "locked":g.push(b);break;case "normal":h.push(b);break;default:e.push(b)}}return{topPlugins:e,normalPlugins:h,lockedPlugins:g}},destroyLockable:function(){var a=this.syncLockedWidthTask;a&&(a.cancel(),this.syncLockedWidthTask=null);Ext.destroy(this.view,this.headerCt)}},function(){this.borrow(Ext.Component,["constructPlugin"])});
Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:Ext.AbstractPlugin,alias:"plugin.bufferedrenderer",isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,init:function(a){var b=a.view,c={scroll:this.onViewScroll,resize:this.onViewResize,refresh:this.onViewRefresh,columnschanged:this.checkVariableRowHeight,scope:this,destroyable:!0},
d=b.initialConfig;if(a.isTree||a.ownerLockable&&a.ownerLockable.isTree)b.blockRefresh=!1,d&&void 0===d.loadMask&&(b.loadMask=!0);b.positionBody&&(c.refresh=this.onViewRefresh);this.grid=a;this.view=b;this.isRTL=b.getInherited().rtl;b.bufferedRenderer=this;b.preserveScrollOnRefresh=!0;b.animate=!1;this.bindStore(b.dataSource);b.hasOwnProperty("rowHeight")&&(this.rowHeight=b.rowHeight);this.position=0;this.gridListeners=a.on("reconfigure",this.onReconfigure,this);this.viewListeners=b.on(c)},checkVariableRowHeight:function(){var a=
this.grid;this.variableRowHeight=this.view.hasVariableRowHeight();a.ownerLockable&&(a.ownerLockable.syncRowHeight=this.variableRowHeight)},bindStore:function(a){var b=this.view.dataSource;(b&&b.isFeatureStore)===a.isFeatureStore&&(this.store&&this.unbindStore(),this.storeListeners=a.on({scope:this,groupchange:this.onStoreGroupChange,clear:this.onStoreClear,destroyable:!0}),this.store=a);this.view.componentLayout.layoutCount&&(delete this.viewSize,a.isBufferedStore&&a.setViewSize(this.viewSize),this.onViewResize(this.view,
0,this.view.getHeight()))},onReconfigure:function(a,b){b&&b!==this.store&&this.bindStore(b)},unbindStore:function(){this.storeListeners.destroy();this.store=null},onStoreClear:function(){var a=this.view;a.rendered&&!this.store.isDestroyed&&(0!==this.scrollTop&&(this.bodyTop=this.scrollTop=this.position=this.scrollHeight=0,this.view.setScrollY(0)),this.lastScrollDirection=this.scrollOffset=null,a.hasOwnProperty("rowHeight")||delete this.rowHeight)},onStoreGroupChange:function(){delete this.rowHeight;
this.stretchView(this.view,this.getScrollHeight())},onViewRefresh:function(a,b){var c=a.all,d=this.scrollHeight,e;this.checkVariableRowHeight();if(this.variableRowHeight&&!a.componentLayoutCounter)a.on({boxready:this.onViewRefresh,scope:this,single:!0});else if(!a.hasOwnProperty("rowHeight")&&c.getCount()&&delete this.rowHeight,e=this.getScrollHeight(),e!=d&&this.stretchView(a,e),!this.refreshing)if(this.scrollTop!==a.getScrollY())this.onViewScroll();else this.hasOwnProperty("bodyTop")||(this.bodyTop=
c.startIndex*this.rowHeight,a.setScrollY(this.bodyTop)),this.setBodyTop(this.bodyTop),d=a.getHeight(),c.getCount()&&0<d&&(this.onViewResize(a,null,d),b&&c.getCount()!==b.length&&(b.length=0,b.push.apply(b,this.store.getRange(c.startIndex,c.endIndex))))},onViewResize:function(a,b,c,d,e){this.tableTopBorderWidth=a.body.getBorderWidth("t");if(!e||c!==e)b=Math.ceil(c/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone,this.viewSize=this.setViewSize(b),this.viewClientHeight=a.el.dom.clientHeight},
onWrappedColumnWidthChange:function(a,b){var c=this.view;this.store.getCount()&&this.bodyTop&&(delete this.rowHeight,this.stretchView(c,this.getScrollHeight(!0)),this.setViewSize(Math.ceil(c.getHeight()/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone),this.viewSize>=this.store.getCount()?this.setBodyTop(0):b>a&&this.bodyTop+c.body.dom.offsetHeight-1>this.scrollHeight?this.setBodyTop(Math.max(0,this.scrollHeight-c.body.dom.offsetHeight)):(this.bodyTop>this.scrollTop||this.bodyTop+c.body.dom.offsetHeight<
this.scrollTop+c.getHeight(!0))&&this.setBodyTop(this.scrollTop-this.trailingBufferZone*this.rowHeight))},stretchView:function(a,b){var c=this,d=c.store.getCount(),e=a.getTargetEl(),g;c.scrollTop>b&&(c.position=c.scrollTop=b-a.body.dom.offsetHeight,c.view.setScrollY(c.scrollTop));c.bodyTop>b&&a.body.translate(null,c.bodyTop=c.position);a.touchScroll&&(a.scrollManager?c.refreshScroller(a,b):c.pendingScrollerRefresh||(a.on({boxready:function(){c.refreshScroller(a,b);c.pendingScrollerRefresh=!1},single:!0}),
c.pendingScrollerRefresh=!0));if(!Ext.supports.touchScroll||1===Ext.supports.touchScroll)c.stretcher||(e=a.getTargetEl(),a.refreshCounter&&a.fixedNodes++,g={style:{width:"1px",height:"1px",marginTop:b-1+"px",position:"absolute"}},g.style[c.isRTL?"right":"left"]=0,c.stretcher=e.createChild(g,e.dom.firstChild)),c.hasOwnProperty("viewSize")&&d<=c.viewSize?c.stretcher.dom.style.display="none":(c.stretcher.dom.style.marginTop=b-1+"px",c.stretcher.dom.style.display="")},refreshScroller:function(a,b){a.scrollManager.scroller.setSize({x:a.headerCt.getTableWidth(),
y:b});a.scrollManager.refresh()},setViewSize:function(a){var b=this.store,c=this.view,d=c.all,e=d.getCount(),g,h,j=this.view.lockingPartner&&this.view.lockingPartner.bufferedRenderer,k=e-a,l,m;if(k&&(this.scrollTop=this.view.getScrollY(),this.viewSize=a,b.isBufferedStore&&b.setViewSize(a),e&&(m=b.getCount(),g=d.startIndex,h=Math.min(g+a-1,m-1),!(g===d.startIndex&&h===d.endIndex)))){j&&j.disable();if(0>k)m>e&&b.getRange(d.endIndex+1,h,{callback:function(a,b){l=c.doAdd(a,b);c.fireEvent("itemadd",a,
b,l)}});else if(g=d.endIndex-(k-1),h=d.endIndex,d.removeRange(g,h,!0),c.hasListeners.itemremove){b=b.getRange(g,h);for(d=b.length-1;0<=d;--h,--d)c.fireEvent("itemremove",b[d],h,this)}j&&j.enable()}return a},getViewRange:function(){var a=this.view.all,b=this.store,c=0;a.getCount()?c=a.startIndex:b.isBufferedStore&&(b.currentPage||(b.currentPage=1),c=a.startIndex=(b.currentPage-1)*(b.pageSize||1),b.currentPage=1);return b.data.getCount()?b.getRange(c,c+this.viewSize-1):[]},onReplace:function(a,b,c,
d){var e=this.view,g=e.all,h=g.getCount(),j=a.getCount(),k=g.first(!0);!h||b<=this.getLastVisibleRowIndex()+this.leadingBufferZone||h<this.viewSize&&d.length>c.length||j<h?(this.refreshView(),h=g.getCount(),d.length<c.length&&(g.endIndex===j-1&&(h<this.viewSize&&h<j)&&(g.scroll(a.getRange(Math.max(0,j-this.viewSize),g.startIndex-1),-1,0),j>this.viewSize&&this.setBodyTop(this.bodyTop-k.offsetTop)),j<=this.viewSize?this.stretcher&&(this.setBodyTop(0),this.stretcher.dom.style.display="none"):this.bodyTop+
e.body.dom.offsetHeight-1>this.scrollHeight&&this.setBodyTop(this.scrollHeight-(e.body.dom.offsetHeight-1)))):(this.refreshing=!0,this.onViewRefresh(e),this.refreshing=!1)},scrollTo:function(a,b,c,d){var e=this,g=e.view,h=g.el.dom,j=e.store,k=j.getCount(),l,m,n,p,q,r;(l=g.dataSource.groupingFeature)&&!1!==l.collapsible?(a=Math.min(Math.max(a,0),g.store.getCount()-1),r=g.store.getAt(a),q=l.getGroup(r),q.isCollapsed&&(l.expand(q.getGroupKey()),k=j.getCount()),a=l.indexOf(r)):a=Math.min(Math.max(a,0),
k-1);l=Math.max(Math.min(a-Math.floor((e.leadingBufferZone+e.trailingBufferZone)/2),k-e.viewSize+1),0);p=Math.max(l*e.rowHeight-e.tableTopBorderWidth,0);k=Math.min(l+e.viewSize-1,k-1);j.getRange(l,k,{callback:function(k,l,q){e.renderRange(l,q,!0);m=j.data.getRange(a,a+1)[0];n=g.getNode(m);g.body.translate(null,e.bodyTop=p);e.position=e.scrollTop=p=Math.min(Math.max(0,p-g.body.getOffsetsTo(n)[1]),h.scrollHeight-h.clientHeight);g.setScrollY(p);Ext.isIE&&g.setScrollY(p);b&&g.selModel.select(m);c&&c.call(d||
e,a,m)}})},onViewScroll:function(){var a=this.store.getCount(),b,c=this.scrollTop=this.view.getScrollY(),d=!1,e=this.view.lockingPartner&&this.view.lockingPartner.bufferedRenderer;if(!(this.disabled||a<this.viewSize))if(a=c-this.position,b=0<a?1:-1,20<=Math.abs(a)||b!==this.lastScrollDirection)this.lastScrollDirection=b,d=this.handleViewScroll(this.lastScrollDirection);!d&&(e&&e.scrollTop!==c)&&e.view.setScrollY(e.position=c)},handleViewScroll:function(a){var b=this.view.all,c=this.store,d=this.viewSize,
e=c.getCount()-1,g;-1===a?b.startIndex&&this.topOfViewCloseToEdge()&&(g=Math.max(0,this.getLastVisibleRowIndex()+this.trailingBufferZone-d)):b.endIndex<e&&this.bottomOfViewCloseToEdge()&&(g=Math.max(0,this.getFirstVisibleRowIndex()-this.trailingBufferZone));if(null!=g&&(a=Math.min(g+d-1,e),this.variableRowHeight&&(a===b.endIndex&&a<e)&&(a++,this.viewSize=d++,c.isBufferedStore&&c.setViewSize(this.viewSize)),g!==b.startIndex||a!==b.endIndex))return this.renderRange(g,a),!0},bottomOfViewCloseToEdge:function(){return this.variableRowHeight?
this.bodyTop+this.view.body.dom.offsetHeight<this.scrollTop+this.view.lastBox.height+this.numFromEdge*this.rowHeight:this.view.all.endIndex-this.getLastVisibleRowIndex()<this.numFromEdge},topOfViewCloseToEdge:function(){return this.variableRowHeight?this.bodyTop>this.scrollTop-this.numFromEdge*this.rowHeight:this.getFirstVisibleRowIndex()-this.view.all.startIndex<this.numFromEdge},refreshView:function(a){var b=this.view.all,c=this.store,d=c.getCount()-1,e=this.view.grid.containsFocus;a=Math.max(0,
Math.min(null==a?b.startIndex:a,d-(this.viewSize-this.leadingBufferZone)+1));b=Math.min(Math.max(b.startIndex+this.viewSize-1,this.getLastVisibleRowIndex()+this.leadingBufferZone),d);b-a+1>this.viewSize&&(a=b-this.viewSize+1);c.getRange(a,b,{callback:this.doRefreshView,scope:this,containedFocus:e})},doRefreshView:function(a,b,c,d){c=this.view;var e=c.getNavigationModel(),g=c.all,h=g.getCount(),j=b!==g.startIndex,k;c.refreshCounter?(c.refreshing=this.refreshing=!0,c.clearViewEl(!0),a.length&&(c.doAdd(a,
b),c.refreshSize(g.getCount()!==h),j&&(k=b>g.startIndex?k+g.item(b,!0).offsetTop:this.variableRowHeight?this.scrollTop-this.rowHeight*(this.scrollTop<this.position?this.leadingBufferZone:this.trailingBufferZone):b*this.rowHeight-this.tableTopBorderWidth,this.setBodyTop(k)),c.fireEvent("refresh",c,a)),d.containedFocus&&e.setPosition(e.getLastFocused(),null,null,null,!0),c.headerCt.setSortState(),c.refreshNeeded=c.refreshing=this.refreshing=!1):c.refresh()},renderRange:function(a,b,c){var d=this.view.all,
e=this.store;if(!(a===d.startIndex&&b===d.endIndex))if(e.rangeCached(a,b))if(this.cancelLoad(),this.synchronousRender||c)this.onRangeFetched(null,a,b);else this.renderTask||(this.renderTask=new Ext.util.DelayedTask(this.onRangeFetched,this,null,!1)),this.renderTask.delay(1,null,null,[null,a,b]);else this.attemptLoad(a,b)},onRangeFetched:function(a,b,c,d,e){var g=this.view,h,j=g.all,k;h=0;var l,m=this.view.lockingPartner&&this.view.lockingPartner.bufferedRenderer,n=this.variableRowHeight;if(!g.isDestroyed){if(a)this.scrollTop=
this.view.getScrollY();else if(a=this.store.getRange(b,c),!a)return;l=n?this.scrollTop-this.rowHeight*(this.scrollTop<this.position?this.leadingBufferZone:this.trailingBufferZone):b*this.rowHeight-this.tableTopBorderWidth;if(b<j.startIndex&&c>j.endIndex){c=j.startIndex-b;g.clearViewEl(!0);j=g.doAdd(a,b);g.fireEvent("itemadd",a,b,j);for(a=0;a<c;a++)h-=j[a].offsetHeight;this.setBodyTop(this.bodyTop+h)}else{if(this.teleported||b>j.endIndex||c<j.startIndex)g.clearViewEl(!0),k=l,this.teleported=!1;j.getCount()?
c>j.endIndex?(k=Math.max(b-j.startIndex,0),n&&(h=j.item(j.startIndex+k,!0).offsetTop),j.scroll(Ext.Array.slice(a,j.endIndex+1-b),1,k,b,c),k=n?this.bodyTop+h:l):(k=Math.max(j.endIndex-c,0),h=j.startIndex,j.scroll(Ext.Array.slice(a,0,j.startIndex-b),-1,k,b,c),n?(k=this.bodyTop-j.item(h,!0).offsetTop,j.startIndex?0>k&&(h=j.startIndex*this.rowHeight,g.setScrollY(this.position=this.scrollTop+=h),k=this.bodyTop+h):k&&(g.setScrollY(this.position=this.scrollTop-=k),k=0)):k=l):(j=g.doAdd(a,b),g.fireEvent("itemadd",
a,b,j));this.position=this.scrollTop;k=Math.max(Math.floor(k),0);g.positionBody&&this.setBodyTop(k);m&&(!m.disabled&&!e)&&(m.onRangeFetched(null,b,c,d,!0),m.bodyTop!==k&&m.setBodyTop(k),m.scrollTop!==this.scrollTop&&m.view.setScrollY(m.scrollTop=m.position=this.scrollTop))}}},setBodyTop:function(a){var b=this.view,c=this.store,d=b.body;d.translate(this.isRTL&&Ext.supports.xOriginBug&&b.scrollFlags.y?Ext.getScrollbarSize().width:null,this.bodyTop=a);this.variableRowHeight&&(b.all.endIndex===c.getCount()-
1?this.stretchView(b,this.bodyTop+d.dom.offsetHeight-1):this.bodyTop+d.dom.offsetHeight-1>this.scrollHeight&&this.stretchView(b,this.scrollHeight+=(c.getCount()-b.all.endIndex)*this.rowHeight))},getFirstVisibleRowIndex:function(a,b,c,d){var e=this.view,g=e.all,h=g.elements,j=this.viewClientHeight,k;k=this.bodyTop;if(g.getCount()&&this.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{a=g.startIndex;b=g.endIndex;c=this.scrollTop;d=c+j;if(k>d||k+e.body.dom.offsetHeight<c)return this.teleported=
!0,Math.floor(this.scrollTop/this.rowHeight);e=a+Math.min(this.numFromEdge+(-1===this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}k+=h[e].offsetTop;if(k+h[e].offsetHeight<c)return this.getFirstVisibleRowIndex(e+1,b,c,d);if(k<=c)return e;if(e!==a)return this.getFirstVisibleRowIndex(a,e-1,c,d)}return Math.floor(this.scrollTop/this.rowHeight)},getLastVisibleRowIndex:function(a,b,c,d){var e=this.view,g=e.all,h=g.elements,j=this.viewClientHeight,k;k=this.bodyTop;
if(g.getCount()&&this.variableRowHeight){if(arguments.length)e=a+Math.floor((b-a)/2);else{a=g.startIndex;b=g.endIndex;c=this.scrollTop;d=c+j;if(k>d||k+e.body.dom.offsetHeight<c)return this.teleported=!0,Math.floor(this.scrollTop/this.rowHeight)+Math.ceil(j/this.rowHeight);e=b-Math.min(this.numFromEdge+(1===this.lastScrollDirection?this.leadingBufferZone:this.trailingBufferZone),Math.floor((b-a)/2))}k+=h[e].offsetTop;if(k>d)return this.getLastVisibleRowIndex(a,e-1,c,d);h=k+h[e].offsetHeight;if(h>=
d)return e;if(e!==b)return this.getLastVisibleRowIndex(e+1,b,c,d)}return this.getFirstVisibleRowIndex()+Math.ceil(j/this.rowHeight)},getScrollHeight:function(a){var b=this.view,c=b.all,d=this.store.getCount(),e;if(!d)return 0;if(!this.hasOwnProperty("rowHeight")&&(e=c.getCount()))this.rowHeight=this.variableRowHeight?Math.floor(b.body.dom.clientHeight/e):c.first(!0).offsetHeight;e=Math.floor(d*this.rowHeight);a||e&&c.endIndex===d-1&&(e=Math.max(e,this.bodyTop+b.body.dom.offsetHeight-1));return this.scrollHeight=
e},attemptLoad:function(a,b){this.scrollToLoadBuffer?(this.loadTask||(this.loadTask=new Ext.util.DelayedTask(this.doAttemptLoad,this,[])),this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[a,b])):this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(a,b){this.store.getRange(a,b,{callback:this.onRangeFetched,scope:this,fireEvent:!1})},destroy:function(){var a=this.view;a&&
a.el&&a.un("scroll",this.onViewScroll,this);Ext.destroy(this.viewListeners,this.storeListeners,this.gridListeners)}},function(a){Ext.supports.Touch&&(a.prototype.leadingBufferZone=a.prototype.trailingBufferZone=2,a.prototype.numFromEdge=1)});
Ext.define("Ext.grid.plugin.Editing",{extend:Ext.plugin.Abstract,alias:"editing.editing",mixins:{observable:Ext.util.Observable},clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(a){var b=this;b.callParent(arguments);b.mixins.observable.constructor.call(b);b.on("edit",function(a,d){b.fireEvent("afteredit",a,d)})},init:function(a){this.grid=a;this.view=a.view;this.initEvents();
this.mon(a,{beforereconfigure:this.onBeforeReconfigure,reconfigure:this.onReconfigure,scope:this,beforerender:{fn:this.onReconfigure,single:!0,scope:this}});a.relayEvents(this,this.relayedEvents);this.grid.ownerLockable&&this.grid.ownerLockable.relayEvents(this,this.relayedEvents);a.isEditable=!0;a.editingPlugin=a.view.editingPlugin=this},resolveListenerScope:function(a){return this.grid.resolveListenerScope(a)},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns());
delete this.reconfiguring},destroy:function(){var a=this.grid;Ext.destroy(this.keyNav);this.clearListeners();a&&(a.editingPlugin=a.view.editingPlugin=this.grid=this.view=this.editor=this.keyNav=null)},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b=this,c,d=a.length,e;for(c=0;c<d;c++)e=a[c],e.getEditor||(e.getEditor=function(a,c){return b.getColumnField(this,c)}),e.hasEditor||(e.hasEditor=function(){return b.hasColumnField(this)}),
e.setEditor||(e.setEditor=function(a){b.setColumnField(this,a)})},removeFieldAccessors:function(a){a.isGroupHeader?a=a.getGridColumns():Ext.isArray(a)||(a=[a]);var b,c=a.length,d;for(b=0;b<c;b++)d=a[b],d.getEditor=d.hasEditor=d.setEditor=d.field=d.editor=null},getColumnField:function(a,b){var c=a.field;if(!c||!c.isFormField)c=a.field=this.createColumnField(a,b);c&&("default"===c.ui&&!c.hasOwnProperty("ui"))&&(c.ui=this.defaultFieldUI);return c},hasColumnField:function(a){return!(!a.field||!a.field.isComponent)},
setColumnField:function(a,b){a.field=b;a.field=this.createColumnField(a)},createColumnField:function(a,b){var c=a.field,d;!c&&a.editor&&(c=a.editor,a.editor=null);!c&&b&&(c=b);c&&(d=a.dataIndex,c.isComponent?c.column=a:(c=Ext.isString(c)?{name:d,xtype:c,column:a}:Ext.apply({name:d,column:a},c),c=Ext.ComponentManager.create(c,this.defaultFieldXType)),c.dataIndex=d,c.isEditorComponent=!0,a.field=c);return c},initEvents:function(){this.initEditTriggers();this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,
initEditTriggers:function(){var a=this.view;"cellfocus"==this.triggerEvent?this.mon(a,"cellfocus",this.onCellFocus,this):"rowfocus"==this.triggerEvent?this.mon(a,"rowfocus",this.onRowFocus,this):(a.getSelectionModel().isCellModel&&(a.onCellFocus=this.beforeViewCellFocus.bind(this)),this.mon(a,this.triggerEvent||"cell"+(1===this.clicksToEdit?"click":"dblclick"),this.onCellClick,this));this.initAddRemoveHeaderEvents();this.view.getNavigationModel().addKeyBindings({enter:this.onEnterKey,esc:this.onEscKey,
scope:this})},beforeViewCellFocus:function(a){(this.view.selModel.keyNavigation||!this.editing||!this.isCellEditable||!this.isCellEditable(a.row,a.columnHeader))&&this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(a,b){this.startEdit(b,0)},onCellFocus:function(a,b,c){this.startEdit(c.row,c.column)},onCellClick:function(a,b,c,d,e,g,h){b=a.expanderSelector;a=a.ownerCt.getColumnManager().getHeaderAtIndex(c);c=a.getEditor(d);this.shouldStartEdit(c)&&(!b||!h.getTarget(b))&&this.startEdit(d,
a)},initAddRemoveHeaderEvents:function(){this.mon(this.grid.headerCt,{scope:this,add:this.onColumnAdd,columnmove:this.onColumnMove,beforedestroy:this.beforeGridHeaderDestroy})},onColumnAdd:function(a,b){this.initFieldAccessors(b)},onColumnMove:Ext.emptyFn,onEnterKey:function(a){if(a.view===this.view){var b,c;if(a=this.grid.getView().getNavigationModel().getPosition())b=a.record,c=a.column;b&&c&&this.startEdit(b,c)}},onEscKey:function(){return this.cancelEdit()},beforeEdit:Ext.emptyFn,shouldStartEdit:function(a){return!!a},
startEdit:function(a,b){var c;c=this.grid.lockable?this.grid:this.view;if(!c.componentLayoutCounter)return c.on({boxready:Ext.Function.bind(this.startEdit,this,[a,b]),single:!0}),!1;if(this.disabled||this.grid.collapsed||!this.grid.view.isVisible(!0))return!1;c=this.getEditingContext(a,b);return null==c||!this.preventBeforeCheck&&(!1===this.beforeEdit(c)||!1===this.fireEvent("beforeedit",this,c)||c.cancel)?!1:c},getEditingContext:function(a,b){var c=this.grid,d=c.visibleColumnManager,e,g,h;Ext.isNumber(b)&&
(b=d.getHeaderAtIndex(b));if(b&&(b.hidden&&(b=b.next(":not([hidden])")||b.prev(":not([hidden])")),e=b.getOwnerHeaderCt().view,g=e.getRow(a)))if(h=d.getHeaderIndex(b),Ext.isNumber(a)?(d=a,a=e.getRecord(g)):d=e.indexOf(g),a)return d=(new Ext.grid.CellContext(e)).setAll(e,d,h,a,b),d.grid=c,d.store=e.dataSource,d.field=b.dataIndex,d.value=a.get(b.dataIndex),d.row=g,d},cancelEdit:function(){this.editing=!1;this.fireEvent("canceledit",this,this.context)},completeEdit:function(){this.editing&&this.validateEdit()&&
this.fireEvent("edit",this,this.context);this.context=null;this.editing=!1},validateEdit:function(){var a=this.context;return!1!==this.fireEvent("validateedit",this,a)&&!a.cancel}});
Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:Ext.grid.plugin.Editing,lockableScope:"both",init:function(a){var b=this.lockingPartner;this.callParent(arguments);this.editors=b?b.editors?b.editors:b.editors=new Ext.util.MixedCollection(!1,function(a){return a.editorId}):new Ext.util.MixedCollection(!1,function(a){return a.editorId})},beforeGridHeaderDestroy:function(){var a=this.grid.getColumnManager().getColumns(),b=a.length,c,d,e;for(c=0;c<b;c++)d=a[c],(e=this.editors.getByKey(d.getItemId()))||
(e=d.editor||d.field),Ext.destroy(e),this.removeFieldAccessors(d)},onReconfigure:function(a,b,c){c&&this.editors.clear();this.callParent()},destroy:function(){this.editors&&(this.editors.each(Ext.destroy,Ext),this.editors.clear());this.callParent(arguments)},initCancelTriggers:function(){this.mon(this.grid,{columnresize:this.cancelEdit,columnmove:this.cancelEdit,scope:this})},isCellEditable:function(a,b){var c=this.getEditingContext(a,b);if(this.grid.view.isVisible(!0)&&c&&(b=c.column,a=c.record,
b&&this.getEditor(a,b)))return!0},startEdit:function(a,b,c){var d,e,g;if(!c&&(this.preventBeforeCheck=!0,c=this.callParent(arguments),delete this.preventBeforeCheck,!1===c))return!1;if(c&&c.view.isVisible(!0)){a=c.record;b=c.column;c.originalValue=c.value=a.get(b.dataIndex);if(e=b&&b.getEditor(a)&&!(!1===this.beforeEdit(c)||!1===this.fireEvent("beforeedit",this,c)||c.cancel))e=this.getActiveEditor(),g=this.getEditor(a,b),e&&(d=g===e,this.completeEdit(!!g));else return!1;this.context=c;c.view.scrollCellIntoView(c.view.getCell(a,
b));return g?(d&&(g.editing=!1,Ext.isIE&&(g.selectSameEditor=!0)),this.showEditor(g,c,c.value),e&&!d&&e.hide(),!0):!1}},showEditor:function(a,b,c){var d=b.record,e=b.view,g=b.column,h=e.getSelectionModel(),j,k=h.preventFocus;if(!g.up(this.view.ownerCt))return this.lockingPartner.showEditor(a,this.lockingPartner.getEditingContext(d,g),c);this.setEditingContext(b);this.setActiveEditor(a);this.setActiveRecord(d);this.setActiveColumn(g);h.isCellSelected(e,d,g)||(j=h.getSelectionMode(),"MULTI"!==j||!h.getSelection().length||
1===h.getSelection().length&&h.isSelected(d)?(h.preventFocus=!1,h.selectByPosition({row:d,column:g,view:e},"MULTI"===j),h.preventFocus=k):b.grid.containsFocus||e.getNavigationModel().setPosition(100,b,null,null,null,!0));e.getNavigationModel().setPosition();a.startEdit(e.getCell(d,g),c,b);this.editing=!0;this.scroll=e.el.getScroll()},completeEdit:function(a){var b=this.getActiveEditor();b&&(b.completeEdit(a),this.editing=!1)},setEditingContext:function(a){this.context=a;this.lockingPartner&&(this.lockingPartner.context=
a)},setActiveEditor:function(a){this.activeEditor=a;this.lockingPartner&&(this.lockingPartner.activeEditor=a)},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(a){this.activeColumn=a;this.lockingPartner&&(this.lockingPartner.activeColumn=a)},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(a){this.activeRecord=a;this.lockingPartner&&(this.lockingPartner.activeRecord=a)},getActiveRecord:function(){return this.activeRecord},getEditor:function(a,
b){var c=this.editors,d=b.getItemId(),e=c.getByKey(d),g=this.grid.ownerLockable||this.grid;if(!e){e=b.getEditor(a);if(!e)return!1;e instanceof Ext.grid.CellEditor?e.floating=!0:e=new Ext.grid.CellEditor({floating:!0,editorId:d,field:e});e.field.excludeForm=!0;e.ownerCt!==g&&(g.add(e),e.on({scope:this,specialkey:this.onSpecialKey,complete:this.onEditComplete,canceledit:this.cancelEdit}),b.on("removed",this.onColumnRemoved,this));c.add(e)}b.isTreeColumn&&(e.isForTree=b.isTreeColumn,e.addCls(Ext.baseCSSPrefix+
"tree-cell-editor"));e.setGrid(this.grid);e.editingPlugin=this;return e},onColumnRemoved:function(a){var b=this.context,c,d=this.grid.ownerLockable||this.grid;b&&b.column===a&&this.cancelEdit();a.un("removed",this.onColumnRemoved,this);if(a.getEditor&&(c=a.getEditor())&&c.ownerCt===d)d.remove(c),c.un({scope:this,specialkey:this.onSpecialKey,complete:this.onEditComplete,canceledit:this.cancelEdit})},setColumnField:function(a,b){var c=this.editors.getByKey(a.getItemId());Ext.destroy(c,a.field);this.editors.removeAtKey(a.getItemId());
this.callParent(arguments)},getCell:function(a,b){return this.grid.getView().getCell(a,b)},onSpecialKey:function(a,b,c){if(c.getKey()===c.TAB){c.stopEvent();if(a)a.onEditorTab(c);b=a.up("tablepanel").getSelectionModel();if(b.onEditorTab)return b.onEditorTab(a.editingPlugin,c)}},onEditComplete:function(a,b,c){a=this.getActiveColumn();var d=this.context,e,g,h;a&&(e=d.view,g=e.getSelectionModel(),g="MULTI"===g.getSelectionMode()&&(1<g.getSelection().length||!g.isSelected(h)),h=d.record,this.setActiveEditor(null),
this.setActiveColumn(null),this.setActiveRecord(null),d.value=b,this.validateEdit()&&(h.isEqual(b,c)||(h.set(a.dataIndex,b),d.rowIdx=e.indexOf(h)),e.getNavigationModel().deferSetPosition(100,d,null,null,null,g),this.fireEvent("edit",this,d)),this.editing=!1)},cancelEdit:function(){var a=this.context,b,c=this.getActiveEditor();if(c)this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null),b=a.view,b=b.getSelectionModel(),b="MULTI"===b.getSelectionMode()&&(1<b.getSelection().length||
!b.isSelected(void 0)),c.field&&(this.context.value="editedValue"in c?c.editedValue:c.getValue(),c.cancelEdit()),a.view.getNavigationModel().deferSetPosition(100,a,null,null,null,b),this.callParent(arguments);else return!0},startEditByPosition:function(a){var b=this.grid.getColumnManager(),c;a.isCellContext||(a.column=this.grid.getColumnManager().getColumns()[a.column],a.record=this.view.dataSource.getAt(a.row));c=b.getHeaderIndex(a.column);a.column=b.getVisibleHeaderClosestToIndex(c);return this.startEdit(a.record,
a.column)}});
Ext.define("Ext.grid.plugin.DragDrop",{extend:Ext.plugin.Abstract,alias:"plugin.gridviewdragdrop",dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},enable:function(){this.dragZone&&this.dragZone.unlock();this.dropZone&&this.dropZone.unlock();this.callParent()},disable:function(){this.dragZone&&this.dragZone.lock();this.dropZone&&
this.dropZone.lock();this.callParent()},onViewRender:function(a){var b;this.enableDrag&&(this.containerScroll&&(b=a.getEl()),this.dragZone=new Ext.view.DragZone(Ext.apply({view:a,ddGroup:this.dragGroup||this.ddGroup,dragText:this.dragText,containerScroll:this.containerScroll,scrollEl:b},this.dragZone)));this.enableDrop&&(this.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:a,ddGroup:this.dropGroup||this.ddGroup},this.dropZone)))}});
Ext.define("Ext.grid.plugin.RowEditing",{extend:Ext.grid.plugin.Editing,alias:"plugin.rowediting",lockableScope:"top",editStyle:"row",autoCancel:!0,errorSummary:!0,constructor:function(){this.callParent(arguments);this.clicksToMoveEditor||(this.clicksToMoveEditor=this.clicksToEdit);this.autoCancel=!!this.autoCancel},destroy:function(){Ext.destroy(this.editor);this.callParent(arguments)},onBeforeReconfigure:function(){this.callParent(arguments);this.cancelEdit()},onReconfigure:function(a,b,c){var d=
this.editor;this.callParent(arguments);c&&(d&&d.rendered)&&(d.needsSyncFieldWidths=!0)},shouldStartEdit:function(){return!0},startEdit:function(a,b){var c=this.getEditor(),d;Ext.isEmpty(b)&&(b=this.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0));return!1!==c.beforeEdit()&&(d=this.callParent([a,b]))?(this.context=d,this.lockingPartner&&this.lockingPartner.cancelEdit(),c.startEdit(d.record,d.column,d),this.editing=!0):!1},cancelEdit:function(){if(this.editing)this.getContextFieldValues(),
this.getEditor().cancelEdit(),this.callParent(arguments);else return!0},completeEdit:function(){this.editing&&this.validateEdit()&&(this.editing=!1,this.fireEvent("edit",this,this.context))},validateEdit:function(){this.getContextFieldValues();return this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){this.editor||(this.editor=this.initEditor());return this.editor},getContextFieldValues:function(){var a=this.context,b=a.record,c={},d={},e=this.editor.query("\x3e[isFormField]"),
g=e.length,h,j,k;for(h=0;h<g;h++)k=e[h],j=k.dataIndex,c[j]=k.getValue(),d[j]=b.get(j);Ext.apply(a,{newValues:c,originalValues:d})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){for(var a=this.view,b=["saveBtnText","cancelBtnText","errorsText","dirtyText"],c=b.length,d={autoCancel:this.autoCancel,errorSummary:this.errorSummary,fields:this.grid.headerCt.getGridColumns(),hidden:!0,view:a,editingPlugin:this},e,a=0;a<c;a++)e=b[a],Ext.isDefined(this[e])&&
(d[e]=this[e]);return d},initEditTriggers:function(){var a=this,b=a.view,c=1===a.clicksToMoveEditor?"click":"dblclick";a.callParent(arguments);a.clicksToMoveEditor!==a.clicksToEdit&&a.mon(b,"cell"+c,a.moveEditorByClick,a);b.on({render:function(){a.mon(a.grid.headerCt,{scope:a,columnresize:a.onColumnResize,columnhide:a.onColumnHide,columnshow:a.onColumnShow})},single:!0})},startEditByClick:function(){(!this.editing||this.clicksToMoveEditor===this.clicksToEdit)&&this.callParent(arguments)},moveEditorByClick:function(){this.editing&&
this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(a,b){if(b.isHeader){var c;this.initFieldAccessors(b);if(c=this.editor)c.onColumnAdd(b)}},beforeGridHeaderDestroy:function(){var a=this.grid.getColumnManager().getColumns(),b=a.length,c,d,e;for(c=0;c<b;c++)d=a[c],d.hasEditor&&(d.hasEditor()&&(e=d.getEditor())&&e.destroy(),this.removeFieldAccessors(d))},onColumnResize:function(a,b,c){if(b.isHeader&&(a=this.getEditor()))a.onColumnResize(b,c)},onColumnHide:function(a,b){var c=this.getEditor();
if(c)c.onColumnHide(b)},onColumnShow:function(a,b){var c=this.getEditor();if(c)c.onColumnShow(b)},onColumnMove:function(a,b,c,d){a=this.getEditor();this.initFieldAccessors(b);if(a)a.onColumnMove(b,c,d)},setColumnField:function(a,b){var c=this.getEditor();c&&c.destroyColumnEditor(a);this.callParent(arguments);c&&c.insertColumnEditor(a)},createColumnField:function(a,b){var c=this.editor,d;c&&(d=c.getDefaultFieldCfg());return this.callParent([a,b||d])}});
Ext.define("Ext.rtl.grid.plugin.RowEditing",{override:"Ext.grid.plugin.RowEditing",initEditorConfig:function(){var a=this.callParent();a.rtl=this.grid.getInherited().rtl;return a}});
Ext.define("Ext.grid.plugin.RowExpander",{extend:Ext.plugin.Abstract,lockableScope:"normal",alias:"plugin.rowexpander",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnEnter:!0,expandOnDblClick:!0,selectRowOnExpand:!1,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{fn:function(a,b,c){var d=this.rowExpander;d.recordsExpanded[b.record.internalId]||
b.itemClasses.push(d.rowCollapsedCls);this.nextTpl.applyOut(b,a,c)},syncRowHeights:function(a,b){this.rowExpander.syncRowHeights(a,b)},priority:2E4},setCmp:function(a){var b;this.callParent(arguments);this.recordsExpanded={};this.rowBodyTpl||Ext.Error.raise("The 'rowBodyTpl' config is required and is not defined.");this.rowBodyTpl=Ext.XTemplate.getTpl(this,"rowBodyTpl");b=this.getFeatureConfig(a);a.features=a.features?Ext.Array.push(b,a.features):b},getFeatureConfig:function(a){var b=[],c={ftype:"rowbody",
rowExpander:this,bodyBefore:this.bodyBefore,recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.getRowBodyFeatureData,setup:this.setup};b.push(Ext.apply({lockableScope:"normal",getRowBodyContents:this.getRowBodyContentsFn(this.rowBodyTpl)},c));a.enableLocking&&b.push(Ext.apply({lockableScope:"locked",getRowBodyContents:this.lockedTpl?this.getRowBodyContentsFn(this.lockedTpl):function(){return""}},c));return b},getRowBodyContentsFn:function(a){var b=
this;return function(c){a.owner=b;return a.applyTemplate(c.record.getData())}},init:function(a){a.lockable&&(a=a.normalGrid);var b=a.ownerLockable,c,d;this.callParent(arguments);this.grid=a;c=this.view=a.getView();this.bindView(c);c.addRowTpl(this.addCollapsedCls).rowExpander=this;b?(this.addExpander(b.lockedGrid.headerCt.items.getCount()?b.lockedGrid:a),d=b.lockedGrid.getView(),this.bindView(d),d.addRowTpl(this.addCollapsedCls).rowExpander=this,b.syncRowHeight=!0,b.mon(b,{processcolumns:this.onLockableProcessColumns,
lockcolumn:this.onColumnLock,unlockcolumn:this.onColumnUnlock,scope:this}),this.viewListeners=c.on({itemadd:Ext.Function.createAnimationFrame(b.syncRowHeights,b)})):(this.addExpander(a),a.on("beforereconfigure",this.beforeReconfigure,this))},beforeReconfigure:function(a,b,c){this.viewListeners&&this.viewListeners.destroy();c&&(this.expanderColumn=new Ext.grid.Column(this.getHeaderConfig()),c.unshift(this.expanderColumn))},onLockableProcessColumns:function(a,b){this.addExpander(b.length?a.lockedGrid:
a.normalGrid)},addExpander:function(a){var b=this.getHeaderConfig();a.isLocked&&a.ownerLockable.shrinkWrapLocked&&(a.width+=b.width);this.expanderColumn=a.headerCt.insert(0,b);a.getSelectionModel().injectCheckbox=1},getRowBodyFeatureData:function(a,b,c){this.self.prototype.setupRowData.apply(this,arguments);c.rowBody=this.getRowBodyContents(c);c.rowBodyCls=this.recordsExpanded[a.internalId]?"":this.rowBodyHiddenCls},setup:function(a,b){var c=this.grid.ownerLockable;this.self.prototype.setup.apply(this,
arguments);c&&-1!==Ext.Array.indexOf(this.grid.columnManager.getColumns(),this.rowExpander.expanderColumn)&&(b.rowBodyColspan-=1)},bindView:function(a){if(this.expandOnEnter)a.on("itemkeydown",this.onKeyDown,this);if(this.expandOnDblClick)a.on("itemdblclick",this.onDblClick,this)},onKeyDown:function(a,b,c,d,e){if(e.getKey()===e.ENTER){b=a.store;a=a.getSelectionModel().getSelection();c=a.length;for(e=0;e<c;e++)d=b.indexOf(a[e]),this.toggleRow(d,a[e])}},onDblClick:function(a,b,c,d){this.toggleRow(d,
b)},toggleRow:function(a,b){var c=this.view,d=c.bufferedRenderer,e=c.scrollManager,g=c,h=c.getNode(a),j=Ext.fly(h),k=j.down(this.rowBodyTrSelector,!0),l=j.hasCls(this.rowCollapsedCls),m=l?"removeCls":"addCls",n=l?2:1,p=this.grid.ownerLockable;j[m](this.rowCollapsedCls);Ext.fly(k)[m](this.rowBodyHiddenCls);this.recordsExpanded[b.internalId]=l;if(this.grid.ownerLockable&&(g=p.getView(),p.lockedGrid.isVisible()&&(c=p.view.lockedGrid.view,j=Ext.fly(c.getNode(a)))))j[m](this.rowCollapsedCls),k=j.down(this.rowBodyTrSelector,
!0),Ext.fly(k)[m](this.rowBodyHiddenCls);if(this.expanderColumn&&(m=Ext.fly(c.getRow(a)).down(this.expanderColumn.getCellSelector(),!0)))m.rowSpan=n;g.fireEvent(l?"expandbody":"collapsebody",h,b,k);(c.getSizeModel().height.shrinkWrap||p)&&c.refreshSize(!0);e&&(d?d.stretchView(c,d.getScrollHeight(!0)):e.refresh(!0))},syncRowHeights:function(a,b){var c=Ext.fly(a).down(this.rowBodyTrSelector),d=Ext.fly(b).down(this.rowBodyTrSelector),e,g;if(d.isVisible()){if((e=c.getHeight())!==(g=d.getHeight()))e>g?
d.setHeight(e):c.setHeight(g)}else c.dom.style.height=d.dom.style.height=""},onColumnUnlock:function(a){var b;a=this.grid.ownerLockable;b=a.lockedGrid.visibleColumnManager.getColumns();1===b.length&&(b[0]===this.expanderColumn?a.unlock(this.expanderColumn):a.lock(this.expanderColumn,0))},onColumnLock:function(a){a=this.grid.ownerLockable;1===a.lockedGrid.visibleColumnManager.getColumns().length&&a.lockedGrid.headerCt.insert(0,this.expanderColumn)},getHeaderConfig:function(){var a=this,b=a.grid.ownerLockable;
return{width:a.headerWidth,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(){return'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-row-expander" role\x3d"presentation"\x3e\x3c/div\x3e'},processEvent:function(b,d,e,g,h,j,k){if(j.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander")&&"click"===b)return a.toggleRow(g,k),a.selectRowOnExpand},isLocked:function(){return b.lockedGrid.isVisible()||
this.locked},editRenderer:function(){return"\x26#160;"}}}});
Ext.define("Ext.grid.property.Grid",{extend:Ext.grid.Panel,alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var a=this;a.source=a.source||{};a.addCls(a.gridCls);a.plugins=a.plugins||[];a.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:a.clicksToEdit,startEdit:function(b){return this.self.prototype.startEdit.call(this,
b,a.valueColumn)}}));a.selModel={selType:"cellmodel",onCellSelect:function(b){b.column=a.valueColumn;b.colIdx=a.valueColumn.getVisibleIndex();return this.self.prototype.onCellSelect.call(this,b)}};a.sourceConfig=Ext.apply({},a.sourceConfig);a.store||(a.propStore=a.store=new Ext.grid.property.Store(a,a.source));a.configure(a.sourceConfig);a.sortableColumns&&a.store.sort("name","ASC");a.columns=new Ext.grid.property.HeaderContainer(a,a.store);a.callParent();a.getView().walkCells=this.walkCells;a.editors=
{date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:!0})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:!0})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:!0})}),"boolean":new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,a.headerCt.trueText],[!1,a.headerCt.falseText]]})})};a.store.on("update",a.onUpdate,a)},configure:function(a){var b=this.store,c=0,d=this.store.getCount(),
e=this.nameField,g=this.valueField,h;this.configureLegacy(a);if(this.inferTypes)for(;c<d;++c)h=b.getAt(c),a=h.get(e),this.getConfig(a,"type")||(h=h.get(g),h=Ext.isDate(h)?"date":Ext.isNumber(h)?"number":Ext.isBoolean(h)?"boolean":"string",this.setConfig(a,"type",h))},getConfig:function(a,b,c){a=this.sourceConfig[a];var d;a&&(d=a[b]);return d||c},setConfig:function(a,b,c){var d=this.sourceConfig,e=d[a];e?e.__copied||(e=Ext.apply({__copied:!0},e),d[a]=e):e=d[a]={__copied:!0};return e[b]=c},configureLegacy:function(a){this.copyLegacyObject(a,
this.customRenderers,"renderer");this.copyLegacyObject(a,this.customEditors,"editor");this.copyLegacyObject(a,this.propertyNames,"displayName");(this.customRenderers||this.customEditors||this.propertyNames)&&Ext.global.console&&Ext.global.console.warn&&Ext.global.console.warn(this.$className,'customRenderers, customEditors \x26 propertyNames have been consolidated into a new config, see "sourceConfig". These configurations will be deprecated.')},copyLegacyObject:function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&
(a[d]||(a[d]={}),a[d][c]=b[d])},onUpdate:function(a,b,c){this.rendered&&c==Ext.data.Model.EDIT&&(a=b.get(this.valueField),c=b.modified.value,!1!==this.fireEvent("beforepropertychange",this.source,b.getId(),a,c)?(this.source&&(this.source[b.getId()]=a),b.commit(),this.fireEvent("propertychange",this.source,b.getId(),a,c)):b.reject())},walkCells:function(a,b,c,d,e,g){var h=this.ownerCt.valueColumn;"left"==b?b="up":"right"==b&&(b="down");a=Ext.view.Table.prototype.walkCells.call(this,a,b,c,d,e,g);a.column=
h;a.colIdx=h.getVisibleIndex();return a},getCellEditor:function(a){var b=a.get(this.nameField);a=a.get(this.valueField);var c=this.getConfig(b,"editor"),d=this.getConfig(b,"type"),e=this.editors;if(c)c instanceof Ext.grid.CellEditor||(c instanceof Ext.form.field.Base||(c=Ext.ComponentManager.create(c,"textfield")),c=this.setConfig(b,"editor",new Ext.grid.CellEditor({field:c})));else if(d)switch(d){case "date":c=e.date;break;case "number":c=e.number;break;case "boolean":c=this.editors["boolean"];break;
default:c=e.string}else c=Ext.isDate(a)?e.date:Ext.isNumber(a)?e.number:Ext.isBoolean(a)?e["boolean"]:e.string;c.editorId=b;c.field.column=this.valueColumn;return c},beforeDestroy:function(){this.callParent();this.destroyEditors(this.editors);this.destroyEditors(this.customEditors);delete this.source},destroyEditors:function(a){for(var b in a)a.hasOwnProperty(b)&&Ext.destroy(a[b])},setSource:function(a,b){this.source=a;void 0!==b&&(this.sourceConfig=Ext.apply({},b),this.configure(this.sourceConfig));
this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(a,b,c){this.propStore.setValue(a,b,c)},removeProperty:function(a){this.propStore.remove(a)}});
Ext.define("Ext.grid.property.HeaderContainer",{extend:Ext.grid.header.Container,alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(a,b){this.grid=a;this.store=b;this.callParent([{isRootHeader:!0,enableColumnResize:Ext.isDefined(a.enableColumnResize)?a.enableColumnResize:
this.enableColumnResize,enableColumnMove:Ext.isDefined(a.enableColumnMove)?a.enableColumnMove:this.enableColumnMove,items:[{header:this.nameText,width:a.nameColumnWidth||this.nameWidth,sortable:a.sortableColumns,dataIndex:a.nameField,renderer:this.renderProp.bind(this),itemId:a.nameField,menuDisabled:!0,tdCls:this.nameColumnCls,innerCls:this.nameColumnInnerCls},{header:this.valueText,renderer:this.renderCell.bind(this),getEditor:this.getCellEditor.bind(this),sortable:a.sortableColumns,flex:1,fixed:!0,
dataIndex:a.valueField,itemId:a.valueField,menuDisabled:!0}]}]);this.grid.valueColumn=this.items.items[1]},getCellEditor:function(a){return this.grid.getCellEditor(a,this)},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(a,b,c){var d=this.grid,d=d.getConfig(c.get(d.nameField),"renderer"),e=a;if(d)return d.apply(this,arguments);Ext.isDate(a)?e=this.renderDate(a):Ext.isBoolean(a)&&(e=this.renderBool(a));return Ext.util.Format.htmlEncode(e)},renderDate:Ext.util.Format.date,
renderBool:function(a){return this[a?"trueText":"falseText"]},getPropertyName:function(a){return this.grid.getConfig(a,"displayName",a)}});Ext.define("Ext.grid.property.Property",{extend:Ext.data.Model,alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name"});
Ext.define("Ext.grid.property.Reader",{extend:Ext.data.reader.Reader,successProperty:null,totalProperty:null,messageProperty:null,read:function(a){return this.readRecords(a)},readRecords:function(a){var b=this.getModel(),c={records:[],success:!0},d,e;for(e in a)a.hasOwnProperty(e)&&(d=a[e],this.isEditableValue(d)&&c.records.push(new b({name:e,value:d})));c.total=c.count=c.records.length;return new Ext.data.ResultSet(c)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)||null===
a}});
Ext.define("Ext.grid.property.Store",{extend:Ext.data.Store,alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,constructor:function(a,b){this.grid=a;this.source=b;this.callParent([{data:b,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){var a=this.proxy;a||(a=this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()}));return a},getReader:function(){var a=this.reader;a||(a=this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property}));return a},
setSource:function(a){this.source=a;this.suspendEvents();this.removeAll();this.getProxy().setData(a);this.load();this.resumeEvents();this.fireEvent("datachanged",this);this.fireEvent("refresh",this)},getProperty:function(a){return Ext.isNumber(a)?this.getAt(a):this.getById(a)},setValue:function(a,b,c){var d=this.getRec(a);d?(d.set("value",b),this.source[a]=b):c&&(this.source[a]=b,d=new Ext.grid.property.Property({name:a,value:b},a),this.add(d))},remove:function(a){var b=this.getRec(a);b&&(this.callParent([b]),
delete this.source[a])},getRec:function(a){return this.getById(a)},getSource:function(){return this.source},onDestroy:function(){Ext.destroy(this.reader,this.proxy);this.callParent()}});
Ext.define("Ext.layout.ClassList",function(){var a=Ext.String.splitWords,b=Ext.Array.toMap;return{dirty:!1,constructor:function(c){this.owner=c;this.map=b(this.classes=a(c.el.className))},add:function(a){this.map[a]||(this.map[a]=!0,this.classes.push(a),this.dirty||(this.dirty=!0,this.owner.markDirty()))},addMany:function(b){Ext.each(a(b),this.add,this)},contains:function(a){return this.map[a]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=!1},remove:function(a){this.map[a]&&
(delete this.map[a],this.classes=Ext.Array.filter(this.classes,function(b){return b!=a}),this.dirty||(this.dirty=!0,this.owner.markDirty()))},removeMany:function(c){var d=this,e=b(a(c));d.classes=Ext.Array.filter(d.classes,function(a){if(!e[a])return!0;delete d.map[a];d.dirty||(d.dirty=!0,d.owner.markDirty());return!1})}}}());
Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(a){var b=this.getKey(a);this.map[b]||(++this.length,this.items.push(a),this.map[b]=a);return a},clear:function(){var a=this.items;this.items=[];this.map={};this.length=0;return a},contains:function(a){a=this.getKey(a);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(a){var b=this.getKey(a),c=this.items,d;this.map[b]&&(d=Ext.Array.indexOf(c,a),Ext.Array.erase(c,
d,1),delete this.map[b],--this.length);return a}});
Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(a){var b=Ext.layout.SizeModel.sizeModels,
c=b.configured,b=b.shrinkWrap,d,e,g,h,j,k,l,m;Ext.apply(this,a);d=this.el;this.id=d.id;this.flushedProps={};this.props=a={};this.styles={};h=this.target;if(h.isComponent){this.wrapsComponent=!0;this.framing=h.frameSize||null;this.isComponentChild=h.ownerLayout&&h.ownerLayout.isComponentLayout;d=h.lastBox;if((e=h.ownerCt)&&(g=e.el&&this.context.items[e.el.id]))this.ownerCtContext=g;this.sizeModel=e=h.getSizeModel(g&&g.widthModel.pairsByHeightOrdinal[g.heightModel.ordinal]);this.widthModel=g=e.width;
this.heightModel=l=e.height;d&&!1===d.invalid&&(j=h.width===(e=d.width),k=h.height===(h=d.height),g===b&&l===b?m=!0:g===c&&j&&(m=l===b||l===c&&k),m&&(this.optOut=!0,a.width=e,a.height=h))}else d=d.lastBox;this.lastBox=d},init:function(a,b){var c=this.props,d=this.dirty,e=this.ownerCtContext,g=this.target.ownerLayout,h=!this.state,j=a||h,k,l,m,n,p,q=this.heightModel,r=this.widthModel;n=0;this.dirty=this.invalid=!1;this.props={};this.remainingChildDimensions=0;this.boxChildren&&(this.boxChildren.length=
0);h||(this.clearAllBlocks("blocks"),this.clearAllBlocks("domBlocks"));if(!this.wrapsComponent)return j;p=this.target;this.state={};if(h){p.beforeLayout&&p.beforeLayout!==Ext.emptyFn&&p.beforeLayout();if(!e&&(k=p.ownerCt))e=this.context.items[k.el.id];e?(this.ownerCtContext=e,this.isBoxParent=g&&g.isItemBoxParent(this)):this.isTopLevel=!0;this.frameBodyContext=this.getEl("frameBody")}else{e=this.ownerCtContext;this.isTopLevel=!e;k=this.children;l=0;for(m=k.length;l<m;++l)k[l].init(!0)}this.hasRawContent=
!(p.isContainer&&0<p.items.items.length);a?(this.widthModel=this.heightModel=null,n=p.getSizeModel(e&&e.widthModel.pairsByHeightOrdinal[e.heightModel.ordinal]),h&&(this.sizeModel=n),this.widthModel=n.width,this.heightModel=n.height,e&&!this.isComponentChild&&(g.needsItemSize||!p.liquidLayout?e.remainingChildDimensions+=2:(this.widthModel.calculated&&++e.remainingChildDimensions,this.heightModel.calculated&&++e.remainingChildDimensions))):c&&(this.recoverProp("x",c,d),this.recoverProp("y",c,d),this.widthModel.calculated?
this.recoverProp("width",c,d):"width"in c&&++n,this.heightModel.calculated?this.recoverProp("height",c,d):"height"in c&&++n,e&&!this.isComponentChild&&(e.remainingChildDimensions+=n));c&&(g&&g.manageMargins)&&(this.recoverProp("margin-top",c,d),this.recoverProp("margin-right",c,d),this.recoverProp("margin-bottom",c,d),this.recoverProp("margin-left",c,d));b&&(c=b.heightModel,(d=b.widthModel)&&c&&r&&q&&r.shrinkWrap&&q.shrinkWrap&&d.constrainedMax&&c.constrainedMin&&(c=null),d&&(this.widthModel=d),c&&
(this.heightModel=c),b.state&&Ext.apply(this.state,b.state));return j},initContinue:function(a){var b=this.ownerCtContext,c=this.widthModel,d=this.target.getInherited();c.fixed?d.inShrinkWrapTable=!1:delete d.inShrinkWrapTable;a&&(b&&c.shrinkWrap?(b=b.isBoxParent?b:b.boxParent)&&b.addBoxChild(this):c.natural&&(this.boxParent=b));return a},initDone:function(a){var b=this.props,c=this.state;0===this.remainingChildDimensions&&(b.containerChildrenSizeDone=!0);a&&(b.containerLayoutDone=!0);this.boxChildren&&
(this.boxChildren.length&&this.widthModel.shrinkWrap)&&(this.el.setWidth(1E4),c.blocks=(c.blocks||0)+1)},initAnimation:function(){var a=this.target,b=this.ownerCtContext;b&&b.isTopLevel?this.animatePolicy=a.ownerLayout.getAnimatePolicy(this):!b&&(a.isCollapsingOrExpanding&&a.animCollapse)&&(this.animatePolicy=a.componentLayout.getAnimatePolicy(this));this.animatePolicy&&this.context.queueAnimation(this)},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},
addBlock:function(a,b,c){a=this[a]||(this[a]={});c=a[c]||(a[c]={});c[b.id]||(c[b.id]=b,++b.blockCount,++this.context.blockCount)},addBoxChild:function(a){var b;b=a.widthModel;a.boxParent=this;a.measuresBox=b.shrinkWrap?a.hasRawContent:b.natural;a.measuresBox&&((b=this.boxChildren)?b.push(a):this.boxChildren=[a])},addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;void 0!==c&&(a.left=c+"px",++e);void 0!==d&&(a.top=d+"px",++e);return e},addTrigger:function(a,b){var c=b?"domTriggers":"triggers",d=this[c]||
(this[c]={}),c=this.context,e=c.currentLayout,d=d[a]||(d[a]={});d[e.id]||(d[e.id]=e,++e.triggerCount,d=c.triggers[b?"dom":"data"],(d[e.id]||(d[e.id]=[])).push({item:this,prop:a}),void 0!==this.props[a]&&(!b||!(this.dirty&&a in this.dirty))&&++e.firedTriggers)},boxChildMeasured:function(){var a=this.state;if((a.boxesMeasured=(a.boxesMeasured||0)+1)==this.boxChildren.length)a.clearBoxWidth=1,++this.context.progressCount,this.markDirty()},borderNames:["border-top-width","border-right-width","border-bottom-width",
"border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){a=a.getStyles(a.borderNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},marginInfo:function(a){a=a.getStyles(a.marginNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a},paddingInfo:function(a){a=(a.frameBodyContext||
a).getStyles(a.paddingNames,a.trblNames);a.width=a.left+a.right;a.height=a.top+a.bottom;return a}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var b=this[a],c;if(b)for(c in b)this.clearBlocks(a,c)},clearBlocks:function(a,b){var c=this[a],d=c&&c[b],e,g;if(d)for(g in delete c[b],c=this.context,d)e=d[g],--c.blockCount,!--e.blockCount&&(!e.pending&&!e.done)&&c.queueLayout(e)},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",
a,b)},fireTriggers:function(a,b){var c=this[a],c=c&&c[b],d=this.context,e,g;if(c)for(g in c)e=c[g],++e.firedTriggers,!e.done&&(!e.blockCount&&!e.pending)&&d.queueLayout(e)},flush:function(){var a=this.dirty,b=this.state,c=this.el;this.dirtyCount=0;this.classList&&this.classList.dirty&&this.classList.flush();"attributes"in this&&(c.set(this.attributes),delete this.attributes);"innerHTML"in this&&(c.innerHTML=this.innerHTML,delete this.innerHTML);b&&b.clearBoxWidth&&(b.clearBoxWidth=0,this.el.setStyle("width",
null),--b.blocks||this.context.queueItemLayouts(this));a&&(delete this.dirty,this.writeProps(a,!0))},flushAnimations:function(){var a=this,b=a.previousSize,c,d,e,g,h,j,k,l,m;if(b){c=a.target;d=c.getAnimationProps();e=d.duration;g=Ext.Object.getKeys(a.animatePolicy);d=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},d);h=e=0;for(j=g.length;h<j;h++)k=g[h],l=b[k],m=a.peek(k),l!=m&&(k=a.translateProps[k]||k,d.from[k]=l,d.to[k]=m,++e);e&&(1===a.isCollapsingOrExpanding?c.componentLayout.undoLayout(a):
a.writeProps(d.from),a.el.animate(d),Ext.fx.Manager.getFxQueue(a.el.id)[0].on({afteranimate:function(){1===a.isCollapsingOrExpanding?(c.componentLayout.redoLayout(a),c.afterCollapse(!0)):2===a.isCollapsingOrExpanding&&c.afterExpand(!0)}}))}},getBorderInfo:function(){var a=this.borderInfo;a||(this.borderInfo=a=this.checkCache("borderInfo"));return a},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(a,b){var c,d,e;if(a){if(a.dom)d=a;else if(c=
this.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===this.el))return this;d&&(e=this.context.getEl(this,d))}return e||null},getFrameInfo:function(){var a=this.frameInfo,b;a||(a=this.framing,b=this.getBorderInfo(),this.frameInfo=a=a?{top:a.top+b.top,right:a.right+b.right,bottom:a.bottom+b.bottom,left:a.left+b.left,width:a.width+b.width,height:a.height+b.height}:b);return a},getMarginInfo:function(){var a=this.marginInfo,b,c,d;a||(this.wrapsComponent?(b=this.target,d=(a=b.ownerLayout)?
a.id:null,c=a&&a.manageMargins,(a=b.margin$)&&a.ownerId!==d&&(a=null),a||(a=this.parseMargins(b,b.margin)||this.checkCache("marginInfo"),c&&(this.setProp("margin-top",0),this.setProp("margin-right",0),this.setProp("margin-bottom",0),this.setProp("margin-left",0)),a.ownerId=d,b.margin$=a),a.width=a.left+a.right,a.height=a.top+a.bottom):a=this.checkCache("marginInfo"),this.marginInfo=a);return a},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=
this.paddingInfo;a||(this.paddingInfo=a=this.checkCache("paddingInfo"));return a},getProp:function(a){var b=this.props[a];this.addTrigger(a);return b},getDomProp:function(a){var b=this.dirty&&a in this.dirty?void 0:this.props[a];this.addTrigger(a,!0);return b},getStyle:function(a){var b=this.styles,c,d;a in b?d=b[a]:(c=this.styleInfo[a],d=this.el.getStyle(a),c&&c.parseInt&&(d=parseInt(d,10)||0),b[a]=d);return d},getStyles:function(a,b){var c=this.styles,d={},e=0,g=a.length,h,j,k,l,m,n;b=b||a;for(h=
0;h<g;++h)l=a[h],l in c?(d[b[h]]=c[l],++e,h&&1==e&&(j=a.slice(0,h),k=b.slice(0,h))):e&&((j||(j=[])).push(l),(k||(k=[])).push(b[h]));if(e<g){j=j||a;k=k||b;g=this.styleInfo;m=this.el.getStyle(j);for(h=j.length;h--;)l=j[h],e=g[l],n=m[l],e&&e.parseInt&&(n=parseInt(n,10)||0),d[k[h]]=n,c[l]=n}return d},hasProp:function(a){return null!=this.getProp(a)},hasDomProp:function(a){return null!=this.getDomProp(a)},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){1==++this.dirtyCount&&
this.context.queueFlush(this)},onBoxMeasured:function(){var a=this.boxParent,b=this.state;a&&(a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox)&&(b.boxMeasured=1,a.boxChildMeasured())},parseMargins:function(a,b){!0===b&&(b=5);var c=typeof b,d;"string"==c||"number"==c?d=a.parseBox(b):b&&(d={top:0,right:0,bottom:0,left:0},b&&Ext.apply(d,a.parseBox(b)));return d},peek:function(a){return this.props[a]},recoverProp:function(a,b,c){var d=this.props;a in b&&(d[a]=b[a],c&&a in c&&(b=this.dirty||
(this.dirty={}),b[a]=c[a]))},redo:function(a){var b,c,d;this.revertProps(this.props);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;for(c=b.length;d<c;d++)b[d].redo(a)}d=0;b=this.children;for(c=b.length;d<c;d++)b[d].redo()}},removeEl:function(a,b){var c,d;if(a){if(a.dom)d=a;else if(c=this.target,b&&(c=b),d=c[a],"function"==typeof d&&(d=d.call(c),d===this.el))return this;d&&this.context.removeEl(this,d)}},revertProps:function(a){var b,c=this.flushedProps,d={};for(b in a)c.hasOwnProperty(b)&&
(d[b]=a[b]);this.writeProps(d)},setAttribute:function(a,b){this.attributes||(this.attributes={});this.attributes[a]=b;this.markDirty()},setBox:function(a){"left"in a&&this.setProp("x",a.left);"top"in a&&this.setProp("y",a.top);this.setSize(a.width,a.height)},setContentHeight:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentHeight",a)},setContentWidth:function(a,b){return!b&&this.hasRawContent?1:this.setProp("contentWidth",a)},setContentSize:function(a,b,c){return 2==this.setContentWidth(a,
c)+this.setContentHeight(b,c)},setProp:function(a,b,c){var d=typeof b;if("undefined"==d||"number"===d&&isNaN(b))return 0;if(this.props[a]===b)return 1;this.props[a]=b;++this.context.progressCount;if(!1===c)this.fireTriggers("domTriggers",a),this.clearBlocks("domBlocks",a);else if(c=this.styleInfo[a])this.dirty||(this.dirty={}),this.dirty[a]=b,this.markDirty();this.fireTriggers("triggers",a);this.clearBlocks("blocks",a);return 1},setHeight:function(a,b){var c=this.target,d=this.ownerCtContext,e;0>
a&&(a=0);if(this.wrapsComponent){e=this.collapsedVert?0:c.minHeight||0;a=Ext.Number.constrain(a,e,c.maxHeight);c=this.props.height;if(!this.setProp("height",a,b))return NaN;d&&(!this.isComponentChild&&isNaN(c))&&((c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",!0));if(d=this.frameBodyContext)c=this.getFrameInfo(),d[this.el.vertical?"setWidth":"setHeight"](a-c.height,b)}else if(!this.setProp("height",a,b))return NaN;return a},setWidth:function(a,b){var c=this.target,d=this.ownerCtContext,
e;0>a&&(a=0);if(this.wrapsComponent){e=this.collapsedHorz?0:c.minWidth||0;a=Ext.Number.constrain(a,e,c.maxWidth);c=this.props.width;if(!this.setProp("width",a,b))return NaN;d&&(!this.isComponentChild&&isNaN(c))&&((c=--d.remainingChildDimensions)||d.setProp("containerChildrenSizeDone",!0));if(d=this.frameBodyContext)c=this.getFrameInfo(),d.setWidth(a-c.width,b)}else if(!this.setProp("width",a,b))return NaN;return a},setSize:function(a,b,c){this.setWidth(a,c);this.setHeight(b,c)},translateProps:{x:"left",
y:"top"},undo:function(a){var b,c,d;this.revertProps(this.lastBox);if(a&&this.wrapsComponent){if(this.childItems){d=0;b=this.childItems;for(c=b.length;d<c;d++)b[d].undo(a)}d=0;b=this.children;for(c=b.length;d<c;d++)b[d].undo()}},unsetProp:function(a){var b=this.dirty;delete this.props[a];b&&delete b[a]},writeProps:function(a,b){if(a&&"object"==typeof a){var c=this.el,d={},e=0,g=this.styleInfo,h,j,k,l=a.width,m=a.height,n=this.target,p,q;"displayed"in a&&c.setDisplayed(a.displayed);for(j in a)if(b&&
(this.fireTriggers("domTriggers",j),this.clearBlocks("domBlocks",j),this.flushedProps[j]=1),(h=g[j])&&h.dom)d[j]=h.suffix&&(k=parseInt(a[j],10))?k+h.suffix:a[j],++e;if("x"in a||"y"in a)n.isComponent?n.setPosition(a.x,a.y):e+=this.addPositionStyles(d,a);if(this.wrapsComponent&&Ext.isIE9&&((p=void 0!==l&&this.hasOverflowY)||(q=void 0!==m&&this.hasOverflowX)))g=this.isAbsolute,void 0===g&&(g=!1,h=this.target.getTargetEl(),h=h.getStyle("position"),this.isAbsolute="absolute"===h),g&&(g=Ext.getScrollbarSize(),
p&&(l=parseInt(l,10)+g.width,d.width=l+"px",++e),q&&(m=parseInt(m,10)+g.height,d.height=m+"px",++e));e&&c.setStyle(d)}else Ext.Logger.warn("writeProps expected dirtyProps to be an object")},debugHooks:{$enabled:!1,addBlock:function(a,b,c){(b.blockedBy||(b.blockedBy={}))[this.id+"."+c+("dom"==a.substring(0,3)?":dom":"")]=1;return this.callParent(arguments)},addBoxChild:function(a){var b=this.callParent(arguments),c=this.boxChildren;c&&1==c.length&&(c=this.context.boxParents||(this.context.boxParents=
new Ext.util.MixedCollection),c.add(this));return b},addTrigger:function(a,b){var c=this.context.currentLayout,d;this.callParent(arguments);d=this.context.triggersByLayoutId;(d[c.id]||(d[c.id]={}))[this.id+"."+a+(b?":dom":"")]={item:this,name:a}},checkAuthority:function(a){var b=this[a+"Model"],c=this.context.currentLayout,d;c==this.target.ownerLayout?d=b.calculated:c.isComponentLayout&&(d=this.isTopLevel||b.auto||b.configured);d||(b=this.context.getLayoutName(c),Ext.log(b+" cannot set "+a))},clearBlocks:function(a,
b){var c=this[a],c=c&&c[b],d=this.id+"."+b+("dom"==a.substring(0,3)?":dom":""),e,g;if(c)for(g in c)e=c[g],delete e.blockedBy[d];return this.callParent(arguments)},getEl:function(a){var b=this.callParent(arguments);b&&(b!==this&&b.parent!==this)&&Ext.Error.raise({msg:"Got element from wrong component"});return b},init:function(){var a;a=this.callParent(arguments);this.context.logOn.initItem&&Ext.log(this.id," consumers: content\x3d",this.consumersContentWidth,"/",this.consumersContentHeight,", container\x3d",
this.consumersContainerWidth,"/",this.consumersContainerHeight,", size\x3d",this.consumersWidth,"/",this.consumersHeight);return a},invalidate:function(){this.wrapsComponent?this.context.logOn.invalidate&&Ext.log("invalidate: ",this.id):Ext.Error.raise({msg:"Cannot invalidate an element contextItem"});return this.callParent(arguments)},setProp:function(a,b,c){var d=this.context.getLayoutName(this.context.currentLayout),e=this.id+"."+a,g;null!==b&&(g=this.setBy||(this.setBy={}),g[a]?g[a]!=d&&Ext.log({level:"warn"},
"BAD! ",e," set by ",g[a]," and ",d):g[a]=d);this.context.logOn.setProp&&"undefined"!=typeof b&&(!isNaN(b)&&this.props[a]!==b)&&Ext.log("set ",e," \x3d ",b," (",c,")");return this.callParent(arguments)},setHeight:function(a,b,c){!c&&this.wrapsComponent&&this.checkAuthority("height");return this.callParent(arguments)},setWidth:function(a,b,c){!c&&this.wrapsComponent&&this.checkAuthority("width");return this.callParent(arguments)}}},function(){var a={dom:!0,parseInt:!0,suffix:"px"},b={dom:!0},c={dom:!1};
this.prototype.styleInfo={containerChildrenSizeDone:c,containerLayoutDone:c,displayed:c,done:c,x:c,y:c,columnWidthsDone:c,left:a,top:a,right:a,bottom:a,width:a,height:a,"border-top-width":a,"border-right-width":a,"border-bottom-width":a,"border-left-width":a,"margin-top":a,"margin-right":a,"margin-bottom":a,"margin-left":a,"padding-top":a,"padding-right":a,"padding-bottom":a,"padding-left":a,"line-height":b,display:b}});
Ext.define("Ext.rtl.layout.ContextItem",{override:"Ext.layout.ContextItem",addPositionStyles:function(a,b){var c=b.x,d=b.y,e=0;void 0!==c&&(a[this.parent.target.getInherited().rtl?"right":"left"]=c+"px",++e);void 0!==d&&(a.top=d+"px",++e);return e}});
Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(a){Ext.apply(this,a);this.items={};this.layouts={};this.calcCount=this.flushCount=this.cycleCount=this.blockCount=0;this.animateQueue=this.newQueue();this.completionQueue=this.newQueue();this.finalizeQueue=this.newQueue();this.finishQueue=this.newQueue();this.flushQueue=this.newQueue();this.invalidateData={};this.layoutQueue=this.newQueue();this.invalidQueue=[];this.triggers={data:{},dom:{}}},callLayout:function(a,b){this.currentLayout=
a;a[b](this.getCmp(a.owner))},cancelComponent:function(a,b,c){var d=a,e=!a.isComponent,g=e?d.length:1,h,j,k,l,m,n,p;for(h=0;h<g;++h){e&&(a=d[h]);c&&a.ownerCt&&(j=this.items[a.ownerCt.el.id])&&Ext.Array.remove(j.childItems,this.getCmp(a));if(!b&&(m=this.invalidQueue,k=m.length)){this.invalidQueue=l=[];for(j=0;j<k;++j)n=m[j],p=n.item.target,p!=a&&!p.isDescendantOf(a)&&l.push(n)}j=a.componentLayout;this.cancelLayout(j);j.getLayoutItems&&(j=j.getLayoutItems(),j.length&&this.cancelComponent(j,!0));a.isContainer&&
!a.collapsed&&(j=a.layout,this.cancelLayout(j),j=j.getVisibleItems(),j.length&&this.cancelComponent(j,!0))}},cancelLayout:function(a){this.completionQueue.remove(a);this.finalizeQueue.remove(a);this.finishQueue.remove(a);this.layoutQueue.remove(a);a.running&&this.layoutDone(a);a.ownerContext=null},clearTriggers:function(a,b){var c=a.id,d=this.triggers[b?"dom":"data"],e=d&&d[c],g=e&&e.length||0,h,j;for(h=0;h<g;++h)j=e[h],d=j.item,d=b?d.domTriggers:d.triggers,delete d[j.prop][c]},flush:function(){var a=
this.flushQueue.clear(),b=a.length,c;if(b){++this.flushCount;for(c=0;c<b;++c)a[c].flush()}},flushAnimations:function(){var a=this.animateQueue.clear(),b=a.length,c;if(b){for(c=0;c<b;c++)!1!==a[c].target.animate&&a[c].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var a=this.invalidQueue,b=a&&a.length,c,d,e,g;this.invalidQueue=[];if(b){d=[];for(g=0;g<b;++g)c=(e=a[g]).item.target,c.container.isDetachedBody||(d.push(c),e.options&&(this.invalidateData[c.id]=e.options));this.invalidate(d,
null)}},flushLayouts:function(a,b,c){a=c?this[a].items:this[a].clear();c=a.length;var d,e;if(c){for(d=0;d<c;++d)e=a[d],e.running||this.callLayout(e,b);this.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(a,b){var c=this.getItem(b,b);c.parent||(c.parent=a,a.children.length?a.children.push(c):a.children=[c]);return c},getItem:function(a,b){var c=b.id,d=this.items;return d[c]||(d[c]=new Ext.layout.ContextItem({context:this,target:a,el:b}))},handleFailure:function(){var a=
this.layouts,b,c;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(c in a)b=a[c],a.hasOwnProperty(c)&&(b.running=!1,b.ownerContext=null);Ext.repoDevMode&&!this.pageAnalyzerMode?Ext.Error.raise("Layout run failed"):Ext.log.error("Layout run failed")},invalidate:function(a,b){var c=!a.isComponent,d,e,g,h,j,k,l,m,n,p,q;g=0;for(k=c?a.length:1;g<k;++g)if(h=c?a[g]:a,h.rendered&&!h.hidden){d=h.ownerLayout;l=h.componentLayout;e=!l.ownerContext;q=!1;if((!d||!d.needsItemSize)&&h.liquidLayout)q=!0;if(!q||d&&d.setsItemSize)j=
this.getCmp(h),m=h.isContainer&&!h.collapsed?h.layout:null,n=this.invalidateData[j.id],delete this.invalidateData[j.id],p=j.init(b,n);if(!q){n&&this.processInvalidate(n,j,"before");l.beforeLayoutCycle&&l.beforeLayoutCycle(j);m&&m.beforeLayoutCycle&&m.beforeLayoutCycle(j);p=j.initContinue(p);d=!0;l.getLayoutItems&&(l.renderChildren(),h=l.getLayoutItems(),h.length&&this.invalidate(h,!0));if(m&&(d=!1,m.renderChildren(),m.needsItemSize||m.activeItemCount))h=m.getVisibleItems(),h.length&&this.invalidate(h,
!0);j.initDone(d);this.resetLayout(l,j,e);m&&this.resetLayout(m,j,e);j.initAnimation();n&&this.processInvalidate(n,j,"after")}}this.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=!1;if(a.isComponentLayout){if(b.measuresBox)b.onBoxMeasured();b.setProp("done",!0)}else b.setProp("containerLayoutDone",!0);--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(a,b,c){if(a[c]){var d=this.currentLayout;this.currentLayout=
a.layout||null;a[c](b,a);this.currentLayout=d}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,b,c){var d=this,e=a.layout,g=b.layout,h=a[c],j=b[c];return function(c){var l=d.currentLayout;h&&(d.currentLayout=e,h.call(a.scope||a,c,a));d.currentLayout=g;j.call(b.scope||b,c,b);d.currentLayout=l}},purgeInvalidates:function(){var a=
[],b=this.invalidQueue,c=b.length,d,e,g,h,j,k;for(d=0;d<c;++d){h=b[d];j=h.item.target;k=!0;for(e=a.length;e--;){g=a[e];g=g.item.target;if(j.isDescendant(g)){k=!1;break}g.isDescendant(j)&&Ext.Array.erase(a,e,1)}k&&a.push(h)}this.invalidQueue=a},queueInvalidate:function(a,b){var c=[],d=this.invalidQueue,e=d.length,g,h,j,k;a.isComponent?a=this.getCmp(g=a):g=a.target;for(a.invalid=!0;e--;){h=d[e];j=h.item.target;if(g.isDescendantOf(j))return;if(j==g){(c=h.options)?b&&(b.widthModel&&(c.widthModel=b.widthModel),
b.heightModel&&(c.heightModel=b.heightModel),(k=c.state)?b.state&&Ext.apply(k,b.state):c.state=b.state,b.before&&(c.before=this.chainFns(c,b,"before")),b.after&&(c.after=this.chainFns(c,b,"after"))):h.options=b;return}j.isDescendantOf(g)||c.push(h)}c.push({item:a,options:b});this.invalidQueue=c},queueItemLayouts:function(a){a=a.isComponent?a:a.target;var b=a.componentLayout;!b.pending&&(!b.invalid&&!b.done)&&this.queueLayout(b);(b=a.layout)&&(!b.pending&&!b.invalid&&!b.done)&&this.queueLayout(b)},
queueLayout:function(a){this.layoutQueue.add(a);a.pending=!0},removeEl:function(a,b){var c=b.id,d=a.children,e=this.items;d&&Ext.Array.remove(d,e[c]);delete e[c]},resetLayout:function(a,b,c){this.currentLayout=a;a.done=!1;a.pending=!0;a.firedTriggers=0;this.layoutQueue.add(a);c?(this.layouts[a.id]=a,a.running=!0,a.finishedLayout&&this.finishQueue.add(a),++this.remainingLayouts,++a.layoutCount,a.ownerContext=b,a.beginCount=0,a.blockCount=0,a.calcCount=0,a.triggerCount=0,a.initialized||a.initLayout(),
a.beginLayout(b)):(++a.beginCount,a.running||(++this.remainingLayouts,a.running=!0,a.isComponentLayout&&b.unsetProp("done"),this.completionQueue.remove(a),this.finalizeQueue.remove(a)));a.beginLayoutCycle(b,c)},run:function(){var a=!1,b=100;this.purgeInvalidates();this.flushInvalidates();this.state=1;this.totalCount=this.layoutQueue.getCount();for(this.flush();(this.remainingLayouts||this.invalidQueue.length)&&b--;){this.invalidQueue.length&&this.flushInvalidates();if(this.runCycle())a=!1;else if(a){if(!this.invalidQueue.length){this.state=
2;break}}else this.flush(),a=!0,this.flushLayouts("completionQueue","completeLayout");!this.remainingLayouts&&!this.invalidQueue.length&&(this.flush(),this.flushLayouts("completionQueue","completeLayout"),this.flushLayouts("finalizeQueue","finalizeLayout"))}return this.runComplete()},runComplete:function(){this.state=2;if(this.remainingLayouts)return this.handleFailure(),!1;this.flush();this.flushLayouts("finishQueue","finishedLayout",!0);this.flushLayouts("finishQueue","notifyOwner");this.flush();
this.flushAnimations();return!0},runCycle:function(){var a=this.layoutQueue.clear(),b=a.length,c;++this.cycleCount;for(c=this.progressCount=0;c<b;++c)this.runLayout(this.currentLayout=a[c]);this.currentLayout=null;return 0<this.progressCount},runLayout:function(a){var b=this.getCmp(a.owner);a.pending=!1;b.state.blocks||(a.done=!0,++a.calcCount,++this.calcCount,a.calculate(b),a.done?(this.layoutDone(a),a.completeLayout&&this.queueCompletion(a),a.finalizeLayout&&this.queueFinalize(a)):!a.pending&&(!a.invalid&&
!(a.blockCount+a.triggerCount-a.firedTriggers))&&this.queueLayout(a))},setItemSize:function(a,b,c){var d=a,e=1,g;a.isComposite?(d=a.elements,e=d.length,a=d[0]):!a.dom&&!a.el&&(e=d.length,a=d[0]);for(g=0;g<e;)a=this.get(a),a.setSize(b,c),a=d[++g]},debugHooks:{$enabled:!1,pageAnalyzerMode:!0,logOn:{"0":0},cancelComponent:function(a){this.logOn.cancelComponent&&Ext.log("cancelCmp: ",a.id);this.callParent(arguments)},cancelLayout:function(a){this.logOn.cancelLayout&&Ext.log("cancelLayout: ",this.getLayoutName(a));
this.callParent(arguments)},callLayout:function(a,b){var c=this.accumByType[a.type],d=c&&c.enter();this.callParent(arguments);c&&d.leave()},checkRemainingLayouts:function(){var a=0,b,c;for(b in this.layouts)c=this.layouts[b],this.layouts.hasOwnProperty(b)&&c.running&&++a;this.remainingLayouts!=a&&Ext.Error.raise({msg:"Bookkeeping error me.remainingLayouts"})},flush:function(){if(this.logOn.flush){var a=this.flushQueue;Ext.log("--- Flush ",a&&a.getCount())}return this.callParent(arguments)},flushInvalidates:function(){this.logOn.flushInvalidate&&
Ext.log("\x3e\x3e flushInvalidates");var a=this.callParent(arguments);this.logOn.flushInvalidate&&Ext.log("\x3c\x3c flushInvalidates");return a},getCmp:function(a){var b=this.callParent(arguments);b.wrapsComponent||Ext.Error.raise({msg:a.id+" is not a component"});return b},getEl:function(a,b){var c=this.callParent(arguments);c&&c.wrapsComponent&&Ext.Error.raise({msg:a.id+"/"+b.id+" is a component (expected element)"});return c},getLayoutName:function(a){return a.owner.id+"\x3c"+a.type+"\x3e"},layoutDone:function(a){var b=
this.getLayoutName(a);this.logOn.layoutDone&&Ext.log("layoutDone: ",b," ( ",this.remainingLayouts," running)");a.running||Ext.Error.raise({msg:b+" is already done"});this.remainingLayouts||Ext.Error.raise({msg:b+" finished but no layouts are running"});this.callParent(arguments)},layoutTreeHasFailures:function(a,b){function c(a){var b=!a.done,d,k;if(a.done)for(d in e.layouts)e.layouts.hasOwnProperty(d)&&(k=e.layouts[d],k.owner.ownerLayout===a&&c(k)&&(b=!0));return b}function d(a){var c,j;b[a.id]=
1;for(c in e.layouts)e.layouts.hasOwnProperty(c)&&(j=e.layouts[c],j.owner.ownerLayout===a&&d(j))}var e=this;if(c(a))return!0;d(a);return!1},queueLayout:function(a){(a.done||a.blockCount||a.pending)&&Ext.Error.raise({msg:this.getLayoutName(a)+" should not be queued for layout"});this.logOn.queueLayout&&Ext.log("Queue ",this.getLayoutName(a));return this.callParent(arguments)},reportLayoutResult:function(a,b){var c=this.getCmp(a.owner),d=[],e=[],g,h,j,k,l;b[a.id]=1;for(g in a.blockedBy)a.blockedBy.hasOwnProperty(g)&&
d.push(a.blockedBy[g]);d.sort();for(g in this.triggersByLayoutId[a.id])this.triggersByLayoutId[a.id].hasOwnProperty(g)&&(h=this.triggersByLayoutId[a.id][g],e.push({name:g,info:h}));e.sort(function(a,b){return a.name<b.name?-1:b.name<a.name?1:0});Ext.log({indent:1},a.done?"++":"--",this.getLayoutName(a),c.isBoxParent?" [isBoxParent]":"",c.boxChildren?" - boxChildren: "+c.state.boxesMeasured+"/"+c.boxChildren.length:"",c.boxParent?" - boxParent: "+c.boxParent.id:""," - size: ",c.widthModel.name,"/",
c.heightModel.name);if(!a.done||this.reportOnSuccess){if(d.length){++Ext.log.indent;Ext.log({indent:1},"blockedBy:  count\x3d",a.blockCount);j=d.length;for(c=0;c<j;c++)Ext.log(d[c]);Ext.log.indent-=2}if(e.length){++Ext.log.indent;Ext.log({indent:1},"triggeredBy: count\x3d"+a.triggerCount);j=e.length;for(c=0;c<j;c++)l=h.info||h,d=l.item,k=d.setBy&&d.setBy[l.name]||"?",h=e[c],Ext.log(h.name," (",d.props[l.name],") dirty: ",d.dirty?!!d.dirty[l.name]:!1,", setBy: ",k);Ext.log.indent-=2}}for(g in this.layouts)this.layouts.hasOwnProperty(g)&&
(e=this.layouts[g],!e.done&&e.owner.ownerLayout===a&&this.reportLayoutResult(e,b));for(g in this.layouts)this.layouts.hasOwnProperty(g)&&(e=this.layouts[g],e.done&&e.owner.ownerLayout===a&&this.reportLayoutResult(e,b));--Ext.log.indent},resetLayout:function(a){var b=a.type,c=this.getLayoutName(a),d=this.accumByType[b];this.logOn.resetLayout&&Ext.log("resetLayout: ",c," ( ",this.remainingLayouts," running)");this.state||(!d&&this.profileLayoutsByType&&(this.accumByType[b]=d=Ext.Perf.get("layout_"+
a.type)),this.numByType[b]=(this.numByType[b]||0)+1);b=d&&d.enter();this.callParent(arguments);d&&b.leave();this.checkRemainingLayouts()},round:function(a){return Math.round(1E3*a)/1E3},run:function(){var a,b,c,d,e,g;this.accumByType={};this.calcsByType={};this.numByType={};this.timesByType={};this.triggersByLayoutId={};Ext.log.indentSize=3;Ext.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d LAYOUT \x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d");
b=Ext.perf.getTimestamp();a=this.callParent(arguments);b=Ext.perf.getTimestamp()-b;if(this.logOn.boxParent&&this.boxParents)for(c in this.boxParents)if(this.boxParents.hasOwnProperty(c)){d=this.boxParents[c];e=d.boxChildren;g=e.length;Ext.log("boxParent: ",d.id);for(d=0;d<g;++d)Ext.log(" --\x3e ",e[d].id)}a?Ext.log("----------------- SUCCESS -----------------"):Ext.log({level:"error"},"----------------- FAILURE -----------------");for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],
d.running&&Ext.log.error("Layout left running: ",this.getLayoutName(d)),d.ownerContext&&Ext.log.error("Layout left connected: ",this.getLayoutName(d)));if(!a||this.reportOnSuccess){e={};g=0;for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],this.items[d.owner.el.id].isTopLevel&&(this.reportOnSuccess||this.layoutTreeHasFailures(d,e))&&this.reportLayoutResult(d,e));for(c in this.layouts)this.layouts.hasOwnProperty(c)&&(d=this.layouts[c],e[d.id]||(g||Ext.log("----- Unreported!! -----"),
++g,this.reportLayoutResult(d,e)))}Ext.log("Cycles: ",this.cycleCount,", Flushes: ",this.flushCount,", Calculates: ",this.calcCount," in ",this.round(b)," msec");Ext.log("Calculates by type:");b=[];for(c in this.numByType)this.numByType.hasOwnProperty(c)&&(d=this.numByType[c],b.push({type:c,total:d,calcs:this.calcsByType[c],multiple:Math.round(10*(this.calcsByType[c]/d))/10,calcTime:this.round(this.timesByType[c]),avgCalcTime:this.round(this.timesByType[c]/this.calcsByType[c])}));b.sort(function(a,
b){return b.calcTime-a.calcTime});c=b.length;for(d=0;d<c;d++)e=b[d],Ext.log(e.type,": ",e.total," in ",e.calcs," tries (",e.multiple,"x) at ",e.calcTime," msec (avg ",e.avgCalcTime," msec)");return a},runCycle:function(){this.logOn.runCycle&&Ext.log("\x3e\x3e\x3e Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")");return this.callParent(arguments)},runLayout:function(a){var b=a.type,c=this.accumByType[b],d,e,g;this.logOn.calculate&&Ext.log("-- calculate ",this.getLayoutName(a));
d=c&&c.enter();g=Ext.perf.getTimestamp();e=this.callParent(arguments);g=Ext.perf.getTimestamp()-g;c&&d.leave();this.calcsByType[b]=(this.calcsByType[b]||0)+1;this.timesByType[b]=(this.timesByType[b]||0)+g;return e}}});
Ext.define("Ext.layout.component.FieldSet",{extend:Ext.layout.component.Body,alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(a){a.target.collapsed&&(a.heightModel=this.sizeModels.shrinkWrap)},beginLayoutCycle:function(a){var b=a.target;this.callParent(arguments);b.collapsed&&(a.setContentHeight(0),a.restoreMinHeight=b.minHeight,delete b.minHeight,a.widthModel.shrinkWrap&&(b=b.lastComponentSize,a.setContentWidth(b&&b.contentWidth||this.defaultCollapsedWidth)))},
finishedLayout:function(a){var b=this.owner,c=a.restoreMinHeight;this.callParent(arguments);c&&(b.minHeight=c)},calculateOwnerHeightFromContentHeight:function(a){var b=a.getBorderInfo(),c=a.target.legend;return a.getProp("contentHeight")+a.getPaddingInfo().height+(Ext.isIE8?a.bodyContext.getPaddingInfo().top:0)+(c?c.getHeight():b.top)+b.bottom},publishInnerHeight:function(a,b){var c=a.target.legend;c&&(b-=c.getHeight());this.callParent([a,b])},getLayoutItems:function(){var a=this.owner.legend;return a?
[a]:[]}});
Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:Ext.layout.container.Anchor,alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",ignoreOnContentChange:!0,type:"absolute",adjustWidthAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("left");return a-d+c.left},adjustHeightAnchor:function(a,b){var c=this.targetPadding,d=b.getStyle("top");return a-d+c.top},isItemLayoutRoot:function(a){return this.ignoreOnContentChange||this.callParent(arguments)},
isItemShrinkWrap:function(){return!0},beginLayout:function(a){var b=this.getTarget();this.callParent(arguments);b.dom!==document.body&&b.position();this.targetPadding=a.targetContext.getPaddingInfo()},isItemBoxParent:function(){return!0},onContentChange:function(){return this.ignoreOnContentChange?!1:this.callParent(arguments)},calculateContentSize:function(a,b){var c=(b||0)|(a.widthModel.shrinkWrap?1:0)|(a.heightModel.shrinkWrap?2:0),d=c&1||void 0,c=c&2||void 0,e=a.childItems,g=e.length,h=0,j=0,
k=0,l=a.props,m,n,p,q;d&&(isNaN(l.contentWidth)?++k:d=void 0);c&&(isNaN(l.contentHeight)?++k:c=void 0);if(k){for(p=0;p<g;++p)if(n=e[p],k=n.target,l=c&&n.getProp("height"),q=d&&n.getProp("width"),n=n.getMarginInfo(),l+=n.bottom,q+=n.right,h=Math.max(h,(k.y||0)+l),j=Math.max(j,(k.x||0)+q),isNaN(h)&&isNaN(j)){this.done=!1;return}if(d||c)m=a.targetContext.getPaddingInfo();d&&!a.setContentWidth(j+m.width)&&(this.done=!1);c&&!a.setContentHeight(h+m.height)&&(this.done=!1)}}});
Ext.define("Ext.rtl.layout.container.Absolute",{override:"Ext.layout.container.Absolute",adjustWidthAnchor:function(a,b){if(this.owner.getInherited().rtl){var c=this.targetPadding,d=b.getStyle("right");return a-d+c.right}return this.callParent(arguments)}});
Ext.define("Ext.layout.container.Accordion",{extend:Ext.layout.container.VBox,alias:"layout.accordion",type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){this.callParent(arguments);
this.animate?(this.animatePolicy={},this.animatePolicy[this.names.x]=!0,this.animatePolicy[this.names.width]=!0):this.animatePolicy=null},beforeRenderItems:function(a){var b=a.length,c=this.owner,d=this.collapseFirst,e=Ext.isDefined(d),g=this.getExpanded(!0)[0],h=this.multi,j,k;for(k=0;k<b;k++)if(j=a[k],!j.rendered){if(!h||!1!==j.collapsible)j.collapsible=!0;j.collapsible&&(e&&(j.collapseFirst=d),this.hideCollapseTool?(j.hideCollapseTool=this.hideCollapseTool,j.titleCollapse=!0):this.titleCollapse&&
void 0===j.titleCollapse&&(j.titleCollapse=this.titleCollapse));j.hideHeader=j.width=null;j.title=j.title||"\x26#160;";j.addBodyCls(Ext.baseCSSPrefix+"accordion-body");h||(g?j.collapsed=g!==j:j.hasOwnProperty("collapsed")&&!1===j.collapsed?g=j:j.collapsed=!0,c.mon(j,"show",this.onComponentShow,this));j.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over"}!this.processing&&!h&&(g?this.activeOnTop&&(g.collapsed=!1,this.configureItem(g),0<c.items.indexOf(g)&&c.insert(0,g)):b&&(a[0].collapsed=!1))},getItemsRenderTree:function(a){this.beforeRenderItems(a);
return this.callParent(arguments)},renderItems:function(a,b){this.beforeRenderItems(a);this.callParent(arguments)},configureItem:function(a){this.callParent(arguments);a.ignoreHeaderBorderManagement=!0;a.animCollapse=!1;this.fill&&(a.flex=1)},beginLayout:function(a){this.callParent(arguments);this.updatePanelClasses(a)},updatePanelClasses:function(a){a=a.visibleItems;var b=a.length,c=!0,d,e,g;for(d=0;d<b;d++)e=a[d],g=e.header,g.addCls(Ext.baseCSSPrefix+"accordion-hd"),c?g.removeCls(Ext.baseCSSPrefix+
"accordion-hd-sibling-expanded"):g.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),d+1==b&&e.collapsed?g.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):g.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),c=e.collapsed},onBeforeComponentExpand:function(a){var b=this.owner,c=this.multi,d=!c&&!this.animate&&this.activeOnTop,e;this.processing||(this.processing=!0,e=b.deferLayouts,b.deferLayouts=!0,c||(c=this.getExpanded()[0])&&c!==a&&c.collapse(),d&&(Ext.suspendLayouts(),b.insert(0,
a),Ext.resumeLayouts()),b.deferLayouts=e,this.processing=!1)},onBeforeComponentCollapse:function(a){var b=this.owner,c,d;if(1===this.owner.items.getCount())return!1;this.processing||(this.processing=!0,d=b.deferLayouts,b.deferLayouts=!0,a=a.next()||a.prev(),this.multi?(c=this.getExpanded(),1===c.length&&a.expand()):a&&a.expand(),b.deferLayouts=d,this.processing=!1)},onComponentShow:function(a){this.onBeforeComponentExpand(a)},onAdd:function(a){this.callParent(arguments);"placeholder"===a.collapseMode&&
(a.collapseMode=this.panelCollapseMode);a.collapseDirection=a.headerPosition;this.layoutCount&&(!this.multi&&1<this.owner.items.getCount())&&(this.processing=!0,a.collapse(),this.processing=!1)},onRemove:function(a,b){var c;this.callParent(arguments);!this.owner.destroying&&!this.multi&&!a.collapsed&&(c=this.owner.items.first())&&c.expand()},getExpanded:function(a){for(var b=this.owner.items.items,c=b.length,d=0,e=[],g,h;d<c;++d)h=b[d],h.hidden||(g=a?h.hasOwnProperty("collapsed")&&!1===h.collapsed:
!h.collapsed)&&e.push(h);return e}});
Ext.define("Ext.layout.container.Center",{extend:Ext.layout.container.Fit,alias:["layout.center","layout.ux.center"],alternateClassName:"Ext.ux.layout.Center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:Ext.baseCSSPrefix+"center-layout-item",targetCls:Ext.baseCSSPrefix+"center-layout",getItemSizePolicy:function(a,b){var c=b||this.owner.getSizeModel(),d=this.percentRe,c=(c.width.shrinkWrap||!d.test(a.width)?0:1)|(c.height.shrinkWrap||!d.test(a.height)?0:2);return this.sizePolicies[c]},getPos:function(a,
b,c){a=Math.round((b.targetSize[c]-(a.props[c]+b.margins[c]))/2);isNaN(a)&&(this.done=!1);return Math.max(a,0)},positionItemX:function(a,b){var c=this.getPos(a,b,"width");a.setProp("x",c)},positionItemY:function(a,b){var c=this.getPos(a,b,"height");a.setProp("y",c)},setItemHeight:function(a,b){var c=parseFloat(a.target.height)/100;a.setHeight(Math.round((b.targetSize.height-b.margins.height)*c))},setItemWidth:function(a,b){var c=parseFloat(a.target.width)/100;a.setWidth(Math.round((b.targetSize.width-
b.margins.width)*c))}});
Ext.define("Ext.layout.container.Form",{extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.FormLayout",alias:"layout.form",type:"form",formWrapCls:Ext.baseCSSPrefix+"form-layout-wrap",formWrapAutoLabelCls:Ext.baseCSSPrefix+"form-layout-auto-label",formWrapSizedLabelCls:Ext.baseCSSPrefix+"form-layout-sized-label",formColGroupCls:Ext.baseCSSPrefix+"form-layout-colgroup",formColumnCls:Ext.baseCSSPrefix+"form-layout-column",formLabelColumnCls:Ext.baseCSSPrefix+"form-layout-label-column",childEls:["formWrap",
"labelColumn"],beforeBodyTpl:'\x3cdiv id\x3d"{ownerId}-formWrap" data-ref\x3d"formWrap" class\x3d"{formWrapCls}"\x3ctpl if\x3d"itemSpacing"\x3e style\x3d"border-spacing:{itemSpacing}px"\x3c/tpl\x3e\x3e\x3cdiv class\x3d"{formColGroupCls}"\x3e\x3cdiv id\x3d"{ownerId}-labelColumn" data-ref\x3d"labelColumn" class\x3d"{formColumnCls} {formLabelColumnCls}"\x3ctpl if\x3d"labelWidth"\x3e style\x3d"width:{labelWidth}"\x3c/tpl\x3e\x3e\x3c/div\x3e\x3cdiv class\x3d"{formColumnCls}"\x3e\x3c/div\x3e\x3c/div\x3e',
afterBodyTpl:"\x3c/div\x3e",getRenderData:function(){var a=this.labelWidth,b=this.formWrapCls,c=this.callParent();a?("number"===typeof a&&(a+="px"),c.labelWidth=a,b+=" "+this.formWrapSizedLabelCls):b+=" "+this.formWrapAutoLabelCls;c.formWrapCls=b;c.formColGroupCls=this.formColGroupCls;c.formColumnCls=this.formColumnCls;c.formLabelColumnCls=this.formLabelColumnCls;return c},getRenderTarget:function(){return this.formWrap}});
Ext.define("Ext.layout.container.SegmentedButton",{extend:Ext.layout.container.Container,alias:"layout.segmentedbutton",needsItemSize:!1,setsItemSize:!1,_btnRowCls:Ext.baseCSSPrefix+"segmented-button-row",getRenderTree:function(){var a=this.callParent(),b,c;if(this.owner.getVertical()){b=0;for(c=a.length;b<c;b++)a[b]={cls:this._btnRowCls,cn:a[b]}}return a},getItemLayoutEl:function(a){a=a.el.dom;return this.owner.getVertical()?a.parentNode:a}});
Ext.define("Ext.menu.ColorPicker",{extend:Ext.menu.Menu,alias:"widget.colormenu",hideOnClick:!0,pickerId:null,initComponent:function(){var a=Ext.apply({},this.initialConfig);delete a.listeners;Ext.apply(this,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:this.pickerId,xtype:"colorpicker"},a)});this.callParent(arguments);this.picker=this.down("colorpicker");this.relayEvents(this.picker,["select"]);if(this.hideOnClick)this.on("select",
this.hidePickerOnSelect,this)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});
Ext.define("Ext.menu.DatePicker",{extend:Ext.menu.Menu,alias:"widget.datemenu",ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:!0,pickerId:null,initComponent:function(){var a=Ext.apply({},this.initialConfig);delete a.listeners;Ext.apply(this,{showSeparator:!1,plain:!0,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:this.pickerId,xtype:"datepicker"},a)});this.callParent(arguments);this.picker=this.down("datepicker");this.relayEvents(this.picker,["select"]);
if(this.hideOnClick)this.on("select",this.hidePickerOnSelect,this)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}});
Ext.define("Ext.panel.Pinnable",{extend:Ext.Mixin,mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var a=this.isPinned();this.addTool(this.pinTool=Ext.widget({xtype:"tool",type:a?"unpin":"pin",callback:"togglePin",scope:this,tooltip:a?this.pinnedTip:this.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(a){var b;a!==this.isPinned()&&(b=[this,a],!1!==this.fireEventArgs("beforepinchange",b)&&(this.updatePinned(a),
this.fireEventArgs("pinchange",b)))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(a){var b=this.pinTool;b.setTooltip(a?this.pinnedTip:this.unpinnedTip);b.setType(a?"unpin":"pin")}});
Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(a,b,c){a.init||(c?(a=Ext.apply({},a),a.cmp=c):c=a.cmp,a.xclass?a=Ext.create(a):(b="plugin."+(a.ptype||b),a=Ext.ClassManager.instantiateByAlias(b,a)));a&&(c&&a.setCmp&&!a.setCmpCalled)&&(a.setCmp(c),a.setCmpCalled=!0);return a}});
Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var a=this.splitter,b=a.collapseTarget,c=a.defaultSplitMin,d=a.vertical?"Width":"Height",e="min"+d,g="max"+d,d="get"+d,h=a.neighbors,j=h.length,k=b.el.getBox(),l=k.x,m=k.y,n=k.right,k=k.bottom,p=a.vertical?n-l:k-m,q,r,s,t,u;t=(b[e]||Math.min(p,c))-p;b=(b=b[g])?b-p:1E9;u=p;for(q=0;q<j;++q)r=h[q],p=r[d](),s=r[g],null===s&&(s=void 0),s=p-s,p-=r[e]||Math.min(p,
c),isNaN(s)||t<s&&(t=s),b>p&&(b=p);if(2>b-t)return null;k=new Ext.util.Region(m,n,k,l);this.constraintAdjusters[this.getCollapseDirection()](k,t,b,a);this.dragInfo={minRange:t,maxRange:b,targetSize:u};return k},constraintAdjusters:{left:function(a,b,c,d){a[0]=a.x=a.left=a.right+b;a.right+=c+d.getWidth()},top:function(a,b,c,d){a[1]=a.y=a.top=a.bottom+b;a.bottom+=c+d.getHeight()},bottom:function(a,b,c,d){a.bottom=a.top-b;a.top-=c+d.getHeight()},right:function(a,b,c,d){a.right=a.left-b;a[0]=a.x=a.left=
a.x-c+d.getWidth()}},onBeforeStart:function(){var a=this.splitter,b=a.collapseTarget,a=a.neighbors,c=a.length,d,e;if(b.collapsed)return!1;for(d=0;d<c;++d)if(e=a[d],e.collapsed&&e.isHorz===b.isHorz)return!1;return!(this.constrainTo=this.calculateConstrainRegion())?!1:!0},performResize:function(a,b){var c=this.splitter,d=c.getCollapseDirection(),e=c.collapseTarget,g=this.splitAdjusters[c.vertical?"horz":"vert"],h=b[g.index],j=this.dragInfo;if("right"==d||"bottom"==d)h=-h;if(h=Math.min(Math.max(j.minRange,
h),j.maxRange))(c=c.ownerCt).suspendLayouts(),g.adjustTarget(e,j.targetSize,h),c.resumeLayouts(!0)},splitAdjusters:{horz:{index:0,adjustTarget:function(a,b,c){a.flex=null;a.setSize(b+c)}},vert:{index:1,adjustTarget:function(a,b,c){a.flex=null;a.setSize(void 0,b+c)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});
Ext.define("Ext.rtl.resizer.BorderSplitterTracker",{override:"Ext.resizer.BorderSplitterTracker",rtlDirections:{top:"top",right:"left",bottom:"bottom",left:"right"},getCollapseDirection:function(){var a=this.splitter.getCollapseDirection();!this.splitter.getInherited().rtl!==!Ext.rootInheritedState.rtl&&(a=this.rtlDirections[a]);return a}});
Ext.define("Ext.resizer.Handle",{extend:Ext.Component,handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){this.callParent();this.protoEl.unselectable();this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls)}});
Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:!0,preserveRatio:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(a){var b=this,c,d,e;a.el||(b.el=a.target.isComponent?a.target.getEl():a.target);this.callParent(arguments);b.preserveRatio&&(b.minWidth&&b.minHeight)&&(c=b.minWidth/b.el.getWidth(),d=b.minHeight/b.el.getHeight(),d>c?b.minWidth=b.el.getWidth()*d:b.minHeight=b.el.getHeight()*c);b.throttle&&(e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(b,
arguments)},b.throttle),b.resize=function(a,c,d){d?Ext.resizer.ResizeTracker.prototype.resize.apply(b,arguments):e.apply(null,arguments)})},onBeforeStart:function(){this.startBox=this.target.getBox()},getProxy:function(){!this.dynamic&&!this.proxy&&(this.proxy=this.createProxy(this.target||this.el),this.hideProxy=!0);if(this.proxy)return this.proxy.show(),this.proxy},createProxy:function(a){var b=this.proxyCls;a=a.isComponent?a.getProxy().addCls(b):a.createProxy({tag:"div",role:"presentation",cls:b,
id:a.id+"-rzproxy"},Ext.getBody());a.removeCls(Ext.baseCSSPrefix+"proxy-el");return a},onStart:function(){this.activeResizeHandle=Ext.get(this.getDragTarget().id);this.dynamic||this.resize(this.startBox)},onDrag:function(a){(this.dynamic||this.proxy)&&this.updateDimensions(a)},updateDimensions:function(a,b){var c=this.activeResizeHandle.region,d=this.getOffset(this.constrainTo?"dragTarget":null),e=this.startBox,g,h=0,j=0,k=g=0,l,m,c=this.convertRegionName(c);switch(c){case "south":j=d[1];m=2;break;
case "north":j=-d[1];k=-j;m=2;break;case "east":h=d[0];m=1;break;case "west":h=-d[0];g=-h;m=1;break;case "northeast":j=-d[1];k=-j;h=d[0];l=[e.x,e.y+e.height];m=3;break;case "southeast":j=d[1];h=d[0];l=[e.x,e.y];m=3;break;case "southwest":h=-d[0];g=-h;j=d[1];l=[e.x+e.width,e.y];m=3;break;case "northwest":j=-d[1],k=-j,h=-d[0],g=-h,l=[e.x+e.width,e.y+e.height],m=3}d={width:e.width+h,height:e.height+j,x:e.x+g,y:e.y+k};h=Ext.Number.snap(d.width,this.widthIncrement);j=Ext.Number.snap(d.height,this.heightIncrement);
if(h!=d.width||j!=d.height){switch(c){case "northeast":d.y-=j-d.height;break;case "north":d.y-=j-d.height;break;case "southwest":d.x-=h-d.width;break;case "west":d.x-=h-d.width;break;case "northwest":d.x-=h-d.width,d.y-=j-d.height}d.width=h;d.height=j}d.width<this.minWidth||d.width>this.maxWidth?(d.width=Ext.Number.constrain(d.width,this.minWidth,this.maxWidth),g&&(d.x=e.x+(e.width-d.width))):this.lastX=d.x;d.height<this.minHeight||d.height>this.maxHeight?(d.height=Ext.Number.constrain(d.height,this.minHeight,
this.maxHeight),k&&(d.y=e.y+(e.height-d.height))):this.lastY=d.y;if(this.preserveRatio||a.shiftKey)g=this.startBox.width/this.startBox.height,k=Math.min(Math.max(this.minHeight,d.width/g),this.maxHeight),h=Math.min(Math.max(this.minWidth,d.height*g),this.maxWidth),1==m?d.height=k:2==m?d.width=h:(l=Math.abs(l[0]-this.lastXY[0])/Math.abs(l[1]-this.lastXY[1]),l>g?d.height=k:d.width=h,"northeast"==c?d.y=e.y-(d.height-e.height):"northwest"==c?(d.y=e.y-(d.height-e.height),d.x=e.x-(d.width-e.width)):"southwest"==
c&&(d.x=e.x-(d.width-e.width)));this.setPosition=d.x!==this.startBox.x||d.y!==this.startBox.y;this.resize(d,b)},resize:function(a,b){var c,d=this.setPosition;if(this.dynamic||!this.dynamic&&b)d?this.target.setBox(a):this.target.setSize(a.width,a.height);b||(c=this.getProxy())&&c!==this.target&&(d||this.hideProxy?c.setBox(a):c.setSize(a.width,a.height))},onEnd:function(a){this.updateDimensions(a,!0);this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(a){return a}});
Ext.define("Ext.rtl.resizer.ResizeTracker",{override:"Ext.resizer.ResizeTracker",_rtlRegionNames:{south:"south",north:"north",east:"west",west:"east",northeast:"northwest",southeast:"southwest",southwest:"southeast",northwest:"northeast"},convertRegionName:function(a){return Ext.rootInheritedState.rtl?this._rtlRegionNames[a]:a}});
Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1E4,
maxWidth:1E4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(a,b){var c=this.handles,d=Ext.dom.Element.unselectableCls,e=[],g,h,j,k,l;if(Ext.isString(a)||Ext.isElement(a)||a.dom)c=a,a=b||{},a.target=c;this.mixins.observable.constructor.call(this,a);(c=this.target)?c.isComponent?(c.addClsWithUI("resizable"),c.minWidth&&(this.minWidth=c.minWidth),
c.minHeight&&(this.minHeight=c.minHeight),c.maxWidth&&(this.maxWidth=c.maxWidth),c.maxHeight&&(this.maxHeight=c.maxHeight),c.floating&&!this.hasOwnProperty("handles")&&(this.handles="n ne e se s sw w nw"),this.el=c.getEl()):c=this.el=this.target=Ext.get(c):c=this.target=this.el=Ext.get(this.el);this.el.addCls(Ext.Component.prototype.borderBoxCls);Ext.isNumber(this.width)&&(this.width=Ext.Number.constrain(this.width,this.minWidth,this.maxWidth));Ext.isNumber(this.height)&&(this.height=Ext.Number.constrain(this.height,
this.minHeight,this.maxHeight));(null!==this.width||null!==this.height)&&this.target.setSize(this.width,this.height);h=this.el.dom.tagName.toUpperCase();if("TEXTAREA"===h||"IMG"===h||"TABLE"===h)this.originalTarget=this.target,j=c.isComponent?c.getEl():c,this.el.addCls(this.wrappedCls),this.target=this.el=this.el.wrap({role:"presentation",cls:this.wrapCls,id:this.el.id+"-rzwrap",style:j.getStyle(["margin-top","margin-bottom"])}),g=j.getPositioning(),this.el.setPositioning(g),j.clearPositioning(),
h=j.getBox(),"absolute"!=g.position&&(h.x=0,h.y=0),this.el.setBox(h),j.setStyle("position","absolute"),this.isTargetWrapped=!0;this.el.position();this.pinned&&this.el.addCls(this.pinnedCls);this.resizeTracker=new Ext.resizer.ResizeTracker({disabled:this.disabled,target:c,el:this.el,constrainTo:this.constrainTo,handleCls:this.handleCls,overCls:this.overCls,throttle:this.throttle,proxy:this.originalTarget?this.el:null,dynamic:this.originalTarget?!0:this.dynamic,originalTarget:this.originalTarget,delegate:"."+
this.handleCls,preserveRatio:this.preserveRatio,heightIncrement:this.heightIncrement,widthIncrement:this.widthIncrement,minHeight:this.minHeight,maxHeight:this.maxHeight,minWidth:this.minWidth,maxWidth:this.maxWidth});this.resizeTracker.on({mousedown:this.onBeforeResize,drag:this.onResize,dragend:this.onResizeEnd,scope:this});"all"==this.handles&&(this.handles="n s e w ne nw se sw");c=this.handles=this.handles.split(this.delimiterRe);h=this.possiblePositions;j=c.length;g=this.handleCls+" "+this.handleCls+
"-{0}";this.target.isComponent&&(k=this.target.baseCls,g+=" "+k+"-handle "+k+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(g+=" "+k+"-handle-{0}-br"));for(k=0;k<j;k++)c[k]&&h[c[k]]&&(l=h[c[k]],e.push('\x3cdiv id\x3d"',this.el.id,"-",l,'-handle" class\x3d"',Ext.String.format(g,l)," ",d,'" unselectable\x3d"on" role\x3d"presentation"',"\x3e\x3c/div\x3e"));Ext.DomHelper.append(this.el,e.join(""));for(k=e.length=0;k<j;k++)c[k]&&h[c[k]]&&(l=h[c[k]],d=this[l]=this.el.getById(this.el.id+"-"+l+"-handle"),
e.push(d),d.region=l,this.transparent&&d.setOpacity(0));this.resizeTracker.handleEls=e},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){return this.fireResizeEvent("beforeresize",a,b)},onResize:function(a,b){return this.fireResizeEvent("resizedrag",a,b)},onResizeEnd:function(a,b){return this.fireResizeEvent("resize",a,b)},fireResizeEvent:function(a,b,c){if(this.hasListeners[a])return b=this.el.getBox(),this.fireEvent(a,this,
b.width,b.height,c)},resizeTo:function(a,b){this.target.setSize(a,b);this.fireEvent("resize",this,a,b,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var a,b=this.handles,c=b.length,d=this.possiblePositions,e;this.resizeTracker.destroy();this.isTargetWrapped&&this.target.destroy();for(a=0;a<c;a++)(e=this[d[b[a]]])&&e.destroy()}});
Ext.define("Ext.scroll.Indicator",{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",clientSize:"clientWidth",setLength:"setWidth",setPosition:"setLocalX"},y:{side:"t",getSize:"getWidth",clientSize:"clientHeight",setLength:"setHeight",setPosition:"setLocalY"}},cls:Ext.baseCSSPrefix+"scroll-indicator",constructor:function(a){var b;this.initConfig(a);
a=this.getAxis();this.names=this.names[a];this.el=this.getContainerEl().createChild({cls:this.cls+" "+this.cls+"-"+a});this.size||this.cacheStyles();a=this.getMinLength();b=this.size;(!a||a<b)&&this.setMinLength(b)},cacheStyles:function(){var a=this.self.prototype,b=this.el;this.getAxis();var c=this.names;a.size=b[c.getSize]();a.margin=b.getMargin(c.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var a=this.names,b=this.getScrollSize(),c=this.getContainerEl().dom[a.clientSize],
b=c/b,d=this.getHasOpposite(),e=2*this.margin,d=d?e+this.size:e,c=Math.max(Math.round((c-d)*b),this.getMinLength());this.sizeAdjust=d;this.length=c;this.el[a.setLength](c)},setValue:function(a){var b=this.el,c=this.names,d=this.getMaxScrollPosition(),e=this.getContainerEl().dom[c.clientSize],g=this.length,h=this.getMinLength(),j=g,k=e-g-this.sizeAdjust,l=Math.round,m=Math.max;0>a?(j=l(m(g+g*a/e,h)),a=0):a>d?(j=l(m(g-g*(a-d)/e,h)),a=k+g-j):a=l(a/d*k);b[c.setPosition](a);b[c.setLength](j)},show:function(){var a=
this.el,b=a.getActiveAnimation();b&&b.end();this.refreshLength();a.setStyle("opacity","")},destroy:function(){this.el.destroy()}});
Ext.define("Ext.scroll.Manager",{extend:Ext.util.Observable,minIndicatorLength:24,refreshCounter:0,translationMethods:{1:"scrollparent",2:"csstransform"},constructor:function(a){var b={dragend:"onDragEnd",dragcancel:"onDragEnd",scope:this},c;2===Ext.supports.touchScroll&&(b.mousewheel="onMouseWheel",b.scroll={fn:"onElementScroll",delegated:!1,scope:this});this.callParent(arguments);this.scroller=new Ext.scroll.Scroller({autoRefresh:!1,element:this.el,direction:this.direction,momentumEasing:{bounce:{springTension:1}},
outOfBoundRestrictFactor:0,translatable:{translationMethod:this.translationMethods[Ext.supports.touchScroll]},listeners:{scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",scope:this}});Ext.GlobalEvents.on("idle",this.doRefresh,this);c=this.containerEl=this.el.parent();this.owner.mon(c,b);this.initIndicators()},onElementScroll:function(a,b){b.scrollTop=b.scrollLeft=0},destroy:function(){this.clearListeners();Ext.GlobalEvents.un("idle",this.doRefresh,this);this.scroller.destroy()},
initIndicators:function(){var a=this.containerEl,b=this.scroller,c=this.minIndicatorLength;2===Ext.supports.touchScroll&&(this.xIndicator=new Ext.scroll.Indicator({axis:"x",scroller:b,containerEl:a,minLength:c}),this.yIndicator=new Ext.scroll.Indicator({axis:"y",scroller:b,containerEl:a,minLength:c}),this.refreshIndicators())},invokeIndicators:function(a,b,c){var d=this.xIndicator,e=this.yIndicator;d&&this.isAxisEnabled("x")&&d[a].apply(d,b);e&&this.isAxisEnabled("y")&&e[a].apply(e,c||b)},getPosition:function(){return this.scroller.getPosition()},
refresh:function(a){++this.refreshCounter;a&&this.doRefresh()},refreshIndicators:function(){var a=this.scroller,b=a.getMaxPosition(),a=a.getSize();this.invokeIndicators("setMaxScrollPosition",[b.x],[b.y]);this.invokeIndicators("setScrollSize",[a.x],[a.y]);this.invokeIndicators("setHasOpposite",[this.isAxisEnabled("y")],[this.isAxisEnabled("x")])},doRefresh:function(){var a=this.scroller;this.refreshCounter&&(a.refresh(),this.refreshIndicators(),this.refreshCounter=0)},onScrollStart:function(){this.isTouching=
Ext.isScrolling=!0;this.invokeIndicators("show");this.toggleOthers(!0)},onScroll:function(a,b,c){this.invokeIndicators("setValue",[b],[c]);this.fireEvent("scroll",this,b,c)},onScrollEnd:function(){Ext.isScrolling=!1;this.isTouching||this.invokeIndicators("hide")},onDragEnd:function(){this.isTouching=!1;this.toggleOthers(!1)},onMouseWheel:function(a){var b=this.scroller,c=a.getWheelDeltas(),d=-c.x,c=-c.y,e=b.getPosition(),g=b.getMaxPosition(),h=b.getMinPosition(),j=Math.max,k=Math.min,l=j(k(e.x+d,
g.x),h.x),g=j(k(e.y+c,g.y),h.y),d=l-e.x,c=g-e.y;if(d||c)a.stopEvent(),this.onScrollStart(),this.scrollBy(d,c),this.onScroll(b,l,g),this.onScrollEnd(b)},isAxisEnabled:function(a){return this.scroller.isAxisEnabled(a)},setScrollX:function(a){var b=this.scroller;b.scrollTo(a,b.getPosition().y)},setScrollY:function(a){var b=this.scroller;b.scrollTo(b.getPosition().x,a)},scrollTo:function(a,b,c){this.scroller.scrollTo(a,b,c)},scrollBy:function(a,b,c){a.length?(c=b,b=a[1],a=a[0]):Ext.isNumber(a)||(c=b,
b=a.y,a=a.x);this.scroller.scrollBy(a,b,c)},scrollIntoView:function(a,b,c){var d=this.containerEl,e=this.scroller,g=e.getPosition(),h=g.x,g=g.y,d=Ext.fly(a).getScrollIntoViewXY(d,h,g);a=d.x;d=d.y;!1===b&&(a=h);(a!==h||d!==g)&&e.scrollTo(a,d,c)},toggleOthers:function(a){var b=Ext.scroll.Scroller.instances,c,d;for(d in b)c=b[d],c!==this.scroller&&c.setDisabled(a)},preventDefault:function(a){1===a.touches.length&&a.preventDefault()}});
Ext.define("Ext.rtl.scroll.Manager",{override:"Ext.scroll.Manager",rtlPositionMethods:{x:"rtlSetLocalX",y:"setLocalY"},constructor:function(a){var b=a.owner,c=b.getInherited().rtl;c&&(this.positionMethods=this.rtlPositionMethods,this.indicatorCls+=" "+b._rtlCls);this.callParent(arguments);c&&(this.scroller.rtl=!0)}});
Ext.define("Ext.selection.CellModel",{extend:Ext.selection.DataViewModel,alias:"selection.cellmodel",isCellModel:!0,enableKeyNav:!0,preventWrap:!1,bindComponent:function(a){var b=a.grid||a.ownerCt;this.callParent([a]);if(!1!==b.optimizedColumnMove)b.on("columnmove",this.onColumnMove,this)},getViewListeners:function(){return{refresh:this.onViewRefresh,scope:this}},getHeaderCt:function(){var a=this.navigationModel.getPosition();return(a?a.view:this.primaryView).headerCt},onNavigate:function(a){a.record&&
this.setPosition(a.position)},selectWithEvent:function(a){this.select(a)},select:function(a,b,c){b=this.getPosition();var d=this.view.store;if(a||0===a)a.isModel?(a=d.indexOf(a),a=-1!==a?{row:a,column:b?b.column:0}:null):"number"===typeof a&&(a={row:a,column:0});a?this.selectByPosition(a,c):this.deselect()},getCurrentPosition:function(){var a=this.selecting?this.nextSelection:this.selection;return a?{view:a.view,record:a.record,row:a.rowIdx,columnHeader:a.column,column:a.view.getColumnManager().indexOf(a.column)}:
a},getPosition:function(){return this.selecting?this.nextSelection:this.selection},setCurrentPosition:function(a,b,c){a&&!a.isCellContext&&(a=(new Ext.grid.CellContext(this.view)).setPosition({row:a.row,column:"number"===typeof a.column?this.view.getColumnManager().getColumns()[a.column]:a.column}));return this.setPosition(a,b,c)},setPosition:function(a,b,c){var d=this.selection;a&&(a=a.isCellContext?a.clone():(new Ext.grid.CellContext(this.view)).setPosition(a));if(!c&&d)if(a&&a.record===d.record&&
a.column===d.column&&a.view===d.view)a=null;else this.onCellDeselect(this.selection,b);return a?(this.nextSelection=a,this.selecting=!0,this.onCellSelect(this.nextSelection,b),this.selecting=!1,this.selection=a):null},isCellSelected:function(a,b,c){var d=this.getPosition();if(d&&d.view===a)return a=(new Ext.grid.CellContext(a)).setPosition({row:b,column:"number"===typeof c?a.getColumnManager().getColumns()[c]:c}),a.record===d.record&&a.column===d.column},onStoreRemove:function(a,b,c){var d=this.getPosition();
this.callParent(arguments);d&&a.getCount()&&-1!==a.indexOf(d.record)?d.setRow(d.record):this.selection=null},onStoreClear:function(){this.callParent(arguments);this.selection=null},onStoreAdd:function(){var a=this.getPosition();this.callParent(arguments);a?a.setRow(a.record):this.selection=null},onCellClick:function(a,b,c,d,e,g,h){-1!==g&&this.setPosition(h.position)},onCellSelect:function(a,b){a&&(void 0!==a.rowIdx&&-1<a.rowIdx)&&this.doSelect(a.record,!1,b)},onCellDeselect:function(a,b){a&&void 0!==
a.rowIdx&&this.doDeselect(a.record,b)},onSelectChange:function(a,b,c,d){var e,g,h;b?(e=this.nextSelection,g="select"):(e=this.selection,g="deselect");h=e.view||this.primaryView;if(!1!==(c||this.fireEvent("before"+g,this,a,e.rowIdx,e.colIdx))&&!1!==d())b?(this.preventFocus||(b=h.getNavigationModel(),e.isEqual(b.getPosition())||b.setPosition(e,null,null,null,!0)),h.onCellSelect(e)):(h.onCellDeselect(e),delete this.selection),c||this.fireEvent(g,this,a,e.rowIdx,e.colIdx)},onEditorTab:function(a,b){var c=
a.context;if(c=c.view.walkCells(c,b.shiftKey?"left":"right",b,this.preventWrap))a.startEdit(c.record,c.column)?this.wasEditing=!1:(c.view.getNavigationModel().setPosition(c,null,b),this.wasEditing=!0)},refresh:function(){var a=this.getPosition(),b;if(a&&-1!==(b=this.store.indexOf(this.selected.last())))a.rowIdx=b},onColumnMove:function(a){if(a=a.up("tablepanel"))this.onViewRefresh(a.view)},onUpdate:function(a){this.isSelected(a)&&(a=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(a))},
onViewRefresh:function(a){var b=this.getPosition(),c=a.headerCt,d,e;b&&b.view===a&&(d=b.record,e=b.column,e.isDescendantOf(c)||(e=c.queryById(e.id)||c.down('[text\x3d"'+e.text+'"]')||c.down('[dataIndex\x3d"'+e.dataIndex+'"]')),b.record?e&&-1!==a.store.indexOfId(d.getId())&&(a=(new Ext.grid.CellContext(a)).setPosition({row:d,column:e}),this.setPosition(a)):this.selection=null)},selectByPosition:function(a,b){this.setPosition(a,b)}});
Ext.define("Ext.rtl.selection.CellModel",{override:"Ext.selection.CellModel",doMove:function(a,b){this.view.getInherited().rtl&&("left"==a?a="right":"right"==a&&(a="left"));this.callParent([a,b])}});
Ext.define("Ext.slider.Thumb",{overCls:Ext.baseCSSPrefix+"slider-thumb-over",constructor:function(a){Ext.apply(this,a||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1});this.callParent([a])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig());this.onRender()},onRender:function(){this.disabled&&this.disable();this.initEvents()},getElConfig:function(){var a=this.slider,b={};b[a.vertical?"bottom":a.horizontalProp]=a.calculateThumbPosition(a.normalizeValue(this.value))+
"%";return{style:b,id:this.id,cls:this.cls,role:"presentation"}},move:function(a,b){var c=this.el,d=this.slider,d=d.vertical?"bottom":d.horizontalProp,e,g;a+="%";b?(e={},e[d]=a,Ext.supports.GetPositionPercentage||(g={},g[d]=c.dom.style[d]),new Ext.fx.Anim({target:c,duration:350,from:g,to:e})):c.dom.style[d]=a},enable:function(){this.disabled=!1;this.el&&this.el.removeCls(this.slider.disabledCls)},disable:function(){this.disabled=!0;this.el&&this.el.addCls(this.slider.disabledCls)},initEvents:function(){this.tracker=
new Ext.dd.DragTracker({el:this.el,onBeforeStart:this.onBeforeDragStart.bind(this),onStart:this.onDragStart.bind(this),onDrag:this.onDrag.bind(this),onEnd:this.onDragEnd.bind(this),tolerance:3,autoStart:300});this.el.hover(this.addOverCls,this.removeOverCls,this)},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(){var a=this.el,b=this.tracker.getXY(),c=this.pointerOffset=a.getXY();if(this.disabled)return!1;
c[0]+=Math.floor(a.getWidth()/2)-b[0];c[1]+=Math.floor(a.getHeight()/2)-b[1];this.slider.promoteThumb(this);return!0},onDragStart:function(a){var b=this.slider;b.onDragStart(this,a);this.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag");this.dragging=this.slider.dragging=!0;this.dragStartValue=this.value;b.fireEvent("dragstart",b,a,this)},onDrag:function(a){var b=this.slider,c=this.index,d=this.getValueFromTracker(),e,g;void 0!==d&&(this.constrain&&(e=b.thumbs[c+1],g=b.thumbs[c-1],void 0!==g&&d<=g.value&&
(d=g.value),void 0!==e&&d>=e.value&&(d=e.value)),b.setValue(c,d,!1),b.fireEvent("drag",b,a,this))},getValueFromTracker:function(){var a=this.slider,b=this.tracker.getXY();b[0]+=this.pointerOffset[0];b[1]+=this.pointerOffset[1];b=a.getTrackpoint(b);if(void 0!==b)return a.reversePixelValue(b)},onDragEnd:function(a){var b=this.slider,c=this.value;b.onDragEnd(this,a);this.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag");this.dragging=b.dragging=!1;b.fireEvent("dragend",b,a);this.dragStartValue!=c&&
b.fireEvent("changecomplete",b,c,this)},destroy:function(){Ext.destroy(this.tracker);this.el.destroy();this.el=null}});
Ext.define("Ext.slider.Tip",{extend:Ext.tip.Tip,minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(a){var b,c;this.position||(this.position=a.vertical?this.defaultVerticalPosition:this.defaultHorizontalPosition);switch(this.position){case "top":c=[0,-10];b="b-t?";break;case "bottom":c=[0,10];b="t-b?";break;case "left":c=[-10,0];b="r-l?";break;case "right":c=[10,0],b="l-r?"}this.align||
(this.align=b);this.offsets||(this.offsets=c);a.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(a,b,c){this.show();this.update(this.getText(c));this.el.alignTo(c.el,this.align,this.offsets)},getText:function(a){return String(a.value)}});
Ext.define("Ext.slider.Multi",{extend:Ext.form.field.Base,alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",focusable:!0,needArrowKeys:!0,tabIndex:0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['\x3cdiv id\x3d"{id}" role\x3d"{role}" {inputAttrTpl} class\x3d"'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical}",'{childElCls}"','\x3ctpl if\x3d"tabIdx !\x3d null"\x3e tabindex\x3d"{tabIdx}"\x3c/tpl\x3e','\x3ctpl if\x3d"isVertical"\x3e aria-orientation\x3d"vertical"\x3ctpl else\x3e aria-orientation\x3d"horizontal"\x3c/tpl\x3e',
"\x3e",'\x3cdiv id\x3d"{cmpId}-endEl" data-ref\x3d"endEl" class\x3d"'+Ext.baseCSSPrefix+'slider-end" role\x3d"presentation"\x3e','\x3cdiv id\x3d"{cmpId}-innerEl" data-ref\x3d"innerEl" class\x3d"'+Ext.baseCSSPrefix+'slider-inner" role\x3d"presentation"\x3e',"{%this.renderThumbs(out, values)%}","\x3c/div\x3e","\x3c/div\x3e","\x3c/div\x3e",{renderThumbs:function(a,b){for(var c=b.$comp,d=0,e=c.thumbs,g=e.length,h;d<g;d++)h=e[d],h=h.getElConfig(),h.id=c.id+"-thumb-"+d,Ext.DomHelper.generateMarkup(h,a)},
disableFormats:!0}],horizontalProp:"left",vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,ariaRole:"slider",initValue:function(){var a=Ext.valueFrom,a=a(this.values,[a(this.value,a(this.minValue,0))]),b=0,c=a.length;for(this.originalValue=a;b<c;b++)this.addThumb(this.normalizeValue(a[b]))},initComponent:function(){var a,b,c,d,e;this.thumbs=[];this.keyIncrement=Math.max(this.increment,
this.keyIncrement);this.extraFieldBodyCls=Ext.baseCSSPrefix+"slider-ct-"+(this.vertical?"vert":"horz");this.callParent();if(this.useTips){a=Ext.isObject(this.useTips)?Ext.apply({},this.useTips):this.tipText?{getText:this.tipText}:{};e=this.plugins=this.plugins||[];d=e.length;for(c=0;c<d;c++)if(e[c].isSliderTip){b=!0;break}b||this.plugins.push(new Ext.slider.Tip(a))}},addThumb:function(a){a=new Ext.slider.Thumb({ownerCt:this,value:a,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs,
disabled:!!this.readOnly});this.thumbs.push(a);this.rendered&&a.render();return a},promoteThumb:function(a){var b=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),c=b.length,d=1E4;b[0]!==a&&(Ext.Array.remove(b,a),b.unshift(a));for(a=0;a<c;a++)b[a].el.setStyle("zIndex",d),d-=1E3},getSubTplData:function(a){return Ext.apply(this.callParent(arguments),{$comp:this,isVertical:this.vertical,vertical:this.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:this.minValue,
maxValue:this.maxValue,value:this.value,tabIdx:this.tabIndex,childElCls:""})},onRender:function(){var a=this.thumbs,b=a.length,c=0,d;this.callParent(arguments);for(c=0;c<b;c++)d=a[c],d.el=this.el.getById(this.id+"-thumb-"+c),d.onRender()},initEvents:function(){this.callParent();this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(a){var b=this.vertical,c=this.innerEl,d,e;b?(e="top",d=c.getHeight()):(e=
this.horizontalProp,d=c.getWidth());a=this.transformTrackPoints(c.translatePoints(a));a=Ext.Number.constrain(a[e],0,d);return b?d-a:a},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(a){var b=!1,c=0,d=this.thumbs,e=d.length;if(!this.disabled){for(;!b&&c<e;c++)b=b||a.target==d[c].el.dom;if(this.clickToChange&&!b&&(a=this.getTrackpoint(a.getXY()),void 0!==a))this.onClickChange(a);this.focus()}},onClickChange:function(a){var b;b=this.getNearest(a);b.disabled||(b=b.index,
this.setValue(b,Ext.util.Format.round(this.reversePixelValue(a),this.decimalPrecision),void 0,!0))},getNearest:function(a){a=this.reversePixelValue(a);for(var b=this.getRange()+5,c=null,d=0,e=this.thumbs.length,g,h;d<e;d++)g=this.thumbs[d],h=g.value,h=Math.abs(h-a),Math.abs(h)<=b&&(c=g,b=h);return c},onKeyDown:function(a){var b;if(this.disabled||1!==this.thumbs.length)a.preventDefault();else switch(b=a.getKey(),b){case a.UP:case a.RIGHT:a.stopEvent();a=a.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;
this.setValue(0,a,void 0,!0);break;case a.DOWN:case a.LEFT:a.stopEvent(),a=a.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement,this.setValue(0,a,void 0,!0)}},normalizeValue:function(a){a=Ext.Number[this.zeroBasedSnapping?"snap":"snapInRange"](a,this.increment,this.minValue,this.maxValue);a=Ext.util.Format.round(a,this.decimalPrecision);return a=Ext.Number.constrain(a,this.minValue,this.maxValue)},setMinValue:function(a){var b=this.thumbs,c=b.length,d,e;this.minValue=a;for(e=0;e<c;++e)d=b[e],
d.value<a&&this.setValue(e,a,!1);this.syncThumbs()},setMaxValue:function(a){var b=this.thumbs,c=b.length,d,e;this.maxValue=a;for(e=0;e<c;++e)d=b[e],d.value>a&&this.setValue(e,a,!1);this.syncThumbs()},setValue:function(a,b,c,d){var e=this.thumbs,g;if(Ext.isArray(a)){c=b;d=0;for(b=a.length;d<b;++d)(g=e[d])&&this.setValue(d,a[d],c);return this}g=this.thumbs[a];b=this.normalizeValue(b);b!==g.value&&!1!==this.fireEvent("beforechange",this,b,g.value,g)&&(g.value=b,this.rendered&&(g.move(this.calculateThumbPosition(b),
Ext.isDefined(c)?!1!==c:this.animate),this.fireEvent("change",this,b,g),this.checkDirty(),d&&this.fireEvent("changecomplete",this,b,g)));return this},calculateThumbPosition:function(a){a=100*((a-this.minValue)/this.getRange());isNaN(a)&&(a=0);return a},getRatio:function(){var a=this.innerEl,a=this.vertical?a.getHeight():a.getWidth(),b=this.getRange();return 0===b?a:a/b},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(a){return this.minValue+a/this.getRatio()},reversePercentageValue:function(a){return this.minValue+
this.getRange()*(a/100)},onDisable:function(){var a=0,b=this.thumbs,c=b.length,d,e;for(this.callParent();a<c;a++)d=b[a],e=d.el,d.disable(),Ext.isIE&&(d=e.getXY(),e.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})),this.thumbHolder.show().setXY(d))},onEnable:function(){var a=0,b=this.thumbs,c=b.length,d,e;for(this.callParent();a<c;a++)d=b[a],e=d.el,d.enable(),
Ext.isIE&&(this.innerEl.removeCls(this.disabledCls).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),e.show(),this.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var a=this.thumbs,b=a.length,c=0;c<b;c++)a[c].move(this.calculateThumbPosition(a[c].value))},getValue:function(a){return Ext.isNumber(a)?this.thumbs[a].value:this.getValues()},getValues:function(){for(var a=[],b=0,c=this.thumbs,d=c.length;b<d;b++)a.push(c[b].value);return a},getSubmitValue:function(){return this.disabled||
!this.submitValue?null:this.getValue()},reset:function(){for(var a=[].concat(this.originalValue),b=0,c=a.length,d;b<c;b++)d=a[b],this.setValue(b,d);this.clearInvalid();delete this.wasValid},setReadOnly:function(a){var b=this.thumbs,c=b.length,d=0;this.callParent(arguments);for(a=this.readOnly;d<c;++d)a?b[d].disable():b[d].enable()},beforeDestroy:function(){var a=this.thumbs,b=0,c=a.length,d;if(this.rendered)for(;b<c;b++)d=a[b],Ext.destroy(d);this.callParent()}});
Ext.define("Ext.rtl.slider.Multi",{override:"Ext.slider.Multi",initComponent:function(){this.getInherited().rtl&&(this.horizontalProp="right");this.callParent()},onDragStart:function(){this.callParent(arguments);this._rtlInnerWidth=this.innerEl.getWidth()},onDragEnd:function(){this.callParent(arguments);delete this._rtlInnerWidth},onKeyDown:function(a){var b;this.getInherited().rtl&&(b=a.getKey(),b===a.RIGHT?a.keyCode=a.LEFT:b===a.LEFT&&(a.keyCode=a.RIGHT));return this.callParent([a])},transformTrackPoints:function(a){var b,
c;return this.isOppositeRootDirection()?(b=a.left,delete a.left,c="undefined"!==typeof this._rtlInnerWidth?this._rtlInnerWidth:this.innerEl.getWidth(),a.right=c-b,a):this.callParent(arguments)}});
Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:Ext.selection.RowModel,mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,checkSelector:"."+Ext.baseCSSPrefix+"grid-row-checker",headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"grid-cell-row-checker",constructor:function(){this.callParent(arguments);"SINGLE"===this.mode&&!0!==this.showHeaderCheckbox&&(this.showHeaderCheckbox=
!1)},beforeViewRender:function(a){var b;this.callParent(arguments);if(!this.hasLockedHeader()||a.headerCt.lockedCt){if(!1!==this.showHeaderCheckbox)a.headerCt.on("headerclick",this.onHeaderClick,this);this.addCheckbox(a,!0);b=a.ownerCt;a.headerCt.lockedCt&&(b=b.ownerCt);this.mon(b,"reconfigure",this.onReconfigure,this)}},bindComponent:function(a){this.sortable=!1;this.callParent(arguments)},hasLockedHeader:function(){var a=this.views,b=a.length,c;for(c=0;c<b;c++)if(a[c].headerCt.lockedCt)return!0;
return!1},addCheckbox:function(a,b){var c=this.injectCheckbox,d=a.headerCt;!1!==c&&("first"===c?c=0:"last"===c&&(c=d.getColumnCount()),Ext.suspendLayouts(),a.getStore().isBufferedStore&&(this.showHeaderCheckbox=!1),d.add(c,this.getHeaderConfig()),Ext.resumeLayouts());!0!==b&&a.refresh()},onReconfigure:function(a,b,c){c&&this.addCheckbox(this.views[0])},toggleUiHeader:function(a){var b=this.views[0].headerCt.child("gridcolumn[isCheckerHd]"),c=this.checkerOnCls;b&&(a?b.addCls(c):b.removeCls(c))},onHeaderClick:function(a,
b,c){b.isCheckerHd&&(c.stopEvent(),a=b.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on"),this.preventFocus=!0,a?this.deselectAll():this.selectAll(),delete this.preventFocus)},getHeaderConfig:function(){var a=!1!==this.showHeaderCheckbox;return{isCheckerHd:a,text:"\x26#160;",clickTargetName:"el",width:this.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",tdCls:this.tdCls,cls:a?Ext.baseCSSPrefix+"column-header-checkbox ":"",defaultRenderer:this.renderer.bind(this),
editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader()}},renderEmpty:function(){return"\x26#160;"},refresh:function(){this.callParent(arguments);this.updateHeaderState()},renderer:function(){return'\x3cdiv class\x3d"'+Ext.baseCSSPrefix+'grid-row-checker" role\x3d"presentation"\x3e\x26#160;\x3c/div\x3e'},onSelectChange:function(){this.callParent(arguments);this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments);this.updateHeaderState()},
onStoreAdd:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments);this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments);this.updateHeaderState()},maybeFireSelectionChange:function(a){a&&!this.suspendChange&&this.updateHeaderState();this.callParent(arguments)},resumeChanges:function(){this.callParent();this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var a=this.store,b=a.getCount(),c=this.views,
d=!1,e=0,g,h;if(!a.isBufferedStore&&0<b){d=this.selected;h=0;for(g=d.getCount();h<g&&-1!==a.indexOfId(d.getAt(h).id);++h)++e;d=b===e}c&&c.length&&this.toggleUiHeader(d)}});
Ext.define("Ext.slider.Single",{extend:Ext.slider.Multi,alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent="changecomplete");this.callParent()},publishOnComplete:!0,getValue:function(){return this.callParent([0])},setValue:function(a,b){var c=arguments,d=c.length;if(1==d||3>=d&&"number"!=typeof c[1])c=Ext.toArray(c),c.unshift(0);
return this.callParent(c)},getNearest:function(){return this.thumbs[0]}});
Ext.define("Ext.slider.Widget",{extend:Ext.Widget,alias:"widget.sliderwidget",cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:Ext.baseCSSPrefix+"slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:Ext.baseCSSPrefix+"slider-end",children:[{reference:"innerEl",
cls:Ext.baseCSSPrefix+"slider-inner"}]}]},thumbCls:Ext.baseCSSPrefix+"slider-thumb",horizontalProp:"left",animateOnSetValue:void 0,applyValue:function(a){var b=this.animateOnSetValue,c,d;if(Ext.isArray(a)){a=Ext.Array.from(a);c=0;for(d=a.length;c<d;++c)this.setThumbValue(c,a[c]=this.normalizeValue(a[c]),b,!0)}else a=this.normalizeValue(a),this.setThumbValue(0,a,b,!0);return a},updateVertical:function(a,b){this.element.removeCls(Ext.baseCSSPrefix+"slider-"+(b?"vert":"horz"));this.element.addCls(Ext.baseCSSPrefix+
"slider-"+(a?"vert":"horz"))},doSetHeight:function(a){this.callParent(arguments);this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(a){a.stopPropagation()},getThumb:function(a){var b;b=(this.thumbs||(this.thumbs=[]))[a];b||(b={cls:this.thumbCls,style:{}},b["data-thumbIndex"]=a,b=this.thumbs[a]=this.innerEl.createChild(b));return b},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.rtl&&Ext.rtl?"right":"left"},update:function(){var a=this.getValue(),
b=a.length,c;for(c=0;c<b;c++)this.thumbs[c].dom.style[this.getThumbPositionStyle()]=this.calculateThumbPosition(a[c])+"%"},onMouseDown:function(a){var b=a.getXY(),c;if(!this.disabled&&0===a.button)if(Ext.getDoc().on({scope:this,capture:!0,selectstart:this.stopSelect}),a=a.getTarget("."+this.thumbCls,null,!0))this.animateOnSetValue=!1,this.promoteThumb(a),this.captureMouse(this.onMouseMove,this.onMouseUp,[a],1),c=this.pointerOffset=a.getXY(),c[0]+=Math.floor(a.getWidth()/2)-b[0],c[1]+=Math.floor(a.getHeight()/
2)-b[1];else if(this.getClickToChange()&&(b=this.getTrackpoint(b),null!=b))this.onClickChange(b)},onClickChange:function(a){var b;b=this.getNearest(a);b=parseInt(b.getAttribute("data-thumbIndex"),10);a=Ext.util.Format.round(this.reversePixelValue(a),this.decimalPrecision);b?this.setThumbValue(b,a,void 0,!0):this.setValue(a)},getNearest:function(a){a=this.reversePixelValue(a);for(var b=this.getRange()+5,c=null,d=this.thumbs,e=0,g=d.length,h,j;e<g;e++)h=d[e],j=this.reversePercentageValue(parseInt(h.dom.style[this.getThumbPositionStyle()],
10)),j=Math.abs(j-a),Math.abs(j)<=b&&(c=h,b=j);return c},promoteThumb:function(a){var b=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),c=b.length,d=1E4;b[0]!==a&&(Ext.Array.remove(b,a),b.unshift(a));for(a=0;a<c;a++)b[a].el.setStyle("zIndex",d),d-=1E3},doMouseMove:function(a,b,c){a=a.getXY();a[0]+=this.pointerOffset[0];a[1]+=this.pointerOffset[1];if(a=this.getTrackpoint(a))a=this.reversePixelValue(a),(b=parseInt(b.getAttribute("data-thumbIndex"),10))||!c&&this.getPublishOnComplete()?
this.setThumbValue(b,a,!1,c):this.setValue(a)},onMouseMove:function(a,b){this.doMouseMove(a,b,!1)},onMouseUp:function(a,b){this.doMouseMove(a,b,!0);Ext.getDoc().un({scope:this,capture:!0,selectstart:this.stopSelect});delete this.animateOnSetValue},stopSelect:function(a){a.stopEvent();return!1},setThumbValue:function(a,b,c,d){var e;if(Ext.isArray(a)){c=b;e=0;for(b=a.length;e<b;++e)this.setThumbValue(e,a[e],c,d);return this}a=this.getThumb(a);d=this.reversePercentageValue(parseInt(a.dom.style[this.getThumbPositionStyle()],
10));b=this.normalizeValue(b);b!==d&&!1!==this.fireEvent("beforechange",this,b,d,a)&&this.element.dom&&(this.element.set({"aria-valuenow":b,"aria-valuetext":b}),this.moveThumb(a,this.calculateThumbPosition(b),Ext.isDefined(c)?!1!==c:this.animate),this.fireEvent("change",this,b,a));return this},getValue:function(a){Ext.isNumber(a)?(a=this.thumbs[a].dom.style[this.getThumbPositionStyle()],a=this.reversePercentageValue(parseInt(a,10))):(a=this.getValues(),1===a.length&&(a=a[0]));return a},getValues:function(){for(var a=
[],b=0,c=this.thumbs.length;b<c;b++)a.push(this.reversePercentageValue(parseInt(this.thumbs[b].dom.style[this.getThumbPositionStyle()],10)));return a},moveThumb:function(a,b,c){var d=this.getThumbPositionStyle(),e;b+="%";c?(c={},c[d]=b,Ext.supports.GetPositionPercentage||(e={},e[d]=a.dom.style[d]),new Ext.fx.Anim({target:a,duration:350,from:e,to:c})):a.dom.style[d]=b},normalizeValue:function(a){a=Ext.Number[this.zeroBasedSnapping?"snap":"snapInRange"](a,this.increment,this.minValue,this.maxValue);
a=Ext.util.Format.round(a,this.decimalPrecision);return a=Ext.Number.constrain(a,this.minValue,this.maxValue)},getTrackpoint:function(a){var b=this.getVertical(),c=this.innerEl,d,e;b?(e="top",d=c.getHeight()):(e="left",d=c.getWidth());a=this.transformTrackPoints(c.translatePoints(a));a=Ext.Number.constrain(a[e],0,d);return b?d-a:a},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(a){a=100*((a-this.getMinValue())/this.getRange());isNaN(a)&&(a=0);return a},getRatio:function(){var a=
this.innerEl,a=this.getVertical()?a.getHeight():a.getWidth(),b=this.getRange();return 0===b?a:a/b},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(a){return this.getMinValue()+a/this.getRatio()},reversePercentageValue:function(a){return this.getMinValue()+this.getRange()*(a/100)},captureMouse:function(a,b,c,d){var e=this,g;a=a&&Ext.Function.bind(a,e,c,d);b=b&&Ext.Function.bind(b,e,c,d);g={mousemove:a,mouseup:function(){Ext.getDoc().un(g);b&&b.apply(e,arguments)}};
Ext.getDoc().on(g)}});Ext.define("Ext.sparkline.Shape",{constructor:function(a,b,c,d){this.target=a;this.id=b;this.type=c;this.args=d},append:function(){this.target.appendShape(this);return this}});
Ext.define("Ext.sparkline.CanvasBase",{shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,setWidth:function(a){this.pixelWidth=a},setHeight:function(a){this.pixelHeight=a},drawLine:function(a,b,c,d,e,g){return this.drawShape([[a,b],[c,d]],e,g)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,g){return this._genShape("Circle",[a,b,c,d,e,g])},drawPieSlice:function(a,b,c,d,e,g,h){return this._genShape("PieSlice",[a,b,c,d,e,g,h])},drawRect:function(a,b,c,d,e,g){return this._genShape("Rect",
[a,b,c,d,e,g])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_genShape:function(a,b){var c=this.shapeCount++;b.unshift(c);return new Ext.sparkline.Shape(this,c,a,b)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},
getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});
Ext.define("Ext.sparkline.CanvasCanvas",{extend:Ext.sparkline.CanvasBase,constructor:function(a){this.owner=a},setWidth:function(a){this.callParent(arguments);this.owner.element.dom.width=a},setHeight:function(a){this.callParent(arguments);this.owner.element.dom.height=a},onOwnerUpdate:function(){this.el=this.owner.element;this.interact=!this.owner.initialConfig.disableInteraction;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=this.lastShapeId=null},_getContext:function(a,b,c){var d=this.el.dom.getContext("2d");
null!=a&&(d.strokeStyle=a);d.lineWidth=c||1;null!=b&&(d.fillStyle=b);return d},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(a,b,c,d,e){e=this._getContext(c,d,e);var g,h;e.beginPath();e.moveTo(b[0][0]+0.5,b[0][1]+0.5);g=1;for(h=b.length;g<h;g++)e.lineTo(b[g][0]+0.5,b[g][1]+0.5);null!=c&&e.stroke();null!=d&&e.fill();null!=this.targetX&&(null!=this.targetY&&e.isPointInPath(this.targetX,
this.targetY))&&(this.currentTargetShapeId=a)},_drawCircle:function(a,b,c,d,e,g,h){h=this._getContext(e,g,h);h.beginPath();h.arc(b,c,d,0,2*Math.PI,!1);null!=this.targetX&&(null!=this.targetY&&h.isPointInPath(this.targetX,this.targetY))&&(this.currentTargetShapeId=a);void 0!==e&&h.stroke();void 0!==g&&h.fill()},_drawPieSlice:function(a,b,c,d,e,g,h,j){var k=this._getContext(h,j);k.beginPath();k.moveTo(b,c);k.arc(b,c,d,e,g,!1);k.lineTo(b,c);k.closePath();null!=h&&k.stroke();j&&k.fill();void 0!==this.targetX&&
(void 0!==this.targetY&&k.isPointInPath(this.targetX,this.targetY))&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,g,h){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],g,h)},appendShape:function(a){this.shapes[a.id]=a;this.shapeseq.push(a.id);return this.lastShapeId=a.id},replaceWithShape:function(a,b){var c=this.shapeseq,d;this.shapes[b.id]=b;for(d=c.length;d--;)c[d]==a&&(c[d]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c=this.shapeseq,d={},e,g,
h;for(g=a.length;g--;)d[a[g]]=!0;for(g=c.length;g--;)e=c[g],d[e]&&(c.splice(g,1),delete this.shapes[e],h=g);for(g=b.length;g--;)c.splice(h,0,b[g].id),this.shapes[b[g].id]=b[g]},insertAfterShape:function(a,b){var c=this.shapeseq,d;for(d=c.length;d--;)if(c[d]===a){c.splice(d+1,0,b.id);this.shapes[b.id]=b;break}},removeShapeId:function(a){var b=this.shapeseq,c;for(c=b.length;c--;)if(b[c]===a){b.splice(c,1);break}delete this.shapes[a]},getShapeAt:function(a,b){this.targetX=a;this.targetY=b;this.render();
return this.currentTargetShapeId},render:function(){var a=this.shapeseq,b=this.shapes,c=a.length,d,e;this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight);for(e=0;e<c;e++)d=a[e],d=b[d],this["_draw"+d.type].apply(this,d.args);this.interact||(this.shapes={},this.shapeseq=[])}});
Ext.define("Ext.sparkline.VmlCanvas",{extend:Ext.sparkline.CanvasBase,constructor:function(a){this.owner=a;a.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]}},
setWidth:function(a){this.callParent(arguments);this.owner.groupEl.dom.coordsize=this.width+" "+(this.height||0);this.owner.groupEl.dom.style.width=a+"px"},setHeight:function(a){this.callParent(arguments);this.owner.groupEl.dom.coordsize=(this.width||0)+" "+this.height;this.owner.groupEl.dom.style.height=a+"px"},onOwnerUpdate:function(){this.group=this.owner.groupEl;this.el=this.owner.element;this.prerender=[]},_drawShape:function(a,b,c,d,e){var g=[],h,j;j=0;for(h=b.length;j<h;j++)g[j]=b[j][0]+","+
b[j][1];b=g.splice(0,1);c=null==c?' stroked\x3d"false" ':' strokeWeight\x3d"'+(null==e?1:e)+'px" strokeColor\x3d"'+c+'" ';e=g[0]===g[g.length-1]?"x ":"";return['\x3csvml:shape coordorigin\x3d"0 0" coordsize\x3d"',this.pixelWidth," ",this.pixelHeight,'" id\x3d"jqsshape',a,'" ',c,null==d?' filled\x3d"false"':' fillColor\x3d"'+d+'" filled\x3d"true" ',' style\x3d"position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px"  path\x3d"m ',b," l ",g.join(", ")," ",e,'e"\x3e\x3c/svml:shape\x3e'].join("")},
_drawCircle:function(a,b,c,d,e,g,h){var j=2*d;return['\x3csvml:oval id\x3d"jqsshape',a,'" ',null==e?' stroked\x3d"false" ':' strokeWeight\x3d"'+h+'px" strokeColor\x3d"'+e+'" ',null==g?' filled\x3d"false"':' fillColor\x3d"'+g+'" filled\x3d"true" ',' style\x3d"position:absolute;top:',c-d,"px; left:",b-d,"px;width:",j,"px;height:",j,'px"\x3e\x3c/svml:oval\x3e'].join("")},_drawPieSlice:function(a,b,c,d,e,g,h,j){var k=this.pixelWidth,l=this.pixelHeight,m,n,p;h=null==h?' stroked\x3d"false" ':' strokeWeight\x3d"1px" strokeColor\x3d"'+
h+'" ';var q=null==j?' filled\x3d"false"':' fillColor\x3d"'+j+'" filled\x3d"true" ';if(e===g)return"";g-e===2*Math.PI&&(e=0,g=2*Math.PI);j=b+Math.round(Math.cos(e)*d);m=c+Math.round(Math.sin(e)*d);n=b+Math.round(Math.cos(g)*d);p=c+Math.round(Math.sin(g)*d);if(j===n&&m===p){if(g-e<Math.PI)return"";j=n=b+d;m=p=c}return j===n&&m===p&&g-e<Math.PI?"":['\x3csvml:shape coordorigin\x3d"0 0" coordsize\x3d"',k," ",l,'" id\x3d"jqsshape',a,'" ',h,q,' style\x3d"position:absolute;height:',l,"px;width:",k,'px" path\x3d"m ',
b,",",c," wa ",[b-d,c-d,b+d,c+d,j,m,n,p].join(", "),' x e"\x3e\x3c/svml:shape\x3e'].join("")},_drawRect:function(a,b,c,d,e,g,h){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],g,h)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(a){this.prerender.push(this["_draw"+a.type].apply(this,a.args));return this.lastShapeId=a.id},replaceWithShape:function(a,b){var c=this.el.getById("jqsshape"+a,!0),d=this["_draw"+b.type].apply(this,b.args);c.outerHTML=d},replaceWithShapes:function(a,
b){var c=this.el.getById("jqsshape"+a[0],!0),d="",e=b.length,g;for(g=0;g<e;g++)d+=this["_draw"+b[g].type].apply(this,b[g].args);c.outerHTML=d;for(g=1;g<a.length;g++)this.el.getById("jqsshape"+a[g]).destroy()},insertAfterShape:function(a,b){var c=this.el.getById("jqsshape"+a,!0),d=this["_draw"+b.type].apply(this,b.args);c.insertAdjacentHTML("afterEnd",d)},removeShapeId:function(a){a=this.el.getById("jqsshape"+a,!0);this.group.removeChild(a)},getShapeAt:function(){return this.el.id.substr(8)},render:function(){this.group.dom.innerHTML=
this.prerender.join("")}},function(){Ext.onReady(function(){var a=document;a.namespaces&&!a.namespaces.svml&&a.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})});
Ext.define("Ext.sparkline.Base",{extend:Ext.Widget,cachedConfig:{baseCls:Ext.baseCSSPrefix+"sparkline",lineColor:"#157fcc",fillColor:"#def",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",
mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:Ext.baseCSSPrefix+"sparkline-tip-target",onClassCreated:function(a){var b=a.prototype;a=a.getConfigurator().configs;for(var c in a)"tipTpl"!==c&&(b[Ext.Config.get(c).names.apply]=b.applyConfigChange)}},constructor:function(a){this.canvas=Ext.supports.Canvas?new Ext.sparkline.CanvasCanvas(this):new Ext.sparkline.VmlCanvas(this);this.getDisableTooltips()||
(this.element.cls=Ext.sparkline.Base.sparkLineTipClass);Ext.apply(this,a);this.callParent([a]);this.el=this.element},all:function(a,b,c){var d;for(d=b.length;d--;)if(!(c&&null===b[d])&&b[d]!==a)return!1;return!0},applyConfigChange:function(a){this.redrawQueue[this.getId()]=this;this.redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(this.processRedrawQueue));return a},applyTipTpl:function(a){a.isTemplate||(a=new Ext.XTemplate(a));return a},normalizeValue:function(a){var b;
switch(a){case "undefined":a=void 0;break;case "null":a=null;break;case "true":a=!0;break;case "false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},normalizeValues:function(a){var b,c=[];for(b=a.length;b--;)c[b]=this.normalizeValue(a[b]);return c},doSetWidth:function(a){var b=this.element.dom;this.callParent(arguments);this.canvas.setWidth(a);this.width=a;null==this.height?this.setHeight(parseInt(this.measurer.getCachedStyle(b.parentNode,"line-height"),10)):this.redrawQueue[this.getId()]=
this},doSetHeight:function(a){this.callParent(arguments);this.canvas.setHeight(a);this.height=a;this.redrawQueue[this.getId()]=this},updateValues:function(a){this.values=a},redraw:function(){var a;if(this.getValues()){if((a=this.tooltip)&&a.isVisible()&&this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY))this.tooltip.triggerElement=this.el.dom;this.onUpdate();this.canvas.onOwnerUpdate();this.renderGraph()}},onUpdate:Ext.emptyFn,renderGraph:function(){var a=!0;this.disabled&&(this.canvas.reset(),
a=!1);return a},onMouseEnter:function(a){this.onMouseMove(a)},onMouseMove:function(a){this.currentPageXY=a.getPoint();this.redraw()},onMouseLeave:function(){this.currentPageXY=this.targetX=this.targetY=null;this.redraw()},updateDisplay:function(){var a,b;if(this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY)&&(a=this.canvas.el.getXY(),b=this.getRegion(this.currentPageXY[0]-a[0],this.currentPageXY[1]-a[1]),null!=b&&!this.disableHighlight&&this.renderHighlight(b),this.fireEvent("sparklineregionchange",
this),a=this.tooltip,null!=b&&a))if(b=this.getRegionTooltip(b)){if(!this.lastTooltipHTML||b[0]!==this.lastTooltipHTML[0]||b[1]!==this.lastTooltipHTML[1])a.setTitle(b[0]),a.update(b[1]),this.lastTooltipHTML=b}else a.hide()},getRegion:Ext.emptyFn,getRegionTooltip:function(a){var b=this.tooltipChartTitle,c=[],d=this.getTipTpl(),e,g,h,j;a=this.getRegionFields(a);if(e=this.tooltipFormatter)return e(this,this,a);if(!d)return"";Ext.isArray(a)||(a=[a]);e=this.tooltipFormatFieldlist;g=this.tooltipFormatFieldlistKey;
if(e&&g){h=[];for(i=a.length;i--;)if(j=a[i][g],-1!=(j=Ext.Array.indexOf(j,e)))h[j]=a[i];a=h}e=a.length;for(j=0;j<e;j++)if(!a[j].isNull||!this.getTooltipSkipNull())Ext.apply(a[j],{prefix:this.getTooltipPrefix(),suffix:this.getTooltipSuffix()}),c.push(d.apply(a[j]));return b||c.length?[b,c.join("\x3cbr\x3e")]:""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(a){var b=this.getHighlightColor(),c=this.getHighlightLighten(),d,e;if(b)return b;if(c&&(b=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||
/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){d=[];a=4===a.length?16:1;for(e=0;3>e;e++)d[e]=Ext.Number.constrain(Math.round(parseInt(b[e+1],16)*a*c),0,255);return"rgb("+d.join(",")+")"}return a},destroy:function(){delete this.redrawQueue[this.getId()];this.callParent()}},function(a){var b=a.prototype;Ext.onReady(function(){b.tooltip=new Ext.tip.ToolTip({id:"sparklines-tooltip",target:document.body,delegate:"."+a.sparkLineTipClass,showDelay:0,dismissDelay:0,hideDelay:400})});a.onClassCreated(a);
b.processRedrawQueue=function(){var a=b.redrawQueue,d;for(d in a)a[d].redraw();b.redrawQueue={};b.redrawTimer=0}});
Ext.define("Ext.sparkline.BarBase",{extend:Ext.sparkline.Base,renderHighlight:function(a){this.renderRegion(a,!0)},renderGraph:function(){var a=this.values,b=this.canvas,c=this.regionShapes||(this.regionShapes={}),d,e,g;if(this.callParent()){for(e=a.length;e--;)if(a=this.renderRegion(e))if(Ext.isArray(a)){d=[];for(g=a.length;g--;)a[g].append(),d.push(a[g].id);c[e]=d}else a.append(),c[e]=a.id;else c[e]=null;this.currentPageXY&&(this.currentRegion=null,this.updateDisplay());b.render()}}});
Ext.define("Ext.sparkline.RangeMap",{constructor:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&("string"===typeof b&&-1<b.indexOf(":"))&&(c=b.split(":"),c[0]=0===c[0].length?-Infinity:parseFloat(c[0]),c[1]=0===c[1].length?Infinity:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a;this.rangelist=d||!1},get:function(a){var b=this.rangelist,c,d;if(void 0!==(c=this.map[a]))return c;if(b)for(c=b.length;c--;)if(d=b[c],d[0]<=a&&d[1]>=a)return d[2]}});
Ext.define("Ext.sparkline.Bar",{extend:Ext.sparkline.BarBase,alias:"widget.sparklinebar",config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:"#3366cc #dc3912 #ff9900 #109618 #66aa00 #dd4477 #0099c6 #990099".split(" "),zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null,tipTpl:new Ext.XTemplate("\x26#9679; {prefix}{value}{suffix}")},remove:function(a,b){var c,d,e=[];c=0;for(d=a.length;c<d;c++)a[c]!==b&&e.push(a[c]);
return e},all:function(a,b,c){var d;for(d=a.length;d--;)if(!(c&&null===a[d])&&a[d]!==b)return!1;return!0},applyColorMap:function(a){if(Ext.isArray(a))this.colorMapByIndex=a,this.colorMapByValue=null;else if(this.colorMapByIndex=null,(this.colorMapByValue=a)&&null==this.colorMapByValue.get)this.colorMapByValue=new Ext.sparkline.RangeMap(a);return a},onUpdate:function(){var a=this.values,b=this.getBarWidth(),c=this.getBarSpacing(),d=this.getChartRangeMin(),e=this.getChartRangeMax(),g=this.getChartRangeClip(),
h=Infinity,j=-Infinity,k,l,m,n,p,q=this.getZeroAxis(),r,s,t,u,v,w,x=[];p=[];m=0;for(n=a.length;m<n;m++)if(l=a[m],(k="string"===typeof l&&-1<l.indexOf(":"))||Ext.isArray(l))t=!0,k&&(l=a[m]=this.normalizeValues(l.split(":"))),l=this.remove(l,null),k=Math.min.apply(Math,l),l=Math.max.apply(Math,l),k<h&&(h=k),l>j&&(j=l);this.stacked=t;this.regionShapes={};this.totalBarWidth=b+c;this.width=a.length*b+(a.length-1)*c;g&&(r=null==d?-Infinity:d,s=null==e?Infinity:e);c=[];b=t?[]:c;m=0;for(n=a.length;m<n;m++)if(t){k=
a[m];a[m]=w=[];x[m]=0;u=b[m]=p[m]=0;for(v=k.length;u<v;u++)l=w[u]=g?Ext.Number.constrain(k[u],r,s):k[u],null!==l&&(0<l&&(x[m]+=l),0>h&&0<j?0>l?p[m]+=Math.abs(l):b[m]+=l:b[m]+=Math.abs(l-(0>l?j:h)),c.push(l))}else l=g?Ext.Number.constrain(a[m],r,s):a[m],l=a[m]=this.normalizeValue(l),null!==l&&c.push(l);this.max=h=Math.max.apply(Math,c);this.min=a=Math.min.apply(Math,c);this.stackMax=j=t?Math.max.apply(Math,x):h;this.stackMin=t?Math.min.apply(Math,c):a;if(null!=d&&(g||d<a))a=d;if(null!=e&&(g||e>h))h=
e;this.xAxisOffset=d=0>=a&&0<=h&&q?0:!1==q?a:0<a?a:h;p=t?Math.max.apply(Math,b)+Math.max.apply(Math,p):h-a;this.canvasHeightEf=q&&0>a?this.getHeight()-2:this.getHeight()-1;a<d?(j=((t&&0<=h?j:h)-d)/p*this.getHeight(),j!==Math.ceil(j)&&(this.canvasHeightEf-=2,j=Math.ceil(j))):j=this.getHeight();this.yoffset=j;this.range=p},getRegion:function(a){a=Math.floor(a/this.totalBarWidth);return 0>a||a>=this.values.length?void 0:a},getRegionFields:function(a){var b=Ext.Array.from(this.values[a]),c=[],d,e;for(e=
b.length;e--;)d=b[e],c.push({isNull:null===d,value:d,color:this.calcColor(e,d,a),offset:a});return c},calcColor:function(a,b,c){var d=this.colorMapByIndex,e=this.colorMapByValue,g,h,j=this.getZeroColor();g=this.stacked?this.getStackedBarColor():0>b?this.getNegBarColor():this.getBarColor();0===b&&void 0!==j&&(g=j);e&&(h=e.get(b))?g=h:d&&d.length>c&&(g=d[c]);return Ext.isArray(g)?g[a%g.length]:g},renderRegion:function(a,b){var c=this.values[a],d=this.xAxisOffset,e=this.range,g=this.stacked,h=this.canvas,
j=this.getBarWidth(),k=a*this.totalBarWidth,l=this.canvasHeightEf,m=this.yoffset,n,p,q,r,s,t,u,v;p=this.getNullColor();c=Ext.isArray(c)?c:[c];t=c.length;n=this.all(c,null);v=this.all(c,d,!0);if(n)p&&(q=b?p:this.calcHighlightColor(p,this),h.drawRect(k,0<m?m-1:m,j-1,0,q,q).append());else{r=m;for(s=0;s<t;s++){q=c[s];if(g&&q===d){if(!v||u)continue;u=!0}p=0<e?Math.floor(l*(Math.abs(q-d)/e))+1:1;q<d||q===d&&0===m?(n=r,r+=p):(n=m-p,m-=p);q=this.calcColor(s,q,a);b&&(q=this.calcHighlightColor(q,this));h.drawRect(k,
n,j-1,p-1,q,q).append()}}}},function(a){a.onClassCreated(a)});
Ext.define("Ext.sparkline.Box",{extend:Ext.sparkline.Base,alias:"widget.sparklinebox",config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null,tipTpl:new Ext.XTemplate("{field:this.fields}: {value}",{fields:function(a){return{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",
lw:"Left Whisker",rw:"Right Whisker"}[a]}}),tooltipFormatFieldlistKey:"field"},quartile:function(a,b){var c;if(2===b)return c=Math.floor(a.length/2),a.length%2?a[c]:(a[c-1]+a[c])/2;c=a.length%2?(a.length*b+b)/4:(a.length*b+2)/4;return c%1?(a[Math.floor(c)]+a[Math.floor(c)-1])/2:a[c-1]},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),Number);this.disabled=!(a&&a.length);return a},getRegion:function(){return 1},getRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",
value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];void 0!==this.loutlier&&a.push({field:"lo",value:this.loutlier});void 0!==this.routlier&&a.push({field:"ro",value:this.routlier});void 0!==this.lwhisker&&a.push({field:"lw",value:this.lwhisker});void 0!==this.rwhisker&&a.push({field:"rw",value:this.rwhisker});return a},renderHighlight:Ext.emptyFn,renderGraph:function(){var a=this.canvas,b=this.values,c=b.length,d=this.getWidth(),e=this.getHeight(),g=this.getChartRangeMin(),h=this.getChartRangeMax(),
g=null==g?Math.min.apply(Math,b):g,j=null==h?Math.max.apply(Math,b):h,h=0,k,l,m,n,p,q,r,s,t=this.getSpotRadius(),u=this.getOutlierLineColor(),v=this.getOutlierFillColor(),w=this.getShowOutliers(),x=this.getOutlierIQR(),A=this.getLineColor(),z=this.getWhiskerColor(),B=this.getTargetColor();if(this.callParent()){if(this.raw)w&&5<b.length?(l=b[0],k=b[1],n=b[2],p=b[3],q=b[4],r=b[5],s=b[6]):(k=b[0],n=b[1],p=b[2],q=b[3],r=b[4]);else if(b.sort(function(a,b){return a-b}),n=this.quartile(b,1),p=this.quartile(b,
2),q=this.quartile(b,3),m=q-n,w){k=r=null;for(l=0;l<c;l++)null==k&&b[l]>n-m*x&&(k=b[l]),b[l]<q+m*x&&(r=b[l]);l=b[0];s=b[c-1]}else k=b[0],r=b[c-1];this.quartiles=[n,p,q];this.lwhisker=k;this.rwhisker=r;this.loutlier=l;this.routlier=s;b=d/(j-g+1);w&&(h=Math.ceil(t),d-=2*Math.ceil(t),b=d/(j-g+1),l<k&&a.drawCircle((l-g)*b+h,e/2,t,u,v).append(),s>r&&a.drawCircle((s-g)*b+h,e/2,t,u,v).append());a.drawRect(Math.round((n-g)*b+h),Math.round(0.1*e),Math.round((q-n)*b),Math.round(0.8*e),this.getBoxLineColor(),
this.getBoxFillColor()).append();a.drawLine(Math.round((k-g)*b+h),Math.round(e/2),Math.round((n-g)*b+h),Math.round(e/2),A).append();a.drawLine(Math.round((k-g)*b+h),Math.round(e/4),Math.round((k-g)*b+h),Math.round(e-e/4),z).append();a.drawLine(Math.round((r-g)*b+h),Math.round(e/2),Math.round((q-g)*b+h),Math.round(e/2),A).append();a.drawLine(Math.round((r-g)*b+h),Math.round(e/4),Math.round((r-g)*b+h),Math.round(e-e/4),z).append();a.drawLine(Math.round((p-g)*b+h),Math.round(0.1*e),Math.round((p-g)*
b+h),Math.round(0.9*e),this.getMedianColor()).append();this.target&&(d=Math.ceil(this.spotRadius),a.drawLine(Math.round((this.target-g)*b+h),Math.round(e/2-d),Math.round((this.target-g)*b+h),Math.round(e/2+d),B).append(),a.drawLine(Math.round((this.target-g)*b+h-d),Math.round(e/2),Math.round((this.target-g)*b+h+d),Math.round(e/2),B).append());this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY)&&(this.currentRegion=null,this.updateDisplay());a.render()}}});
Ext.define("Ext.sparkline.Bullet",{extend:Ext.sparkline.Base,alias:"widget.sparklinebullet",config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null,tipTpl:new Ext.XTemplate("{fieldkey:this.fields} - {value}",{fields:function(a){if("r"===a)return"Range";if("p"===a)return"Performance";if("t"===a)return"Target"}})},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),this.normalizeValue);this.disabled=!(a&&a.length);return a},onUpdate:function(){var a=
this.values,b,c,d=this.getBase();this.callParent(arguments);b=a.slice();b[0]=null===b[0]?b[2]:b[0];b[1]=null===a[1]?b[2]:b[1];b=Math.min.apply(Math,a);c=Math.max.apply(Math,a);this.min=b=null==d?0>b?b:0:d;this.max=c;this.range=c-b;this.shapes={};this.valueShapes={};this.regiondata={};a.length||(this.disabled=!0)},getRegion:function(a,b){var c=this.canvas.getShapeAt(a,b);return void 0!==c&&void 0!==this.shapes[c]?this.shapes[c]:void 0},getRegionFields:function(a){return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],
region:a}},renderHighlight:function(a){switch(a.substr(0,1)){case "r":this.renderRange(a.substr(1),!0).append();break;case "p":this.renderPerformance(!0).append();break;case "t":this.renderTarget(!0).append()}},renderRange:function(a,b){var c=this.values[a],c=Math.round(this.getWidth()*((c-this.min)/this.range)),d=this.getRangeColors()[a-2];b&&(d=this.calcHighlightColor(d));return this.canvas.drawRect(0,0,c-1,this.getHeight()-1,d,d)},renderPerformance:function(a){var b=this.values[1],b=Math.round(this.getWidth()*
((b-this.min)/this.range)),c=this.getPerformanceColor();a&&(c=this.calcHighlightColor(c));return this.canvas.drawRect(0,Math.round(0.3*this.getHeight()),b-1,Math.round(0.4*this.getHeight())-1,c,c)},renderTarget:function(a){var b=this.values[0],c=this.getTargetWidth(),b=Math.round(this.getWidth()*((b-this.min)/this.range)-c/2),d=Math.round(0.1*this.getHeight()),e=this.getHeight()-2*d,g=this.getTargetColor();a&&(g=this.calcHighlightColor(g));return this.canvas.drawRect(b,d,c-1,e-1,g,g)},renderGraph:function(){var a=
this.values.length,b=this.canvas,c,d,e=this.shapes||(this.shapes={}),g=this.valueShapes||(this.valueShapes={});if(this.callParent()){for(c=2;c<a;c++)d=this.renderRange(c).append(),e[d.id]="r"+c,g["r"+c]=d.id;null!==this.values[1]&&(d=this.renderPerformance().append(),e[d.id]="p1",g.p1=d.id);null!==this.values[0]&&(d=this.renderTarget().append(),e[d.id]="t0",g.t0=d.id);this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY)&&this.updateDisplay();b.render()}}});
Ext.define("Ext.sparkline.Discrete",{extend:Ext.sparkline.BarBase,alias:"widget.sparklinediscrete",config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1,tipTpl:new Ext.XTemplate("{prefix}{value}{suffix}")},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),Number);this.disabled=!(a&&a.length);return a},onUpdate:function(){var a=this.values,b=this.getChartRangeMin(),c=this.getChartRangeMax(),d=this.getChartRangeClip();this.callParent(arguments);
this.regionShapes={};this.min=Math.min.apply(Math,a);this.max=Math.max.apply(Math,a);this.range=this.max-this.min;this.width=this.getWidth();this.interval=Math.floor(this.width/a.length);this.itemWidth=this.width/a.length;if(null!=b&&(d||b<this.min))this.min=b;if(null!=c&&(d||c>this.max))this.max=c;this.canvas&&"auto"===this.getLineHeight()&&this.setLineHeight(Math.round(0.3*this.getHeight()))},getRegion:function(a){return Math.floor(a/this.itemWidth)},getRegionFields:function(a){return{isNull:void 0===
this.values[a],value:this.values[a],offset:a}},renderRegion:function(a,b){var c=this.values,d=this.min,e=this.max,g=this.range,h=this.interval,j=this.canvas,k=this.getHeight(),l=this.getLineHeight(),m=k-l,k=this.getThresholdColor(),c=Ext.Number.constrain(c[a],d,e),h=a*h,d=Math.round(m-m*((c-d)/g)),g=k&&c<this.getThresholdValue()?k:this.getLineColor();b&&(g=this.calcHighlightColor(g));j.drawLine(h,d,h,d+l,g).append()}});
Ext.define("Ext.sparkline.Line",{extend:Ext.sparkline.Base,alias:"widget.sparklineline",config:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,tipTpl:new Ext.XTemplate("\x26#9679; {prefix}{y}{suffix}"),valueSpots:null},applyValueSpots:function(a){a&&!a.get&&
(a=new Ext.sparkline.RangeMap(a));return a},onUpdate:function(){this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null},getRegion:function(a){var b,c=this.regionMap;for(b=c.length;b--;)if(null!==c[b]&&a>=c[b][0]&&a<=c[b][1])return c[b][2]},getRegionFields:function(a){return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.getLineColor(),fillColor:this.getFillColor(),offset:a}},renderHighlight:function(a){var b=this.canvas;
a=this.vertices[a];var c=this.getSpotRadius(),d=this.getHighlightSpotColor(),e=this.getHighlightLineColor();a&&(c&&d&&b.drawCircle(a[0],a[1],c,null,d).append(),e&&b.drawLine(a[0],this.canvasTop,a[0],this.canvasTop+this.getHeight(),e).append())},scanValues:function(){var a=this.values,b=a.length,c=this.xvalues,d=this.yvalues,e=this.yminmax,g,h,j,k,l;for(g=0;g<b;g++)h=a[g],j="string"===typeof a[g],k="object"===typeof a[g]&&a[g]instanceof Array,l=j&&a[g].split(":"),j&&2===l.length?(c.push(Number(l[0])),
d.push(Number(l[1])),e.push(Number(l[1]))):k?(c.push(h[0]),d.push(h[1]),e.push(h[1])):(c.push(g),null===a[g]||"null"===a[g]?d.push(null):(d.push(Number(h)),e.push(Number(h))));this.xvalues&&(c=this.xvalues);this.maxy=this.maxyorg=Math.max.apply(Math,e);this.miny=this.minyorg=Math.min.apply(Math,e);this.maxx=Math.max.apply(Math,c);this.minx=Math.min.apply(Math,c);this.xvalues=c;this.yvalues=d;this.yminmax=e},processRangeOptions:function(){var a=this.getNormalRangeMin(),b=this.getNormalRangeMax(),c=
this.getChartRangeMin(),d=this.getChartRangeMinX(),e=this.getChartRangeMax(),g=this.getChartRangeMaxX();null!=a&&(a<this.miny&&(this.miny=a),b>this.maxy&&(this.maxy=b));if(null!=c&&(this.chartRangeClip||c<this.miny))this.miny=c;if(null!=e&&(this.chartRangeClip||e>this.maxy))this.maxy=e;if(null!=d&&(this.chartRangeClipX||d<this.minx))this.minx=d;if(null!=g&&(this.chartRangeClipX||g>this.maxx))this.maxx=g},drawNormalRange:function(a,b,c,d,e){var g=this.getNormalRangeMin(),h=this.getNormalRangeMax();
b+=Math.round(c-c*((h-this.miny)/e));c=Math.round(c*(h-g)/e);this.canvas.drawRect(a,b,d,c,void 0,this.normalRangeColor).append()},renderGraph:function(){var a=this.canvas,b=this.getWidth(),c=this.getHeight(),d=this.vertices,e=this.getSpotRadius(),g=this.regionMap,h,j,k,l,m,n,p,q,r,s,t,u,v=this.getValueSpots(),w,x,A,z,B=this.getSpotColor(),y=this.getMinSpotColor(),C=this.getMaxSpotColor();w=this.getNormalRangeMin();var E=this.getDrawNormalOnTop();if(this.callParent()&&(this.scanValues(),this.processRangeOptions(),
x=this.xvalues,A=this.yvalues,this.yminmax.length&&!(2>this.yvalues.length))){l=m=0;h=0===this.maxx-this.minx?1:this.maxx-this.minx;j=0===this.maxy-this.miny?1:this.maxy-this.miny;k=this.yvalues.length-1;if(e&&(b<4*e||c<4*e))e=0;if(e){if((u=this.getHighlightSpotColor()&&!this.disableInteraction)||y||B&&A[k]===this.miny)c-=Math.ceil(e);if(u||C||B&&A[k]===this.maxy)c-=Math.ceil(e),l+=Math.ceil(e);if(u||(y||C)&&(A[0]===this.miny||A[0]===this.maxy))m+=Math.ceil(e),b-=Math.ceil(e);if(u||B||y||C&&(A[k]===
this.miny||A[k]===this.maxy))b-=Math.ceil(e)}c--;null!=w&&!E&&this.drawNormalRange(m,l,c,b,j);p=[];q=[p];t=null;u=A.length;for(z=0;z<u;z++)r=x[z],s=x[z+1],n=A[z],r=m+Math.round((r-this.minx)*(b/h)),s=z<u-1?m+Math.round((s-this.minx)*(b/h)):b,s=r+(s-r)/2,g[z]=[t||0,s,z],t=s,null===n?z&&(null!==A[z-1]&&(p=[],q.push(p)),d.push(null)):(n<this.miny&&(n=this.miny),n>this.maxy&&(n=this.maxy),p.length||p.push([r,l+c]),n=[r,l+Math.round(c-c*((n-this.miny)/j))],p.push(n),d.push(n));d=[];g=[];t=q.length;for(z=
0;z<t;z++)p=q[z],p.length&&(this.fillColor&&(p.push([p[p.length-1][0],l+c]),g.push(p.slice(0)),p.pop()),2<p.length&&(p[0]=[p[0][0],p[1][1]]),d.push(p));t=g.length;for(z=0;z<t;z++)a.drawShape(g[z],this.fillColor,this.fillColor).append();null!=w&&E&&this.drawNormalRange(m,l,c,b,j);t=d.length;for(z=0;z<t;z++)a.drawShape(d[z],this.getLineColor(),null,this.getLineWidth()).append();if(e&&v){null==v.get&&(v=new Ext.sparkline.RangeMap(v));for(z=0;z<u;z++)(w=v.get(A[z]))&&a.drawCircle(m+Math.round((x[z]-this.minx)*
(b/h)),l+Math.round(c-c*((A[z]-this.miny)/j)),e,null,w).append()}e&&(B&&null!=A[k])&&a.drawCircle(m+Math.round((x[x.length-1]-this.minx)*(b/h)),l+Math.round(c-c*((A[k]-this.miny)/j)),e,null,B).append();this.maxy!==this.minyorg&&(e&&y&&(r=x[Ext.Array.indexOf(A,this.minyorg)],a.drawCircle(m+Math.round((r-this.minx)*(b/h)),l+Math.round(c-c*((this.minyorg-this.miny)/j)),e,null,y).append()),e&&C&&(r=x[Ext.Array.indexOf(A,this.maxyorg)],a.drawCircle(m+Math.round((r-this.minx)*(b/h)),l+Math.round(c-c*((this.maxyorg-
this.miny)/j)),e,null,C).append()));this.canvasTop=l;this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY)&&this.updateDisplay();a.render()}}});
Ext.define("Ext.sparkline.Pie",{extend:Ext.sparkline.Base,alias:"widget.sparklinepie",config:{offset:0,sliceColors:"#3366cc #dc3912 #ff9900 #109618 #66aa00 #dd4477 #0099c6 #990099".split(" "),borderWidth:0,borderColor:"#000",tipTpl:new Ext.XTemplate('\x26#9679; {value} ({percent:number("0.0")}%)')},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),Number);this.disabled=!(a&&a.length);return a},onUpdate:function(){var a=this.values,b=0,c;this.callParent(arguments);this.shapes={};this.valueShapes=
{};if(0<a.length)for(c=a.length;c--;)b+=a[c];this.total=b;this.radius=Math.floor(Math.min(this.getWidth(),this.getHeight())/2)},getRegion:function(a,b){var c=this.canvas.getShapeAt(a,b);return null!=c&&null!=this.shapes[c]?this.shapes[c]:null},getRegionFields:function(a){var b=this.getSliceColors();return{isNull:null==this.values[a],value:this.values[a],percent:100*(this.values[a]/this.total),color:b[a%b.length],offset:a}},renderHighlight:function(a){this.renderSlice(a,!0).append()},renderSlice:function(a,
b){var c=this.canvas,d=this.radius,e=this.getBorderWidth(),g=this.getOffset(),h=2*Math.PI,j=this.values,k=this.total,l=g?2*Math.PI*(g/360):0,m,n,p,q=this.getSliceColors();p=j.length;for(n=0;n<p;n++){m=g=l;0<k&&(m=l+h*(j[n]/k));if(a===n)return h=q[n%q.length],b&&(h=this.calcHighlightColor(h)),c.drawPieSlice(d,d,d-e,g,m,null,h);l=m}},renderGraph:function(){var a=this.canvas,b=this.values,c=this.radius,d=this.getBorderWidth(),e=this.shapes||(this.shapes={}),g=this.valueShapes||(this.valueShapes={});
if(this.callParent()){d&&a.drawCircle(c,c,Math.floor(c-d/2),this.getBorderColor(),null,d).append();for(d=b.length;d--;)b[d]&&(c=this.renderSlice(d).append(),g[d]=c.id,e[c.id]=d);this.currentPageXY&&this.el.getRegion().contains(this.currentPageXY)&&(this.currentRegion=null,this.updateDisplay());a.render()}}});
Ext.define("Ext.sparkline.TriState",{extend:Ext.sparkline.BarBase,alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tipTpl:new Ext.XTemplate("\x26#9679; {value:this.states}",{states:function(a){var b=Number(a);return-1===b?"Loss":0===b?"Draw":1===b?"Win":a}})},applyColorMap:function(a){if(Ext.isArray(a))this.colorMapByIndex=a,this.colorMapByValue=null;else if(this.colorMapByIndex=null,(this.colorMapByValue=a)&&null==
this.colorMapByValue.get)this.colorMapByValue=new Ext.sparkline.RangeMap(a);return a},applyValues:function(a){a=Ext.Array.map(Ext.Array.from(a),Number);this.disabled=!(a&&a.length);return a},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var a=this.values;return this._barWidth||(this.getWidth()-(a.length-1)*this.getBarSpacing())/a.length},getRegion:function(a){return Math.floor(a/this.totalBarWidth)},getRegionFields:function(a){return{isNull:null==
this.values[a],value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c=this.values,d=this.colorMapByIndex,e=this.colorMapByValue,g;return e&&(g=e.get(a))?g:d&&d.length>b?d[b]:0>c[b]?this.getNegBarColor():0<c[b]?this.getPosBarColor():this.getZeroBarColor()},renderRegion:function(a,b){var c=this.values,d=this.canvas,e,g,h;e=Math.round(d.pixelHeight/2);g=a*this.totalBarWidth;0>c[a]?(h=e,e-=1):0<c[a]?(h=0,e-=1):(h=e-1,e=2);c=this.calcColor(c[a],a);null!=c&&
(b&&(c=this.calcHighlightColor(c)),d.drawRect(g,h,this.getBarWidth()-1,e-1,c,c).append())}});
Ext.define("Ext.state.CookieProvider",{extend:Ext.state.Provider,constructor:function(a){this.path="/";this.expires=new Date(Ext.Date.now()+6048E5);this.domain=null;this.secure=!1;this.callParent(arguments);this.state=this.readCookies()},set:function(a,b){"undefined"==typeof b||null===b?this.clear(a):(this.setCookie(a,b),this.callParent(arguments))},clear:function(a){this.clearCookie(a);this.callParent(arguments)},readCookies:function(){for(var a={},b=document.cookie+";",c=/\s?(.*?)=(.*?);/g,d=this.prefix,
e=d.length,g,h;null!=(g=c.exec(b));)h=g[1],g=g[2],h&&h.substring(0,e)==d&&(a[h.substr(e)]=this.decodeValue(g));return a},setCookie:function(a,b){document.cookie=this.prefix+a+"\x3d"+this.encodeValue(b)+(null==this.expires?"":"; expires\x3d"+this.expires.toUTCString())+(null==this.path?"":"; path\x3d"+this.path)+(null==this.domain?"":"; domain\x3d"+this.domain)+(!0==this.secure?"; secure":"")},clearCookie:function(a){document.cookie=this.prefix+a+"\x3dnull; expires\x3dThu, 01-Jan-1970 00:00:01 GMT"+
(null==this.path?"":"; path\x3d"+this.path)+(null==this.domain?"":"; domain\x3d"+this.domain)+(!0==this.secure?"; secure":"")}});
Ext.define("Ext.state.LocalStorageProvider",{extend:Ext.state.Provider,alias:"state.localstorage",constructor:function(){this.callParent(arguments);this.state=(this.store=this.getStorageObject())?this.readLocalStorage():{}},readLocalStorage:function(){for(var a=this.store,b={},c=a.getKeys(),d=c.length,e;d--;)e=c[d],b[e]=this.decodeValue(a.getItem(e));return b},set:function(a,b){this.clear(a);null!=b&&(this.store.setItem(a,this.encodeValue(b)),this.callParent(arguments))},clear:function(a){this.store.removeItem(a);
this.callParent(arguments)},getStorageObject:function(){var a=this.prefix,b=a,c=b.length-1;"-"===b.charAt(c)&&(b=b.substring(0,c));return new Ext.util.LocalStorage({id:b,prefix:a})}});
Ext.define("Ext.toolbar.Breadcrumb",{extend:Ext.Container,xtype:"breadcrumb",mixins:[Ext.util.FocusableContainer],isBreadcrumb:!0,baseCls:Ext.baseCSSPrefix+"breadcrumb",layout:"hbox",config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:Ext.baseCSSPrefix+"breadcrumb",_btnCls:Ext.baseCSSPrefix+"breadcrumb-btn",_folderIconCls:Ext.baseCSSPrefix+
"breadcrumb-icon-folder",_leafIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-leaf",initComponent:function(){var a=this.layout,b=this.getOverflowHandler();"string"===typeof a&&(a={type:a});b&&(a.overflowHandler=b);this.layout=a;this.defaultButtonUI=this.getButtonUI();this._buttons=[];this.addCls([this._breadcrumbCls,this._breadcrumbCls+"-"+this.ui]);this.callParent()},onDestroy:function(){this._buttons=Ext.destroy(this._buttons);this.setStore(null);this.callParent()},afterComponentLayout:function(){var a=
this.layout.overflowHandler;this.callParent(arguments);a&&(this.tooNarrow&&a.scrollToItem)&&a.scrollToItem(this.getSelection().get("depth"))},applySelection:function(a){return a=this.getStore()?"root"===a?this.getStore().getRoot():a:null},updateSelection:function(a){var b=this._buttons,c=[],c=this.items.getCount(),d=this._needsSync,e=this.getDisplayField(),g,h,j,k,l,m,n,p;Ext.suspendLayouts();if(a){l=a;n=a.get("depth");k=n+1;for(p=n;l;){g=l.getId();m=b[p];if(!d&&m&&m._breadcrumbNodeId===g)break;g=
l.get(e);m?m.setText(g):m=b[p]=Ext.create({xtype:this.getUseSplitButtons()?"splitbutton":"button",ui:this.getButtonUI(),cls:this._btnCls+" "+this._btnCls+"-"+this.ui,text:g,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:this});g=this.getShowIcons();!1!==g&&(j=l.get("icon"),h=l.get("iconCls"),j?(m.setIconCls(null),m.setIcon(j)):h?(m.setIcon(null),m.setIconCls(h)):g?(m.setIcon(null),m.setIconCls((l.isLeaf()?this._leafIconCls:
this._folderIconCls)+"-"+this.ui)):(m.setIcon(null),m.setIconCls(null)));m.setArrowVisible(l.hasChildNodes());m._breadcrumbNodeId=l.getId();l=l.parentNode;p--}if(k>c)c=b.slice(c,n+1),this.add(c);else for(p=c-1;p>=k;p--)this.remove(this.items.items[p],!1)}else this.removeAll(!1);Ext.resumeLayouts(!0);this.fireEvent("selectionchange",this,a);this._needsSync=!1},applyUseSplitButtons:function(a,b){this.rendered&&a!==b&&Ext.Error.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render");
return a},applyStore:function(a){a&&(a=Ext.data.StoreManager.lookup(a));return a},updateStore:function(a){this._needsSync=!0;a&&!this.isConfiguring&&this.setSelection(a.getRoot())},updateOverflowHandler:function(a){"menu"===a&&Ext.Error.raise("Using Menu overflow with breadcrumb is not currently supported.")},privates:{_onButtonClick:function(a){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(a._breadcrumbNodeId))},_onMenuClick:function(a,b){this.setSelection(this.getStore().getNodeById(b._breadcrumbNodeId))},
_onMenuBeforeShow:function(a){var b=this.getStore().getNodeById(a.ownerCmp._breadcrumbNodeId),c=this.getDisplayField(),d,e,g,h;if(b.hasChildNodes()){b=b.childNodes;e=[];g=0;for(h=b.length;g<h;g++)d=b[g],e.push({text:d.get(c),_breadcrumbNodeId:d.getId()});a.removeAll();a.add(e)}else return!1}}});Ext.define("Ext.toolbar.Spacer",{extend:Ext.Component,alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",ariaRole:"presentation"});
Ext.define("Ext.view.DragZone",{extend:Ext.dd.DragZone,containerScroll:!1,constructor:function(a){var b;Ext.apply(this,a);this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id);a=this.view;a=(b=a.ownerCt)?b.getTargetEl().dom:a.el.dom.parentNode;this.callParent([a]);this.ddel=Ext.get(document.createElement("div"));this.ddel.addCls(Ext.baseCSSPrefix+"grid-dd-wrap")},init:function(a,b,c){var d={scope:this};d[Ext.supports.touchScroll?"itemlongpress":"itemmousedown"]=this.onItemMouseDown;this.initTarget(a,
b,c);this.view.mon(this.view,d)},onValidDrop:function(a){this.callParent();a.el.focus()},onItemMouseDown:function(a,b,c,d,e){this.isPreventDrag(e,b,c,d)||(a.focusRow&&a.focusRow(b),this.handleMouseDown(e))},isPreventDrag:function(){return!1},getDragData:function(a){var b=this.view,c=a.getTarget(b.getItemSelector());if(c)return{copy:b.copy||b.allowCopy&&a.ctrlKey,event:a,view:b,ddel:this.ddel,item:c,records:b.getSelectionModel().getSelection(),fromPosition:Ext.fly(c).getXY()}},onInitDrag:function(a,
b){var c=this.dragData,d=c.view,e=d.getSelectionModel(),d=d.getRecord(c.item);e.isSelected(d)||e.selectWithEvent(d,this.DDMInstance.mousedownEvent);c.records=e.getSelection();this.ddel.setHtml(this.getDragText());this.proxy.update(this.ddel.dom);this.onStartDrag(a,b);return!0},getDragText:function(){var a=this.dragData.records.length;return Ext.String.format(this.dragText,a,1===a?"":"s")},getRepairXY:function(a,b){return b?b.fromPosition:!1}});
Ext.define("Ext.tree.ViewDragZone",{extend:Ext.view.DragZone,isPreventDrag:function(a,b){return!1===b.get("allowDrag")||!!a.getTarget(this.view.expanderSelector)},getDragText:function(){var a=this.dragData.records,b=a.length,a=a[0].get(this.displayField),c="s";if(1===b&&a)return a;a||(c="");return Ext.String.format(this.dragText,b,c)},afterRepair:function(){var a=this.view,b=a.selectedItemCls,c=this.dragData.records,d,e=c.length,g=Ext.fly,h;if(Ext.enableFx&&this.repairHighlight)for(d=0;d<e;d++)h=
a.getNode(c[d]),g(h.firstChild).highlight(this.repairHighlightColor,{listeners:{beforeanimate:function(){a.isSelected(h)&&g(h).removeCls(b)},afteranimate:function(){a.isSelected(h)&&g(h).addCls(b)}}});this.dragging=!1}});
Ext.define("Ext.tree.ViewDropZone",{extend:Ext.view.DropZone,allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(a){var b=this.view;this.expandProcId=!1;!a.isLeaf()&&!a.isExpanded()&&(b.expand(a),this.expandProcId=!1)},queueExpand:function(a){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[a])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=
!1)},getPosition:function(a,b){var c=this.view.getRecord(b),d=a.getY(),e=c.isLeaf(),g=!1,h=Ext.fly(b).getRegion();if(c.isRoot())return"append";if(this.appendOnly)return e?!1:"append";this.allowParentInserts||(g=c.hasChildNodes()&&c.isExpanded());c=(h.bottom-h.top)/(e?2:3);return d>=h.top&&d<h.top+c?"before":!g&&(e||d>=h.bottom-c&&d<=h.bottom)?"after":"append"},isValidDropPoint:function(a,b,c,d,e){if(!a||!e.item)return!1;c=this.view;a=c.getRecord(a);var g=e.records,h=g.length,j=g.length,k;if(!a||!b||
!h)return!1;for(h=0;h<j;h++)if(k=g[h],k.isNode&&k.contains(a))return!1;return"append"===b&&!1===a.get("allowDrop")||"append"!==b&&!1===a.parentNode.get("allowDrop")?!1:Ext.Array.contains(g,a)?!1:!1!==c.fireEvent("nodedragover",a,b,e,d)},onNodeOver:function(a,b,c,d){var e=this.getPosition(c,a),g=this.dropNotAllowed,h=this.view,j=h.getRecord(a),k=this.getIndicator(),l=0;this.cancelExpand();"append"===e&&(!this.expandProcId&&!Ext.Array.contains(d.records,j)&&!j.isLeaf()&&!j.isExpanded())&&this.queueExpand(j);
this.isValidDropPoint(a,e,b,c,d)?(this.valid=!0,this.currentPosition=e,this.overRecord=j,k.setWidth(Ext.fly(a).getWidth()),l=Ext.fly(a).getY()-Ext.fly(h.el).getY()-1,2===h.touchScroll&&(l+=h.getScrollY()),"before"===e?(g=j.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",k.showAt(0,l),b.proxy.show()):"after"===e?(g=j.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",l+=Ext.fly(a).getHeight(),k.showAt(0,l),b.proxy.show()):
(g=Ext.baseCSSPrefix+"tree-drop-ok-append",k.hide())):this.valid=!1;return this.currentCls=g},onNodeOut:function(){this.valid=!1;this.getIndicator().hide()},onContainerOver:function(a,b){return this.allowContainerDrops?this.dropAllowed:b.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(a,b,c){this.allowContainerDrops&&(this.valid=!0,this.currentPosition="append",this.overRecord=this.view.store.getRoot(),this.onNodeDrop(this.overRecord,a,b,c))},notifyOut:function(){this.callParent(arguments);
this.cancelExpand()},handleNodeDrop:function(a,b,c){var d=this,e=d.view,g=b?b.parentNode:e.panel.getRootNode(),h=e.store.getModel(),j,k,l,m,n,p,q;if(a.copy){j=a.records;a.records=[];k=0;for(l=j.length;k<l;k++)m=j[k],m.isNode?a.records.push(m.copy()):a.records.push(new h(Ext.apply({},m.data)))}d.cancelExpand();"before"===c?(n=g.insertBefore,p=[null,b],b=g):"after"===c?(b.nextSibling?(n=g.insertBefore,p=[null,b.nextSibling]):(n=g.appendChild,p=[null]),b=g):(!b.isExpanded()&&!b.isLoading()&&(q=!0),n=
b.appendChild,p=[null]);c=function(){var c,g;Ext.suspendLayouts();k=0;for(l=a.records.length;k<l;k++)m=a.records[k],m.isNode||(m=m.isModel?new h(m.data,m.getId()):new h(m),a.records[k]=m),p[0]=m,n.apply(b,p);d.sortOnDrop&&b.sort(b.getOwnerTree().store.getSorters().sortFn);Ext.resumeLayouts(!0);if(Ext.enableFx&&d.dropHighlight){c=d.dropHighlightColor;for(k=0;k<l;k++)(g=e.getNode(a.records[k]))&&Ext.fly(g).highlight(c)}};if(q)b.expand(!1,c);else if(b.isLoading())b.on({expand:c,delay:1,single:!0});else c()}});
Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:Ext.plugin.Abstract,alias:"plugin.treeviewdragdrop",dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1E3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(a){a.on("render",this.onViewRender,this,{single:!0})},destroy:function(){Ext.destroy(this.dragZone,this.dropZone)},onViewRender:function(a){var b;
this.enableDrag&&(this.containerScroll&&(b=a.getEl()),this.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:a,ddGroup:this.dragGroup||this.ddGroup,dragText:this.dragText,displayField:this.displayField,repairHighlightColor:this.nodeHighlightColor,repairHighlight:this.nodeHighlightOnRepair,scrollEl:b},this.dragZone)));this.enableDrop&&(this.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:a,ddGroup:this.dropGroup||this.ddGroup,allowContainerDrops:this.allowContainerDrops,appendOnly:this.appendOnly,
allowParentInserts:this.allowParentInserts,expandDelay:this.expandDelay,dropHighlightColor:this.nodeHighlightColor,dropHighlight:this.nodeHighlightOnDrop,sortOnDrop:this.sortOnDrop,containerScroll:this.containerScroll},this.dropZone)))}},function(){var a=this.prototype;a.nodeHighlightOnDrop=a.nodeHighlightOnRepair=Ext.enableFx});
Ext.define("Ext.util.Cookies",{singleton:!0,set:function(a,b){var c=arguments,d=arguments.length,e=2<d?c[2]:null,g=3<d?c[3]:"/",h=4<d?c[4]:null,c=5<d?c[5]:!1;document.cookie=a+"\x3d"+escape(b)+(null===e?"":"; expires\x3d"+e.toUTCString())+(null===g?"":"; path\x3d"+g)+(null===h?"":"; domain\x3d"+h)+(!0===c?"; secure":"")},get:function(a){var b=document.cookie.split("; "),c=b.length,d,e;for(e=0;e<c;++e)if(d=b[e].split("\x3d"),d[0]===a)return(a=d[1])?unescape(a):"";return null},clear:function(a,b){this.get(a)&&
(document.cookie=a+"\x3d; expires\x3dThu, 01-Jan-1970 00:00:01 GMT; path\x3d"+(b||"/"))}});
Ext.define("Ext.view.MultiSelectorSearch",{extend:Ext.panel.Panel,xtype:"multiselector-search",layout:"fit",floating:!0,resizable:!0,minWidth:200,minHeight:200,border:!0,defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var a=this,b=a.owner,c=a.makeItems(),d,e,g,h;a.dockedItems=a.makeDockedItems();a.items=c;h=Ext.data.StoreManager.lookup(a.store);for(d=c.length;d--;)if("grid"===(e=c[d]).xtype){e.store=h;e.isSearchGrid=!0;e.selModel=e.selModel||{selType:"checkboxmodel",
pruneRemoved:!1,mode:"SIMPLE",listeners:{selectionchange:"onSelectionChange"}};Ext.merge(e,a.grid);e.columns||(e.hideHeaders=!0,e.columns=[{flex:1,dataIndex:a.field}]);break}a.callParent();g=a.getOwnerStore().getRange();if(!b.convertSelectionRecord.$nullFn)for(d=g.length;d--;)g[d]=b.convertSelectionRecord(g[d]);if(h.isLoading()||0===h.loadCount&&!h.getCount())h.on("load",function(){a.isDestroyed||a.selectRecords(g)},null,{single:!0});else a.selectRecords(g)},getOwnerStore:function(){return this.owner.getStore()},
afterShow:function(){var a=this.lookupReference("searchField");this.callParent(arguments);a&&a.focus()},getSearchStore:function(){return this.lookupReference("searchGrid").getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:"x-form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{change:"onSearchChange",buffer:300}}]},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",
trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},selectRecords:function(a){return this.lookupReference("searchGrid").getSelectionModel().select(a)},deselectRecords:function(a){return this.lookupReference("searchGrid").getSelectionModel().deselect(a)},search:function(a){var b=this.searchFilter,c=this.getSearchStore().getFilters();a?(c.beginUpdate(),b?b.setValue(a):this.searchFilter=b=new Ext.util.Filter({id:"search",property:this.field,value:a}),c.add(b),
c.endUpdate()):b&&c.remove(b)},privates:{onClearSearch:function(){var a=this.lookupReference("searchField");a.setValue(null);a.focus()},onSearchChange:function(a){var b=a.getValue();a.getTrigger("clear").setHidden(!b);this.search(b)},onSelectionChange:function(a,b){var c=this.owner,d=c.getStore().data,e=0,g={},h,j,k,l;for(j=b.length;j--;)l=b[j],k=l.id,g[k]=l,d.containsKey(k)||(h||(h=[])).push(c.convertSearchRecord(l));for(j=d.length;j--;)l=d.getAt(j),g[l.id]||(e||(e=[])).push(l);(h||e)&&d.splice(d.length,
e,h)}}});
Ext.define("Ext.view.MultiSelector",{extend:Ext.grid.Panel,xtype:"multiselector",config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"\u2716",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var a=this.emptyText,b=this.getStore(),c=this.getSearch(),d=this.fieldTitle;c||Ext.Error.raise("The search configuration is required for the multi selector");c=
c.store;c=c.isStore?c.getModel():c.model;b||(this.store={model:c});a&&!this.viewConfig&&(this.viewConfig={deferEmptyText:!1,emptyText:a});this.columns||(this.hideHeaders=!d,this.columns=[{text:d,dataIndex:this.fieldName,flex:1},this.makeRemoveRowColumn()]);this.callParent()},addTools:function(){this.addTool({type:"plus",tooltip:this.addToolText,callback:"onShowSearch",scope:this})},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){return{width:22,
menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"multiselector-remove",processEvent:this.processRowEvent.bind(this),renderer:this.renderRemoveRow,updater:Ext.emptyFn,scope:this}},processRowEvent:function(a,b,c,d,e,g,h){"click"===g.type&&Ext.fly(c).hasCls(Ext.baseCSSPrefix+"multiselector-remove")&&(this.store.remove(h),this.searchPopup&&this.searchPopup.deselectRecords(h))},renderRemoveRow:function(){return'\x3cspan data-qtip\x3d"'+this.removeRowTip+'" role\x3d"button"\x3e'+this.removeRowText+"\x3c/span\x3e"},
beforeDestroy:function(){Ext.un({mousedown:"onDismissSearch",scope:this});this.callParent()},privates:{onDismissSearch:function(a){var b=this.searchPopup;b&&(!b.owns(a.getTarget())&&!this.owns(a.getTarget()))&&(Ext.un({mousedown:"onDismissSearch",scope:this}),b.hide())},onShowSearch:function(){var a=this.searchPopup,b=this.getStore();a||(a=Ext.merge({owner:this,field:this.fieldName,floating:!0},this.getSearch()),this.searchPopup=a=this.add(a),b.getCount()&&a.selectRecords(b.getRange()));a.showBy(this,
"tl-tr?");Ext.on({mousedown:"onDismissSearch",scope:this})}}});
Ext.define("Ext.window.Toast",{extend:Ext.window.Window,xtype:"toast",cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"br",spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1E3,hideDuration:500,autoCloseDelay:3E3,stickOnClick:!0,stickWhileHover:!0,closeOnMouseDown:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,
xPos:0,yPos:0,initComponent:function(){this.updateAlignment(this.align);this.setAnchor(this.anchor);this.callParent(arguments)},onRender:function(){this.callParent(arguments);this.el.hover(this.onMouseEnter,this.onMouseLeave,this);this.closeOnMouseDown&&this.mon(Ext,"mousedown",this.onDocumentMousedown,this)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,
paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},
x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(a){var b=this.alignmentProps,c=b[a];(a=b.x[a])&&this.useXAxis&&Ext.applyIf(this,a);Ext.applyIf(this,c)},getXposAlignedToAnchor:function(){var a=this.align,b=this.anchor,b=b&&b.el,c=this.el,d=0;b&&b.dom&&(this.useXAxis?"br"===a||"tr"===a||"r"===a?(d+=b.getAnchorXY("r")[0],d-=c.getWidth()+this.paddingX):(d+=b.getAnchorXY("l")[0],d+=this.paddingX):d=c.getLeft());return d},
getYposAlignedToAnchor:function(){var a=this.align,b=this.anchor,b=b&&b.el,c=this.el,d=0;b&&b.dom&&(this.useXAxis?d=c.getTop():"br"===a||"bl"===a||"b"===a?(d+=b.getAnchorXY("b")[1],d-=c.getHeight()+this.paddingY):(d+=b.getAnchorXY("t")[1],d+=this.paddingY));return d},getXposAlignedToSibling:function(a){var b=this.align,c=this.el;return this.useXAxis?"tl"===b||"bl"===b||"l"===b?a.xPos+a.el.getWidth()+a.spacing:a.xPos-c.getWidth()-this.spacing:c.getLeft()},getYposAlignedToSibling:function(a){var b=
this.align,c=this.el;return this.useXAxis?c.getTop():"tr"===b||"tl"===b||"t"===b?a.yPos+a.el.getHeight()+a.spacing:a.yPos-c.getHeight()-a.spacing},getToasts:function(){var a=this.anchor,b=this.anchorAlign,a=a.activeToasts||(a.activeToasts={});return a[b]||(a[b]=[])},setAnchor:function(a){this.anchor=a="string"===typeof a?Ext.getCmp(a):a;a||(a=Ext.window.Toast,this.anchor=a.bodyAnchor||(a.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var a=this;if(a.stickOnClick)a.body.on("click",function(){a.cancelAutoClose()});
a.autoClose&&(a.closeTask||(a.closeTask=new Ext.util.DelayedTask(a.doAutoClose,a)),a.closeTask.delay(a.autoCloseDelay));a.el.setX(-1E4);a.el.setOpacity(1)},afterShow:function(){var a=this.el,b,c;this.callParent(arguments);b=this.getToasts();(c=(c=b.length)&&b[c-1])?(a.alignTo(c.el,this.siblingAlignment,[0,0]),this.xPos=this.getXposAlignedToSibling(c),this.yPos=this.getYposAlignedToSibling(c)):(a.alignTo(this.anchor.el,this.anchorAlign,[this.paddingX*this.paddingFactorX,this.paddingY*this.paddingFactorY],
!1),this.xPos=this.getXposAlignedToAnchor(),this.yPos=this.getYposAlignedToAnchor());Ext.Array.include(b,this);b=a.getXY();a.animate({from:{x:b[0],y:b[1]},to:{x:this.xPos,y:this.yPos,opacity:1},easing:this.slideInAnimation,duration:this.slideInDuration,dynamic:!0})},onDocumentMousedown:function(a){this.isVisible()&&!this.owns(a.getTarget())&&this.hide()},slideBack:function(){var a=this.anchor,a=a&&a.el,b=this.el,c=this.getToasts(),d=Ext.Array.indexOf(c,this);!this.isHiding&&(b&&b.dom&&a&&a.isVisible())&&
(d?(this.xPos=this.getXposAlignedToSibling(c[d-1]),this.yPos=this.getYposAlignedToSibling(c[d-1])):(this.xPos=this.getXposAlignedToAnchor(),this.yPos=this.getYposAlignedToAnchor()),this.stopAnimation(),b.animate({to:{x:this.xPos,y:this.yPos},easing:this.slideBackAnimation,duration:this.slideBackDuration,dynamic:!0}))},update:function(){this.isVisible()&&(this.isHiding=!0,this.hide());this.callParent(arguments);this.show()},cancelAutoClose:function(){var a=this.closeTask;a&&a.cancel()},doAutoClose:function(){!this.stickWhileHover||
!this.mouseIsOver?this.close():this.closeOnMouseOut=!0},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){this.mouseIsOver=!1;this.closeOnMouseOut&&(this.closeOnMouseOut=!1,this.close())},removeFromAnchor:function(){var a,b;if(this.anchor&&(a=this.getToasts(),b=Ext.Array.indexOf(a,this),-1!==b))for(Ext.Array.erase(a,b,1);b<a.length;b++)a[b].slideBack()},hide:function(){var a=this,b=a.el;a.cancelAutoClose();a.isHiding?a.isFading||(a.callParent(arguments),a.removeFromAnchor(),a.isHiding=
!1):(a.isHiding=!0,a.isFading=!0,a.cancelAutoClose(),b&&b.fadeOut({opacity:0,easing:"easeIn",duration:a.hideDuration,listeners:{afteranimate:function(){a.isFading=!1;a.hide(a.animateTarget,a.doClose,a)}}}));return a}},function(a){Ext.toast=function(b,c,d,e){var g=b;Ext.isString(b)&&(g={title:c,html:b,iconCls:e},d&&(g.align=d));b=new a(g);b.show();return b}});